function Janus(t){function e(t){var e={high:9e5,medium:3e5,low:1e5};return void 0!==t&&null!==t&&(t.high&&(e.high=t.high),t.medium&&(e.medium=t.medium),t.low&&(e.low=t.low)),e}function n(){if(null!=tt){if(Janus.debug("Long poll..."),!Q)return void Janus.warn("Is the server down? (connected=false)");var e=B+"/"+tt+"?rid="+(new Date).getTime();void 0!==Y&&null!==Y&&(e=e+"&maxev="+Y),null!==K&&void 0!==K&&(e=e+"&token="+encodeURIComponent(K)),null!==X&&void 0!==X&&(e=e+"&apisecret="+encodeURIComponent(X)),Janus.httpAPICall(e,{verb:"GET",withCredentials:q,success:i,timeout:Z,error:function(e,i){return Janus.error(e+":",i),it++,it>3?(Q=!1,void t.error("Lost connection to the server (is it down?)")):void n()}})}}function i(t,e){if(it=0,D||void 0===tt||null===tt||e===!0||n(),D||!Janus.isArray(t)){if("keepalive"===t.janus)return void Janus.vdebug("Got a keepalive on session "+tt);if("ack"!==t.janus)if("success"!==t.janus)if("trickle"===t.janus){var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var o=et[r];if(void 0===o||null===o)return void Janus.debug("This handle is not attached to this session");var a=t.candidate;Janus.debug("Got a trickled candidate on session "+tt),Janus.debug(a);var s=o.webrtcStuff;s.pc&&s.remoteSdp?(Janus.debug("Adding remote candidate:",a),a&&a.completed!==!0?s.pc.addIceCandidate(a):s.pc.addIceCandidate(Janus.endOfCandidates)):(Janus.debug("We didn't do setRemoteDescription (trickle got here before the offer?), caching candidate"),s.candidates||(s.candidates=[]),s.candidates.push(a),Janus.debug(s.candidates))}else{if("webrtcup"===t.janus){Janus.debug("Got a webrtcup event on session "+tt),Janus.debug(t);var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var o=et[r];return void 0===o||null===o?void Janus.debug("This handle is not attached to this session"):void o.webrtcState(!0)}if("hangup"===t.janus){Janus.debug("Got a hangup event on session "+tt),Janus.debug(t);var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var o=et[r];if(void 0===o||null===o)return void Janus.debug("This handle is not attached to this session");o.webrtcState(!1,t.reason),o.hangup()}else if("detached"===t.janus){Janus.debug("Got a detached event on session "+tt),Janus.debug(t);var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var o=et[r];if(void 0===o||null===o)return;o.detached=!0,o.ondetached(),o.detach()}else if("media"===t.janus){Janus.debug("Got a media event on session "+tt),Janus.debug(t);var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var o=et[r];if(void 0===o||null===o)return void Janus.debug("This handle is not attached to this session");o.mediaState(t.type,t.receiving)}else if("slowlink"===t.janus){Janus.debug("Got a slowlink event on session "+tt),Janus.debug(t);var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var o=et[r];if(void 0===o||null===o)return void Janus.debug("This handle is not attached to this session");o.slowLink(t.uplink,t.lost)}else{if("error"===t.janus){Janus.error("Ooops: "+t.error.code+" "+t.error.reason),Janus.debug(t);var l=t.transaction;if(null!==l&&void 0!==l){var u=rt[l];null!==u&&void 0!==u&&u(t),delete rt[l]}return}if("event"===t.janus){Janus.debug("Got a plugin event on session "+tt),Janus.debug(t);var r=t.sender;if(void 0===r||null===r)return void Janus.warn("Missing sender...");var c=t.plugindata;if(void 0===c||null===c)return void Janus.warn("Missing plugindata...");Janus.debug("  -- Event is coming from "+r+" ("+c.plugin+")");var d=c.data;Janus.debug(d);var o=et[r];if(void 0===o||null===o)return void Janus.warn("This handle is not attached to this session");var h=t.jsep;void 0!==h&&null!==h&&(Janus.debug("Handling SDP as well..."),Janus.debug(h));var f=o.onmessage;null!==f&&void 0!==f?(Janus.debug("Notifying application..."),f(d,h)):Janus.debug("No provided notification callback")}else{if("timeout"===t.janus)return Janus.error("Timeout on session "+tt),Janus.debug(t),void(D&&N.close(3504,"Gateway timeout"));Janus.warn("Unknown message/event  '"+t.janus+"' on session "+tt),Janus.debug(t)}}}else{Janus.debug("Got a success on session "+tt),Janus.debug(t);var l=t.transaction;if(null!==l&&void 0!==l){var u=rt[l];null!==u&&void 0!==u&&u(t),delete rt[l]}}else{Janus.debug("Got an ack on session "+tt),Janus.debug(t);var l=t.transaction;if(null!==l&&void 0!==l){var u=rt[l];null!==u&&void 0!==u&&u(t),delete rt[l]}}}else for(var p=0;p<t.length;p++)i(t[p],!0)}function r(){if(null!==B&&D&&Q){$=setTimeout(r,J);var t={janus:"keepalive",session_id:tt,transaction:Janus.randomString(12)};null!==K&&void 0!==K&&(t.token=K),null!==X&&void 0!==X&&(t.apisecret=X),N.send(JSON.stringify(t))}}function o(e){var a=Janus.randomString(12),s={janus:"create",transaction:a};if(e.reconnect&&(Q=!1,s.janus="claim",s.session_id=tt,N&&(N.onopen=null,N.onerror=null,N.onclose=null,$&&(clearTimeout($),$=null))),null!==K&&void 0!==K&&(s.token=K),null!==X&&void 0!==X&&(s.apisecret=X),null===B&&Janus.isArray(G)&&(B=G[U],0===B.indexOf("ws")?(D=!0,Janus.log("Server #"+(U+1)+": trying WebSockets to contact Janus ("+B+")")):(D=!1,Janus.log("Server #"+(U+1)+": trying REST API to contact Janus ("+B+")"))),D){N=Janus.newWebSocket(B,"janus-protocol"),F={error:function(){return Janus.error("Error connecting to the Janus WebSockets server... "+B),Janus.isArray(G)&&!e.reconnect?(U++,U==G.length?void e.error("Error connecting to any of the provided Janus servers: Is the server down?"):(B=null,void setTimeout(function(){o(e)},200))):void e.error("Error connecting to the Janus WebSockets server: Is the server down?")},open:function(){rt[a]=function(t){return Janus.debug(t),"success"!==t.janus?(Janus.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error(t.error.reason)):($=setTimeout(r,J),Q=!0,tt=t.session_id?t.session_id:t.data.id,e.reconnect?Janus.log("Claimed session: "+tt):Janus.log("Created session: "+tt),Janus.sessions[tt]=nt,void e.success())},N.send(JSON.stringify(s))},message:function(t){i(JSON.parse(t.data))},close:function(){null!==B&&Q&&(Q=!1,t.error("Lost connection to the server (is it down?)"))}};for(var l in F)N.addEventListener(l,F[l])}else Janus.httpAPICall(B,{verb:"POST",withCredentials:q,body:s,success:function(t){return Janus.debug(t),"success"!==t.janus?(Janus.error("Ooops: "+t.error.code+" "+t.error.reason),void e.error(t.error.reason)):(Q=!0,tt=t.session_id?t.session_id:t.data.id,e.reconnect?Janus.log("Claimed session: "+tt):Janus.log("Created session: "+tt),Janus.sessions[tt]=nt,n(),void e.success())},error:function(t,n){return Janus.error(t+":",n),Janus.isArray(G)&&!e.reconnect?(U++,U==G.length?void e.error("Error connecting to any of the provided Janus servers: Is the server down?"):(B=null,void setTimeout(function(){o(e)},200))):void(""===n?e.error(t+": Is the server down?"):e.error(t+": "+n))}})}function a(e){e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop;var n=!0;void 0!==e.asyncRequest&&null!==e.asyncRequest&&(n=e.asyncRequest===!0);var i=!0;void 0!==e.notifyDestroyed&&null!==e.notifyDestroyed&&(i=e.notifyDestroyed===!0);var r=!1;if(void 0!==e.cleanupHandles&&null!==e.cleanupHandles&&(r=e.cleanupHandles===!0),Janus.log("Destroying session "+tt+" (async="+n+")"),void 0===tt||null===tt)return Janus.warn("No session to destroy"),e.success(),void(i&&t.destroyed());if(r)for(var o in et)f(o,{noRequest:!0});if(!Q)return Janus.warn("Is the server down? (connected=false)"),void e.success();var a={janus:"destroy",transaction:Janus.randomString(12)};if(null!==K&&void 0!==K&&(a.token=K),null!==X&&void 0!==X&&(a.apisecret=X),D){a.session_id=tt;var s=function(){for(var t in F)N.removeEventListener(t,F[t]);N.removeEventListener("message",l),N.removeEventListener("error",u),$&&clearTimeout($),N.close()},l=function(n){var r=JSON.parse(n.data);r.session_id==a.session_id&&r.transaction==a.transaction&&(s(),e.success(),i&&t.destroyed())},u=function(n){s(),e.error("Failed to destroy the server: Is the server down?"),i&&t.destroyed()};return N.addEventListener("message",l),N.addEventListener("error",u),void N.send(JSON.stringify(a))}Janus.httpAPICall(B+"/"+tt,{verb:"POST",async:n,withCredentials:q,body:a,success:function(n){Janus.log("Destroyed session:"),Janus.debug(n),tt=null,Q=!1,"success"!==n.janus&&Janus.error("Ooops: "+n.error.code+" "+n.error.reason),e.success(),i&&t.destroyed()},error:function(n,r){Janus.error(n+":",r),tt=null,Q=!1,e.success(),i&&t.destroyed()}})}function s(t){if(t=t||{},t.success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:Janus.noop,t.consentDialog="function"==typeof t.consentDialog?t.consentDialog:Janus.noop,t.iceState="function"==typeof t.iceState?t.iceState:Janus.noop,t.mediaState="function"==typeof t.mediaState?t.mediaState:Janus.noop,t.webrtcState="function"==typeof t.webrtcState?t.webrtcState:Janus.noop,t.slowLink="function"==typeof t.slowLink?t.slowLink:Janus.noop,t.onmessage="function"==typeof t.onmessage?t.onmessage:Janus.noop,t.onlocalstream="function"==typeof t.onlocalstream?t.onlocalstream:Janus.noop,t.onremotestream="function"==typeof t.onremotestream?t.onremotestream:Janus.noop,t.ondata="function"==typeof t.ondata?t.ondata:Janus.noop,t.ondataopen="function"==typeof t.ondataopen?t.ondataopen:Janus.noop,t.oncleanup="function"==typeof t.oncleanup?t.oncleanup:Janus.noop,t.ondetached="function"==typeof t.ondetached?t.ondetached:Janus.noop,!Q)return Janus.warn("Is the server down? (connected=false)"),void t.error("Is the server down? (connected=false)");var e=t.plugin;if(void 0===e||null===e)return Janus.error("Invalid plugin"),void t.error("Invalid plugin");var n=t.opaqueId,i=t.token?t.token:K,r=Janus.randomString(12),o={janus:"attach",plugin:e,opaque_id:n,transaction:r};return null!==i&&void 0!==i&&(o.token=i),null!==X&&void 0!==X&&(o.apisecret=X),D?(rt[r]=function(n){if(Janus.debug(n),"success"!==n.janus)return Janus.error("Ooops: "+n.error.code+" "+n.error.reason),void t.error("Ooops: "+n.error.code+" "+n.error.reason);var r=n.data.id;Janus.log("Created handle: "+r);var o={session:nt,plugin:e,id:r,token:i,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return r},getPlugin:function(){return e},getVolume:function(){return b(r,!0)},getRemoteVolume:function(){return b(r,!0)},getLocalVolume:function(){return b(r,!1)},isAudioMuted:function(){return E(r,!1)},muteAudio:function(){return x(r,!1,!0)},unmuteAudio:function(){return x(r,!1,!1)},isVideoMuted:function(){return E(r,!0)},muteVideo:function(){return x(r,!0,!0)},unmuteVideo:function(){return x(r,!0,!1)},getBitrate:function(){return C(r)},send:function(t){l(r,t)},data:function(t){d(r,t)},dtmf:function(t){h(r,t)},consentDialog:t.consentDialog,iceState:t.iceState,mediaState:t.mediaState,webrtcState:t.webrtcState,slowLink:t.slowLink,onmessage:t.onmessage,createOffer:function(t){m(r,!0,t)},createAnswer:function(t){m(r,!1,t)},handleRemoteJsep:function(t){g(r,t)},onlocalstream:t.onlocalstream,onremotestream:t.onremotestream,ondata:t.ondata,ondataopen:t.ondataopen,oncleanup:t.oncleanup,ondetached:t.ondetached,hangup:function(t){w(r,t===!0)},detach:function(t){f(r,t)}};et[r]=o,t.success(o)},o.session_id=tt,void N.send(JSON.stringify(o))):void Janus.httpAPICall(B+"/"+tt,{verb:"POST",withCredentials:q,body:o,success:function(n){if(Janus.debug(n),"success"!==n.janus)return Janus.error("Ooops: "+n.error.code+" "+n.error.reason),void t.error("Ooops: "+n.error.code+" "+n.error.reason);var r=n.data.id;Janus.log("Created handle: "+r);var o={session:nt,plugin:e,id:r,token:i,detached:!1,webrtcStuff:{started:!1,myStream:null,streamExternal:!1,remoteStream:null,mySdp:null,mediaConstraints:null,pc:null,dataChannel:{},dtmfSender:null,trickle:!0,iceDone:!1,volume:{value:null,timer:null},bitrate:{value:null,bsnow:null,bsbefore:null,tsnow:null,tsbefore:null,timer:null}},getId:function(){return r},getPlugin:function(){return e},getVolume:function(){return b(r,!0)},getRemoteVolume:function(){return b(r,!0)},getLocalVolume:function(){return b(r,!1)},isAudioMuted:function(){return E(r,!1)},muteAudio:function(){return x(r,!1,!0)},unmuteAudio:function(){return x(r,!1,!1)},isVideoMuted:function(){return E(r,!0)},muteVideo:function(){return x(r,!0,!0)},unmuteVideo:function(){return x(r,!0,!1)},getBitrate:function(){return C(r)},send:function(t){l(r,t)},data:function(t){d(r,t)},dtmf:function(t){h(r,t)},consentDialog:t.consentDialog,iceState:t.iceState,mediaState:t.mediaState,webrtcState:t.webrtcState,slowLink:t.slowLink,onmessage:t.onmessage,createOffer:function(t){m(r,!0,t)},createAnswer:function(t){m(r,!1,t)},handleRemoteJsep:function(t){g(r,t)},onlocalstream:t.onlocalstream,onremotestream:t.onremotestream,ondata:t.ondata,ondataopen:t.ondataopen,oncleanup:t.oncleanup,ondetached:t.ondetached,hangup:function(t){w(r,t===!0)},detach:function(t){f(r,t)}};et[r]=o,t.success(o)},error:function(t,e){Janus.error(t+":",e)}})}function l(t,e){if(e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop,!Q)return Janus.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return Janus.warn("Invalid handle"),void e.error("Invalid handle");var i=e.message,r=e.jsep,o=Janus.randomString(12),a={janus:"message",body:i,transaction:o};return null!==n.token&&void 0!==n.token&&(a.token=n.token),null!==X&&void 0!==X&&(a.apisecret=X),null!==r&&void 0!==r&&(a.jsep=r),Janus.debug("Sending message to plugin (handle="+t+"):"),Janus.debug(a),D?(a.session_id=tt,a.handle_id=t,rt[o]=function(t){if(Janus.debug("Message sent!"),Janus.debug(t),"success"===t.janus){var n=t.plugindata;if(void 0===n||null===n)return Janus.warn("Request succeeded, but missing plugindata..."),void e.success();Janus.log("Synchronous transaction successful ("+n.plugin+")");var i=n.data;return Janus.debug(i),void e.success(i)}return"ack"!==t.janus?void(void 0!==t.error&&null!==t.error?(Janus.error("Ooops: "+t.error.code+" "+t.error.reason),e.error(t.error.code+" "+t.error.reason)):(Janus.error("Unknown error"),e.error("Unknown error"))):void e.success()},void N.send(JSON.stringify(a))):void Janus.httpAPICall(B+"/"+tt+"/"+t,{verb:"POST",withCredentials:q,body:a,success:function(t){if(Janus.debug("Message sent!"),Janus.debug(t),"success"===t.janus){var n=t.plugindata;if(void 0===n||null===n)return Janus.warn("Request succeeded, but missing plugindata..."),void e.success();Janus.log("Synchronous transaction successful ("+n.plugin+")");var i=n.data;return Janus.debug(i),void e.success(i)}return"ack"!==t.janus?void(void 0!==t.error&&null!==t.error?(Janus.error("Ooops: "+t.error.code+" "+t.error.reason),e.error(t.error.code+" "+t.error.reason)):(Janus.error("Unknown error"),e.error("Unknown error"))):void e.success()},error:function(t,n){Janus.error(t+":",n),e.error(t+": "+n)}})}function u(t,e){if(!Q)return void Janus.warn("Is the server down? (connected=false)");var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return void Janus.warn("Invalid handle");var i={janus:"trickle",candidate:e,transaction:Janus.randomString(12)};return null!==n.token&&void 0!==n.token&&(i.token=n.token),null!==X&&void 0!==X&&(i.apisecret=X),Janus.vdebug("Sending trickle candidate (handle="+t+"):"),Janus.vdebug(i),D?(i.session_id=tt,i.handle_id=t,void N.send(JSON.stringify(i))):void Janus.httpAPICall(B+"/"+tt+"/"+t,{verb:"POST",withCredentials:q,body:i,success:function(t){if(Janus.vdebug("Candidate sent!"),Janus.vdebug(t),"ack"!==t.janus)return void Janus.error("Ooops: "+t.error.code+" "+t.error.reason)},error:function(t,e){Janus.error(t+":",e)}})}function c(t,e,n,i){var r=et[t];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return void Janus.warn("Invalid handle");var o=r.webrtcStuff,a=function(t){Janus.log("Received message on data channel:",t);var e=t.target.label;r.ondata(t.data,e)},s=function(t){Janus.log("Received state change on data channel:",t);var e=t.target.label,n=o.dataChannel[e]?o.dataChannel[e].readyState:"null";if(Janus.log("State change on <"+e+"> data channel: "+n),"open"===n){if(o.dataChannel[e].pending&&o.dataChannel[e].pending.length>0){Janus.log("Sending pending messages on <"+e+">:",o.dataChannel[e].pending.length);for(var i in o.dataChannel[e].pending){var a=o.dataChannel[e].pending[i];Janus.log("Sending string on data channel <"+e+">: "+a),o.dataChannel[e].send(a)}o.dataChannel[e].pending=[]}r.ondataopen(e)}},l=function(t){Janus.error("Got error on data channel:",t)};n?o.dataChannel[e]=n:o.dataChannel[e]=o.pc.createDataChannel(e,{ordered:!1}),o.dataChannel[e].onmessage=a,o.dataChannel[e].onopen=s,o.dataChannel[e].onclose=s,o.dataChannel[e].onerror=l,o.dataChannel[e].pending=[],i&&o.dataChannel[e].pending.push(i)}function d(t,e){e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop;var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return Janus.warn("Invalid handle"),void e.error("Invalid handle");var i=n.webrtcStuff,r=e.text;if(null===r||void 0===r)return Janus.warn("Invalid text"),void e.error("Invalid text");var o=e.label?e.label:Janus.dataChanDefaultLabel;return i.dataChannel[o]?"open"!==i.dataChannel[o].readyState?(i.dataChannel[o].pending.push(r),void e.success()):(Janus.log("Sending string on data channel <"+o+">: "+r),i.dataChannel[o].send(r),void e.success()):(c(t,o,!1,r),void e.success())}function h(t,e){e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop;var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return Janus.warn("Invalid handle"),void e.error("Invalid handle");var i=n.webrtcStuff;if(null===i.dtmfSender||void 0===i.dtmfSender){if(void 0!==i.pc&&null!==i.pc){var r=i.pc.getSenders(),o=r.find(function(t){return t.track&&"audio"===t.track.kind});if(!o)return Janus.warn("Invalid DTMF configuration (no audio track)"),void e.error("Invalid DTMF configuration (no audio track)");i.dtmfSender=o.dtmf,i.dtmfSender&&(Janus.log("Created DTMF Sender"),i.dtmfSender.ontonechange=function(t){Janus.debug("Sent DTMF tone: "+t.tone)})}if(null===i.dtmfSender||void 0===i.dtmfSender)return Janus.warn("Invalid DTMF configuration"),void e.error("Invalid DTMF configuration")}var a=e.dtmf;if(null===a||void 0===a)return Janus.warn("Invalid DTMF parameters"),void e.error("Invalid DTMF parameters");var s=a.tones;if(null===s||void 0===s)return Janus.warn("Invalid DTMF string"),void e.error("Invalid DTMF string");var l=a.duration;null!==l&&void 0!==l||(l=500);var u=a.gap;null!==u&&void 0!==u||(u=50),Janus.debug("Sending DTMF string "+s+" (duration "+l+"ms, gap "+u+"ms)"),i.dtmfSender.insertDTMF(s,l,u),e.success()}function f(t,e){e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop;var n=!0;void 0!==e.asyncRequest&&null!==e.asyncRequest&&(n=e.asyncRequest===!0);var i=!0;void 0!==e.noRequest&&null!==e.noRequest&&(i=e.noRequest===!0),Janus.log("Destroying handle "+t+" (async="+n+")"),w(t);var r=et[t];if(null===r||void 0===r||r.detached)return delete et[t],void e.success();if(i)return delete et[t],void e.success();if(!Q)return Janus.warn("Is the server down? (connected=false)"),void e.error("Is the server down? (connected=false)");var o={janus:"detach",transaction:Janus.randomString(12)};return null!==r.token&&void 0!==r.token&&(o.token=r.token),null!==X&&void 0!==X&&(o.apisecret=X),D?(o.session_id=tt,o.handle_id=t,N.send(JSON.stringify(o)),delete et[t],void e.success()):void Janus.httpAPICall(B+"/"+tt+"/"+t,{verb:"POST",async:n,withCredentials:q,body:o,success:function(n){Janus.log("Destroyed handle:"),Janus.debug(n),"success"!==n.janus&&Janus.error("Ooops: "+n.error.code+" "+n.error.reason),delete et[t],e.success()},error:function(n,i){Janus.error(n+":",i),delete et[t],e.success()}})}function p(t,n,i,r,o){var a=et[t];if(null===a||void 0===a||null===a.webrtcStuff||void 0===a.webrtcStuff)return Janus.warn("Invalid handle"),void r.error("Invalid handle");var s=a.webrtcStuff;Janus.debug("streamsDone:",o),o&&(Janus.debug("  -- Audio tracks:",o.getAudioTracks()),Janus.debug("  -- Video tracks:",o.getVideoTracks()));var l=!1;if(s.myStream&&i.update&&!s.streamExternal){if((!i.update&&M(i)||i.update&&(i.addAudio||i.replaceAudio))&&o.getAudioTracks()&&o.getAudioTracks().length)if(s.myStream.addTrack(o.getAudioTracks()[0]),Janus.unifiedPlan){Janus.log((i.replaceAudio?"Replacing":"Adding")+" audio track:",o.getAudioTracks()[0]);var d=null,h=s.pc.getTransceivers();if(h&&h.length>0)for(var f in h){var p=h[f];if(p.sender&&p.sender.track&&"audio"===p.sender.track.kind||p.receiver&&p.receiver.track&&"audio"===p.receiver.track.kind){d=p;break}}d&&d.sender?d.sender.replaceTrack(o.getAudioTracks()[0]):s.pc.addTrack(o.getAudioTracks()[0],o)}else Janus.log((i.replaceAudio?"Replacing":"Adding")+" audio track:",o.getAudioTracks()[0]),s.pc.addTrack(o.getAudioTracks()[0],o);if((!i.update&&A(i)||i.update&&(i.addVideo||i.replaceVideo))&&o.getVideoTracks()&&o.getVideoTracks().length)if(s.myStream.addTrack(o.getVideoTracks()[0]),Janus.unifiedPlan){Janus.log((i.replaceVideo?"Replacing":"Adding")+" video track:",o.getVideoTracks()[0]);var m=null,h=s.pc.getTransceivers();if(h&&h.length>0)for(var f in h){var p=h[f];if(p.sender&&p.sender.track&&"video"===p.sender.track.kind||p.receiver&&p.receiver.track&&"video"===p.receiver.track.kind){m=p;break}}m&&m.sender?m.sender.replaceTrack(o.getVideoTracks()[0]):s.pc.addTrack(o.getVideoTracks()[0],o)}else Janus.log((i.replaceVideo?"Replacing":"Adding")+" video track:",o.getVideoTracks()[0]),s.pc.addTrack(o.getVideoTracks()[0],o)}else s.myStream=o,l=!0;if(!s.pc){var g={iceServers:H,iceTransportPolicy:V,bundlePolicy:z};"chrome"===Janus.webRTCAdapter.browserDetails.browser&&(g.sdpSemantics=Janus.webRTCAdapter.browserDetails.version<72?"plan-b":"unified-plan");var b={optional:[{DtlsSrtpKeyAgreement:!0}]};if(W===!0&&b.optional.push({googIPv6:!0}),r.rtcConstraints&&"object"==typeof r.rtcConstraints){Janus.debug("Adding custom PeerConnection constraints:",r.rtcConstraints);for(var f in r.rtcConstraints)b.optional.push(r.rtcConstraints[f])}"edge"===Janus.webRTCAdapter.browserDetails.browser&&(g.bundlePolicy="max-bundle"),Janus.log("Creating PeerConnection"),Janus.debug(b),s.pc=new RTCPeerConnection(g,b),Janus.debug(s.pc),s.pc.getStats&&(s.volume={},s.bitrate.value="0 kbits/sec"),Janus.log("Preparing local SDP and gathering candidates (trickle="+s.trickle+")"),s.pc.oniceconnectionstatechange=function(t){s.pc&&a.iceState(s.pc.iceConnectionState)},s.pc.onicecandidate=function(e){if(null==e.candidate||"edge"===Janus.webRTCAdapter.browserDetails.browser&&e.candidate.candidate.indexOf("endOfCandidates")>0)Janus.log("End of candidates."),s.iceDone=!0,s.trickle===!0?u(t,{completed:!0}):_(t,r);else{var n={candidate:e.candidate.candidate,sdpMid:e.candidate.sdpMid,sdpMLineIndex:e.candidate.sdpMLineIndex};s.trickle===!0&&u(t,n)}},s.pc.ontrack=function(t){Janus.log("Handling Remote Track"),Janus.debug(t),t.streams&&(s.remoteStream=t.streams[0],a.onremotestream(s.remoteStream),t.track.onended||(Janus.log("Adding onended callback to track:",t.track),t.track.onended=function(t){Janus.log("Remote track muted/removed:",t),s.remoteStream&&(s.remoteStream.removeTrack(t.target),a.onremotestream(s.remoteStream))},t.track.onmute=t.track.onended,t.track.onunmute=function(t){Janus.log("Remote track flowing again:",t);try{s.remoteStream.addTrack(t.target),a.onremotestream(s.remoteStream)}catch(e){Janus.error(e)}}))}}if(l&&null!==o&&void 0!==o){Janus.log("Adding local stream");var E=r.simulcast2===!0;o.getTracks().forEach(function(t){if(Janus.log("Adding local track:",t),E)if("audio"===t.kind)s.pc.addTrack(t,o);else{Janus.log("Enabling rid-based simulcasting:",t);const n=e(r.simulcastMaxBitrates);s.pc.addTransceiver(t,{direction:"sendrecv",streams:[o],sendEncodings:[{rid:"h",active:!0,maxBitrate:n.high},{rid:"m",active:!0,maxBitrate:n.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:n.low,scaleResolutionDownBy:4}]})}else s.pc.addTrack(t,o)})}L(i)&&!s.dataChannel[Janus.dataChanDefaultLabel]&&(Janus.log("Creating data channel"),c(t,Janus.dataChanDefaultLabel,!1),s.pc.ondatachannel=function(e){Janus.log("Data channel created by Janus:",e),c(t,e.channel.label,e.channel)}),s.myStream&&a.onlocalstream(s.myStream),null===n||void 0===n?v(t,i,r):s.pc.setRemoteDescription(n).then(function(){if(Janus.log("Remote description accepted!"),s.remoteSdp=n.sdp,s.candidates&&s.candidates.length>0){for(var e=0;e<s.candidates.length;e++){var o=s.candidates[e];Janus.debug("Adding remote candidate:",o),o&&o.completed!==!0?s.pc.addIceCandidate(o):s.pc.addIceCandidate(Janus.endOfCandidates)}s.candidates=[]}y(t,i,r)},r.error)}function m(t,e,n){function i(e,i){s.consentDialog(!1),e?n.error(e):p(t,o,a,n,i)}function r(t,e,n){Janus.log("Adding media constraint (screen capture)"),Janus.debug(t),navigator.mediaDevices.getUserMedia(t).then(function(t){n?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(n){t.addTrack(n.getAudioTracks()[0]),e(null,t)}):e(null,t)})["catch"](function(t){s.consentDialog(!1),e(t)})}n=n||{},n.success="function"==typeof n.success?n.success:Janus.noop,n.error="function"==typeof n.error?n.error:T;var o=n.jsep;if(e&&o)return Janus.error("Provided a JSEP to a createOffer"),void n.error("Provided a JSEP to a createOffer");if(!(e||o&&o.type&&o.sdp))return Janus.error("A valid JSEP is required for createAnswer"),void n.error("A valid JSEP is required for createAnswer");n.media=n.media||{audio:!0,video:!0};var a=n.media,s=et[t];if(null===s||void 0===s||null===s.webrtcStuff||void 0===s.webrtcStuff)return Janus.warn("Invalid handle"),void n.error("Invalid handle");var l=s.webrtcStuff;if(l.trickle=k(n.trickle),void 0===l.pc||null===l.pc)a.update=!1,a.keepAudio=!1,a.keepVideo=!1;else if(void 0!==l.pc&&null!==l.pc){if(Janus.log("Updating existing media session"),a.update=!0,null!==n.stream&&void 0!==n.stream)n.stream!==l.myStream&&Janus.log("Renegotiation involves a new external stream");else{if(a.addAudio){if(a.keepAudio=!1,a.replaceAudio=!1,a.removeAudio=!1,a.audioSend=!0,l.myStream&&l.myStream.getAudioTracks()&&l.myStream.getAudioTracks().length)return Janus.error("Can't add audio stream, there already is one"),void n.error("Can't add audio stream, there already is one")}else a.removeAudio?(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!1,a.audioSend=!1):a.replaceAudio&&(a.keepAudio=!1,a.addAudio=!1,a.removeAudio=!1,a.audioSend=!0);if(null===l.myStream||void 0===l.myStream?(a.replaceAudio&&(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!0,a.audioSend=!0),M(a)&&(a.keepAudio=!1,a.addAudio=!0)):null===l.myStream.getAudioTracks()||void 0===l.myStream.getAudioTracks()||0===l.myStream.getAudioTracks().length?(a.replaceAudio&&(a.keepAudio=!1,a.replaceAudio=!1,a.addAudio=!0,a.audioSend=!0),M(a)&&(a.keepVideo=!1,a.addAudio=!0)):!M(a)||a.removeAudio||a.replaceAudio||(a.keepAudio=!0),a.addVideo){if(a.keepVideo=!1,a.replaceVideo=!1,a.removeVideo=!1,a.videoSend=!0,l.myStream&&l.myStream.getVideoTracks()&&l.myStream.getVideoTracks().length)return Janus.error("Can't add video stream, there already is one"),void n.error("Can't add video stream, there already is one")}else a.removeVideo?(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!1,a.videoSend=!1):a.replaceVideo&&(a.keepVideo=!1,a.addVideo=!1,a.removeVideo=!1,a.videoSend=!0);null===l.myStream||void 0===l.myStream?(a.replaceVideo&&(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!0,a.videoSend=!0),A(a)&&(a.keepVideo=!1,a.addVideo=!0)):null===l.myStream.getVideoTracks()||void 0===l.myStream.getVideoTracks()||0===l.myStream.getVideoTracks().length?(a.replaceVideo&&(a.keepVideo=!1,a.replaceVideo=!1,a.addVideo=!0,a.videoSend=!0),A(a)&&(a.keepVideo=!1,a.addVideo=!0)):!A(a)||a.removeVideo||a.replaceVideo||(a.keepVideo=!0),a.addData&&(a.data=!0)}if(M(a)&&a.keepAudio&&A(a)&&a.keepVideo)return s.consentDialog(!1),void p(t,o,a,n,l.myStream)}if(a.update&&!l.streamExternal){if(a.removeAudio||a.replaceAudio){if(l.myStream&&l.myStream.getAudioTracks()&&l.myStream.getAudioTracks().length){var u=l.myStream.getAudioTracks()[0];Janus.log("Removing audio track:",u),l.myStream.removeTrack(u);try{u.stop()}catch(c){}}if(l.pc.getSenders()&&l.pc.getSenders().length){var d=!0;if(a.replaceAudio&&Janus.unifiedPlan&&(d=!1),d)for(var h in l.pc.getSenders()){var u=l.pc.getSenders()[h];u&&u.track&&"audio"===u.track.kind&&(Janus.log("Removing audio sender:",u),l.pc.removeTrack(u))}}}if(a.removeVideo||a.replaceVideo){if(l.myStream&&l.myStream.getVideoTracks()&&l.myStream.getVideoTracks().length){var u=l.myStream.getVideoTracks()[0];Janus.log("Removing video track:",u),l.myStream.removeTrack(u);try{u.stop()}catch(c){}}if(l.pc.getSenders()&&l.pc.getSenders().length){var f=!0;if(a.replaceVideo&&Janus.unifiedPlan&&(f=!1),f)for(var h in l.pc.getSenders()){var u=l.pc.getSenders()[h];u&&u.track&&"video"===u.track.kind&&(Janus.log("Removing video sender:",u),l.pc.removeTrack(u))}}}}if(null!==n.stream&&void 0!==n.stream){var m=n.stream;if(Janus.log("MediaStream provided by the application"),Janus.debug(m),a.update&&l.myStream&&l.myStream!==n.stream&&!l.streamExternal){try{var g=l.myStream.getTracks();for(var v in g){var y=g[v];Janus.log(y),null!==y&&void 0!==y&&y.stop()}}catch(c){}l.myStream=null}return l.streamExternal=!0,s.consentDialog(!1),void p(t,o,a,n,m)}if(M(a)||A(a)){if(!Janus.isGetUserMediaAvailable())return void n.error("getUserMedia not available");var _={mandatory:{},optional:[]};s.consentDialog(!0);var b=M(a);b===!0&&void 0!=a&&null!=a&&"object"==typeof a.audio&&(b=a.audio);var E=A(a);if(E===!0&&void 0!=a&&null!=a){var x=n.simulcast===!0,C=n.simulcast2===!0;if(!x&&!C||o||void 0!==a.video&&a.video!==!1||(a.video="hires"),a.video&&"screen"!=a.video&&"window"!=a.video)if("object"==typeof a.video)E=a.video;else{var w=0,S=0,O=0;"lowres"===a.video?(S=240,O=240,w=320):"lowres-16:9"===a.video?(S=180,O=180,w=320):"hires"===a.video||"hires-16:9"===a.video||"hdres"===a.video?(S=720,O=720,w=1280):"fhdres"===a.video?(S=1080,O=1080,w=1920):"4kres"===a.video?(S=2160,O=2160,w=3840):"stdres"===a.video?(S=480,O=480,w=640):"stdres-16:9"===a.video?(S=360,O=360,w=640):(Janus.log("Default video setting is stdres 4:3"),S=480,O=480,w=640),Janus.log("Adding media constraint:",a.video),E={height:{ideal:S},width:{ideal:w}},Janus.log("Adding video constraint:",E)}else if("screen"===a.video||"window"===a.video){if(a.screenshareFrameRate||(a.screenshareFrameRate=3),navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return void navigator.mediaDevices.getDisplayMedia({video:!0,audio:a.captureDesktopAudio}).then(function(e){s.consentDialog(!1),M(a)&&!a.keepAudio?navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(i){e.addTrack(i.getAudioTracks()[0]),p(t,o,a,n,e)}):p(t,o,a,n,e)},function(t){s.consentDialog(!1),n.error(t)});if("chrome"===Janus.webRTCAdapter.browserDetails.browser){var P=Janus.webRTCAdapter.browserDetails.version,L=33;window.navigator.userAgent.match("Linux")&&(L=35),P>=26&&P<=L?(_={video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate,chromeMediaSource:"screen"}},audio:M(a)&&!a.keepAudio},r(_,i)):Janus.extension.getScreen(function(t,e){return t?(s.consentDialog(!1),n.error(t)):(_={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,
minFrameRate:a.screenshareFrameRate,maxFrameRate:a.screenshareFrameRate},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}},_.video.mandatory.chromeMediaSourceId=e,void r(_,i,M(a)&&!a.keepAudio))})}else if("firefox"===Janus.webRTCAdapter.browserDetails.browser){if(!(Janus.webRTCAdapter.browserDetails.version>=33)){var D=new Error("NavigatorUserMediaError");return D.name="Your version of Firefox does not support screen sharing, please install Firefox 33 (or more recent versions)",s.consentDialog(!1),void n.error(D)}_={video:{mozMediaSource:a.video,mediaSource:a.video},audio:M(a)&&!a.keepAudio},r(_,function(t,e){if(i(t,e),!t)var n=e.currentTime,r=window.setInterval(function(){e||window.clearInterval(r),e.currentTime==n&&(window.clearInterval(r),e.onended&&e.onended()),n=e.currentTime},500)})}return}}null!==a&&void 0!==a&&"screen"===a.video||navigator.mediaDevices.enumerateDevices().then(function(e){var i=e.some(function(t){return"audioinput"===t.kind}),r=I(a)||e.some(function(t){return"videoinput"===t.kind}),l=M(a),u=A(a),c=j(a),d=R(a);if(l||u||c||d){var h=!!l&&i,f=!!u&&r;if(!h&&!f)return s.consentDialog(!1),n.error("No capture device found"),!1;if(!h&&c)return s.consentDialog(!1),n.error("Audio capture is required, but no capture device found"),!1;if(!f&&d)return s.consentDialog(!1),n.error("Video capture is required, but no capture device found"),!1}var g={audio:!(!i||a.keepAudio)&&b,video:!(!r||a.keepVideo)&&E};Janus.debug("getUserMedia constraints",g),g.audio||g.video?navigator.mediaDevices.getUserMedia(g).then(function(e){s.consentDialog(!1),p(t,o,a,n,e)})["catch"](function(t){s.consentDialog(!1),n.error({code:t.code,name:t.name,message:t.message})}):(s.consentDialog(!1),p(t,o,a,n,m))})["catch"](function(t){s.consentDialog(!1),n.error("enumerateDevices error",t)})}else p(t,o,a,n)}function g(t,e){e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:T;var n=e.jsep,i=et[t];if(null===i||void 0===i||null===i.webrtcStuff||void 0===i.webrtcStuff)return Janus.warn("Invalid handle"),void e.error("Invalid handle");var r=i.webrtcStuff;if(void 0!==n&&null!==n){if(null===r.pc)return Janus.warn("Wait, no PeerConnection?? if this is an answer, use createAnswer and not handleRemoteJsep"),void e.error("No PeerConnection: if this is an answer, use createAnswer and not handleRemoteJsep");r.pc.setRemoteDescription(n).then(function(){if(Janus.log("Remote description accepted!"),r.remoteSdp=n.sdp,r.candidates&&r.candidates.length>0){for(var t=0;t<r.candidates.length;t++){var i=r.candidates[t];Janus.debug("Adding remote candidate:",i),i&&i.completed!==!0?r.pc.addIceCandidate(i):r.pc.addIceCandidate(Janus.endOfCandidates)}r.candidates=[]}e.success()},e.error)}else e.error("Invalid JSEP")}function v(t,n,i){i=i||{},i.success="function"==typeof i.success?i.success:Janus.noop,i.error="function"==typeof i.error?i.error:Janus.noop,i.customizeSdp="function"==typeof i.customizeSdp?i.customizeSdp:Janus.noop;var r=et[t];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return Janus.warn("Invalid handle"),void i.error("Invalid handle");var o=r.webrtcStuff,a=i.simulcast===!0;a?Janus.log("Creating offer (iceDone="+o.iceDone+", simulcast="+a+")"):Janus.log("Creating offer (iceDone="+o.iceDone+")");var s={};if(Janus.unifiedPlan){var l=null,u=null,c=o.pc.getTransceivers();if(c&&c.length>0)for(var d in c){var h=c[d];h.sender&&h.sender.track&&"audio"===h.sender.track.kind||h.receiver&&h.receiver.track&&"audio"===h.receiver.track.kind?l||(l=h):(h.sender&&h.sender.track&&"video"===h.sender.track.kind||h.receiver&&h.receiver.track&&"video"===h.receiver.track.kind)&&(u||(u=h))}var f=M(n),p=O(n);f||p?f&&p?l&&(l.setDirection?l.setDirection("sendrecv"):l.direction="sendrecv",Janus.log("Setting audio transceiver to sendrecv:",l)):f&&!p?l&&(l.setDirection?l.setDirection("sendonly"):l.direction="sendonly",Janus.log("Setting audio transceiver to sendonly:",l)):!f&&p&&(l?(l.setDirection?l.setDirection("recvonly"):l.direction="recvonly",Janus.log("Setting audio transceiver to recvonly:",l)):(l=o.pc.addTransceiver("audio",{direction:"recvonly"}),Janus.log("Adding recvonly audio transceiver:",l))):n.removeAudio&&l&&(l.setDirection?l.setDirection("inactive"):l.direction="inactive",Janus.log("Setting audio transceiver to inactive:",l));var m=A(n),g=P(n);m||g?m&&g?u&&(u.setDirection?u.setDirection("sendrecv"):u.direction="sendrecv",Janus.log("Setting video transceiver to sendrecv:",u)):m&&!g?u&&(u.setDirection?u.setDirection("sendonly"):u.direction="sendonly",Janus.log("Setting video transceiver to sendonly:",u)):!m&&g&&(u?(u.setDirection?u.setDirection("recvonly"):u.direction="recvonly",Janus.log("Setting video transceiver to recvonly:",u)):(u=o.pc.addTransceiver("video",{direction:"recvonly"}),Janus.log("Adding recvonly video transceiver:",u))):n.removeVideo&&u&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive",Janus.log("Setting video transceiver to inactive:",u))}else s.offerToReceiveAudio=O(n),s.offerToReceiveVideo=P(n);var v=i.iceRestart===!0;v&&(s.iceRestart=!0),Janus.debug(s);var y=A(n);if(y&&a&&"firefox"===Janus.webRTCAdapter.browserDetails.browser){Janus.log("Enabling Simulcasting for Firefox (RID)");var _=o.pc.getSenders().find(function(t){return"video"==t.track.kind});if(_){var b=_.getParameters();b||(b={});const E=e(i.simulcastMaxBitrates);b.encodings=[{rid:"h",active:!0,maxBitrate:E.high},{rid:"m",active:!0,maxBitrate:E.medium,scaleResolutionDownBy:2},{rid:"l",active:!0,maxBitrate:E.low,scaleResolutionDownBy:4}],_.setParameters(b)}}o.pc.createOffer(s).then(function(t){Janus.debug(t);var e={type:t.type,sdp:t.sdp};return i.customizeSdp(e),t.sdp=e.sdp,Janus.log("Setting local description"),y&&a&&("chrome"===Janus.webRTCAdapter.browserDetails.browser||"safari"===Janus.webRTCAdapter.browserDetails.browser?(Janus.log("Enabling Simulcasting for Chrome (SDP munging)"),t.sdp=S(t.sdp)):"firefox"!==Janus.webRTCAdapter.browserDetails.browser&&Janus.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),o.mySdp=t.sdp,o.pc.setLocalDescription(t)["catch"](i.error),o.mediaConstraints=s,o.iceDone||o.trickle?(Janus.log("Offer ready"),Janus.debug(i),void i.success(t)):void Janus.log("Waiting for all candidates...")},i.error)}function y(t,n,i){i=i||{},i.success="function"==typeof i.success?i.success:Janus.noop,i.error="function"==typeof i.error?i.error:Janus.noop,i.customizeSdp="function"==typeof i.customizeSdp?i.customizeSdp:Janus.noop;var r=et[t];if(null===r||void 0===r||null===r.webrtcStuff||void 0===r.webrtcStuff)return Janus.warn("Invalid handle"),void i.error("Invalid handle");var o=r.webrtcStuff,a=i.simulcast===!0;a?Janus.log("Creating answer (iceDone="+o.iceDone+", simulcast="+a+")"):Janus.log("Creating answer (iceDone="+o.iceDone+")");var s=null;if(Janus.unifiedPlan){s={};var l=null,u=null,c=o.pc.getTransceivers();if(c&&c.length>0)for(var d in c){var h=c[d];h.sender&&h.sender.track&&"audio"===h.sender.track.kind||h.receiver&&h.receiver.track&&"audio"===h.receiver.track.kind?l||(l=h):(h.sender&&h.sender.track&&"video"===h.sender.track.kind||h.receiver&&h.receiver.track&&"video"===h.receiver.track.kind)&&(u||(u=h))}var f=M(n),p=O(n);if(f||p){if(f&&p){if(l)try{l.setDirection?l.setDirection("sendrecv"):l.direction="sendrecv",Janus.log("Setting audio transceiver to sendrecv:",l)}catch(m){Janus.error(m)}}else if(f&&!p)try{l&&(l.setDirection?l.setDirection("sendonly"):l.direction="sendonly",Janus.log("Setting audio transceiver to sendonly:",l))}catch(m){Janus.error(m)}else if(!f&&p)if(l)try{l.setDirection?l.setDirection("recvonly"):l.direction="recvonly",Janus.log("Setting audio transceiver to recvonly:",l)}catch(m){Janus.error(m)}else l=o.pc.addTransceiver("audio",{direction:"recvonly"}),Janus.log("Adding recvonly audio transceiver:",l)}else if(n.removeAudio&&l)try{l.setDirection?l.setDirection("inactive"):l.direction="inactive",Janus.log("Setting audio transceiver to inactive:",l)}catch(m){Janus.error(m)}var g=A(n),v=P(n);if(g||v){if(g&&v){if(u)try{u.setDirection?u.setDirection("sendrecv"):u.direction="sendrecv",Janus.log("Setting video transceiver to sendrecv:",u)}catch(m){Janus.error(m)}}else if(g&&!v){if(u)try{u.setDirection?u.setDirection("sendonly"):u.direction="sendonly",Janus.log("Setting video transceiver to sendonly:",u)}catch(m){Janus.error(m)}}else if(!g&&v)if(u)try{u.setDirection?u.setDirection("recvonly"):u.direction="recvonly",Janus.log("Setting video transceiver to recvonly:",u)}catch(m){Janus.error(m)}else u=o.pc.addTransceiver("video",{direction:"recvonly"}),Janus.log("Adding recvonly video transceiver:",u)}else if(n.removeVideo&&u)try{u.setDirection?u.setDirection("inactive"):u.direction="inactive",Janus.log("Setting video transceiver to inactive:",u)}catch(m){Janus.error(m)}}else s="firefox"==Janus.webRTCAdapter.browserDetails.browser||"edge"==Janus.webRTCAdapter.browserDetails.browser?{offerToReceiveAudio:O(n),offerToReceiveVideo:P(n)}:{mandatory:{OfferToReceiveAudio:O(n),OfferToReceiveVideo:P(n)}};Janus.debug(s);var y=A(n);if(y&&a&&"firefox"===Janus.webRTCAdapter.browserDetails.browser){Janus.log("Enabling Simulcasting for Firefox (RID)");var _=o.pc.getSenders()[1];Janus.log(_);var b=_.getParameters();Janus.log(b);const E=e(i.simulcastMaxBitrates);_.setParameters({encodings:[{rid:"high",active:!0,priority:"high",maxBitrate:E.high},{rid:"medium",active:!0,priority:"medium",maxBitrate:E.medium},{rid:"low",active:!0,priority:"low",maxBitrate:E.low}]})}o.pc.createAnswer(s).then(function(t){Janus.debug(t);var e={type:t.type,sdp:t.sdp};return i.customizeSdp(e),t.sdp=e.sdp,Janus.log("Setting local description"),y&&a&&("chrome"===Janus.webRTCAdapter.browserDetails.browser?Janus.warn("simulcast=true, but this is an answer, and video breaks in Chrome if we enable it"):"firefox"!==Janus.webRTCAdapter.browserDetails.browser&&Janus.warn("simulcast=true, but this is not Chrome nor Firefox, ignoring")),o.mySdp=t.sdp,o.pc.setLocalDescription(t)["catch"](i.error),o.mediaConstraints=s,o.iceDone||o.trickle?void i.success(t):void Janus.log("Waiting for all candidates...")},i.error)}function _(t,e){e=e||{},e.success="function"==typeof e.success?e.success:Janus.noop,e.error="function"==typeof e.error?e.error:Janus.noop;var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return void Janus.warn("Invalid handle, not sending anything");var i=n.webrtcStuff;return Janus.log("Sending offer/answer SDP..."),null===i.mySdp||void 0===i.mySdp?void Janus.warn("Local SDP instance is invalid, not sending anything..."):(i.mySdp={type:i.pc.localDescription.type,sdp:i.pc.localDescription.sdp},i.trickle===!1&&(i.mySdp.trickle=!1),Janus.debug(e),i.sdpSent=!0,void e.success(i.mySdp))}function b(t,e){var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return Janus.warn("Invalid handle"),0;var i=e?"remote":"local",r=n.webrtcStuff;return r.volume[i]||(r.volume[i]={value:0}),r.pc.getStats&&"chrome"===Janus.webRTCAdapter.browserDetails.browser?!e||null!==r.remoteStream&&void 0!==r.remoteStream?e||null!==r.myStream&&void 0!==r.myStream?null===r.volume[i].timer||void 0===r.volume[i].timer?(Janus.log("Starting "+i+" volume monitor"),r.volume[i].timer=setInterval(function(){r.pc.getStats().then(function(t){for(var n=t.result(),o=0;o<n.length;o++){var a=n[o];"ssrc"==a.type&&(e&&a.stat("audioOutputLevel")?r.volume[i].value=parseInt(a.stat("audioOutputLevel")):!e&&a.stat("audioInputLevel")&&(r.volume[i].value=parseInt(a.stat("audioInputLevel"))))}})},200),0):r.volume[i].value:(Janus.warn("Local stream unavailable"),0):(Janus.warn("Remote stream unavailable"),0):(Janus.warn("Getting the "+i+" volume unsupported by browser"),0)}function E(t,e){var n=et[t];if(null===n||void 0===n||null===n.webrtcStuff||void 0===n.webrtcStuff)return Janus.warn("Invalid handle"),!0;var i=n.webrtcStuff;return null===i.pc||void 0===i.pc?(Janus.warn("Invalid PeerConnection"),!0):void 0===i.myStream||null===i.myStream?(Janus.warn("Invalid local MediaStream"),!0):e?null===i.myStream.getVideoTracks()||void 0===i.myStream.getVideoTracks()||0===i.myStream.getVideoTracks().length?(Janus.warn("No video track"),!0):!i.myStream.getVideoTracks()[0].enabled:null===i.myStream.getAudioTracks()||void 0===i.myStream.getAudioTracks()||0===i.myStream.getAudioTracks().length?(Janus.warn("No audio track"),!0):!i.myStream.getAudioTracks()[0].enabled}function x(t,e,n){var i=et[t];if(null===i||void 0===i||null===i.webrtcStuff||void 0===i.webrtcStuff)return Janus.warn("Invalid handle"),!1;var r=i.webrtcStuff;return null===r.pc||void 0===r.pc?(Janus.warn("Invalid PeerConnection"),!1):void 0===r.myStream||null===r.myStream?(Janus.warn("Invalid local MediaStream"),!1):e?null===r.myStream.getVideoTracks()||void 0===r.myStream.getVideoTracks()||0===r.myStream.getVideoTracks().length?(Janus.warn("No video track"),!1):(r.myStream.getVideoTracks()[0].enabled=!n,!0):null===r.myStream.getAudioTracks()||void 0===r.myStream.getAudioTracks()||0===r.myStream.getAudioTracks().length?(Janus.warn("No audio track"),!1):(r.myStream.getAudioTracks()[0].enabled=!n,!0)}function C(t){var e=et[t];if(null===e||void 0===e||null===e.webrtcStuff||void 0===e.webrtcStuff)return Janus.warn("Invalid handle"),"Invalid handle";var n=e.webrtcStuff;return null===n.pc||void 0===n.pc?"Invalid PeerConnection":n.pc.getStats?null===n.bitrate.timer||void 0===n.bitrate.timer?(Janus.log("Starting bitrate timer (via getStats)"),n.bitrate.timer=setInterval(function(){n.pc.getStats().then(function(t){t.forEach(function(t){if(t){var e=!1;if(("video"===t.mediaType||t.id.toLowerCase().indexOf("video")>-1)&&"inbound-rtp"===t.type&&t.id.indexOf("rtcp")<0?e=!0:"ssrc"!=t.type||!t.bytesReceived||"VP8"!==t.googCodecName&&""!==t.googCodecName||(e=!0),e)if(n.bitrate.bsnow=t.bytesReceived,n.bitrate.tsnow=t.timestamp,null===n.bitrate.bsbefore||null===n.bitrate.tsbefore)n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow;else{var i=n.bitrate.tsnow-n.bitrate.tsbefore;"safari"==Janus.webRTCAdapter.browserDetails.browser&&(i/=1e3);var r=Math.round(8*(n.bitrate.bsnow-n.bitrate.bsbefore)/i);"safari"===Janus.webRTCAdapter.browserDetails.browser&&(r=parseInt(r/1e3)),n.bitrate.value=r+" kbits/sec",n.bitrate.bsbefore=n.bitrate.bsnow,n.bitrate.tsbefore=n.bitrate.tsnow}}})})},1e3),"0 kbits/sec"):n.bitrate.value:(Janus.warn("Getting the video bitrate unsupported by browser"),"Feature unsupported by browser")}function T(t){Janus.error("WebRTC error:",t)}function w(t,e){Janus.log("Cleaning WebRTC stuff");var n=et[t];if(null!==n&&void 0!==n){var i=n.webrtcStuff;if(null!==i&&void 0!==i){if(e===!0){var r={janus:"hangup",transaction:Janus.randomString(12)};null!==n.token&&void 0!==n.token&&(r.token=n.token),null!==X&&void 0!==X&&(r.apisecret=X),Janus.debug("Sending hangup request (handle="+t+"):"),Janus.debug(r),D?(r.session_id=tt,r.handle_id=t,N.send(JSON.stringify(r))):Janus.httpAPICall(B+"/"+tt+"/"+t,{verb:"POST",withCredentials:q,body:r})}i.remoteStream=null,i.volume&&(i.volume.local&&i.volume.local.timer&&clearInterval(i.volume.local.timer),i.volume.remote&&i.volume.remote.timer&&clearInterval(i.volume.remote.timer)),i.volume={},i.bitrate.timer&&clearInterval(i.bitrate.timer),i.bitrate.timer=null,i.bitrate.bsnow=null,i.bitrate.bsbefore=null,i.bitrate.tsnow=null,i.bitrate.tsbefore=null,i.bitrate.value=null;try{if(!i.streamExternal&&null!==i.myStream&&void 0!==i.myStream){Janus.log("Stopping local stream tracks");var o=i.myStream.getTracks();for(var a in o){var s=o[a];Janus.log(s),null!==s&&void 0!==s&&s.stop()}}}catch(l){}i.streamExternal=!1,i.myStream=null;try{i.pc.close()}catch(l){}i.pc=null,i.candidates=null,i.mySdp=null,i.remoteSdp=null,i.iceDone=!1,i.dataChannel={},i.dtmfSender=null}n.oncleanup()}}function S(t){for(var e=t.split("\r\n"),n=!1,i=[-1],r=[-1],o=null,a=null,s=null,l=null,u=-1,c=0;c<e.length;c++){var d=e[c].match(/m=(\w+) */);if(d){var h=d[1];if("video"===h){if(!(i[0]<0)){u=c;break}n=!0}else if(i[0]>-1){u=c;break}}else if(n){var f=e[c].match(/a=ssrc-group:FID (\d+) (\d+)/);if(f)i[0]=f[1],r[0]=f[2],e.splice(c,1),c--;else{if(i[0]){var p=e[c].match("a=ssrc:"+i[0]+" cname:(.+)");if(p&&(o=p[1]),p=e[c].match("a=ssrc:"+i[0]+" msid:(.+)"),p&&(a=p[1]),p=e[c].match("a=ssrc:"+i[0]+" mslabel:(.+)"),p&&(s=p[1]),p=e[c].match("a=ssrc:"+i[0]+" label:(.+)"),p&&(l=p[1]),0===e[c].indexOf("a=ssrc:"+r[0])){e.splice(c,1),c--;continue}if(0===e[c].indexOf("a=ssrc:"+i[0])){e.splice(c,1),c--;continue}}0!=e[c].length||(e.splice(c,1),c--)}}}if(i[0]<0){u=-1,n=!1;for(var c=0;c<e.length;c++){var d=e[c].match(/m=(\w+) */);if(d){var h=d[1];if("video"===h){if(!(i[0]<0)){u=c;break}n=!0}else if(i[0]>-1){u=c;break}}else if(n){if(i[0]<0){var m=e[c].match(/a=ssrc:(\d+)/);if(m){i[0]=m[1],e.splice(c,1),c--;continue}}else{var p=e[c].match("a=ssrc:"+i[0]+" cname:(.+)");if(p&&(o=p[1]),p=e[c].match("a=ssrc:"+i[0]+" msid:(.+)"),p&&(a=p[1]),p=e[c].match("a=ssrc:"+i[0]+" mslabel:(.+)"),p&&(s=p[1]),p=e[c].match("a=ssrc:"+i[0]+" label:(.+)"),p&&(l=p[1]),0===e[c].indexOf("a=ssrc:"+r[0])){e.splice(c,1),c--;continue}if(0===e[c].indexOf("a=ssrc:"+i[0])){e.splice(c,1),c--;continue}}0!=e[c].length||(e.splice(c,1),c--)}}}if(i[0]<0)return Janus.warn("Couldn't find the video SSRC, simulcasting NOT enabled"),t;u<0&&(u=e.length),i[1]=Math.floor(4294967295*Math.random()),i[2]=Math.floor(4294967295*Math.random()),r[1]=Math.floor(4294967295*Math.random()),r[2]=Math.floor(4294967295*Math.random());for(var c=0;c<i.length;c++)o&&(e.splice(u,0,"a=ssrc:"+i[c]+" cname:"+o),u++),a&&(e.splice(u,0,"a=ssrc:"+i[c]+" msid:"+a),u++),s&&(e.splice(u,0,"a=ssrc:"+i[c]+" mslabel:"+s),u++),l&&(e.splice(u,0,"a=ssrc:"+i[c]+" label:"+l),u++),o&&(e.splice(u,0,"a=ssrc:"+r[c]+" cname:"+o),u++),a&&(e.splice(u,0,"a=ssrc:"+r[c]+" msid:"+a),u++),s&&(e.splice(u,0,"a=ssrc:"+r[c]+" mslabel:"+s),u++),l&&(e.splice(u,0,"a=ssrc:"+r[c]+" label:"+l),u++);return e.splice(u,0,"a=ssrc-group:FID "+i[2]+" "+r[2]),e.splice(u,0,"a=ssrc-group:FID "+i[1]+" "+r[1]),e.splice(u,0,"a=ssrc-group:FID "+i[0]+" "+r[0]),e.splice(u,0,"a=ssrc-group:SIM "+i[0]+" "+i[1]+" "+i[2]),t=e.join("\r\n"),t.endsWith("\r\n")||(t+="\r\n"),t}function M(t){return Janus.debug("isAudioSendEnabled:",t),void 0===t||null===t||t.audio!==!1&&(void 0===t.audioSend||null===t.audioSend||t.audioSend===!0)}function j(t){return Janus.debug("isAudioSendRequired:",t),void 0!==t&&null!==t&&(t.audio!==!1&&t.audioSend!==!1&&(void 0!==t.failIfNoAudio&&null!==t.failIfNoAudio&&t.failIfNoAudio===!0))}function O(t){return Janus.debug("isAudioRecvEnabled:",t),void 0===t||null===t||t.audio!==!1&&(void 0===t.audioRecv||null===t.audioRecv||t.audioRecv===!0)}function A(t){return Janus.debug("isVideoSendEnabled:",t),void 0===t||null===t||t.video!==!1&&(void 0===t.videoSend||null===t.videoSend||t.videoSend===!0)}function R(t){return Janus.debug("isVideoSendRequired:",t),void 0!==t&&null!==t&&(t.video!==!1&&t.videoSend!==!1&&(void 0!==t.failIfNoVideo&&null!==t.failIfNoVideo&&t.failIfNoVideo===!0))}function P(t){return Janus.debug("isVideoRecvEnabled:",t),void 0===t||null===t||t.video!==!1&&(void 0===t.videoRecv||null===t.videoRecv||t.videoRecv===!0)}function I(t){if(Janus.debug("isScreenSendEnabled:",t),void 0===t||null===t)return!1;if("object"!=typeof t.video||"object"!=typeof t.video.mandatory)return!1;var e=t.video.mandatory;return e.chromeMediaSource?"desktop"===e.chromeMediaSource||"screen"===e.chromeMediaSource:e.mozMediaSource?"window"===e.mozMediaSource||"screen"===e.mozMediaSource:!!e.mediaSource&&("window"===e.mediaSource||"screen"===e.mediaSource)}function L(t){return Janus.debug("isDataEnabled:",t),"edge"==Janus.webRTCAdapter.browserDetails.browser?(Janus.warn("Edge doesn't support data channels yet"),!1):void 0!==t&&null!==t&&t.data===!0}function k(t){return Janus.debug("isTrickleEnabled:",t),void 0===t||null===t||t===!0}if(void 0===Janus.initDone)return t.error("Library not initialized"),{};if(!Janus.isWebrtcSupported())return t.error("WebRTC not supported by this browser"),{};if(Janus.log("Library initialized: "+Janus.initDone),t=t||{},t.success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:Janus.noop,t.destroyed="function"==typeof t.destroyed?t.destroyed:Janus.noop,null===t.server||void 0===t.server)return t.error("Invalid server url"),{};var D=!1,N=null,F={},$=null,G=null,U=0,B=t.server;Janus.isArray(B)?(Janus.log("Multiple servers provided ("+B.length+"), will use the first that works"),B=null,G=t.server,Janus.debug(G)):0===B.indexOf("ws")?(D=!0,Janus.log("Using WebSockets to contact Janus: "+B)):(D=!1,Janus.log("Using REST API to contact Janus: "+B));var H=t.iceServers;void 0!==H&&null!==H||(H=[{urls:"stun:stun.l.google.com:19302"}]);var V=t.iceTransportPolicy,z=t.bundlePolicy,W=t.ipv6;void 0!==W&&null!==W||(W=!1);var q=!1;void 0!==t.withCredentials&&null!==t.withCredentials&&(q=t.withCredentials===!0);var Y=10;void 0!==t.max_poll_events&&null!==t.max_poll_events&&(Y=t.max_poll_events),Y<1&&(Y=1);var K=null;void 0!==t.token&&null!==t.token&&(K=t.token);var X=null;void 0!==t.apisecret&&null!==t.apisecret&&(X=t.apisecret),this.destroyOnUnload=!0,void 0!==t.destroyOnUnload&&null!==t.destroyOnUnload&&(this.destroyOnUnload=t.destroyOnUnload===!0);var J=25e3;void 0!==t.keepAlivePeriod&&null!==t.keepAlivePeriod&&(J=t.keepAlivePeriod),isNaN(J)&&(J=25e3);var Z=6e4;void 0!==t.longPollTimeout&&null!==t.longPollTimeout&&(Z=t.longPollTimeout),isNaN(Z)&&(Z=6e4);var Q=!1,tt=null,et={},nt=this,it=0,rt={};o(t),this.getServer=function(){return B},this.isConnected=function(){return Q},this.reconnect=function(t){t=t||{},t.success="function"==typeof t.success?t.success:Janus.noop,t.error="function"==typeof t.error?t.error:Janus.noop,t.reconnect=!0,o(t)},this.getSessionId=function(){return tt},this.destroy=function(t){a(t)},this.attach=function(t){s(t)}}!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){n=n||Et;var i,r,o=n.createElement("script");if(o.text=t,e)for(i in xt)r=e[i]||e.getAttribute&&e.getAttribute(i),r&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function i(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ft[pt.call(t)]||"object":typeof t}function r(t){var e=!!t&&"length"in t&&t.length,n=i(t);return!_t(t)&&!bt(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function o(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function a(t,e,n){return _t(e)?Tt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?Tt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?Tt.grep(t,function(t){return ht.call(e,t)>-1!==n}):Tt.filter(e,t,n)}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return Tt.each(t.match(kt)||[],function(t,n){e[n]=!0}),e}function u(t){return t}function c(t){throw t}function d(t,e,n,i){var r;try{t&&_t(r=t.promise)?r.call(t).done(e).fail(n):t&&_t(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function h(){Et.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),Tt.ready()}function f(t,e){return e.toUpperCase()}function p(t){return t.replace($t,"ms-").replace(Gt,f)}function m(){this.expando=Tt.expando+m.uid++}function g(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Vt.test(t)?JSON.parse(t):t)}function v(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(zt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n=g(n)}catch(r){}Ht.set(t,e,n)}else n=void 0;return n}function y(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return Tt.css(t,e,"")},l=s(),u=n&&n[3]||(Tt.cssNumber[e]?"":"px"),c=t.nodeType&&(Tt.cssNumber[e]||"px"!==u&&+l)&&qt.exec(Tt.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)Tt.style(t,e,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c=2*c,Tt.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function _(t){var e,n=t.ownerDocument,i=t.nodeName,r=Qt[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=Tt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),Qt[i]=r,r)}function b(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=Bt.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Zt(i)&&(r[o]=_(i))):"none"!==n&&(r[o]="none",Bt.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function E(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&o(t,e)?Tt.merge([t],n):n}function x(t,e){for(var n=0,i=t.length;n<i;n++)Bt.set(t[n],"globalEval",!e||Bt.get(e[n],"globalEval"))}function C(t,e,n,r,o){for(var a,s,l,u,c,d,h=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if(a=t[p],a||0===a)if("object"===i(a))Tt.merge(f,a.nodeType?[a]:a);else if(re.test(a)){for(s=s||h.appendChild(e.createElement("div")),l=(ee.exec(a)||["",""])[1].toLowerCase(),u=ie[l]||ie._default,s.innerHTML=u[1]+Tt.htmlPrefilter(a)+u[2],d=u[0];d--;)s=s.lastChild;Tt.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(e.createTextNode(a));for(h.textContent="",p=0;a=f[p++];)if(r&&Tt.inArray(a,r)>-1)o&&o.push(a);else if(c=Xt(a),s=E(h.appendChild(a),"script"),c&&x(s),n)for(d=0;a=s[d++];)ne.test(a.type||"")&&n.push(a);return h}function T(){return!0}function w(){return!1}function S(t,e){return t===M()==("focus"===e)}function M(){try{return Et.activeElement}catch(t){}}function j(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)j(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=w;else if(!r)return t;return 1===o&&(a=r,r=function(t){return Tt().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=Tt.guid++)),t.each(function(){Tt.event.add(this,e,r,i,n)})}function O(t,e,n){return n?(Bt.set(t,e,!1),void Tt.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Bt.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(Tt.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=ut.call(arguments),Bt.set(this,e,o),i=n(this,e),this[e](),r=Bt.get(this,e),o!==r||i?Bt.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(Bt.set(this,e,{value:Tt.event.trigger(Tt.extend(o[0],Tt.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void(void 0===Bt.get(t,e)&&Tt.event.add(t,e,T))}function A(t,e){return o(t,"table")&&o(11!==e.nodeType?e:e.firstChild,"tr")?Tt(t).children("tbody")[0]||t:t}function R(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function P(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function I(t,e){var n,i,r,o,a,s,l;if(1===e.nodeType){if(Bt.hasData(t)&&(o=Bt.get(t),l=o.events)){Bt.remove(e,"handle events");for(r in l)for(n=0,i=l[r].length;n<i;n++)Tt.event.add(e,r,l[r][n])}Ht.hasData(t)&&(a=Ht.access(t),s=Tt.extend({},a),Ht.set(e,s))}}function L(t,e){var n=e.nodeName.toLowerCase();"input"===n&&te.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function k(t,e,i,r){e=ct(e);var o,a,s,l,u,c,d=0,h=t.length,f=h-1,p=e[0],m=_t(p);if(m||h>1&&"string"==typeof p&&!yt.checkClone&&ue.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),k(o,e,i,r)});if(h&&(o=C(e,t[0].ownerDocument,!1,t,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=Tt.map(E(o,"script"),R),l=s.length;d<h;d++)u=o,d!==f&&(u=Tt.clone(u,!0,!0),l&&Tt.merge(s,E(u,"script"))),i.call(t[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,Tt.map(s,P),d=0;d<l;d++)u=s[d],ne.test(u.type||"")&&!Bt.access(u,"globalEval")&&Tt.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?Tt._evalUrl&&!u.noModule&&Tt._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):n(u.textContent.replace(ce,""),u,c))}return t}function D(t,e,n){for(var i,r=e?Tt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||Tt.cleanData(E(i)),i.parentNode&&(n&&Xt(i)&&x(E(i,"script")),i.parentNode.removeChild(i));return t}function N(t,e,n){var i,r,o,a,s=t.style;return n=n||he(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||Xt(t)||(a=Tt.style(t,e)),!yt.pixelBoxStyles()&&de.test(a)&&pe.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function F(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function $(t){for(var e=t[0].toUpperCase()+t.slice(1),n=me.length;n--;)if(t=me[n]+e,t in ge)return t}function G(t){var e=Tt.cssProps[t]||ve[t];return e?e:t in ge?t:ve[t]=$(t)||t}function U(t,e,n){var i=qt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function B(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=Tt.css(t,n+Yt[a],!0,r)),i?("content"===n&&(l-=Tt.css(t,"padding"+Yt[a],!0,r)),"margin"!==n&&(l-=Tt.css(t,"border"+Yt[a]+"Width",!0,r))):(l+=Tt.css(t,"padding"+Yt[a],!0,r),"padding"!==n?l+=Tt.css(t,"border"+Yt[a]+"Width",!0,r):s+=Tt.css(t,"border"+Yt[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function H(t,e,n){var i=he(t),r=!yt.boxSizingReliable()||n,a=r&&"border-box"===Tt.css(t,"boxSizing",!1,i),s=a,l=N(t,e,i),u="offset"+e[0].toUpperCase()+e.slice(1);if(de.test(l)){if(!n)return l;l="auto"}return(!yt.boxSizingReliable()&&a||!yt.reliableTrDimensions()&&o(t,"tr")||"auto"===l||!parseFloat(l)&&"inline"===Tt.css(t,"display",!1,i))&&t.getClientRects().length&&(a="border-box"===Tt.css(t,"boxSizing",!1,i),s=u in t,s&&(l=t[u])),l=parseFloat(l)||0,l+B(t,e,n||(a?"border":"content"),s,i,l)+"px"}function V(t,e,n,i,r){return new V.prototype.init(t,e,n,i,r)}function z(){Ce&&(Et.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(z):t.setTimeout(z,Tt.fx.interval),Tt.fx.tick())}function W(){return t.setTimeout(function(){xe=void 0}),xe=Date.now()}function q(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Yt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Y(t,e,n){for(var i,r=(J.tweeners[e]||[]).concat(J.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function K(t,e,n){var i,r,o,a,s,l,u,c,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&Zt(t),g=Bt.get(t,"fxshow");n.queue||(a=Tt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Tt.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],Te.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||Tt.style(t,i)}if(l=!Tt.isEmptyObject(e),l||!Tt.isEmptyObject(f)){d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=g&&g.display,null==u&&(u=Bt.get(t,"display")),c=Tt.css(t,"display"),"none"===c&&(u?c=u:(b([t],!0),u=t.style.display||u,c=Tt.css(t,"display"),b([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===Tt.css(t,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1;for(i in f)l||(g?"hidden"in g&&(m=g.hidden):g=Bt.access(t,"fxshow",{display:u}),o&&(g.hidden=!m),m&&b([t],!0),h.done(function(){m||b([t]),Bt.remove(t,"fxshow");for(i in f)Tt.style(t,i,f[i]);
})),l=Y(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}}function X(t,e){var n,i,r,o,a;for(n in t)if(i=p(n),r=e[i],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=Tt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function J(t,e,n){var i,r,o=0,a=J.prefilters.length,s=Tt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=xe||W(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),o<1&&l?n:(l||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:Tt.extend({},e),opts:Tt.extend(!0,{specialEasing:{},easing:Tt.easing._default},n),originalProperties:e,originalOptions:n,startTime:xe||W(),duration:n.duration,tweens:[],createTween:function(e,n){var i=Tt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(X(c,u.opts.specialEasing);o<a;o++)if(i=J.prefilters[o].call(u,t,c,u.opts))return _t(i.stop)&&(Tt._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return Tt.map(c,Y,u),_t(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),Tt.fx.timer(Tt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function Z(t){var e=t.match(kt)||[];return e.join(" ")}function Q(t){return t.getAttribute&&t.getAttribute("class")||""}function tt(t){return Array.isArray(t)?t:"string"==typeof t?t.match(kt)||[]:[]}function et(t,e,n,r){var o;if(Array.isArray(e))Tt.each(e,function(e,i){n||De.test(t)?r(t,i):et(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==i(e))r(t,e);else for(o in e)et(t+"["+o+"]",e[o],n,r)}function nt(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(kt)||[];if(_t(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function it(t,e,n,i){function r(s){var l;return o[s]=!0,Tt.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===Ye;return r(e.dataTypes[0])||!o["*"]&&r("*")}function rt(t,e){var n,i,r=Tt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&Tt.extend(!0,t,i),t}function ot(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function at(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}var st=[],lt=Object.getPrototypeOf,ut=st.slice,ct=st.flat?function(t){return st.flat.call(t)}:function(t){return st.concat.apply([],t)},dt=st.push,ht=st.indexOf,ft={},pt=ft.toString,mt=ft.hasOwnProperty,gt=mt.toString,vt=gt.call(Object),yt={},_t=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},bt=function(t){return null!=t&&t===t.window},Et=t.document,xt={type:!0,src:!0,nonce:!0,noModule:!0},Ct="3.5.1",Tt=function(t,e){return new Tt.fn.init(t,e)};Tt.fn=Tt.prototype={jquery:Ct,constructor:Tt,length:0,toArray:function(){return ut.call(this)},get:function(t){return null==t?ut.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Tt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Tt.each(this,t)},map:function(t){return this.pushStack(Tt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ut.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Tt.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(Tt.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:dt,sort:st.sort,splice:st.splice},Tt.extend=Tt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||_t(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(u&&i&&(Tt.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],o=r&&!Array.isArray(n)?[]:r||Tt.isPlainObject(n)?n:{},r=!1,a[e]=Tt.extend(u,o,i)):void 0!==i&&(a[e]=i));return a},Tt.extend({expando:"jQuery"+(Ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==pt.call(t))&&(!(e=lt(t))||(n=mt.call(e,"constructor")&&e.constructor,"function"==typeof n&&gt.call(n)===vt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){n(t,{nonce:e&&e.nonce},i)},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?Tt.merge(n,"string"==typeof t?[t]:t):dt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ht.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,n){var i,o,a=0,s=[];if(r(t))for(i=t.length;a<i;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return ct(s)},guid:1,support:yt}),"function"==typeof Symbol&&(Tt.fn[Symbol.iterator]=st[Symbol.iterator]),Tt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ft["[object "+e+"]"]=e.toLowerCase()});var wt=function(t){function e(t,e,n,i){var r,o,a,s,l,u,c,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&(P(e),e=e||I,k)){if(11!==p&&(l=_t.exec(t)))if(r=l[1]){if(9===p){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&$(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!q[t+" "]&&(!D||!D.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,h=e,1===p&&(dt.test(t)||ct.test(t))){for(h=bt.test(t)&&d(e.parentNode)||e,h===e&&x.scope||((s=e.getAttribute("id"))?s=s.replace(Ct,Tt):e.setAttribute("id",s=G)),u=S(t),o=u.length;o--;)u[o]=(s?"#"+s:":scope")+" "+f(u[o]);c=u.join(",")}try{return Q.apply(n,h.querySelectorAll(c)),n}catch(m){q(t,!0)}finally{s===G&&e.removeAttribute("id")}}}return j(t.replace(lt,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[G]=!0,t}function r(t){var e=I.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&e.disabled===!1?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&St(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=H++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var u,c,d,h=[B,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(d=e[G]||(e[G]={}),c=d[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===B&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}return!1}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function y(t,e,n,r,o,a){return r&&!r[G]&&(r=y(r)),o&&!o[G]&&(o=y(o,a)),i(function(i,a,s,l){var u,c,d,h=[],f=[],p=a.length,m=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?m:v(m,h,t,s,l),_=n?o||(i?t:p||r)?[]:a:y;if(n&&n(y,_,s,l),r)for(u=v(_,f),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(_[f[c]]=!(y[f[c]]=d));if(i){if(o||t){if(o){for(u=[],c=_.length;c--;)(d=_[c])&&u.push(y[c]=d);o(null,_=[],u,l)}for(c=_.length;c--;)(d=_[c])&&(u=o?et(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else _=v(_===a?_.splice(p,_.length):_),o?o(null,a,_,l):Q.apply(a,_)})}function _(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return et(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==O)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];s<r;s++)if(n=C.relative[t[s].type])c=[p(m(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[G]){for(i=++s;i<r&&!C.relative[t[i].type];i++);return y(s>1&&m(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,s<i&&_(t.slice(s,i)),i<r&&_(t=t.slice(i)),i<r&&f(t))}c.push(n)}return m(c)}function b(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,h,f=0,p="0",m=i&&[],g=[],y=O,_=i||o&&C.find.TAG("*",u),b=B+=null==y?1:Math.random()||.1,E=_.length;for(u&&(O=a==I||a||u);p!==E&&null!=(c=_[p]);p++){if(o&&c){for(d=0,a||c.ownerDocument==I||(P(c),s=!k);h=t[d++];)if(h(c,a||I,s)){l.push(c);break}u&&(B=b)}r&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,g,a,s);if(i){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=J.call(l));g=v(g)}Q.apply(l,g),u&&!i&&g.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(B=b,O=y),m};return r?i(a):a}var E,x,C,T,w,S,M,j,O,A,R,P,I,L,k,D,N,F,$,G="sizzle"+1*new Date,U=t.document,B=0,H=0,V=n(),z=n(),W=n(),q=n(),Y=function(t,e){return t===e&&(R=!0),0},K={}.hasOwnProperty,X=[],J=X.pop,Z=X.push,Q=X.push,tt=X.slice,et=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\[\\da-fA-F]{1,6}"+it+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),lt=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),ut=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp(it+"|>"),ht=new RegExp(at),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/HTML$/i,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,_t=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,Et=new RegExp("\\\\[\\da-fA-F]{1,6}"+it+"?|\\\\([^\\r\\n\\f])","g"),xt=function(t,e){var n="0x"+t.slice(1)-65536;return e?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ct=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Tt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){P()},St=p(function(t){return t.disabled===!0&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Q.apply(X=tt.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(Mt){Q={apply:X.length?function(t,e){Z.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},w=e.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!mt.test(e||n&&n.nodeName||"HTML")},P=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:U;return i!=I&&9===i.nodeType&&i.documentElement?(I=i,L=I.documentElement,k=!w(I),U!=I&&(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",wt,!1):n.attachEvent&&n.attachEvent("onunload",wt)),x.scope=r(function(t){return L.appendChild(t).appendChild(I.createElement("div")),"undefined"!=typeof t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=yt.test(I.getElementsByClassName),x.getById=r(function(t){return L.appendChild(t).id=G,!I.getElementsByName||!I.getElementsByName(G).length}),x.getById?(C.filter.ID=function(t){var e=t.replace(Et,xt);return function(t){return t.getAttribute("id")===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&k){var n=e.getElementById(t);return n?[n]:[]}}):(C.filter.ID=function(t){var e=t.replace(Et,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&k){var n,i,r,o=e.getElementById(t);if(o){if(n=o.getAttributeNode("id"),n&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if(n=o.getAttributeNode("id"),n&&n.value===t)return[o]}return[]}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&k)return e.getElementsByClassName(t)},N=[],D=[],(x.qsa=yt.test(I.querySelectorAll))&&(r(function(t){var e;L.appendChild(t).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll("[id~="+G+"-]").length||D.push("~="),e=I.createElement("input"),e.setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||D.push("\\["+it+"*name"+it+"*="+it+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+G+"+*").length||D.push(".#.+[+~]"),t.querySelectorAll("\\\f"),D.push("[\\r\\n\\f]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&D.push(":enabled",":disabled"),L.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(x.matchesSelector=yt.test(F=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){x.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),N.push("!=",at)}),D=D.length&&new RegExp(D.join("|")),N=N.length&&new RegExp(N.join("|")),e=yt.test(L.compareDocumentPosition),$=e||yt.test(L.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return R=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t==I||t.ownerDocument==U&&$(U,t)?-1:e==I||e.ownerDocument==U&&$(U,e)?1:A?et(A,t)-et(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return R=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t==I?-1:e==I?1:r?-1:o?1:A?et(A,t)-et(A,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]==U?-1:l[i]==U?1:0},I):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if(P(t),x.matchesSelector&&k&&!q[n+" "]&&(!N||!N.test(n))&&(!D||!D.test(n)))try{var i=F.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){q(n,!0)}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!=I&&P(t),$(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!=I&&P(t);var n=C.attrHandle[e.toLowerCase()],i=n&&K.call(C.attrHandle,e.toLowerCase())?n(t,e,!k):void 0;return void 0!==i?i:x.attributes||!k?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(Ct,Tt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(R=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(Y),R){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},T=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=T(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Et,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(Et,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Et,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=g,d=h[G]||(h[G]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],f=u[0]===B&&u[1],_=f&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(_=f=0)||p.pop();)if(1===h.nodeType&&++_&&h===e){c[t]=[B,f,_];break}}else if(y&&(h=e,d=h[G]||(h[G]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],f=u[0]===B&&u[1],_=f),_===!1)for(;(h=++f&&h&&h[m]||(_=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&(d=h[G]||(h[G]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[t]=[B,_]),h!==e)););return _-=r,_===i||_%i===0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[G]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=et(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=M(t.replace(lt,"$1"));return r[G]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(Et,xt),function(e){return(e.textContent||T(e)).indexOf(t)>-1}}),lang:i(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(Et,xt).toLowerCase(),function(e){var n;do if(n=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return vt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})C.pseudos[E]=l(E);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,S=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=z[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=C.preFilter;s;){i&&!(r=ut.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),s=s.slice(i.length));for(a in C.filter)!(r=pt[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):z(t,l).slice(0)},M=e.compile=function(t,e){var n,i=[],r=[],o=W[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=_(e[n]),o[G]?i.push(o):r.push(o);o=W(t,b(r,i)),o.selector=t}return o},j=e.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&S(t=u.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&k&&C.relative[o[1].type]){if(e=(C.find.ID(a.matches[0].replace(Et,xt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(Et,xt),bt.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&f(o),!t)return Q.apply(n,i),n;break}}return(u||M(t,c))(i,e,!k,n,!e||bt.test(t)&&d(e.parentNode)||e),n},x.sortStable=G.split("").sort(Y).join("")===G,x.detectDuplicates=!!R,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(I.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(nt,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);Tt.find=wt,Tt.expr=wt.selectors,Tt.expr[":"]=Tt.expr.pseudos,Tt.uniqueSort=Tt.unique=wt.uniqueSort,Tt.text=wt.getText,Tt.isXMLDoc=wt.isXML,Tt.contains=wt.contains,Tt.escapeSelector=wt.escape;var St=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Tt(t).is(n))break;i.push(t)}return i},Mt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},jt=Tt.expr.match.needsContext,Ot=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Tt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Tt.find.matchesSelector(i,t)?[i]:[]:Tt.find.matches(t,Tt.grep(e,function(t){return 1===t.nodeType}))},Tt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(Tt(t).filter(function(){for(e=0;e<i;e++)if(Tt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)Tt.find(t,r[e],n);return i>1?Tt.uniqueSort(n):n},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&jt.test(t)?Tt(t):t||[],!1).length}});var At,Rt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Pt=Tt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||At,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Rt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Tt?e[0]:e,Tt.merge(this,Tt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Et,!0)),Ot.test(i[1])&&Tt.isPlainObject(e))for(i in e)_t(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Et.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):_t(t)?void 0!==n.ready?n.ready(t):t(Tt):Tt.makeArray(t,this)};Pt.prototype=Tt.fn,At=Tt(Et);var It=/^(?:parents|prev(?:Until|All))/,Lt={children:!0,contents:!0,next:!0,prev:!0};Tt.fn.extend({has:function(t){var e=Tt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Tt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&Tt(t);if(!jt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Tt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Tt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ht.call(Tt(t),this[0]):ht.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Tt.uniqueSort(Tt.merge(this.get(),Tt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Tt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return St(t,"parentNode")},parentsUntil:function(t,e,n){return St(t,"parentNode",n)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return St(t,"nextSibling")},prevAll:function(t){return St(t,"previousSibling")},nextUntil:function(t,e,n){return St(t,"nextSibling",n)},prevUntil:function(t,e,n){return St(t,"previousSibling",n)},siblings:function(t){return Mt((t.parentNode||{}).firstChild,t)},children:function(t){return Mt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&lt(t.contentDocument)?t.contentDocument:(o(t,"template")&&(t=t.content||t),Tt.merge([],t.childNodes))}},function(t,e){Tt.fn[t]=function(n,i){var r=Tt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Tt.filter(i,r)),this.length>1&&(Lt[t]||Tt.uniqueSort(r),It.test(t)&&r.reverse()),this.pushStack(r)}});var kt=/[^\x20\t\r\n\f]+/g;Tt.Callbacks=function(t){t="string"==typeof t?l(t):Tt.extend({},t);var e,n,r,o,a=[],s=[],u=-1,c=function(){for(o=o||t.once,r=e=!0;s.length;u=-1)for(n=s.shift();++u<a.length;)a[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},d={add:function(){return a&&(n&&!e&&(u=a.length-1,s.push(n)),function r(e){Tt.each(e,function(e,n){_t(n)?t.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==i(n)&&r(n)})}(arguments),n&&!e&&c()),this},remove:function(){return Tt.each(arguments,function(t,e){for(var n;(n=Tt.inArray(e,a,n))>-1;)a.splice(n,1),n<=u&&u--}),this},has:function(t){return t?Tt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||e||(a=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Tt.extend({Deferred:function(e){var n=[["notify","progress",Tt.Callbacks("memory"),Tt.Callbacks("memory"),2],["resolve","done",Tt.Callbacks("once memory"),Tt.Callbacks("once memory"),0,"resolved"],["reject","fail",Tt.Callbacks("once memory"),Tt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return Tt.Deferred(function(e){
Tt.each(n,function(n,i){var r=_t(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&_t(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var s=this,l=arguments,d=function(){var t,d;if(!(e<a)){if(t=i.apply(s,l),t===n.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,_t(d)?r?d.call(t,o(a,n,u,r),o(a,n,c,r)):(a++,d.call(t,o(a,n,u,r),o(a,n,c,r),o(a,n,u,n.notifyWith))):(i!==u&&(s=void 0,l=[t]),(r||n.resolveWith)(s,l))}},h=r?d:function(){try{d()}catch(t){Tt.Deferred.exceptionHook&&Tt.Deferred.exceptionHook(t,h.stackTrace),e+1>=a&&(i!==c&&(s=void 0,l=[t]),n.rejectWith(s,l))}};e?h():(Tt.Deferred.getStackHook&&(h.stackTrace=Tt.Deferred.getStackHook()),t.setTimeout(h))}}var a=0;return Tt.Deferred(function(t){n[0][3].add(o(0,t,_t(r)?r:u,t.notifyWith)),n[1][3].add(o(0,t,_t(e)?e:u)),n[2][3].add(o(0,t,_t(i)?i:c))}).promise()},promise:function(t){return null!=t?Tt.extend(t,r):r}},o={};return Tt.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=ut.call(arguments),o=Tt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?ut.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(d(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||_t(r[n]&&r[n].then)))return o.then();for(;n--;)d(r[n],a(n),o.reject);return o.promise()}});var Dt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Tt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Dt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},Tt.readyException=function(e){t.setTimeout(function(){throw e})};var Nt=Tt.Deferred();Tt.fn.ready=function(t){return Nt.then(t)["catch"](function(t){Tt.readyException(t)}),this},Tt.extend({isReady:!1,readyWait:1,ready:function(t){(t===!0?--Tt.readyWait:Tt.isReady)||(Tt.isReady=!0,t!==!0&&--Tt.readyWait>0||Nt.resolveWith(Et,[Tt]))}}),Tt.ready.then=Nt.then,"complete"===Et.readyState||"loading"!==Et.readyState&&!Et.documentElement.doScroll?t.setTimeout(Tt.ready):(Et.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Ft=function(t,e,n,r,o,a,s){var l=0,u=t.length,c=null==n;if("object"===i(n)){o=!0;for(l in n)Ft(t,e,l,n[l],!0,a,s)}else if(void 0!==r&&(o=!0,_t(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(Tt(t),n)})),e))for(;l<u;l++)e(t[l],n,s?r:r.call(t[l],l,e(t[l],n)));return o?t:c?e.call(t):u?e(t[0],n):a},$t=/^-ms-/,Gt=/-([a-z])/g,Ut=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Ut(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[p(e)]=n;else for(i in e)r[p(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){Array.isArray(e)?e=e.map(p):(e=p(e),e=e in i?[e]:e.match(kt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||Tt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!Tt.isEmptyObject(e)}};var Bt=new m,Ht=new m,Vt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,zt=/[A-Z]/g;Tt.extend({hasData:function(t){return Ht.hasData(t)||Bt.hasData(t)},data:function(t,e,n){return Ht.access(t,e,n)},removeData:function(t,e){Ht.remove(t,e)},_data:function(t,e,n){return Bt.access(t,e,n)},_removeData:function(t,e){Bt.remove(t,e)}}),Tt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Ht.get(o),1===o.nodeType&&!Bt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=p(i.slice(5)),v(o,i,r[i])));Bt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Ht.set(this,t)}):Ft(this,function(e){var n;if(o&&void 0===e){if(n=Ht.get(o,t),void 0!==n)return n;if(n=v(o,t),void 0!==n)return n}else this.each(function(){Ht.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Ht.remove(this,t)})}}),Tt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Bt.get(t,e),n&&(!i||Array.isArray(n)?i=Bt.access(t,e,Tt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Tt.queue(t,e),i=n.length,r=n.shift(),o=Tt._queueHooks(t,e),a=function(){Tt.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Bt.get(t,n)||Bt.access(t,n,{empty:Tt.Callbacks("once memory").add(function(){Bt.remove(t,[e+"queue",n])})})}}),Tt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Tt.queue(this[0],t):void 0===e?this:this.each(function(){var n=Tt.queue(this,t,e);Tt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Tt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Tt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=Tt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=Bt.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qt=new RegExp("^(?:([+-])=|)("+Wt+")([a-z%]*)$","i"),Yt=["Top","Right","Bottom","Left"],Kt=Et.documentElement,Xt=function(t){return Tt.contains(t.ownerDocument,t)},Jt={composed:!0};Kt.getRootNode&&(Xt=function(t){return Tt.contains(t.ownerDocument,t)||t.getRootNode(Jt)===t.ownerDocument});var Zt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&Xt(t)&&"none"===Tt.css(t,"display")},Qt={};Tt.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Zt(this)?Tt(this).show():Tt(this).hide()})}});var te=/^(?:checkbox|radio)$/i,ee=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ne=/^$|^module$|\/(?:java|ecma)script/i;!function(){var t=Et.createDocumentFragment(),e=t.appendChild(Et.createElement("div")),n=Et.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),yt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",yt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",yt.option=!!e.lastChild}();var ie={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ie.tbody=ie.tfoot=ie.colgroup=ie.caption=ie.thead,ie.th=ie.td,yt.option||(ie.optgroup=ie.option=[1,"<select multiple='multiple'>","</select>"]);var re=/<|&#?\w+;/,oe=/^key/,ae=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,se=/^([^.]*)(?:\.(.+)|)/;Tt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p,m,g=Bt.get(t);if(Ut(t))for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&Tt.find.matchesSelector(Kt,r),n.guid||(n.guid=Tt.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return"undefined"!=typeof Tt&&Tt.event.triggered!==e.type?Tt.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(kt)||[""],u=e.length;u--;)s=se.exec(e[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f&&(d=Tt.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=Tt.event.special[f]||{},c=Tt.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Tt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||(h=l[f]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,p,a)!==!1||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),Tt.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p,m,g=Bt.hasData(t)&&Bt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(kt)||[""],u=e.length;u--;)if(s=se.exec(e[u])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(d=Tt.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));a&&!h.length&&(d.teardown&&d.teardown.call(t,p,g.handle)!==!1||Tt.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)Tt.event.remove(t,f+e[u],n,i,!0);Tt.isEmptyObject(l)&&Bt.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=new Array(arguments.length),l=Tt.event.fix(t),u=(Bt.get(this,"events")||Object.create(null))[l.type]||[],c=Tt.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,l)!==!1){for(a=Tt.event.handlers.call(this,l,u),e=0;(r=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&o.namespace!==!1&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,i=((Tt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(l.result=i)===!1&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||u.disabled!==!0)){for(o=[],a={},n=0;n<l;n++)i=e[n],r=i.selector+" ",void 0===a[r]&&(a[r]=i.needsContext?Tt(r,this).index(u)>-1:Tt.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(Tt.Event.prototype,t,{enumerable:!0,configurable:!0,get:_t(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[Tt.expando]?t:new Tt.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return te.test(e.type)&&e.click&&o(e,"input")&&O(e,"click",T),!1},trigger:function(t){var e=this||t;return te.test(e.type)&&e.click&&o(e,"input")&&O(e,"click"),!0},_default:function(t){var e=t.target;return te.test(e.type)&&e.click&&o(e,"input")&&Bt.get(e,"click")||o(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Tt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Tt.Event=function(t,e){return this instanceof Tt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?T:w,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Tt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),void(this[Tt.expando]=!0)):new Tt.Event(t,e)},Tt.Event.prototype={constructor:Tt.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=T,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=T,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=T,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Tt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&oe.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ae.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Tt.event.addProp),Tt.each({focus:"focusin",blur:"focusout"},function(t,e){Tt.event.special[t]={setup:function(){return O(this,t,S),!1},trigger:function(){return O(this,t),!0},delegateType:e}}),Tt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Tt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||Tt.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Tt.fn.extend({on:function(t,e,n,i){return j(this,t,e,n,i)},one:function(t,e,n,i){return j(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Tt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=w),this.each(function(){Tt.event.remove(this,t,n,e)})}});var le=/<script|<style|<link/i,ue=/checked\s*(?:[^=]|=\s*.checked.)/i,ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Tt.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=Xt(t);if(!(yt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Tt.isXMLDoc(t)))for(a=E(s),o=E(t),i=0,r=o.length;i<r;i++)L(o[i],a[i]);if(e)if(n)for(o=o||E(t),a=a||E(s),i=0,r=o.length;i<r;i++)I(o[i],a[i]);else I(t,s);return a=E(s,"script"),a.length>0&&x(a,!l&&E(t,"script")),s},cleanData:function(t){for(var e,n,i,r=Tt.event.special,o=0;void 0!==(n=t[o]);o++)if(Ut(n)){if(e=n[Bt.expando]){if(e.events)for(i in e.events)r[i]?Tt.event.remove(n,i):Tt.removeEvent(n,i,e.handle);n[Bt.expando]=void 0}n[Ht.expando]&&(n[Ht.expando]=void 0)}}}),Tt.fn.extend({detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Ft(this,function(t){return void 0===t?Tt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=A(this,t);e.appendChild(t)}})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=A(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Tt.cleanData(E(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Tt.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!le.test(t)&&!ie[(ee.exec(t)||["",""])[1].toLowerCase()]){t=Tt.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(Tt.cleanData(E(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var n=this.parentNode;Tt.inArray(this,t)<0&&(Tt.cleanData(E(this)),n&&n.replaceChild(e,this))},t)}}),Tt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Tt.fn[t]=function(t){for(var n,i=[],r=Tt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Tt(r[a])[e](n),dt.apply(i,n.get());return this.pushStack(i)}});var de=new RegExp("^("+Wt+")(?!px)[a-z%]+$","i"),he=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},fe=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];i=n.call(t);for(r in e)t.style[r]=o[r];return i},pe=new RegExp(Yt.join("|"),"i");!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Kt.appendChild(u).appendChild(c);var e=t.getComputedStyle(c);i="1%"!==e.top,l=12===n(e.marginLeft),c.style.right="60%",a=36===n(e.right),r=36===n(e.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),Kt.removeChild(u),c=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,a,s,l,u=Et.createElement("div"),c=Et.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",yt.clearCloneStyle="content-box"===c.style.backgroundClip,Tt.extend(yt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,i,r;return null==s&&(e=Et.createElement("table"),n=Et.createElement("tr"),i=Et.createElement("div"),e.style.cssText="position:absolute;left:-11111px",n.style.height="1px",i.style.height="9px",Kt.appendChild(e).appendChild(n).appendChild(i),r=t.getComputedStyle(n),s=parseInt(r.height)>3,Kt.removeChild(e)),s}}))}();var me=["Webkit","Moz","ms"],ge=Et.createElement("div").style,ve={},ye=/^(none|table(?!-c[ea]).+)/,_e=/^--/,be={position:"absolute",visibility:"hidden",display:"block"},Ee={letterSpacing:"0",fontWeight:"400"};Tt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=N(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=p(e),l=_e.test(e),u=t.style;return l||(e=G(s)),a=Tt.cssHooks[e]||Tt.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e]:(o=typeof n,"string"===o&&(r=qt.exec(n))&&r[1]&&(n=y(t,e,r),o="number"),null!=n&&n===n&&("number"!==o||l||(n+=r&&r[3]||(Tt.cssNumber[s]?"":"px")),yt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,a,s=p(e),l=_e.test(e);return l||(e=G(s)),a=Tt.cssHooks[e]||Tt.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=N(t,e,i)),"normal"===r&&e in Ee&&(r=Ee[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),Tt.each(["height","width"],function(t,e){Tt.cssHooks[e]={get:function(t,n,i){if(n)return!ye.test(Tt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?H(t,e,i):fe(t,be,function(){return H(t,e,i)})},set:function(t,n,i){var r,o=he(t),a=!yt.scrollboxSize()&&"absolute"===o.position,s=a||i,l=s&&"border-box"===Tt.css(t,"boxSizing",!1,o),u=i?B(t,e,i,l,o):0;return l&&a&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-B(t,e,"border",!1,o)-.5)),u&&(r=qt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=Tt.css(t,e)),U(t,n,u)}}}),Tt.cssHooks.marginLeft=F(yt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(N(t,"marginLeft"))||t.getBoundingClientRect().left-fe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Tt.each({margin:"",padding:"",border:"Width"},function(t,e){Tt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Yt[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(Tt.cssHooks[t+e].set=U)}),Tt.fn.extend({css:function(t,e){return Ft(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=he(t),r=e.length;a<r;a++)o[e[a]]=Tt.css(t,e[a],!1,i);return o}return void 0!==n?Tt.style(t,e,n):Tt.css(t,e)},t,e,arguments.length>1)}}),Tt.Tween=V,V.prototype={constructor:V,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||Tt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Tt.cssNumber[n]?"":"px")},cur:function(){var t=V.propHooks[this.prop];return t&&t.get?t.get(this):V.propHooks._default.get(this)},run:function(t){var e,n=V.propHooks[this.prop];return this.options.duration?this.pos=e=Tt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):V.propHooks._default.set(this),this}},V.prototype.init.prototype=V.prototype,V.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Tt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){Tt.fx.step[t.prop]?Tt.fx.step[t.prop](t):1!==t.elem.nodeType||!Tt.cssHooks[t.prop]&&null==t.elem.style[G(t.prop)]?t.elem[t.prop]=t.now:Tt.style(t.elem,t.prop,t.now+t.unit)}}},V.propHooks.scrollTop=V.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Tt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Tt.fx=V.prototype.init,Tt.fx.step={};var xe,Ce,Te=/^(?:toggle|show|hide)$/,we=/queueHooks$/;Tt.Animation=Tt.extend(J,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return y(n.elem,t,qt.exec(e),n),n}]},tweener:function(t,e){_t(t)?(e=t,t=["*"]):t=t.match(kt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(e)},prefilters:[K],prefilter:function(t,e){e?J.prefilters.unshift(t):J.prefilters.push(t)}}),Tt.speed=function(t,e,n){var i=t&&"object"==typeof t?Tt.extend({},t):{complete:n||!n&&e||_t(t)&&t,duration:t,easing:n&&e||e&&!_t(e)&&e};return Tt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Tt.fx.speeds?i.duration=Tt.fx.speeds[i.duration]:i.duration=Tt.fx.speeds._default),null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){_t(i.old)&&i.old.call(this),i.queue&&Tt.dequeue(this,i.queue)},i},Tt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Zt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=Tt.isEmptyObject(t),o=Tt.speed(e,n,i),a=function(){var e=J(this,Tt.extend({},t),o);(r||Bt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Tt.timers,a=Bt.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&we.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||Tt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=Bt.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=Tt.timers,a=i?i.length:0;for(n.finish=!0,Tt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),Tt.each(["toggle","show","hide"],function(t,e){var n=Tt.fn[e];Tt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(q(e,!0),t,i,r)}}),Tt.each({slideDown:q("show"),slideUp:q("hide"),slideToggle:q("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Tt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),Tt.timers=[],Tt.fx.tick=function(){var t,e=0,n=Tt.timers;for(xe=Date.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Tt.fx.stop(),xe=void 0},Tt.fx.timer=function(t){Tt.timers.push(t),Tt.fx.start()},Tt.fx.interval=13,Tt.fx.start=function(){Ce||(Ce=!0,z())},Tt.fx.stop=function(){Ce=null},Tt.fx.speeds={slow:600,fast:200,_default:400},Tt.fn.delay=function(e,n){return e=Tt.fx?Tt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=Et.createElement("input"),e=Et.createElement("select"),n=e.appendChild(Et.createElement("option"));t.type="checkbox",yt.checkOn=""!==t.value,yt.optSelected=n.selected,t=Et.createElement("input"),t.value="t",t.type="radio",yt.radioValue="t"===t.value}();var Se,Me=Tt.expr.attrHandle;Tt.fn.extend({attr:function(t,e){return Ft(this,Tt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Tt.removeAttr(this,t)})}}),Tt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?Tt.prop(t,e,n):(1===o&&Tt.isXMLDoc(t)||(r=Tt.attrHooks[e.toLowerCase()]||(Tt.expr.match.bool.test(e)?Se:void 0)),void 0!==n?null===n?void Tt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Tt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!yt.radioValue&&"radio"===e&&o(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(kt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Se={set:function(t,e,n){return e===!1?Tt.removeAttr(t,n):t.setAttribute(n,n),n}},Tt.each(Tt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Me[e]||Tt.find.attr;Me[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=Me[a],Me[a]=r,r=null!=n(t,e,i)?a:null,Me[a]=o),r}});var je=/^(?:input|select|textarea|button)$/i,Oe=/^(?:a|area)$/i;Tt.fn.extend({prop:function(t,e){return Ft(this,Tt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Tt.propFix[t]||t]})}}),Tt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Tt.isXMLDoc(t)||(e=Tt.propFix[e]||e,r=Tt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Tt.find.attr(t,"tabindex");return e?parseInt(e,10):je.test(t.nodeName)||Oe.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),yt.optSelected||(Tt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Tt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Tt.propFix[this.toLowerCase()]=this}),Tt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(_t(t))return this.each(function(e){Tt(this).addClass(t.call(this,e,Q(this)))});if(e=tt(t),e.length)for(;n=this[l++];)if(r=Q(n),i=1===n.nodeType&&" "+Z(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=Z(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(_t(t))return this.each(function(e){Tt(this).removeClass(t.call(this,e,Q(this)))});if(!arguments.length)return this.attr("class","");if(e=tt(t),e.length)for(;n=this[l++];)if(r=Q(n),i=1===n.nodeType&&" "+Z(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=Z(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):_t(t)?this.each(function(n){Tt(this).toggleClass(t.call(this,n,Q(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=Tt(this),a=tt(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=Q(this),e&&Bt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Bt.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Z(Q(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ae=/\r/g;Tt.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=_t(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,Tt(this).val()):t,null==r?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=Tt.map(r,function(t){return null==t?"":t+""})),e=Tt.valHooks[this.type]||Tt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Tt.valHooks[r.type]||Tt.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Ae,""):null==n?"":n)}}}),Tt.extend({valHooks:{option:{get:function(t){var e=Tt.find.attr(t,"value");return null!=e?e:Z(Tt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,s="select-one"===t.type,l=s?null:[],u=s?a+1:r.length;for(i=a<0?u:s?a:0;i<u;i++)if(n=r[i],(n.selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(e=Tt(n).val(),s)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=Tt.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=Tt.inArray(Tt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Tt.each(["radio","checkbox"],function(){Tt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=Tt.inArray(Tt(t).val(),e)>-1}},yt.checkOn||(Tt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),yt.focusin="onfocusin"in t;var Re=/^(?:focusinfocus|focusoutblur)$/,Pe=function(t){t.stopPropagation()};Tt.extend(Tt.event,{trigger:function(e,n,i,r){var o,a,s,l,u,c,d,h,f=[i||Et],p=mt.call(e,"type")?e.type:e,m=mt.call(e,"namespace")?e.namespace.split("."):[];if(a=h=s=i=i||Et,3!==i.nodeType&&8!==i.nodeType&&!Re.test(p+Tt.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Tt.expando]?e:new Tt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:Tt.makeArray(n,[e]),d=Tt.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!bt(i)){for(l=d.delegateType||p,Re.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||Et)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)h=a,e.type=o>1?l:d.bindType||p,c=(Bt.get(a,"events")||Object.create(null))[e.type]&&Bt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Ut(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!Ut(i)||u&&_t(i[p])&&!bt(i)&&(s=i[u],
s&&(i[u]=null),Tt.event.triggered=p,e.isPropagationStopped()&&h.addEventListener(p,Pe),i[p](),e.isPropagationStopped()&&h.removeEventListener(p,Pe),Tt.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(t,e,n){var i=Tt.extend(new Tt.Event,n,{type:t,isSimulated:!0});Tt.event.trigger(i,null,e)}}),Tt.fn.extend({trigger:function(t,e){return this.each(function(){Tt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Tt.event.trigger(t,e,n,!0)}}),yt.focusin||Tt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Tt.event.simulate(e,t.target,Tt.event.fix(t))};Tt.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=Bt.access(i,e);r||i.addEventListener(t,n,!0),Bt.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=Bt.access(i,e)-1;r?Bt.access(i,e,r):(i.removeEventListener(t,n,!0),Bt.remove(i,e))}}});var Ie=t.location,Le={guid:Date.now()},ke=/\?/;Tt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Tt.error("Invalid XML: "+e),n};var De=/\[\]$/,Ne=/\r?\n/g,Fe=/^(?:submit|button|image|reset|file)$/i,$e=/^(?:input|select|textarea|keygen)/i;Tt.param=function(t,e){var n,i=[],r=function(t,e){var n=_t(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!Tt.isPlainObject(t))Tt.each(t,function(){r(this.name,this.value)});else for(n in t)et(n,t[n],e,r);return i.join("&")},Tt.fn.extend({serialize:function(){return Tt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Tt.prop(this,"elements");return t?Tt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Tt(this).is(":disabled")&&$e.test(this.nodeName)&&!Fe.test(t)&&(this.checked||!te.test(t))}).map(function(t,e){var n=Tt(this).val();return null==n?null:Array.isArray(n)?Tt.map(n,function(t){return{name:e.name,value:t.replace(Ne,"\r\n")}}):{name:e.name,value:n.replace(Ne,"\r\n")}}).get()}});var Ge=/%20/g,Ue=/#.*$/,Be=/([?&])_=[^&]*/,He=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^(?:GET|HEAD)$/,We=/^\/\//,qe={},Ye={},Ke="*/".concat("*"),Xe=Et.createElement("a");Xe.href=Ie.href,Tt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:Ve.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ke,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Tt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?rt(rt(t,Tt.ajaxSettings),e):rt(Tt.ajaxSettings,t)},ajaxPrefilter:nt(qe),ajaxTransport:nt(Ye),ajax:function(e,n){function i(e,n,i,s){var u,h,f,b,E,x=n;c||(c=!0,l&&t.clearTimeout(l),r=void 0,a=s||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(b=ot(p,C,i)),!u&&Tt.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),b=at(p,b,C,u),u?(p.ifModified&&(E=C.getResponseHeader("Last-Modified"),E&&(Tt.lastModified[o]=E),E=C.getResponseHeader("etag"),E&&(Tt.etag[o]=E)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=b.state,h=b.data,f=b.error,u=!f)):(f=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(n||x)+"",u?v.resolveWith(m,[h,x,C]):v.rejectWith(m,[C,x,f]),C.statusCode(_),_=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?h:f]),y.fireWith(m,[C,x]),d&&(g.trigger("ajaxComplete",[C,p]),--Tt.active||Tt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,l,u,c,d,h,f,p=Tt.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?Tt(m):Tt.event,v=Tt.Deferred(),y=Tt.Callbacks("once memory"),_=p.statusCode||{},b={},E={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=He.exec(a);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(v.promise(C),p.url=((e||p.url||Ie.href)+"").replace(We,Ie.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(kt)||[""],null==p.crossDomain){u=Et.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Xe.protocol+"//"+Xe.host!=u.protocol+"//"+u.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Tt.param(p.data,p.traditional)),it(qe,p,n,C),c)return C;d=Tt.event&&p.global,d&&0===Tt.active++&&Tt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!ze.test(p.type),o=p.url.replace(Ue,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ge,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(ke.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(Be,"$1"),f=(ke.test(o)?"&":"?")+"_="+Le.guid++ +f),p.url=o+f),p.ifModified&&(Tt.lastModified[o]&&C.setRequestHeader("If-Modified-Since",Tt.lastModified[o]),Tt.etag[o]&&C.setRequestHeader("If-None-Match",Tt.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ke+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(p.beforeSend.call(m,C,p)===!1||c))return C.abort();if(x="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=it(Ye,p,n,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,r.send(b,i)}catch(T){if(c)throw T;i(-1,T)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return Tt.get(t,e,n,"json")},getScript:function(t,e){return Tt.get(t,void 0,e,"script")}}),Tt.each(["get","post"],function(t,e){Tt[e]=function(t,n,i,r){return _t(n)&&(r=r||i,i=n,n=void 0),Tt.ajax(Tt.extend({url:t,type:e,dataType:r,data:n,success:i},Tt.isPlainObject(t)&&t))}}),Tt.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),Tt._evalUrl=function(t,e,n){return Tt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){Tt.globalEval(t,e,n)}})},Tt.fn.extend({wrapAll:function(t){var e;return this[0]&&(_t(t)&&(t=t.call(this[0])),e=Tt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return _t(t)?this.each(function(e){Tt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Tt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=_t(t);return this.each(function(n){Tt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Tt(this).replaceWith(this.childNodes)}),this}}),Tt.expr.pseudos.hidden=function(t){return!Tt.expr.pseudos.visible(t)},Tt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Tt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Je={0:200,1223:204},Ze=Tt.ajaxSettings.xhr();yt.cors=!!Ze&&"withCredentials"in Ze,yt.ajax=Ze=!!Ze,Tt.ajaxTransport(function(e){var n,i;if(yt.cors||Ze&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Je[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),Tt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Tt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Tt.globalEval(t),t}}}),Tt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Tt.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,n;return{send:function(i,r){e=Tt("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Et.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Qe=[],tn=/(=)\?(?=&|$)|\?\?/;Tt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Qe.pop()||Tt.expando+"_"+Le.guid++;return this[t]=!0,t}}),Tt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(tn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=_t(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(tn,"$1"+r):e.jsonp!==!1&&(e.url+=(ke.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||Tt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?Tt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Qe.push(r)),a&&_t(o)&&o(a[0]),a=o=void 0}),"script"}),yt.createHTMLDocument=function(){var t=Et.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),Tt.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(yt.createHTMLDocument?(e=Et.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=Et.location.href,e.head.appendChild(i)):e=Et),r=Ot.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=C([t],e,o),o&&o.length&&Tt(o).remove(),Tt.merge([],r.childNodes))},Tt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=Z(t.slice(s)),t=t.slice(0,s)),_t(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&Tt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?Tt("<div>").append(Tt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},Tt.expr.pseudos.animated=function(t){return Tt.grep(Tt.timers,function(e){return t===e.elem}).length},Tt.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u,c=Tt.css(t,"position"),d=Tt(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=Tt.css(t,"top"),l=Tt.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),_t(e)&&(e=e.call(t,n,Tt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),d.css(h))}},Tt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Tt.offset.setOffset(this,t,e)});var e,n,i=this[0];if(i)return i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===Tt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===Tt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&(r=Tt(t).offset(),r.top+=Tt.css(t,"borderTopWidth",!0),r.left+=Tt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-Tt.css(i,"marginTop",!0),left:e.left-r.left-Tt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Tt.css(t,"position");)t=t.offsetParent;return t||Kt})}}),Tt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;Tt.fn[t]=function(i){return Ft(this,function(t,i,r){var o;return bt(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),Tt.each(["top","left"],function(t,e){Tt.cssHooks[e]=F(yt.pixelPosition,function(t,n){if(n)return n=N(t,e),de.test(n)?Tt(t).position()[e]+"px":n})}),Tt.each({Height:"height",Width:"width"},function(t,e){Tt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){Tt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Ft(this,function(e,n,r){var o;return bt(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?Tt.css(e,n,s):Tt.style(e,n,r,s)},e,a?r:void 0,a)}})}),Tt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Tt.fn[e]=function(t){return this.on(e,t)}}),Tt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Tt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){Tt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var en=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Tt.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),_t(t))return i=ut.call(arguments,2),r=function(){return t.apply(e||this,i.concat(ut.call(arguments)))},r.guid=t.guid=t.guid||Tt.guid++,r},Tt.holdReady=function(t){t?Tt.readyWait++:Tt.ready(!0)},Tt.isArray=Array.isArray,Tt.parseJSON=JSON.parse,Tt.nodeName=o,Tt.isFunction=_t,Tt.isWindow=bt,Tt.camelCase=p,Tt.type=i,Tt.now=Date.now,Tt.isNumeric=function(t){var e=Tt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},Tt.trim=function(t){return null==t?"":(t+"").replace(en,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Tt});var nn=t.jQuery,rn=t.$;return Tt.noConflict=function(e){return t.$===Tt&&(t.$=rn),e&&t.jQuery===Tt&&(t.jQuery=nn),Tt},"undefined"==typeof e&&(t.jQuery=t.$=Tt),Tt}),function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,i,r=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+r;return n<o.length?_t(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.5.11/"+(t?t+"/":"")+a,i=r,n="?";i<o.length;i++,n="&")s+=n+"p"+(i-r)+"="+encodeURIComponent(_t(o[i]));return new e(s)}}function n(t){if(null==t||S(t))return!1;if(ir(t)||E(t)||zi&&t instanceof zi)return!0;var e="length"in Object(t)&&t.length;return x(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function i(t,e,r){var o,a;if(t)if(T(t))for(o in t)"prototype"===o||"length"===o||"name"===o||t.hasOwnProperty&&!t.hasOwnProperty(o)||e.call(r,t[o],o,t);else if(ir(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;o<a;o++)(s||o in t)&&e.call(r,t[o],o,t)}else if(t.forEach&&t.forEach!==i)t.forEach(e,r,t);else if(b(t))for(o in t)e.call(r,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(r,t[o],o,t);else for(o in t)$i.call(t,o)&&e.call(r,t[o],o,t);return t}function r(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function o(t){return function(e,n){t(n,e)}}function a(){return++er}function s(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var a=e[r];if(_(a)||T(a))for(var u=Object.keys(a),c=0,d=u.length;c<d;c++){var h=u[c],f=a[h];n&&_(f)?C(f)?t[h]=new Date(f.valueOf()):w(f)?t[h]=new RegExp(f):f.nodeName?t[h]=f.cloneNode(!0):k(f)?t[h]=f.clone():(_(t[h])||(t[h]=ir(f)?[]:{}),l(t[h],[f],!0)):t[h]=f}}return s(t,i),t}function u(t){return l(t,Yi.call(arguments,1),!1)}function c(t){return l(t,Yi.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function h(t,e){return u(Object.create(t),e)}function f(){}function p(t){return t}function m(t){return function(){return t}}function g(t){return T(t.toString)&&t.toString!==Ji}function v(t){return"undefined"==typeof t}function y(t){return"undefined"!=typeof t}function _(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!Zi(t)}function E(t){return"string"==typeof t}function x(t){return"number"==typeof t}function C(t){return"[object Date]"===Ji.call(t)}function T(t){return"function"==typeof t}function w(t){return"[object RegExp]"===Ji.call(t)}function S(t){return t&&t.window===t}function M(t){return t&&t.$evalAsync&&t.$watch}function j(t){return"[object File]"===Ji.call(t)}function O(t){return"[object FormData]"===Ji.call(t)}function A(t){return"[object Blob]"===Ji.call(t)}function R(t){return"boolean"==typeof t}function P(t){return t&&T(t.then)}function I(t){return t&&x(t.length)&&rr.test(Ji.call(t))}function L(t){return"[object ArrayBuffer]"===Ji.call(t)}function k(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function D(t){var e,n={},i=t.split(",");for(e=0;e<i.length;e++)n[i[e]]=!0;return n}function N(t){return Gi(t.nodeName||t[0]&&t[0].nodeName)}function F(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function $(t,e){function n(t,e){var n,i=e.$$hashKey;if(ir(t))for(var o=0,a=t.length;o<a;o++)e.push(r(t[o]));else if(b(t))for(n in t)e[n]=r(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=r(t[n]));else for(n in t)$i.call(t,n)&&(e[n]=r(t[n]));return s(e,i),e}function r(t){if(!_(t))return t;var e=a.indexOf(t);if(e!==-1)return l[e];if(S(t)||M(t))throw Qi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,r=o(t);return void 0===r&&(r=ir(t)?[]:Object.create(Zi(t)),i=!0),a.push(t),l.push(r),i?n(t,r):r}function o(t){switch(Ji.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(r(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(T(t.cloneNode))return t.cloneNode(!0)}var a=[],l=[];if(e){if(I(e)||L(e))throw Qi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw Qi("cpi","Can't copy! Source and destination are identical.");return ir(e)?e.length=0:i(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),l.push(e),n(t,e)}return r(t)}function G(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,i,r,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!ir(t)){if(C(t))return!!C(e)&&G(t.getTime(),e.getTime());if(w(t))return!!w(e)&&t.toString()===e.toString();if(M(t)||M(e)||S(t)||S(e)||ir(e)||C(e)||w(e))return!1;r=mt();for(i in t)if("$"!==i.charAt(0)&&!T(t[i])){if(!G(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&"$"!==i.charAt(0)&&y(e[i])&&!T(e[i]))return!1;return!0}if(!ir(e))return!1;if((n=t.length)===e.length){for(i=0;i<n;i++)if(!G(t[i],e[i]))return!1;return!0}}return!1}function U(t,e,n){return t.concat(Yi.call(e,n))}function B(t,e){return Yi.call(t,e||0)}function H(t,e){var n=arguments.length>2?B(arguments,2):[];return!T(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,U(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function V(e,n){var i=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=void 0:S(n)?i="$WINDOW":n&&t.document===n?i="$DOCUMENT":M(n)&&(i="$SCOPE"),i}function z(t,e){if(!v(t))return x(e)||(e=e?2:null),JSON.stringify(t,V,e)}function W(t){return E(t)?JSON.parse(t):t}function q(t,e){t=t.replace(ur,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return nr(n)?e:n}function Y(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){n=n?-1:1;var i=t.getTimezoneOffset(),r=q(e,i);return Y(t,n*(r-i))}function X(t){t=zi(t).clone();try{t.empty()}catch(e){}var n=zi("<div>").append(t).html();try{return t[0].nodeType===gr?Gi(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Gi(e)})}catch(e){return Gi(n)}}function J(t){try{return decodeURIComponent(t)}catch(e){}}function Z(t){var e={};return i((t||"").split("&"),function(t){var n,i,r;t&&(i=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(i=t.substring(0,n),r=t.substring(n+1)),i=J(i),y(i)&&(r=!y(r)||J(r),$i.call(e,i)?ir(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r))}),e}function Q(t){var e=[];return i(t,function(t,n){ir(t)?i(t,function(t){e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}):e.push(et(n,!0)+(t===!0?"":"="+et(t,!0)))}),e.length?e.join("&"):""}function tt(t){return et(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function et(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function nt(t,e){var n,i,r=cr.length;for(i=0;i<r;++i)if(n=cr[i]+e,E(n=t.getAttribute(n)))return n;return null}function it(t){var e=t.currentScript,n=e&&e.getAttribute("src");if(!n)return!0;var i=t.createElement("a");if(i.href=n,t.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function rt(e,n){var r,o,a={};if(i(cr,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,o=e.getAttribute(n))}),i(cr,function(t){var n,i=t+"app";!r&&(n=e.querySelector("["+i.replace(":","\\:")+"]"))&&(r=n,o=n.getAttribute(i))}),r){if(!dr)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==nt(r,"strict-di"),n(r,o?[o]:[],a)}}function ot(e,n,r){_(r)||(r={});var o={strictDi:!1};r=u(o,r);var a=function(){if(e=zi(e),e.injector()){var i=e[0]===t.document?"document":X(e);throw Qi("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=re(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!l.test(t.name)?a():(t.name=t.name.replace(l,""),tr.resumeBootstrap=function(t){return i(t,function(t){n.push(t)}),a()},void(T(tr.resumeDeferredBootstrap)&&tr.resumeDeferredBootstrap()))}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function st(t){var e=tr.element(t).injector();if(!e)throw Qi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function lt(t,e){return e=e||"_",t.replace(hr,function(t,n){return(n?e:"")+t.toLowerCase()})}function ut(){var e;if(!fr){var n=lr();Wi=v(n)?t.jQuery:n?t[n]:void 0,Wi&&Wi.fn.on?(zi=Wi,u(Wi.fn,{scope:kr.scope,isolateScope:kr.isolateScope,controller:kr.controller,injector:kr.injector,inheritedData:kr.inheritedData}),e=Wi.cleanData,Wi.cleanData=function(t){for(var n,i,r=0;null!=(i=t[r]);r++)n=Wi._data(i,"events"),n&&n.$destroy&&Wi(i).triggerHandler("$destroy");e(t)}):zi=At,tr.element=zi,fr=!0}}function ct(t,e,n){if(!t)throw Qi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function dt(t,e,n){return n&&ir(t)&&(t=t[t.length-1]),ct(T(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ht(t,e){if("hasOwnProperty"===t)throw Qi("badname","hasOwnProperty is not a valid {0} name",e)}function ft(t,e,n){if(!e)return t;for(var i,r=e.split("."),o=t,a=r.length,s=0;s<a;s++)i=r[s],t&&(t=(o=t)[i]);return!n&&T(t)?H(o,t):t}function pt(t){for(var e,n=t[0],i=t[t.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(e||t[r]!==n)&&(e||(e=zi(Yi.call(t,0,r))),e.push(n));return e||t}function mt(){return Object.create(null)}function gt(t){function n(t,e,n){return t[e]||(t[e]=n())}var i=e("$injector"),r=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw r("badname","hasOwnProperty is not a valid {0} name",e)};return s(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function n(t,n){return function(i,o){return o&&T(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),c}}if(!o)throw i("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var r=[],s=[],l=[],u=t("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(t){return l.push(t),this}};return a&&u(a),c})}})}function vt(t,e){if(ir(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(_(t)){e=e||{};for(var r in t)"$"===r.charAt(0)&&"$"===r.charAt(1)||(e[r]=t[r])}return e||t}function yt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=V(t,n),_(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function _t(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):v(t)?"undefined":"string"!=typeof t?yt(t):t}function bt(n){u(n,{bootstrap:ot,copy:$,extend:u,merge:c,equals:G,element:zi,forEach:i,injector:re,noop:f,bind:H,toJson:z,fromJson:W,identity:p,isUndefined:v,isDefined:y,isString:E,isFunction:T,isObject:_,isNumber:x,isElement:k,isArray:ir,version:br,isDate:C,lowercase:Gi,uppercase:Ui,callbacks:{$$counter:0},getTestability:st,$$minErr:e,$$csp:sr,reloadWithDebugInfo:at}),(qi=gt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Sn}),t.provider("$compile",me).directive({a:ia,input:xa,textarea:xa,form:la,script:vs,select:bs,option:Es,ngBind:wa,ngBindHtml:Ma,ngBindTemplate:Sa,ngClass:Oa,ngClassEven:Ra,ngClassOdd:Aa,ngCloak:Pa,ngController:Ia,ngForm:ua,ngHide:cs,ngIf:Da,ngInclude:Na,ngInit:$a,ngNonBindable:es,ngPluralize:os,ngRepeat:as,ngShow:us,ngStyle:ds,ngSwitch:hs,ngSwitchWhen:fs,ngSwitchDefault:ps,ngOptions:rs,ngTransclude:gs,ngModel:Za,ngList:Ga,ngChange:ja,pattern:Cs,ngPattern:Cs,required:xs,ngRequired:xs,minlength:ws,ngMinlength:ws,maxlength:Ts,ngMaxlength:Ts,ngValue:Ta,ngModelOptions:ts}).directive({ngInclude:Fa}).directive(ra).directive(La),t.provider({$anchorScroll:oe,$animate:Jr,$animateCss:to,$$animateJs:Kr,$$animateQueue:Xr,$$AnimateRunner:Qr,$$animateAsyncRun:Zr,$browser:de,$cacheFactory:he,$controller:Ee,$document:xe,$exceptionHandler:Ce,$filter:Gn,$$forceReflow:ao,$interpolate:Ne,$interval:Fe,$http:Ie,$httpParamSerializer:we,$httpParamSerializerJQLike:Se,$httpBackend:ke,$xhrFactory:Le,$jsonpCallbacks:go,$location:Qe,$log:tn,$parse:bn,$rootScope:wn,$q:En,$$q:xn,$sce:An,$sceDelegate:On,$sniffer:Rn,$templateCache:fe,$templateRequest:Pn,$$testability:In,$timeout:Ln,$window:Nn,$$rAF:Tn,$$jqLite:Jt,$$HashMap:$r,$$cookieReader:$n})}])}function Et(){return++xr}function xt(t){return t.replace(wr,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Sr,"Moz$1")}function Ct(t){return!Ar.test(t)}function Tt(t){var e=t.nodeType;return e===pr||!e||e===yr}function wt(t){for(var e in Er[t.ng339])return!0;return!1}function St(t){for(var e=0,n=t.length;e<n;e++)Lt(t[e])}function Mt(t,e){var n,r,o,a,s=e.createDocumentFragment(),l=[];if(Ct(t))l.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(Rr.exec(t)||["",""])[1].toLowerCase(),o=Ir[r]||Ir._default,n.innerHTML=o[1]+t.replace(Pr,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=U(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",i(l,function(t){s.appendChild(t)}),s}function jt(e,n){n=n||t.document;var i;return(i=Or.exec(e))?[n.createElement(i[1])]:(i=Mt(e,n))?i.childNodes:[]}function Ot(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function At(t){if(t instanceof At)return t;var e;if(E(t)&&(t=or(t),e=!0),!(this instanceof At)){if(e&&"<"!==t.charAt(0))throw jr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new At(t)}e?Gt(this,jt(t)):Gt(this,t)}function Rt(t){return t.cloneNode(!0)}function Pt(t,e){if(e||Lt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)Lt(n[i])}function It(t,e,n,r){if(y(r))throw jr("offargs","jqLite#off() does not support the `selector` argument");var o=kt(t),a=o&&o.events,s=o&&o.handle;if(s)if(e){var l=function(e){var i=a[e];y(n)&&F(i||[],n),y(n)&&i&&i.length>0||(Tr(t,e,s),delete a[e])};i(e.split(" "),function(t){l(t),Mr[t]&&l(Mr[t])})}else for(e in a)"$destroy"!==e&&Tr(t,e,s),delete a[e]}function Lt(t,e){var n=t.ng339,i=n&&Er[n];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),It(t)),delete Er[n],t.ng339=void 0}}function kt(t,e){var n=t.ng339,i=n&&Er[n];return e&&!i&&(t.ng339=n=Et(),i=Er[n]={events:{},data:{},handle:void 0}),
i}function Dt(t,e,n){if(Tt(t)){var i=y(n),r=!i&&e&&!_(e),o=!e,a=kt(t,!r),s=a&&a.data;if(i)s[e]=n;else{if(o)return s;if(r)return s&&s[e];u(s,e)}}}function Nt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ft(t,e){e&&t.setAttribute&&i(e.split(" "),function(e){t.setAttribute("class",or((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+or(e)+" "," ")))})}function $t(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");i(e.split(" "),function(t){t=or(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",or(n))}}function Gt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function Ut(t,e){return Bt(t,"$"+(e||"ngController")+"Controller")}function Bt(t,e,n){t.nodeType===yr&&(t=t.documentElement);for(var i=ir(e)?e:[e];t;){for(var r=0,o=i.length;r<o;r++)if(y(n=zi.data(t,i[r])))return n;t=t.parentNode||t.nodeType===_r&&t.host}}function Ht(t){for(Pt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Vt(t,e){e||Pt(t);var n=t.parentNode;n&&n.removeChild(t)}function zt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):zi(n).on("load",e)}function Wt(t,e){var n=Dr[e.toLowerCase()];return n&&Nr[N(t)]&&n}function qt(t){return Fr[t]}function Yt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=r.specialHandlerWrapper||Kt;o>1&&(r=vt(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(t,n,r[l])}};return n.elem=t,n}function Kt(t,e,n){n.call(t,e)}function Xt(t,e,n){var i=e.relatedTarget;i&&(i===t||Lr.call(t,i))||n.call(t,e)}function Jt(){this.$get=function(){return u(At,{hasClass:function(t,e){return t.attr&&(t=t[0]),Nt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),$t(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)}})}}function Zt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var i=typeof t;return n="function"===i||"object"===i&&null!==t?t.$$hashKey=i+":"+(e||a)():i+":"+t}function Qt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}i(t,this.put,this)}function te(t){return Function.prototype.toString.call(t)+" "}function ee(t){var e=te(t).replace(Vr,""),n=e.match(Gr)||e.match(Ur);return n}function ne(t){var e=ee(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ie(t,e,n){var r,o,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw E(n)&&n||(n=t.name||ne(t)),zr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=ee(t),i(o[1].split(Br),function(t){t.replace(Hr,function(t,e,n){r.push(n)})})}t.$inject=r}}else ir(t)?(a=t.length-1,dt(t[a],"fn"),r=t.slice(0,a)):dt(t,"fn",!0);return r}function re(t,e){function n(t){return function(e,n){return _(e)?void i(e,o(t)):t(e,n)}}function r(t,e){if(ht(t,"service"),(T(e)||ir(e))&&(e=C.instantiate(e)),!e.$get)throw zr("pget","Provider '{0}' must define $get factory method.",t);return x[t+g]=e}function a(t,e){return function(){var n=M.invoke(e,this);if(v(n))throw zr("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return r(t,{$get:n!==!1?a(t,e):e})}function l(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function u(t,e){return s(t,m(e),!1)}function c(t,e){ht(t,"constant"),x[t]=e,w[t]=e}function d(t,e){var n=C.get(t+g),i=n.$get;n.$get=function(){var t=M.invoke(i,n);return M.invoke(e,null,{$delegate:t})}}function h(t){ct(v(t)||ir(t),"modulesToLoad","not an array");var e,n=[];return i(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=C.get(i[0]);r[i[1]].apply(r,i[2])}}if(!b.get(t)){b.put(t,!0);try{E(t)?(e=qi(t),n=n.concat(h(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):T(t)?n.push(C.invoke(t)):ir(t)?n.push(C.invoke(t)):dt(t,"module")}catch(r){throw ir(t)&&(t=t[t.length-1]),r.message&&r.stack&&r.stack.indexOf(r.message)===-1&&(r=r.message+"\n"+r.stack),zr("modulerr","Failed to instantiate module {0} due to:\n{1}",t,r.stack||r.message||r)}}}),n}function f(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===p)throw zr("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=p,t[e]=n(e,i),t[e]}catch(r){throw t[e]===p&&delete t[e],r}finally{y.shift()}}function r(t,n,r){for(var o=[],a=re.$$annotate(t,e,r),s=0,l=a.length;s<l;s++){var u=a[s];if("string"!=typeof u)throw zr("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:i(u,r))}return o}function o(t){return!(Vi<=11)&&("function"==typeof t&&/^(?:class\b|constructor\()/.test(te(t)))}function a(t,e,n,i){"string"==typeof n&&(i=n,n=null);var a=r(t,n,i);return ir(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var i=ir(t)?t[t.length-1]:t,o=r(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(i,o))}return{invoke:a,instantiate:s,get:i,annotate:re.$$annotate,has:function(e){return x.hasOwnProperty(e+g)||t.hasOwnProperty(e)}}}e=e===!0;var p={},g="Provider",y=[],b=new Qt([],(!0)),x={$provide:{provider:n(r),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:d}},C=x.$injector=f(x,function(t,e){throw tr.isString(e)&&y.push(e),zr("unpr","Unknown provider: {0}",y.join(" <- "))}),w={},S=f(w,function(t,e){var n=C.get(t+g,e);return M.invoke(n.$get,n,void 0,t)}),M=S;x["$injector"+g]={$get:m(S)};var j=h(t);return M=S.get("$injector"),M.strictDi=e,i(j,function(t){t&&M.invoke(t)}),M}function oe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===N(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(T(t))t=t();else if(k(t)){var n=t[0],i=e.getComputedStyle(n);t="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else x(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var i=t.getBoundingClientRect().top;e.scrollBy(0,i-n)}}else e.scrollTo(0,0)}function s(t){t=E(t)?t:x(t)?t.toString():n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=r(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||zt(function(){i.$evalAsync(s)})}),s}]}function ae(t,e){return t||e?t?e?(ir(t)&&(t=t.join(" ")),ir(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function se(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===qr)return n}}function le(t){E(t)&&(t=t.split(" "));var e=mt();return i(t,function(t){t.length&&(e[t]=!0)}),e}function ue(t){return _(t)?t:{}}function ce(t,e,n,r){function o(t){try{t.apply(null,B(arguments,1))}finally{if(y--,0===y)for(;_.length;)try{_.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function s(){T=null,l(),u()}function l(){b=w(),b=v(b)?null:b,G(b,j)&&(b=j),j=b}function u(){x===c.url()&&E===b||(x=c.url(),E=b,i(S,function(t){t(c.url(),b)}))}var c=this,d=t.location,h=t.history,p=t.setTimeout,m=t.clearTimeout,g={};c.isMock=!1;var y=0,_=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){y++},c.notifyWhenNoOutstandingRequests=function(t){0===y?t():_.push(t)};var b,E,x=d.href,C=e.find("base"),T=null,w=r.history?function(){try{return h.state}catch(t){}}:f;l(),E=b,c.url=function(e,n,i){if(v(i)&&(i=null),d!==t.location&&(d=t.location),h!==t.history&&(h=t.history),e){var o=E===i;if(x===e&&(!r.history||o))return c;var s=x&&Ve(x)===Ve(e);return x=e,E=i,!r.history||s&&o?(s||(T=e),n?d.replace(e):s?d.hash=a(e):d.href=e,d.href!==e&&(T=e)):(h[n?"replaceState":"pushState"](i,"",e),l(),E=b),T&&(T=e),c}return T||d.href.replace(/%27/g,"'")},c.state=function(){return b};var S=[],M=!1,j=null;c.onUrlChange=function(e){return M||(r.history&&zi(t).on("popstate",s),zi(t).on("hashchange",s),M=!0),S.push(e),e},c.$$applicationDestroyed=function(){zi(t).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return y++,n=p(function(){delete g[n],o(t)},e||0),g[n]=!0,n},c.defer.cancel=function(t){return!!g[t]&&(delete g[t],m(t),o(f),!0)}}function de(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ce(t,i,e,n)}]}function he(){this.$get=function(){function t(t,i){function r(t){t!==h&&(f?f===t&&(f=t.n):f=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=u({},i,{id:t}),l=mt(),c=i&&i.capacity||Number.MAX_VALUE,d=mt(),h=null,f=null;return n[t]={put:function(t,e){if(!v(e)){if(c<Number.MAX_VALUE){var n=d[t]||(d[t]={key:t});r(n)}return t in l||a++,l[t]=e,a>c&&this.remove(f.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=d[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=d[t];if(!e)return;e===h&&(h=e.p),e===f&&(f=e.n),o(e.n,e.p),delete d[t]}t in l&&(delete l[t],a--)},removeAll:function(){l=mt(),a=0,d=mt(),h=f=null},destroy:function(){l=null,s=null,d=null,delete n[t]},info:function(){return u({},s,{size:a})}}}var n={};return t.info=function(){var t={};return i(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function fe(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function pe(){}function me(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,o=mt();return i(t,function(t,i){if(t in j)return void(o[i]=j[t]);var a=t.match(r);if(!a)throw eo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,i,t,n?"controller bindings definition":"isolate scope definition");o[i]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||i},a[4]&&(j[t]=o[i])}),o}function a(t,e){var n={isolateScope:null,bindToController:null};if(_(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),_(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw eo("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function s(t){var e=t.charAt(0);if(!e||e!==Gi(e))throw eo("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw eo("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function l(t){var e=t.require||t.controller&&t.name;return!ir(e)&&_(e)&&i(e,function(t,n){var i=t.match(w),r=t.substring(i[0].length);r||(e[n]=i[0]+n)}),e}function c(t,e){if(t&&(!E(t)||!/[EACM]/.test(t)))throw eo("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var d={},g="Directive",b=/^\s*directive:\s*([\w-]+)\s+(.*)$/,x=/(([\w-]+)(?::([^;]+))?;?)/,C=D("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,j=mt();this.directive=function k(t,n){return ct(t,"name"),ht(t,"directive"),E(t)?(s(t),ct(n,"directiveFactory"),d.hasOwnProperty(t)||(d[t]=[],e.factory(t+g,["$injector","$exceptionHandler",function(e,n){var r=[];return i(d[t],function(i,o){try{var a=e.invoke(i);T(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=l(a),a.restrict=c(a.restrict,t),a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),d[t].push(n)):i(t,o(k)),this},this.component=function(t,e){function n(t){function n(e){return T(e)||ir(e)?function(n,i){return t.invoke(e,this,{$element:n,$attrs:i})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:be(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return i(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var r=e.controller||function(){};return i(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,T(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return y(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var O=!0;this.debugInfoEnabled=function(t){return y(t)?(O=t,this):O};var A=!0;this.preAssignBindingsEnabled=function(t){return y(t)?(A=t,this):A};var P=10;this.onChangesTtl=function(t){return arguments.length?(P=t,this):P};var I=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(I=t,this):I};var L=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(L=t,this):L},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,o,s,l,c,m,j,k){function D(){try{if(!--jt)throw xt=void 0,eo("infchng","{0} $onChanges() iterations reached. Aborting!\n",P);c.$apply(function(){for(var t=[],e=0,n=xt.length;e<n;++e)try{xt[e]()}catch(i){t.push(i)}if(xt=void 0,t.length)throw t})}finally{jt++}}function $(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t}function U(t,e,n){wt.innerHTML="<span "+e+">";var i=wt.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,t.attributes.setNamedItem(r)}function V(t,e){try{t.addClass(e)}catch(n){}}function z(e,n,i,r,o){e instanceof zi||(e=zi(e));for(var a=/\S+/,s=0,l=e.length;s<l;s++){var u=e[s];u.nodeType===gr&&u.nodeValue.match(a)&&Ot(u,e[s]=t.document.createElement("span"))}var c=q(e,n,e,i,r,o);z.$$addScopeClass(e);var d=null;return function(t,n,i){ct(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),i=i||{};var r=i.parentBoundTranscludeFn,a=i.transcludeControllers,s=i.futureParentElement;r&&r.$$boundTransclude&&(r=r.$$boundTransclude),d||(d=W(s));var l;if(l="html"!==d?zi(pt(d,zi("<div>").append(e).html())):n?kr.clone.call(e):e,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return z.$$addScopeInfo(l,t),n&&n(l,t),c&&c(t,l,l,r),l}}function W(t){var e=t&&t[0];return e&&"foreignobject"!==N(e)&&Ji.call(e).match(/SVG/)?"svg":"html"}function q(t,e,n,i,r,o){function a(t,n,i,r){var o,a,s,l,u,c,d,h,m;if(f){var g=n.length;for(m=new Array(g),u=0;u<p.length;u+=3)d=p[u],m[d]=n[d]}else m=n;for(u=0,c=p.length;u<c;)s=m[p[u++]],o=p[u++],a=p[u++],o?(o.scope?(l=t.$new(),z.$$addScopeInfo(zi(s),l)):l=t,h=o.transcludeOnThisElement?Y(t,o.transclude,r):!o.templateOnThisElement&&r?r:!r&&e?Y(t,e):null,o(a,l,s,i,h)):a&&a(t,s.childNodes,void 0,r)}for(var s,l,u,c,d,h,f,p=[],m=0;m<t.length;m++)s=new $,l=K(t[m],[],s,0===m?i:void 0,r),u=l.length?et(l,t[m],s,e,n,null,[],[],o):null,u&&u.scope&&z.$$addScopeClass(s.$$element),d=u&&u.terminal||!(c=t[m].childNodes)||!c.length?null:q(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:e),(u||d)&&(p.push(m,u,d),h=!0,f=f||u),o=null;return h?a:null}function Y(t,e,n){function i(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r=i.$$slots=mt();for(var o in e.$$slots)e.$$slots[o]?r[o]=Y(t,e.$$slots[o],n):r[o]=null;return i}function K(t,e,n,i,r){var o,a,s,l=t.nodeType,u=n.$attr;switch(l){case pr:a=N(t),ot(e,ve(a),"E",i,r);for(var c,d,h,f,p,m,g=t.attributes,v=0,y=g&&g.length;v<y;v++){var b=!1,C=!1;c=g[v],d=c.name,p=or(c.value),f=ve(d),m=Lt.test(f),m&&(d=d.replace(io,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var T=f.match(kt);T&&at(T[1])&&(b=d,C=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),h=ve(d.toLowerCase()),u[h]=d,!m&&n.hasOwnProperty(h)||(n[h]=p,Wt(t,h)&&(n[h]=!0)),vt(t,e,p,h,m),ot(e,h,"A",i,r,b,C)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Mt)break;if(s=t.className,_(s)&&(s=s.animVal),E(s)&&""!==s)for(;o=x.exec(s);)h=ve(o[2]),ot(e,h,"C",i,r)&&(n[h]=or(o[3])),s=s.substr(o.index+o[0].length);break;case gr:if(11===Vi)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===gr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);ft(e,t.nodeValue);break;case vr:if(!St)break;J(t,e,n,i,r)}return e.sort(dt),e}function J(t,e,n,i,r){try{var o=b.exec(t.nodeValue);if(o){var a=ve(o[1]);ot(e,a,"M",i,r)&&(n[a]=or(o[2]))}}catch(s){}}function Z(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw eo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===pr&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(r>0)}else i.push(t);return zi(i)}function Q(t,e,n){return function(i,r,o,a,s){return r=Z(r[0],e,n),t(i,r,o,a,s)}}function tt(t,e,n,i,r,o){var a;return t?z(e,n,i,r,o):function(){return a||(a=z(e,n,i,r,o),e=n=o=null),a.apply(this,arguments)}}function et(t,e,n,o,a,s,l,c,d){function h(t,e,n,i){t&&(n&&(t=Q(t,n,i)),t.require=p.require,t.directiveName=m,(w===p||p.$$isolateScope)&&(t=_t(t,{isolateScope:!0})),l.push(t)),e&&(n&&(e=Q(e,n,i)),e.require=p.require,e.directiveName=m,(w===p||p.$$isolateScope)&&(e=_t(e,{isolateScope:!0})),c.push(e))}function f(t,o,a,s,d){function h(t,e,n,i){var r;if(M(t)||(i=n,n=e,e=t,t=void 0),P&&(r=b),n||(n=P?j.parent():j),!i)return d(t,e,r,n,F);var o=d.$$slots[i];if(o)return o(t,e,r,n,F);if(v(o))throw eo("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,X(j))}var f,p,m,g,y,b,E,j,O,R;e===a?(O=n,j=n.$$element):(j=zi(a),O=new $(j,n)),y=o,w?g=o.$new(!0):x&&(y=o.$parent),d&&(E=h,E.$$boundTransclude=d,E.isSlotFilled=function(t){return!!d.$$slots[t]}),C&&(b=it(j,O,E,C,g,o,w)),w&&(z.$$addScopeInfo(j,g,!0,!(S&&(S===w||S===w.$$originalDirective))),z.$$addScopeClass(j,!0),g.$$isolateBindings=w.$$isolateBindings,R=Et(o,O,g,g.$$isolateBindings,w),R.removeWatches&&g.$on("$destroy",R.removeWatches));for(var I in b){var L=C[I],k=b[I],D=L.$$bindings.bindToController;if(A){D?k.bindingInfo=Et(y,O,k.instance,D,L):k.bindingInfo={};var N=k();N!==k.instance&&(k.instance=N,j.data("$"+L.name+"Controller",N),k.bindingInfo.removeWatches&&k.bindingInfo.removeWatches(),k.bindingInfo=Et(y,O,k.instance,D,L))}else k.instance=k(),j.data("$"+L.name+"Controller",k.instance),k.bindingInfo=Et(y,O,k.instance,D,L)}for(i(C,function(t,e){var n=t.require;t.bindToController&&!ir(n)&&_(n)&&u(b[e].instance,nt(e,n,j,b))}),i(b,function(t){var e=t.instance;if(T(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){r(n)}if(T(e.$onInit))try{e.$onInit()}catch(n){r(n)}T(e.$doCheck)&&(y.$watch(function(){e.$doCheck()}),e.$doCheck()),T(e.$onDestroy)&&y.$on("$destroy",function(){e.$onDestroy()})}),f=0,p=l.length;f<p;f++)m=l[f],bt(m,m.isolateScope?g:o,j,O,m.require&&nt(m.directiveName,m.require,j,b),E);var F=o;for(w&&(w.template||null===w.templateUrl)&&(F=g),t&&t(F,a.childNodes,void 0,d),f=c.length-1;f>=0;f--)m=c[f],bt(m,m.isolateScope?g:o,j,O,m.require&&nt(m.directiveName,m.require,j,b),E);i(b,function(t){var e=t.instance;T(e.$postLink)&&e.$postLink()})}d=d||{};for(var p,m,g,y,b,E=-Number.MAX_VALUE,x=d.newScopeDirective,C=d.controllerDirectives,w=d.newIsolateScopeDirective,S=d.templateDirective,j=d.nonTlbTranscludeDirective,O=!1,R=!1,P=d.hasElementTranscludeDirective,I=n.$$element=zi(e),L=s,k=o,D=!1,F=!1,G=0,U=t.length;G<U;G++){p=t[G];var V=p.$$start,W=p.$$end;if(V&&(I=Z(e,V,W)),g=void 0,E>p.priority)break;if(b=p.scope,b&&(p.templateUrl||(_(b)?(ht("new/isolated scope",w||x,p,I),w=p):ht("new/isolated scope",w,p,I)),x=x||p),m=p.name,!D&&(p.replace&&(p.templateUrl||p.template)||p.transclude&&!p.$$tlb)){for(var q,Y=G+1;q=t[Y++];)if(q.transclude&&!q.$$tlb||q.replace&&(q.templateUrl||q.template)){F=!0;break}D=!0}if(!p.templateUrl&&p.controller&&(C=C||mt(),ht("'"+m+"' controller",C[m],p,I),C[m]=p),b=p.transclude)if(O=!0,p.$$tlb||(ht("transclusion",j,p,I),j=p),"element"===b)P=!0,E=p.priority,g=I,I=n.$$element=zi(z.$$createComment(m,n[m])),e=I[0],yt(a,B(g),e),g[0].$$parentNode=g[0].parentNode,k=tt(F,g,o,E,L&&L.name,{nonTlbTranscludeDirective:j});else{var J=mt();if(g=zi(Rt(e)).contents(),_(b)){g=[];var et=mt(),ot=mt();i(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,et[t]=e,J[e]=null,ot[e]=n}),i(I.contents(),function(t){var e=et[ve(N(t))];e?(ot[e]=!0,J[e]=J[e]||[],J[e].push(t)):g.push(t)}),i(ot,function(t,e){if(!t)throw eo("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var at in J)J[at]&&(J[at]=tt(F,J[at],o))}I.empty(),k=tt(F,g,o,void 0,void 0,{needsNewScope:p.$$isolateScope||p.$$newScope}),k.$$slots=J}if(p.template)if(R=!0,ht("template",S,p,I),S=p,b=T(p.template)?p.template(I,n):p.template,b=It(b),p.replace){if(L=p,g=Ct(b)?[]:_e(pt(p.templateNamespace,or(b))),e=g[0],1!==g.length||e.nodeType!==pr)throw eo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");yt(a,I,e);var lt={$attr:{}},ct=K(e,[],lt),dt=t.splice(G+1,t.length-(G+1));(w||x)&&rt(ct,w,x),t=t.concat(ct).concat(dt),st(n,lt),U=t.length}else I.html(b);if(p.templateUrl)R=!0,ht("template",S,p,I),S=p,p.replace&&(L=p),f=ut(t.splice(G,t.length-G),I,n,a,O&&k,l,c,{controllerDirectives:C,newScopeDirective:x!==p&&x,newIsolateScopeDirective:w,templateDirective:S,nonTlbTranscludeDirective:j}),U=t.length;else if(p.compile)try{y=p.compile(I,n,k);var ft=p.$$originalDirective||p;T(y)?h(null,H(ft,y),V,W):y&&h(H(ft,y.pre),H(ft,y.post),V,W)}catch(gt){r(gt,X(I))}p.terminal&&(f.terminal=!0,E=Math.max(E,p.priority))}return f.scope=x&&x.scope===!0,f.transcludeOnThisElement=O,f.templateOnThisElement=R,f.transclude=k,d.hasElementTranscludeDirective=P,f}function nt(t,e,n,r){var o;if(E(e)){var a=e.match(w),s=e.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=r&&r[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw eo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(ir(e)){o=[];for(var d=0,h=e.length;d<h;d++)o[d]=nt(t,e[d],n,r)}else _(e)&&(o={},i(e,function(e,i){o[i]=nt(t,e,n,r)}));return o||null}function it(t,e,n,i,r,o,a){var s=mt();for(var u in i){var c=i[u],d={$scope:c===a||c.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},h=c.controller;"@"===h&&(h=e[c.name]);var f=l(h,d,!0,c.controllerAs);s[c.name]=f,t.data("$"+c.name+"Controller",f.instance)}return s}function rt(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i]=h(t[i],{$$isolateScope:e,$$newScope:n})}function ot(t,n,i,r,o,s,l){if(n===o)return null;var u=null;if(d.hasOwnProperty(n))for(var c,f=e.get(n+g),p=0,m=f.length;p<m;p++)if(c=f[p],(v(r)||r>c.priority)&&c.restrict.indexOf(i)!==-1){if(s&&(c=h(c,{$$start:s,$$end:l})),!c.$$bindings){var y=c.$$bindings=a(c,c.name);_(y.isolateScope)&&(c.$$isolateBindings=y.isolateScope)}t.push(c),u=c}return u}function at(t){if(d.hasOwnProperty(t))for(var n,i=e.get(t+g),r=0,o=i.length;r<o;r++)if(n=i[r],n.multiElement)return!0;return!1}function st(t,e){var n=e.$attr,r=t.$attr;i(t,function(i,r){"$"!==r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ut(t,e,n,r,a,s,l,u){var c,d,f=[],p=e[0],m=t.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=T(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,y=m.templateNamespace;return e.empty(),o(v).then(function(o){var h,b,E,x;if(o=It(o),m.replace){if(E=Ct(o)?[]:_e(pt(y,or(o))),h=E[0],1!==E.length||h.nodeType!==pr)throw eo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);b={$attr:{}},yt(r,e,h);var C=K(h,[],b);_(m.scope)&&rt(C,!0),t=C.concat(t),st(n,b)}else h=p,e.html(o);for(t.unshift(g),c=et(t,h,n,a,e,m,s,l,u),i(r,function(t,n){t===h&&(r[n]=e[0])}),d=q(e[0].childNodes,a);f.length;){var T=f.shift(),w=f.shift(),S=f.shift(),M=f.shift(),j=e[0];if(!T.$$destroyed){if(w!==p){var O=w.className;u.hasElementTranscludeDirective&&m.replace||(j=Rt(h)),yt(S,zi(w),j),V(zi(j),O)}x=c.transcludeOnThisElement?Y(T,c.transclude,M):M,c(d,T,j,r,x)}}f=null}),function(t,e,n,i,r){var o=r;e.$$destroyed||(f?f.push(e,n,i,o):(c.transcludeOnThisElement&&(o=Y(e,c.transclude,r)),c(d,e,n,i,o)))}}function dt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function ht(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw eo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,X(i))}function ft(t,e){var i=n(e,!0);i&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&z.$$addBindingClass(e),function(t,e){var r=e.parent();n||z.$$addBindingClass(r),z.$$addBindingInfo(r,i.expressions),t.$watch(i,function(t){e[0].nodeValue=t})}}})}function pt(e,n){switch(e=Gi(e||"html")){case"svg":case"math":var i=t.document.createElement("div");return i.innerHTML="<"+e+">"+n+"</"+e+">",i.childNodes[0].childNodes;default:return n}}function gt(t,e){if("srcdoc"===e)return m.HTML;var n=N(t);if("src"===e||"ngSrc"===e){if(["img","video","audio","source","track"].indexOf(n)===-1)return m.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e)return m.RESOURCE_URL}function vt(t,e,i,r,o){var a=gt(t,r),s=!o,l=C[r]||o,u=n(i,s,a,l);if(u){if("multiple"===r&&"select"===N(t))throw eo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(t));e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=mt());if(S.test(r))throw eo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=o[r];c!==i&&(u=c&&n(c,!0,a,l),i=c),u&&(o[r]=u(t),(s[r]||(s[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||t).$watch(u,function(t,e){"class"===r&&t!==e?o.$updateClass(t,e):o.$set(r,t)}))}}}})}}function yt(e,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(r=0,o=e.length;r<o;r++)if(e[r]===a){e[r++]=i;for(var u=r,c=u+s-1,d=e.length;u<d;u++,c++)c<d?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=i);break}l&&l.replaceChild(i,a);var h=t.document.createDocumentFragment();for(r=0;r<s;r++)h.appendChild(n[r]);for(zi.hasData(a)&&(zi.data(i,zi.data(a)),zi(a).off("$destroy")),zi.cleanData(h.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function _t(t,e){return u(function(){return t.apply(null,arguments)},t,e)}function bt(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,X(n))}}function Et(t,e,r,o,a){function l(e,n,i){!T(r.$onChanges)||n===i||n!==n&&i!==i||(xt||(t.$$postDigest(D),xt=[]),c||(c={},xt.push(u)),c[e]&&(i=c[e].previousValue),c[e]=new ge(i,n))}function u(){r.$onChanges(c),c=void 0}var c,d=[],h={};return i(o,function(i,o){var u,c,p,m,g,v=i.attrName,y=i.optional,_=i.mode;switch(_){case"@":y||$i.call(e,v)||(r[o]=e[v]=void 0),g=e.$observe(v,function(t){if(E(t)||R(t)){var e=r[o];l(o,t,e),r[o]=t}}),e.$$observers[v].$$scope=t,u=e[v],E(u)?r[o]=n(u)(t):R(u)&&(r[o]=u),h[o]=new ge(no,r[o]),d.push(g);break;case"=":if(!$i.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]),m=c.literal?G:function(t,e){return t===e||t!==t&&e!==e},p=c.assign||function(){throw u=r[o]=c(t),eo("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[v],v,a.name)},u=r[o]=c(t);var b=function(e){return m(e,r[o])||(m(e,u)?p(t,e=r[o]):r[o]=e),u=e};b.$stateful=!0,g=i.collection?t.$watchCollection(e[v],b):t.$watch(s(e[v],b),null,c.literal),d.push(g);break;case"<":if(!$i.call(e,v)){if(y)break;e[v]=void 0}if(y&&!e[v])break;c=s(e[v]);var x=c.literal,C=r[o]=c(t);h[o]=new ge(no,r[o]),g=t.$watch(c,function(t,e){if(e===t){if(e===C||x&&G(e,C))return;e=C}l(o,t,e),r[o]=t},x),d.push(g);break;case"&":if(c=e.hasOwnProperty(v)?s(e[v]):f,c===f&&y)break;r[o]=function(e){return c(t,e)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var t=0,e=d.length;t<e;++t)d[t]()}}}var xt,Tt=/^\w/,wt=t.document.createElement("div"),St=I,Mt=L,jt=P;$.prototype={$normalize:ve,$addClass:function(t){t&&t.length>0&&j.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&j.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ye(t,e);n&&n.length&&j.addClass(this.$$element,n);var i=ye(e,t);i&&i.length&&j.removeClass(this.$$element,i)},$set:function(t,e,n,o){var a,s=this.$$element[0],l=Wt(s,t),u=qt(t),c=t;if(l?(this.$$element.prop(t,e),o=l):u&&(this[u]=e,c=u),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=lt(t,"-"))),a=N(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=k(e,"src"===t);else if("img"===a&&"srcset"===t&&y(e)){for(var d="",h=or(e),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(h)?f:/(,)/,m=h.split(p),g=Math.floor(m.length/2),_=0;_<g;_++){var b=2*_;d+=k(or(m[b]),!0),d+=" "+or(m[b+1])}var E=or(m[2*_]).split(/\s/);d+=k(or(E[0]),!0),2===E.length&&(d+=" "+or(E[1])),this[t]=e=d}n!==!1&&(null===e||v(e)?this.$$element.removeAttr(o):Tt.test(o)?this.$$element.attr(o,e):U(this.$$element[0],o,e));var x=this.$$observers;x&&i(x[c],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=mt()),r=i[t]||(i[t]=[]);return r.push(e),c.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(t)||v(n[t])||e(n[t])}),function(){F(r,e)}}};var At=n.startSymbol(),Pt=n.endSymbol(),It="{{"===At&&"}}"===Pt?p:function(t){return t.replace(/\{\{/g,At).replace(/}}/g,Pt)},Lt=/^ngAttr[A-Z]/,kt=/^(.+)Start$/;return z.$$addBindingInfo=O?function(t,e){var n=t.data("$binding")||[];ir(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:f,z.$$addBindingClass=O?function(t){V(t,"ng-binding")}:f,z.$$addScopeInfo=O?function(t,e,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(r,e)}:f,z.$$addScopeClass=O?function(t,e){V(t,e?"ng-isolate-scope":"ng-scope")}:f,z.$$createComment=function(e,n){var i="";return O&&(i=" "+(e||"")+": ",n&&(i+=n+" ")),t.document.createComment(i)},z}]}function ge(t,e){this.previousValue=t,this.currentValue=e}function ve(t){return xt(t.replace(io,""))}function ye(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/);t:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue t;n+=(n.length>0?" ":"")+a}return n}function _e(t){t=zi(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===vr||n.nodeType===gr&&""===n.nodeValue.trim())&&Ki.call(t,e,1)}return t}function be(t,e){if(e&&E(e))return e;if(E(t)){var n=oo.exec(t);if(n)return n[3]}}function Ee(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){ht(e,"controller"),_(e)?u(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(i,r){function o(t,n,i,r){if(!t||!_(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,n);t.$scope[n]=i}return function(e,a,s,l){var c,d,h,f;if(s=s===!0,l&&E(l)&&(f=l),E(e)){if(d=e.match(oo),!d)throw ro("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=d[1],f=f||d[3],e=t.hasOwnProperty(h)?t[h]:ft(a.$scope,h,!0)||(n?ft(r,h,!0):void 0),!e)throw ro("ctrlreg","The controller with the name '{0}' is not registered.",h);dt(e,h,!0)}if(s){var p=(ir(e)?e[e.length-1]:e).prototype;return c=Object.create(p||null),
f&&o(a,f,c,h||e.name),u(function(){var t=i.invoke(e,c,a,h);return t!==c&&(_(t)||T(t))&&(c=t,f&&o(a,f,c,h||e.name)),c},{instance:c,identifier:f})}return c=i.instantiate(e,a,h),f&&o(a,f,c,h||e.name),c}}]}function xe(){this.$get=["$window",function(t){return zi(t.document)}]}function Ce(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Te(t){return _(t)?C(t)?t.toISOString():z(t):t}function we(){this.$get=function(){return function(t){if(!t)return"";var e=[];return r(t,function(t,n){null===t||v(t)||(ir(t)?i(t,function(t){e.push(et(n)+"="+et(Te(t)))}):e.push(et(n)+"="+et(Te(t))))}),e.join("&")}}}function Se(){this.$get=function(){return function(t){function e(t,o,a){null===t||v(t)||(ir(t)?i(t,function(t,n){e(t,o+"["+(_(t)?n:"")+"]")}):_(t)&&!C(t)?r(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(et(o)+"="+et(Te(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Me(t,e){if(E(t)){var n=t.replace(ho,"").trim();if(n){var i=e("Content-Type");(i&&0===i.indexOf(so)||je(n))&&(t=W(n))}}return t}function je(t){var e=t.match(uo);return e&&co[e[0]].test(t)}function Oe(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=mt();return E(t)?i(t.split("\n"),function(t){n=t.indexOf(":"),e(Gi(or(t.substr(0,n))),or(t.substr(n+1)))}):_(t)&&i(t,function(t,n){e(Gi(n),or(t))}),r}function Ae(t){var e;return function(n){if(e||(e=Oe(t)),n){var i=e[Gi(n)];return void 0===i&&(i=null),i}return e}}function Re(t,e,n,r){return T(r)?r(t,e,n):(i(r,function(i){t=i(t,e,n)}),t)}function Pe(t){return 200<=t&&t<300}function Ie(){var t=this.defaults={transformResponse:[Me],transformRequest:[function(t){return!_(t)||j(t)||A(t)||O(t)?t:z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:vt(lo),put:vt(lo),patch:vt(lo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(t){return y(t)?(n=!!t,this):n};var r=!0;this.useLegacyPromiseExtensions=function(t){return y(t)?(r=!!t,this):r};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,d,h){function f(n){function o(t,e){for(var n=0,i=e.length;n<i;){var r=e[n++],o=e[n++];t=t.then(r,o)}return e.length=0,t}function a(t,e){var n,r={};return i(t,function(t,i){T(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,i,r,o=t.headers,s=u({},e.headers);o=u({},o.common,o[Gi(e.method)]);t:for(n in o){i=Gi(n);for(r in s)if(Gi(r)===i)continue t;s[n]=o[n]}return a(s,vt(e))}function l(e){var n=e.headers,r=Re(e.data,Ae(n),void 0,e.transformRequest);return v(r)&&i(n,function(t,e){"content-type"===Gi(e)&&delete n[e]}),v(e.withCredentials)&&!v(t.withCredentials)&&(e.withCredentials=t.withCredentials),g(e,r).then(c,c)}function c(t){var e=u({},t);return e.data=Re(t.data,t.headers,t.status,f.transformResponse),Pe(t.status)?e:d.reject(e)}if(!_(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!E(n.url))throw e("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var f=u({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},n);f.headers=s(n),f.method=Ui(f.method),f.paramSerializer=E(f.paramSerializer)?h.get(f.paramSerializer):f.paramSerializer;var p=[],m=[],y=d.when(f);return i(C,function(t){(t.request||t.requestError)&&p.unshift(t.request,t.requestError),(t.response||t.responseError)&&m.push(t.response,t.responseError)}),y=o(y,p),y=y.then(l),y=o(y,m),r?(y.success=function(t){return dt(t,"fn"),y.then(function(e){t(e.data,e.status,e.headers,f)}),y},y.error=function(t){return dt(t,"fn"),y.then(null,function(e){t(e.data,e.status,e.headers,f)}),y}):(y.success=po("success"),y.error=po("error")),y}function p(t){i(arguments,function(t){f[t]=function(e,n){return f(u({},n||{},{method:t,url:e}))}})}function m(t){i(arguments,function(t){f[t]=function(e,n,i){return f(u({},i||{},{method:t,url:e,data:n}))}})}function g(e,r){function o(t){if(t){var e={};return i(t,function(t,i){e[i]=function(e){function i(){t(e)}n?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),e}}function l(t,e,i,r){function o(){u(e,t,i,r)}m&&(Pe(t)?m.put(w,[t,e,Oe(i),r]):m.remove(w)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(t,n,i,r){n=n>=-1?n:0,(Pe(n)?E.resolve:E.reject)({data:t,status:n,headers:Ae(i),config:e,statusText:r})}function h(t){u(t.data,t.status,vt(t.headers()),t.statusText)}function p(){var t=f.pendingRequests.indexOf(e);t!==-1&&f.pendingRequests.splice(t,1)}var m,g,E=d.defer(),C=E.promise,T=e.headers,w=b(e.url,e.paramSerializer(e.params));if(f.pendingRequests.push(e),C.then(p,p),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(m=_(e.cache)?e.cache:_(t.cache)?t.cache:x),m&&(g=m.get(w),y(g)?P(g)?g.then(h,h):ir(g)?u(g[1],g[0],vt(g[2]),g[3]):u(g,200,{},"OK"):m.put(w,C)),v(g)){var S=Dn(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;S&&(T[e.xsrfHeaderName||t.xsrfHeaderName]=S),a(e.method,w,r,l,T,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return C}function b(t,e){return e.length>0&&(t+=(t.indexOf("?")===-1?"?":"&")+e),t}var x=l("$http");t.paramSerializer=E(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var C=[];return i(o,function(t){C.unshift(E(t)?h.get(t):h.invoke(t))}),f.pendingRequests=[],p("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=t,f}]}function Le(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function ke(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,i){return De(t,i,t.defer,e,n[0])}]}function De(t,e,n,r,o){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var i=o.createElement("script"),a=null;return i.type="text/javascript",i.src=t,i.async=!0,a=function(t){Tr(i,"load",a),Tr(i,"error",a),o.body.removeChild(i),i=null;var s=-1,l="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},Cr(i,"load",a),Cr(i,"error",a),o.body.appendChild(i),a}return function(o,s,l,u,c,d,h,p,m,g){function _(){x&&x(),C&&C.abort()}function b(e,i,r,o,a){y(S)&&n.cancel(S),x=C=null,e(i,r,o,a),t.$$completeOutstandingRequest(f)}if(t.$$incOutstandingRequestCount(),s=s||t.url(),"jsonp"===Gi(o))var E=r.createCallback(s),x=a(s,E,function(t,e){var n=200===t&&r.getResponse(E);b(u,t,n,"",e),r.removeCallback(E)});else{var C=e(o,s);C.open(o,s,!0),i(c,function(t,e){y(t)&&C.setRequestHeader(e,t)}),C.onload=function(){var t=C.statusText||"",e="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=e?200:"file"===kn(s).protocol?404:0),b(u,n,e,C.getAllResponseHeaders(),t)};var T=function(){b(u,-1,null,null,"")};if(C.onerror=T,C.onabort=T,C.ontimeout=T,i(m,function(t,e){C.addEventListener(e,t)}),i(g,function(t,e){C.upload.addEventListener(e,t)}),h&&(C.withCredentials=!0),p)try{C.responseType=p}catch(w){if("json"!==p)throw w}C.send(v(l)?null:l)}if(d>0)var S=n(_,d);else P(d)&&d.then(_)}}function Ne(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(f,t).replace(p,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=z(t)}return t}function l(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function c(o,c,f,p){function g(t){try{return t=P(t),p&&!y(t)?t:s(t)}catch(e){i(mo.interr(o,e))}}if(!o.length||o.indexOf(t)===-1){var _;if(!c){var b=a(o);_=m(b),_.exp=o,_.expressions=[],_.$$watchDelegate=l}return _}p=!!p;for(var E,x,C,w=0,S=[],M=[],j=o.length,O=[],A=[];w<j;){if((E=o.indexOf(t,w))===-1||(x=o.indexOf(e,E+d))===-1){w!==j&&O.push(a(o.substring(w)));break}w!==E&&O.push(a(o.substring(w,E))),C=o.substring(E+d,x),S.push(C),M.push(n(C,g)),w=x+h,A.push(O.length),O.push("")}if(f&&O.length>1&&mo.throwNoconcat(o),!c||S.length){var R=function(t){for(var e=0,n=S.length;e<n;e++){if(p&&v(t[e]))return;O[A[e]]=t[e]}return O.join("")},P=function(t){return f?r.getTrusted(f,t):r.valueOf(t)};return u(function(t){var e=0,n=S.length,r=new Array(n);try{for(;e<n;e++)r[e]=M[e](t);return R(r)}catch(a){i(mo.interr(o,a))}},{exp:o,expressions:S,$$watchDelegate:function(t,e){var n;return t.$watchGroup(M,function(i,r){var o=R(i);T(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var d=t.length,h=e.length,f=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return c.startSymbol=function(){return t},c.endSymbol=function(){return e},c}]}function Fe(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,i,r){function o(o,s,l,u){function c(){d?o.apply(null,h):o(m)}var d=arguments.length>4,h=d?B(arguments,4):[],f=e.setInterval,p=e.clearInterval,m=0,g=y(u)&&!u,v=(g?i:n).defer(),_=v.promise;return l=y(l)?l:0,_.$$intervalId=f(function(){g?r.defer(c):t.$evalAsync(c),v.notify(m++),l>0&&m>=l&&(v.resolve(m),p(_.$$intervalId),delete a[_.$$intervalId]),g||t.$apply()},s),a[_.$$intervalId]=v,_}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function $e(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=tt(e[n]);return e.join("/")}function Ge(t,e){var n=kn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||yo[n.protocol]||null}function Ue(t,e){if(bo.test(t))throw _o("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var i=kn(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=Z(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Be(t,e){return t.slice(0,e.length)===e}function He(t,e){if(Be(e,t))return e.substr(t.length)}function Ve(t){var e=t.indexOf("#");return e===-1?t:t.substr(0,e)}function ze(t){return t.replace(/(#.+)|#$/,"$1")}function We(t){return t.substr(0,Ve(t).lastIndexOf("/")+1)}function qe(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Ye(t,e,n){this.$$html5=!0,n=n||"",Ge(t,this),this.$$parse=function(t){var n=He(e,t);if(!E(n))throw _o("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ue(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),n=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=$e(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a,s;return y(o=He(t,i))?(a=o,s=n&&y(o=He(n,o))?e+(He("/",o)||o):t+a):y(o=He(e,i))?s=e+o:e===i+"/"&&(s=e),s&&this.$$parse(s),!!s}}function Ke(t,e,n){Ge(t,this),this.$$parse=function(i){function r(t,e,n){var i,r=/^\/[A-Z]:(\/.*)/;return Be(e,n)&&(e=e.replace(n,"")),r.exec(e)?t:(i=r.exec(t),i?i[1]:t)}var o,a=He(t,i)||He(e,i);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(t=i,this.replace())):(o=He(n,a),v(o)&&(o=a)),Ue(o,this),this.$$path=r(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=$e(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Ve(t)===Ve(e)&&(this.$$parse(e),!0)}}function Xe(t,e,n){this.$$html5=!0,Ke.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t===Ve(i)?o=i:(a=He(e,i))?o=t+n+a:e===i+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=Q(this.$$search),i=this.$$hash?"#"+tt(this.$$hash):"";this.$$url=$e(this.$$path)+(e?"?"+e:"")+i,this.$$absUrl=t+n+this.$$url}}function Je(t){return function(){return this[t]}}function Ze(t,e){return function(n){return v(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Qe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(t){return R(t)?(e.enabled=t,this):_(t)?(R(t.enabled)&&(e.enabled=t.enabled),R(t.requireBase)&&(e.requireBase=t.requireBase),(R(t.rewriteLinks)||E(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(a){throw u.url(r),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,d,h=i.baseHref(),f=i.url();if(e.enabled){if(!h&&e.requireBase)throw _o("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=qe(f)+(h||"/"),c=r.history?Ye:Xe}else d=Ve(f),c=Ke;var p=We(d);u=new c(d,p,"#"+t),u.$$parseLinkUrl(f,f),u.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(t){var r=e.rewriteLinks;if(r&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=zi(t.target);"a"!==N(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!E(r)||!v(s.attr(r))){var l=s.prop("href"),c=s.attr("href")||s.attr("xlink:href");_(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=kn(l.animVal).href),m.test(l)||!l||s.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(l,c)&&(t.preventDefault(),u.absUrl()!==i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),ze(u.absUrl())!==ze(f)&&i.url(u.absUrl(),!0);var g=!0;return i.onUrlChange(function(t,e){return v(He(p,t))?void(a.location.href=t):(n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;t=ze(t),u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,s(r,!1,o)):(g=!1,l(r,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var t=ze(i.url()),e=ze(u.absUrl()),o=i.state(),a=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function tn(){var t=!0,e=this;this.debugEnabled=function(e){return y(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||f,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var t=[];return i(arguments,function(e){t.push(r(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function en(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw xo("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function nn(t){return t+""}function rn(t,e){if(t){if(t.constructor===t)throw xo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw xo("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw xo("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw xo("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function on(t,e){if(t){if(t.constructor===t)throw xo("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===ko||t===Do||t===No)throw xo("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function an(t,e){if(t&&(t===Co||t===To||t===wo||t===So||t===Mo||t===jo||t===Oo||t===Ao||t===Ro||t===Po||t===Io||t===Lo))throw xo("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",e)}function sn(t,e){return"undefined"!=typeof t?t:e}function ln(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function un(t,e){var n=t(e);return!n.$stateful}function cn(t,e){var n,r,o;switch(t.type){case Bo.Program:n=!0,i(t.body,function(t){cn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Bo.Literal:t.constant=!0,t.toWatch=[];break;case Bo.UnaryExpression:cn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Bo.BinaryExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Bo.LogicalExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Bo.ConditionalExpression:cn(t.test,e),cn(t.alternate,e),cn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Bo.Identifier:t.constant=!1,t.toWatch=[t];break;case Bo.MemberExpression:cn(t.object,e),t.computed&&cn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Bo.CallExpression:o=!!t.filter&&un(e,t.callee.name),n=o,r=[],i(t.arguments,function(t){cn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=o?r:[t];break;case Bo.AssignmentExpression:cn(t.left,e),cn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Bo.ArrayExpression:n=!0,r=[],i(t.elements,function(t){cn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Bo.ObjectExpression:n=!0,r=[],i(t.properties,function(t){cn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case Bo.ThisExpression:t.constant=!1,t.toWatch=[];break;case Bo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function dn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function hn(t){return t.type===Bo.Identifier||t.type===Bo.MemberExpression}function fn(t){if(1===t.body.length&&hn(t.body[0].expression))return{type:Bo.AssignmentExpression,left:t.body[0].expression,right:{type:Bo.NGValueParameter},operator:"="}}function pn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Bo.Literal||t.body[0].expression.type===Bo.ArrayExpression||t.body[0].expression.type===Bo.ObjectExpression)}function mn(t){return t.constant}function gn(t,e){this.astBuilder=t,this.$filter=e}function vn(t,e){this.astBuilder=t,this.$filter=e}function yn(t){return"constructor"===t}function _n(t){return T(t.valueOf)?t.valueOf():Fo.call(t)}function bn(){var t,e,n=mt(),r=mt(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){o[t]=e},this.setIdentifierFns=function(n,i){return t=n,e=i,this},this.$get=["$filter",function(a){function s(t,e,i){var o,s,u;switch(i=i||b,typeof t){case"string":t=t.trim(),u=t;var g=i?r:n;if(o=g[u],!o){":"===t.charAt(0)&&":"===t.charAt(1)&&(s=!0,t=t.substring(2));var y=i?_:v,E=new Uo(y),x=new Ho(E,a,y);o=x.parse(t),o.constant?o.$$watchDelegate=p:s?o.$$watchDelegate=o.literal?h:d:o.inputs&&(o.$$watchDelegate=c),i&&(o=l(o)),g[u]=o}return m(o,e);case"function":return m(t,e);default:return m(f,e)}}function l(t){function e(e,n,i,r){var o=b;b=!0;try{return t(e,n,i,r)}finally{b=o}}if(!t)return t;e.$$watchDelegate=t.$$watchDelegate,e.assign=l(t.assign),e.constant=t.constant,e.literal=t.literal;for(var n=0;t.inputs&&n<t.inputs.length;++n)t.inputs[n]=l(t.inputs[n]);return e.inputs=t.inputs,e}function u(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=_n(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function c(t,e,n,i,r){var o,a=i.inputs;if(1===a.length){var s=u;return a=a[0],t.$watch(function(t){var e=a(t);return u(e,s)||(o=i(t,void 0,void 0,[e]),s=e&&_n(e)),o},e,n,r)}for(var l=[],c=[],d=0,h=a.length;d<h;d++)l[d]=u,c[d]=null;return t.$watch(function(t){for(var e=!1,n=0,r=a.length;n<r;n++){var s=a[n](t);(e||(e=!u(s,l[n])))&&(c[n]=s,l[n]=s&&_n(s))}return e&&(o=i(t,void 0,void 0,c)),o},e,n,r)}function d(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,T(e)&&e.apply(this,arguments),y(t)&&i.$$postDigest(function(){y(o)&&r()})},n)}function h(t,e,n,r){function o(t){var e=!0;return i(t,function(t){y(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,i){s=t,T(e)&&e.call(this,t,n,i),o(t)&&i.$$postDigest(function(){o(s)&&a()})},n)}function p(t,e,n,i){var r=t.$watch(function(t){return r(),i(t)},e,n);return r}function m(t,e){if(!e)return t;var n=t.$$watchDelegate,i=!1,r=n!==h&&n!==d,o=r?function(n,r,o,a){var s=i&&a?a[0]:t(n,r,o,a);return e(s,n,r)}:function(n,i,r,o){var a=t(n,i,r,o),s=e(a,n,i);return y(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==c?o.$$watchDelegate=t.$$watchDelegate:e.$stateful||(o.$$watchDelegate=c,i=!t.inputs,o.inputs=t.inputs?t.inputs:[t]),o}var g=sr().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:$(o),isIdentifierStart:T(t)&&t,isIdentifierContinue:T(e)&&e},_={csp:g,expensiveChecks:!0,literals:$(o),isIdentifierStart:T(t)&&t,isIdentifierContinue:T(e)&&e},b=!1;return s.$$runningExpensiveChecks=function(){return b},s}]}function En(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Cn(function(e){t.$evalAsync(e)},e)}]}function xn(){this.$get=["$browser","$exceptionHandler",function(t,e){return Cn(function(e){t.defer(e)},e)}]}function Cn(t,n){function r(){var t=new c;return t.resolve=a(t,t.resolve),t.reject=a(t,t.reject),t.notify=a(t,t.notify),t}function o(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function s(t){var e,i,r;r=t.pending,t.processScheduled=!1,t.pending=void 0;for(var o=0,a=r.length;o<a;++o){i=r[o][0],e=r[o][t.status];try{T(e)?i.resolve(e(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(s){i.reject(s),n(s)}}}function l(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){s(e)}))}function c(){this.promise=new o}function d(t){var e=new c;return e.reject(t),e.promise}function h(t,e,n){var i=null;try{T(n)&&(i=n())}catch(r){return d(r)}return P(i)?i.then(function(){return e(t)},d):e(t)}function f(t,e,n,i){var r=new c;return r.resolve(t),r.promise.then(e,n,i)}function p(t){var e=new c,n=0,r=ir(t)?[]:{};return i(t,function(t,i){n++,f(t).then(function(t){r[i]=t,--n||e.resolve(r)},function(t){e.reject(t)})}),0===n&&e.resolve(r),e.promise}function m(t){var e=r();return i(t,function(t){f(t).then(e.resolve,e.reject)}),e.promise}function g(t){function e(t){i.resolve(t)}function n(t){i.reject(t)}if(!T(t))throw y("norslvr","Expected resolverFn, got '{0}'",t);var i=new c;return t(e,n),i.promise}var y=e("$q",TypeError);u(o.prototype,{then:function(t,e,n){if(v(t)&&v(e)&&v(n))return this;var i=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),this.$$state.status>0&&l(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return h(e,b,t)},function(e){return h(e,d,t)},e)}}),u(c.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(y("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){function e(t){s||(s=!0,o.$$resolve(t))}function i(t){s||(s=!0,o.$$reject(t))}var r,o=this,s=!1;try{(_(t)||T(t))&&(r=t&&t.then),T(r)?(this.promise.$$state.status=-1,r.call(t,e,i,a(this,this.notify))):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(u){i(u),n(u)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(e){var i=this.promise.$$state.pending;this.promise.$$state.status<=0&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;o<a;o++){r=i[o][0],t=i[o][3];try{r.notify(T(t)?t(e):e)}catch(s){n(s)}}})}});var b=f;return g.prototype=o.prototype,g.defer=r,g.reject=d,g.when=f,g.resolve=b,g.all=p,g.race=m,g}function Tn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(t){var e=n(t);return function(){i(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=r,o}]}function wn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var r=10,o=e("$rootScope"),s=null,l=null;this.digestTtl=function(t){return arguments.length&&(r=t),r},this.$get=["$exceptionHandler","$parse","$browser",function(e,u,c){function d(t){t.currentScope.$$destroyed=!0}function h(t){9===Vi&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(t){if(w.$$phase)throw o("inprog","{0} already in progress",w.$$phase);w.$$phase=t}function g(){w.$$phase=null}function y(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function E(){}function x(){for(;j.length;)try{j.shift()()}catch(t){e(t)}l=null}function C(){null===l&&(l=c.defer(function(){w.$apply(x)}))}p.prototype={constructor:p,$new:function(e,n){var i;return n=n||this,e?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!==this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var r=u(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,a=o.$$watchers,l={fn:e,last:E,get:r,exp:i||t,eq:!!n};return s=null,T(e)||(l.fn=f),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(l),a.$$digestWatchIndex++,y(this,1),function(){var t=F(a,l);t>=0&&(y(o,-1),t<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(o,o,s)):e(o,r,s)}var r=new Array(t.length),o=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(o,o,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,i){o[0]=t,r[0]=n,e(o,t===n?o:r,i)}):(i(t,function(t,e){var i=s.$watch(t,function(t,i){o[e]=t,r[e]=i,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function i(t){o=t;var e,i,r,s,l;if(!v(o)){if(_(o))if(n(o)){a!==f&&(a=f,g=a.length=0,d++),e=o.length,g!==e&&(d++,a.length=g=e);for(var u=0;u<e;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(d++,a[u]=s)}else{a!==p&&(a=p={},g=0,d++),e=0;for(i in o)$i.call(o,i)&&(e++,s=o[i],l=a[i],i in a?(r=l!==l&&s!==s,r||l===s||(d++,a[i]=s)):(g++,a[i]=s,d++));if(g>e){d++;for(i in a)$i.call(o,i)||(g--,delete a[i])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,e(o,o,l)):e(o,s,l),c)if(_(o))if(n(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var i in o)$i.call(o,i)&&(s[i]=o[i])}else s=o}i.$stateful=!0;var o,a,s,l=this,c=e.length>1,d=0,h=u(t,i),f=[],p={},m=!0,g=0;return this.$watch(h,r)},$digest:function(){var t,n,i,a,u,d,h,f,p,v,y,_=r,b=this,C=[];m("$digest"),c.$$checkUrlChange(),this===w&&null!==l&&(c.defer.cancel(l),x()),s=null;do{h=!1,p=b;for(var j=0;j<S.length;j++){try{y=S[j],y.scope.$eval(y.expression,y.locals)}catch(A){e(A)}s=null}S.length=0;t:do{if(d=p.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(t=d[d.$$digestWatchIndex])if(u=t.get,(n=u(p))===(i=t.last)||(t.eq?G(n,i):nr(n)&&nr(i))){if(t===s){h=!1;break t}}else h=!0,s=t,t.last=t.eq?$(n,null):n,a=t.fn,a(n,i===E?n:i,p),_<5&&(v=4-_,C[v]||(C[v]=[]),C[v].push({msg:T(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:i}))}catch(A){e(A)}if(!(f=p.$$watchersCount&&p.$$childHead||p!==b&&p.$$nextSibling))for(;p!==b&&!(f=p.$$nextSibling);)p=p.$parent}while(p=f);if((h||S.length)&&!_--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",r,C)}while(h||S.length);for(g();O<M.length;)try{M[O++]()}catch(A){e(A)}M.length=O=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===w&&c.$$applicationDestroyed(),y(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){w.$$phase||S.length||c.defer(function(){S.length&&w.$digest()}),S.push({scope:this,expression:u(t),locals:e})},$$postDigest:function(t){M.push(t)},$apply:function(t){try{m("$apply");try{return this.$eval(t)}finally{g()}}catch(n){e(n)}finally{try{w.$digest()}catch(n){throw e(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&j.push(e),t=u(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);i!==-1&&(n[i]=null,b(r,1,t))}},$emit:function(t,n){var i,r,o,a=[],s=this,l=!1,u={name:t,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=U([u],arguments,1);do{for(i=s.$$listeners[t]||a,u.currentScope=s,r=0,o=i.length;r<o;r++)if(i[r])try{i[r].apply(null,c)}catch(d){e(d)}else i.splice(r,1),r--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(t,n){var i=this,r=i,o=i,a={name:t,targetScope:i,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!i.$$listenerCount[t])return a;for(var s,l,u,c=U([a],arguments,1);r=o;){for(a.currentScope=r,s=r.$$listeners[t]||[],l=0,u=s.length;l<u;l++)if(s[l])try{s[l].apply(null,c)}catch(d){e(d)}else s.splice(l,1),l--,u--;if(!(o=r.$$listenerCount[t]&&r.$$childHead||r!==i&&r.$$nextSibling))for(;r!==i&&!(o=r.$$nextSibling);)r=r.$parent}return a.currentScope=null,a}};var w=new p,S=w.$$asyncQueue=[],M=w.$$postDigestQueue=[],j=w.$$applyAsyncQueue=[],O=0;return w}]}function Sn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=kn(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Mn(t){if("self"===t)return t;if(E(t)){if(t.indexOf("***")>-1)throw Vo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=ar(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$");
}if(w(t))return new RegExp("^"+t.source+"$");throw Vo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function jn(t){var e=[];return y(t)&&i(t,function(t){e.push(Mn(t))}),e}function On(){this.SCE_CONTEXTS=zo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=jn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=jn(t)),e},this.$get=["$injector",function(n){function i(t,e){return"self"===t?Dn(e):!!t.exec(e.href)}function r(n){var r,o,a=kn(n.toString()),s=!1;for(r=0,o=t.length;r<o;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;r<o;r++)if(i(e[r],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=d.hasOwnProperty(t)?d[t]:null;if(!n)throw Vo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||v(e)||""===e)return e;if("string"!=typeof e)throw Vo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof c?t.$$unwrapTrustedValue():t}function l(t,e){if(null===e||v(e)||""===e)return e;var n=d.hasOwnProperty(t)?d[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===zo.RESOURCE_URL){if(r(e))return e;throw Vo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===zo.HTML)return u(e);throw Vo("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(t){throw Vo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[zo.HTML]=o(c),d[zo.CSS]=o(c),d[zo.URL]=o(c),d[zo.JS]=o(c),d[zo.RESOURCE_URL]=o(d[zo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function An(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Vi<8)throw Vo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=vt(zo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=p),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return i(zo,function(t,e){var n=Gi(e);r[xt("parse_as_"+n)]=function(e){return o(t,e)},r[xt("get_trusted_"+n)]=function(e){return a(t,e)},r[xt("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Rn(){this.$get=["$window","$document",function(t,e){var n,i,r={},o=t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),a=!o&&t.history&&t.history.pushState,s=d((/android (\d+)/.exec(Gi((t.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,h=u.body&&u.body.style,f=!1,p=!1;if(h){for(var m in h)if(i=c.exec(m)){n=i[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in h&&"webkit"),f=!!("transition"in h||n+"Transition"in h),p=!!("animation"in h||n+"Animation"in h),!s||f&&p||(f=E(h.webkitTransition),p=E(h.webkitAnimation))}return{history:!(!a||s<4||l),hasEvent:function(t){if("input"===t&&Vi<=11)return!1;if(v(r[t])){var e=u.createElement("div");r[t]="on"+t in e}return r[t]},csp:sr(),vendorPrefix:n,transitions:f,animations:p,android:s}}]}function Pn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$templateCache","$http","$q","$sce",function(e,n,i,r){function o(a,s){function l(t){if(!s)throw Wo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,t.status,t.statusText);return i.reject(t)}o.totalPendingRequests++,E(a)&&!v(e.get(a))||(a=r.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return ir(c)?c=c.filter(function(t){return t!==Me}):c===Me&&(c=null),n.get(a,u({cache:e,transformResponse:c},t))["finally"](function(){o.totalPendingRequests--}).then(function(t){return e.put(a,t.data),t.data},l)}return o.totalPendingRequests=0,o}]}function In(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),o=[];return i(r,function(t){var r=tr.element(t).data("$binding");r&&i(r,function(i){if(n){var r=new RegExp("(^|\\s)"+ar(e)+"(\\s|\\||$)");r.test(i)&&o.push(t)}else i.indexOf(e)!==-1&&o.push(t)})}),o},r.findModels=function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=n?"=":"*=",a="["+i[r]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Ln(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,l){T(o)||(l=s,s=o,o=f);var u,c=B(arguments,3),d=y(l)&&!l,h=(d?i:n).defer(),p=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),r(e)}finally{delete a[p.$$timeoutId]}d||t.$apply()},s),p.$$timeoutId=u,a[u]=h,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function kn(t){var e=t;return Vi&&(qo.setAttribute("href",e),e=qo.href),qo.setAttribute("href",e),{href:qo.href,protocol:qo.protocol?qo.protocol.replace(/:$/,""):"",host:qo.host,search:qo.search?qo.search.replace(/^\?/,""):"",hash:qo.hash?qo.hash.replace(/^#/,""):"",hostname:qo.hostname,port:qo.port,pathname:"/"===qo.pathname.charAt(0)?qo.pathname:"/"+qo.pathname}}function Dn(t){var e=E(t)?kn(t):t;return e.protocol===Yo.protocol&&e.host===Yo.host}function Nn(){this.$get=m(t)}function Fn(t){function e(t){try{return t.cookie||""}catch(e){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},r={},o="";return function(){var t,a,s,l,u,c=e(i);if(c!==o)for(o=c,t=o.split("; "),r={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),l>0&&(u=n(a.substring(0,l)),v(r[u])&&(r[u]=n(a.substring(l+1))));return r}}function $n(){this.$get=Fn}function Gn(t){function e(r,o){if(_(r)){var a={};return i(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",zn),e("date",ai),e("filter",Un),e("json",si),e("limitTo",li),e("lowercase",ea),e("number",Wn),e("orderBy",ci),e("uppercase",na)}function Un(){return function(t,i,r,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,l=Vn(i);switch(l){case"function":a=i;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Bn(i,r,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Bn(t,e,n,i){var r,o=_(t)&&n in t;return e===!0?e=G:T(e)||(e=function(t,e){return!v(t)&&(null===t||null===e?t===e:!(_(e)||_(t)&&!g(t))&&(t=Gi(""+t),e=Gi(""+e),t.indexOf(e)!==-1))}),r=function(r){return o&&!_(r)?Hn(r,t[n],e,n,!1):Hn(r,t,e,n,i)}}function Hn(t,e,n,i,r,o){var a=Vn(t),s=Vn(e);if("string"===s&&"!"===e.charAt(0))return!Hn(t,e.substring(1),n,i,r);if(ir(t))return t.some(function(t){return Hn(t,e,n,i,r)});switch(a){case"object":var l;if(r){for(l in t)if("$"!==l.charAt(0)&&Hn(t[l],e,n,i,!0))return!0;return!o&&Hn(t,e,n,i,!1)}if("object"===s){for(l in e){var u=e[l];if(!T(u)&&!v(u)){var c=l===i,d=c?t:t[l];if(!Hn(d,u,n,i,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Vn(t){return null===t?"null":typeof t}function zn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return v(n)&&(n=e.CURRENCY_SYM),v(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:Kn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function Wn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Kn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function qn(t){var e,n,i,r,o,a=0;for((n=t.indexOf(Xo))>-1&&(t=t.replace(Xo,"")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charAt(i)===Jo;i++);if(i===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Jo;)o--;for(n-=i,e=[],r=0;i<=o;i++,r++)e[r]=+t.charAt(i)}return n>Ko&&(e=e.splice(0,Ko-1),a=n-1,n=1),{d:e,e:a,i:n}}function Yn(t,e,n,i){var r=t.d,o=r.length-t.i;e=v(e)?Math.min(Math.max(n,o),i):+e;var a=e+t.i,s=r[a];if(a>0){r.splice(Math.max(t.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),t.i=1,r.length=Math.max(1,a=e+1),r[0]=0;for(var u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(var c=0;c>a;c--)r.unshift(0),t.i++;r.unshift(1),t.i++}else r[a-1]++;for(;o<Math.max(0,e);o++)r.push(0);var d=r.reduceRight(function(t,e,n,i){return e+=t,i[n]=e%10,Math.floor(e/10)},0);d&&(r.unshift(d),t.i++)}function Kn(t,e,n,i,r){if(!E(t)&&!x(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,l=Math.abs(t)+"",u="";if(a)u="";else{o=qn(l),Yn(o,r,e.minFrac,e.maxFrac);var c=o.d,d=o.i,h=o.e,f=[];for(s=c.reduce(function(t,e){return t&&!e},!0);d<0;)c.unshift(0),d++;d>0?f=c.splice(d,c.length):(f=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),f.length&&(u+=i+f.join("")),h&&(u+="e+"+h)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function Xn(t,e,n,i){var r="";for((t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,r="-")),t=""+t;t.length<e;)t=Jo+t;return n&&(t=t.substr(t.length-e)),r+t}function Jn(t,e,n,i,r){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),Xn(a,e,i,r)}}function Zn(t,e,n){return function(i,r){var o=i["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=Ui(a+t);return r[s][o]}}function Qn(t,e,n){var i=-1*n,r=i>=0?"+":"";return r+=Xn(Math[i>0?"floor":"ceil"](i/60),2)+Xn(Math.abs(i%60),2)}function ti(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function ei(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ni(t){return function(e){var n=ti(e.getFullYear()),i=ei(e),r=+i-+n,o=1+Math.round(r/6048e5);return Xn(o,t)}}function ii(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ri(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function oi(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ai(t){function e(t){var e;if(e=t.match(n)){var i=new Date(0),r=0,o=0,a=e[8]?i.setUTCFullYear:i.setFullYear,s=e[8]?i.setUTCHours:i.setHours;e[9]&&(r=d(e[9]+e[10]),o=d(e[9]+e[11])),a.call(i,d(e[1]),d(e[2])-1,d(e[3]));var l=d(e[4]||0)-r,u=d(e[5]||0)-o,c=d(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(i,l,u,c,h),i}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,o){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,E(n)&&(n=ta.test(n)?d(n):e(n)),x(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)s=Qo.exec(r),s?(u=U(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return o&&(c=q(o,c),n=K(n,o,!0)),i(u,function(e){a=Zo[e],l+=a?a(n,t.DATETIME_FORMATS,c):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function si(){return function(t,e){return v(e)&&(e=2),z(t,e)}}function li(){return function(t,e,i){return e=Math.abs(Number(e))===1/0?Number(e):d(e),nr(e)?t:(x(t)&&(t=t.toString()),n(t)?(i=!i||isNaN(i)?0:d(i),i=i<0?Math.max(0,t.length+i):i,e>=0?ui(t,i,i+e):0===i?ui(t,e,t.length):ui(t,Math.max(0,i+e),i)):t)}}function ui(t,e,n){return E(t)?t.slice(e,n):Yi.call(t,e,n)}function ci(t){function i(e){return e.map(function(e){var n=1,i=p;if(T(e))i=e;else if(E(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var r=i();i=function(t){return t[r]}}return{get:i,descending:n}})}function r(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return T(t.valueOf)&&(t=t.valueOf(),r(t))?t:g(t)&&(t=t.toString(),r(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,i=t.type,r=e.type;if(i===r){var o=t.value,a=e.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(_(o)&&(o=t.index),_(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}return function(t,r,o,l){function u(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:d.map(function(n){return a(n.get(t),e)})}}function c(t,e){for(var n=0,i=d.length;n<i;n++){var r=f(t.predicateValues[n],e.predicateValues[n]);if(r)return r*d[n].descending*h}return f(t.tieBreaker,e.tieBreaker)*h}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);ir(r)||(r=[r]),0===r.length&&(r=["+"]);var d=i(r),h=o?-1:1,f=T(l)?l:s,p=Array.prototype.map.call(t,u);return p.sort(c),t=p.map(function(t){return t.value})}}function di(t){return T(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function hi(t,e){t.$name=e}function fi(t,e,n,r,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(e.name||e.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=oa,a.$rollbackViewValue=function(){i(s,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){i(s,function(t){t.$commitViewValue()})},a.$addControl=function(t){ht(t.$name,"input"),s.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],i(a.$pending,function(e,n){a.$setValidity(n,null,t)}),i(a.$error,function(e,n){a.$setValidity(n,null,t)}),i(a.$$success,function(e,n){a.$setValidity(n,null,t)}),F(s,t),t.$$parentForm=oa},Li({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];if(i){var r=i.indexOf(n);r===-1&&i.push(n)}else t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(F(i,n),0===i.length&&delete t[e])},$animate:r}),a.$setDirty=function(){r.removeClass(t,Ha),r.addClass(t,Va),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){r.setClass(t,Ha,Va+" "+aa),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,i(s,function(t){t.$setPristine()})},a.$setUntouched=function(){i(s,function(t){t.$setUntouched()})},a.$setSubmitted=function(){r.addClass(t,aa),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function pi(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function mi(t,e,n,i,r,o){gi(t,e,n,i,r,o),pi(i)}function gi(t,e,n,i,r,o){var a=Gi(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,u()})}var l,u=function(t){if(l&&(o.defer.cancel(l),l=null),!s){var r=e.val(),u=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=or(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,u)}};if(r.hasEvent("input"))e.on("input",u);else{var c=function(t,e,n){l||(l=o.defer(function(){l=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",u),ba[a]&&i.$$hasNativeValidators&&a===n.type&&e.on(_a,function(t){if(!l){var e=this[Fi],n=e.badInput,i=e.typeMismatch;l=o.defer(function(){l=null,e.badInput===n&&e.typeMismatch===i||u(t)})}}),i.$render=function(){var t=i.$isEmpty(i.$viewValue)?"":i.$viewValue;e.val()!==t&&e.val(t)}}function vi(t,e){if(C(t))return t;if(E(t)){ga.lastIndex=0;var n=ga.exec(t);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,u=ti(i),c=7*(r-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(i,0,u.getDate()+c,o,a,s,l)}}return NaN}function yi(t,e){return function(n,r){var o,a;if(C(n))return n;if(E(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ca.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},i(o,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function _i(t,e,n,i){return function(r,o,a,s,l,u,c){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return y(t)&&!C(t)?n(t)||void 0:t}bi(r,o,a,s),gi(r,o,a,s,l,u);var f,p=s&&s.$options&&s.$options.timezone;if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var i=n(t,f);return p&&(i=K(i,p)),i}}),s.$formatters.push(function(t){if(t&&!C(t))throw Xa("datefmt","Expected `{0}` to be a date",t);return d(t)?(f=t,f&&p&&(f=K(f,p,!0)),c("date")(t,i,p)):(f=null,"")}),y(a.min)||a.ngMin){var m;s.$validators.min=function(t){return!d(t)||v(m)||n(t)>=m},a.$observe("min",function(t){m=h(t),s.$validate()})}if(y(a.max)||a.ngMax){var g;s.$validators.max=function(t){return!d(t)||v(g)||n(t)<=g},a.$observe("max",function(t){g=h(t),s.$validate()})}}}function bi(t,e,n,i){var r=e[0],o=i.$$hasNativeValidators=_(r.validity);o&&i.$parsers.push(function(t){var n=e.prop(Fi)||{};return n.badInput||n.typeMismatch?void 0:t})}function Ei(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:fa.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!x(e))throw Xa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function xi(t){return y(t)&&!x(t)&&(t=parseFloat(t)),nr(t)?void 0:t}function Ci(t){return(0|t)===t}function Ti(t){var e=t.toString(),n=e.indexOf(".");if(n===-1){if(-1<t&&t<1){var i=/e-(\d+)$/.exec(e);if(i)return Number(i[1])}return 0}return e.length-n-1}function wi(t,e,n){var i=Number(t);if(!Ci(i)||!Ci(e)||!Ci(n)){var r=Math.max(Ti(i),Ti(e),Ti(n)),o=Math.pow(10,r);i*=o,e*=o,n*=o}return(i-e)%n===0}function Si(t,e,n,i,r,o){bi(t,e,n,i),gi(t,e,n,i,r,o),Ei(i);var a,s;(y(n.min)||n.ngMin)&&(i.$validators.min=function(t){return i.$isEmpty(t)||v(a)||t>=a},n.$observe("min",function(t){a=xi(t),i.$validate()})),(y(n.max)||n.ngMax)&&(i.$validators.max=function(t){return i.$isEmpty(t)||v(s)||t<=s},n.$observe("max",function(t){s=xi(t),i.$validate()}))}function Mi(t,e,n,i,r,o){function a(t,i){e.attr(t,n[t]),n.$observe(t,i)}function s(t){if(d=xi(t),!nr(i.$modelValue))if(c){var n=e.val();d>n&&(n=d,e.val(n)),i.$setViewValue(n)}else i.$validate()}function l(t){if(h=xi(t),!nr(i.$modelValue))if(c){var n=e.val();h<n&&(e.val(h),n=h<d?d:h),i.$setViewValue(n)}else i.$validate()}function u(t){f=xi(t),nr(i.$modelValue)||(c&&i.$viewValue!==e.val()?i.$setViewValue(e.val()):i.$validate())}bi(t,e,n,i),Ei(i),gi(t,e,n,i,r,o);var c=i.$$hasNativeValidators&&"range"===e[0].type,d=c?0:void 0,h=c?100:void 0,f=c?1:void 0,p=e[0].validity,m=y(n.min),g=y(n.max),_=y(n.step),b=i.$render;i.$render=c&&y(p.rangeUnderflow)&&y(p.rangeOverflow)?function(){b(),i.$setViewValue(e.val())}:b,m&&(i.$validators.min=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||v(d)||e>=d},a("min",s)),g&&(i.$validators.max=c?function(){return!0}:function(t,e){return i.$isEmpty(e)||v(h)||e<=h},a("max",l)),_&&(i.$validators.step=c?function(){return!p.stepMismatch}:function(t,e){return i.$isEmpty(e)||v(f)||wi(e,d||0,f)},a("step",u))}function ji(t,e,n,i,r,o){gi(t,e,n,i,r,o),pi(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||da.test(n)}}function Oi(t,e,n,i,r,o){gi(t,e,n,i,r,o),pi(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||ha.test(n)}}function Ai(t,e,n,i){v(n.name)&&e.attr("name",a());var r=function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)};e.on("click",r),i.$render=function(){var t=n.value;e[0].checked=t==i.$viewValue},n.$observe("value",i.$render)}function Ri(t,e,n,i,r){var o;if(y(i)){if(o=t(i),!o.constant)throw Xa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(e)}return r}function Pi(t,e,n,i,r,o,a,s){var l=Ri(s,t,"ngTrueValue",n.ngTrueValue,!0),u=Ri(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){i.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return t===!1},i.$formatters.push(function(t){return G(t,l)}),i.$parsers.push(function(t){return t?l:u})}function Ii(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var i=0;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r===e[o])continue t;n.push(r)}return n}function o(t){var e=[];return ir(t)?(i(t,function(t){e=e.concat(o(t))}),e):E(t)?t.split(" "):_(t)?(i(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t){var e=d(t,1);l.$addClass(e)}function c(t){var e=d(t,-1);l.$removeClass(e)}function d(t,e){var n=s.data("$classCounts")||mt(),r=[];return i(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function h(t,e){var i=r(e,t),o=r(t,e);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(t){if(e===!0||(1&a.$index)===e){var n=o(t||[]);if(p){if(!G(t,p)){var i=o(p);h(i,n)}}else u(n)}p=ir(t)?t.map(function(t){return vt(t)}):vt(t)}var p;l.$observe("class",function(e){f(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(t,n){var i=1&t;if(i!==(1&n)){var r=o(p);i===e?u(r):c(r)}}),a.$watch(l[t],f,!0)}}}]}function Li(t){function e(t,e,s){v(e)?n("$pending",t,s):i("$pending",t,s),R(e)?e?(c(a.$error,t,s),u(a.$$success,t,s)):(u(a.$error,t,s),c(a.$$success,t,s)):(c(a.$error,t,s),c(a.$$success,t,s)),a.$pending?(r(qa,!0),a.$valid=a.$invalid=void 0,o("",null)):(r(qa,!1),a.$valid=ki(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[t]?void 0:!a.$error[t]&&(!!a.$$success[t]||null),o(t,l),a.$$parentForm.$setValidity(t,l,a)}function n(t,e,n){a[t]||(a[t]={}),u(a[t],e,n)}function i(t,e,n){a[t]&&c(a[t],e,n),ki(a[t])&&(a[t]=void 0)}function r(t,e){e&&!l[t]?(d.addClass(s,t),l[t]=!0):!e&&l[t]&&(d.removeClass(s,t),l[t]=!1)}function o(t,e){t=t?"-"+lt(t,"-"):"",r(Ua+t,e===!0),r(Ba+t,e===!1)}var a=t.ctrl,s=t.$element,l={},u=t.set,c=t.unset,d=t.$animate;l[Ba]=!(l[Ua]=s.hasClass(Ua)),a.$setValidity=e}function ki(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Di(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}var Ni=/^\/(.+)\/([a-z]*)$/,Fi="validity",$i=Object.prototype.hasOwnProperty,Gi=function(t){return E(t)?t.toLowerCase():t},Ui=function(t){return E(t)?t.toUpperCase():t},Bi=function(t){return E(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Hi=function(t){return E(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Gi=Bi,Ui=Hi);var Vi,zi,Wi,qi,Yi=[].slice,Ki=[].splice,Xi=[].push,Ji=Object.prototype.toString,Zi=Object.getPrototypeOf,Qi=e("ng"),tr=t.angular||(t.angular={}),er=0;Vi=t.document.documentMode;var nr=Number.isNaN||function(t){return t!==t};f.$inject=[],p.$inject=[];var ir=Array.isArray,rr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,or=function(t){return E(t)?t.trim():t},ar=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},sr=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!y(sr.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var i=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");sr.rules={noUnsafeEval:!i||i.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!i||i.indexOf("no-inline-style")!==-1}}else sr.rules={noUnsafeEval:e(),noInlineStyle:!1}}return sr.rules},lr=function(){if(y(lr.name_))return lr.name_;var e,n,i,r,o=cr.length;for(n=0;n<o;++n)if(i=cr[n],e=t.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=e.getAttribute(i+"jq");break}return lr.name_=r},ur=/:/g,cr=["ng-","data-ng-","ng:","x-ng-"],dr=it(t.document),hr=/[A-Z]/g,fr=!1,pr=1,mr=2,gr=3,vr=8,yr=9,_r=11,br={full:"1.5.11",major:1,minor:5,dot:11,codeName:"princely-quest"};At.expando="ng339";var Er=At.cache={},xr=1,Cr=function(t,e,n){t.addEventListener(e,n,!1)},Tr=function(t,e,n){t.removeEventListener(e,n,!1)};At._data=function(t){return this.cache[t[this.expando]]||{}};var wr=/([:\-_]+(.))/g,Sr=/^moz([A-Z])/,Mr={mouseleave:"mouseout",mouseenter:"mouseover"},jr=e("jqLite"),Or=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ar=/<|&#?\w+;/,Rr=/<([\w:-]+)/,Pr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ir={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ir.optgroup=Ir.option,Ir.tbody=Ir.tfoot=Ir.colgroup=Ir.caption=Ir.thead,Ir.th=Ir.td;var Lr=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},kr=At.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;"complete"===t.document.readyState?t.setTimeout(n):(this.on("DOMContentLoaded",n),At(t).on("load",n))},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return zi(t>=0?this[t]:this[this.length+t])},length:0,push:Xi,sort:[].sort,splice:[].splice},Dr={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Dr[Gi(t)]=t});var Nr={};i("input,select,option,textarea,button,form,details".split(","),function(t){Nr[t]=!0});var Fr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};i({data:Dt,removeData:Lt,hasData:wt,cleanData:St},function(t,e){At[e]=t}),i({data:Dt,inheritedData:Bt,scope:function(t){return zi.data(t,"$scope")||Bt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return zi.data(t,"$isolateScope")||zi.data(t,"$isolateScopeNoTemplate")},controller:Ut,injector:function(t){return Bt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Nt,css:function(t,e,n){return e=xt(e),y(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var i=t.nodeType;if(i!==gr&&i!==mr&&i!==vr){var r=Gi(e);if(Dr[r]){if(!y(n))return t[e]||(t.attributes.getNamedItem(e)||f).specified?r:void 0;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(y(n))t.setAttribute(e,n);else if(t.getAttribute){var o=t.getAttribute(e,2);return null===o?void 0:o}}},prop:function(t,e,n){return y(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(v(e)){var n=t.nodeType;return n===pr||n===gr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(v(e)){if(t.multiple&&"select"===N(t)){var n=[];return i(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return v(e)?t.innerHTML:(Pt(t,!0),void(t.innerHTML=e))},empty:Ht},function(t,e){At.prototype[e]=function(e,n){var i,r,o=this.length;if(t!==Ht&&v(2===t.length&&t!==Nt&&t!==Ut?e:n)){if(_(e)){for(i=0;i<o;i++)if(t===Dt)t(this[i],e);else for(r in e)t(this[i],r,e[r]);return this}for(var a=t.$dv,s=v(a)?Math.min(o,1):o,l=0;l<s;l++){var u=t(this[l],e,n);a=a?a+u:u}return a}for(i=0;i<o;i++)t(this[i],e,n);return this}}),i({removeData:Lt,on:function(t,e,n,i){if(y(i))throw jr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Tt(t)){var r=kt(t,!0),o=r.events,a=r.handle;a||(a=r.handle=Yt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length,u=function(e,i,r){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=i,"$destroy"===e||r||Cr(t,e,a)),s.push(n)};l--;)e=s[l],Mr[e]?(u(Mr[e],Xt),u(e,void 0,!0)):u(e)}},off:It,one:function(t,e,n){t=zi(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Pt(t),i(new At(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){t.nodeType===pr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===pr||n===_r){e=new At(e);for(var i=0,r=e.length;i<r;i++){var o=e[i];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===pr){var n=t.firstChild;i(new At(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Ot(t,zi(e).eq(0).clone()[0])},remove:Vt,detach:function(t){Vt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;if(i){e=new At(e);for(var r=0,o=e.length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:$t,removeClass:Ft,toggleClass:function(t,e,n){e&&i(e.split(" "),function(e){var i=n;v(i)&&(i=!Nt(t,e)),(i?$t:Ft)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==_r?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Rt,triggerHandler:function(t,e,n){var r,o,a,s=e.type||e,l=kt(t),c=l&&l.events,d=c&&c[s];d&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:t},e.type&&(r=u(r,e)),o=vt(d),a=n?[r].concat(n):[r],i(o,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){At.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;o<a;o++)v(r)?(r=t(this[o],e,n,i),y(r)&&(r=zi(r))):Gt(r,t(this[o],e,n,i));return y(r)?r:this}}),At.prototype.bind=At.prototype.on,At.prototype.unbind=At.prototype.off,Qt.prototype={put:function(t,e){this[Zt(t,this.nextUid)]=e},get:function(t){return this[Zt(t,this.nextUid)]},remove:function(t){var e=this[t=Zt(t,this.nextUid)];return delete this[t],e}};var $r=[function(){this.$get=[function(){return Qt}]}],Gr=/^([^(]+?)=>/,Ur=/^[^(]*\(\s*([^)]*)\)/m,Br=/,/,Hr=/^\s*(_?)(\S+?)\1\s*$/,Vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,zr=e("$injector");re.$$annotate=ie;var Wr=e("$animate"),qr=1,Yr="ng-animate",Kr=function(){this.$get=f},Xr=function(){var t=new Qt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function o(t,e,n){var r=!1;return e&&(e=E(e)?e.split(" "):ir(e)?e:[],i(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){i(e,function(e){var n=t.get(e);if(n){var r=le(e.attr("class")),o="",a="";i(n,function(t,e){var n=!!r[e];t!==n&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),i(e,function(t){o&&$t(t,o),a&&Ft(t,a)}),t.remove(e)}}),e.length=0}function s(n,i,s){var l=t.get(n)||{},u=o(l,i,!0),c=o(l,s,!1);(u||c)&&(t.put(n,l),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:f,on:f,off:f,pin:f,push:function(t,e,i,r){r&&r(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&s(t,i.addClass,i.removeClass);var o=new n;return o.complete(),o}}}]},Jr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Wr("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Yr+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Wr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Yr);
}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i=se(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&zi(i),r=r&&zi(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",ue(o))},move:function(n,i,r,o){return i=i&&zi(i),r=r&&zi(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",ue(o))},leave:function(e,n){return t.push(e,"leave",ue(n),function(){e.remove()})},addClass:function(e,n,i){return i=ue(i),i.addClass=ae(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=ue(i),i.removeClass=ae(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=ue(r),r.addClass=ae(r.addClass,n),r.removeClass=ae(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=ue(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,i):i,r=r||"ng-inline-animate",o.tempClasses=ae(o.tempClasses,r),t.push(e,"animate",o)}}}]}],Zr=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},Qr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,n,r,o){function a(t){this.setHost(t);var e=n(),i=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){var n=r[0];n&&n.hidden?i(t):e(t)},this._state=0}var s=0,l=1,u=2;return a.chain=function(t,e){function n(){return i===t.length?void e(!0):void t[i](function(t){return t===!1?void e(!1):(i++,void n())})}var i=0;n()},a.all=function(t,e){function n(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;i(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===u?t():this._doneCallbacks.push(t)},progress:f,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=l,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==u&&(i(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=u)}},a}]},to=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,i){function r(){return t(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=i||{};a.$$prepared||(a=$(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,l=new n;return{start:r,end:r}}}]},eo=e("$compile"),no=new pe;me.$inject=["$provide","$$sanitizeUriProvider"],ge.prototype.isFirstChange=function(){return this.previousValue===no};var io=/^((?:x|data)[:\-_])/i,ro=e("$controller"),oo=/^(\S+)(\s+as\s+([\w$]+))?$/,ao=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof zi&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},so="application/json",lo={"Content-Type":so+";charset=utf-8"},uo=/^\[|^\{(?!\{)/,co={"[":/]$/,"{":/}$/},ho=/^\)]\}',?\n/,fo=e("$http"),po=function(t){return function(){throw fo("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",t)}},mo=tr.$interpolateMinErr=e("$interpolate");mo.throwNoconcat=function(t){throw mo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},mo.interr=function(t,e){return mo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var go=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,i={};return{createCallback:function(t){var r="_"+(n.$$counter++).toString(36),o="angular.callbacks."+r,a=e(r);return i[o]=n[r]=a,o},wasCalled:function(t){return i[t].called},getResponse:function(t){return i[t].data},removeCallback:function(t){var e=i[t];delete n[e.id],delete i[t]}}}]},vo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,yo={http:80,https:443,ftp:21},_o=e("$location"),bo=/^\s*[\\\/]{2,}/,Eo={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Je("$$absUrl"),url:function(t){if(v(t))return this.$$url;var e=vo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Je("$$protocol"),host:Je("$$host"),port:Je("$$port"),path:Ze("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(E(t)||x(t))t=t.toString(),this.$$search=Z(t);else{if(!_(t))throw _o("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=$(t,{}),i(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:v(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Ze("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};i([Xe,Ke,Ye],function(t){t.prototype=Object.create(Eo),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Ye||!this.$$html5)throw _o("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(e)?null:e,this}});var xo=e("$parse"),Co=[].constructor,To=(!1).constructor,wo=Function.constructor,So=(0).constructor,Mo={}.constructor,jo="".constructor,Oo=Co.prototype,Ao=To.prototype,Ro=wo.prototype,Po=So.prototype,Io=Mo.prototype,Lo=jo.prototype,ko=Ro.call,Do=Ro.apply,No=Ro.bind,Fo=Io.valueOf,$o=mt();i("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){$o[t]=!0});var Go={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Uo=function(t){this.options=t};Uo.prototype={constructor:Uo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),i=n+this.peek(2),r=$o[e],o=$o[n],a=$o[i];if(r||o||a){var s=a?i:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),i=e.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var i=y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw xo("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,i,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Gi(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Go[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Bo=function(t,e){this.lexer=t,this.options=e};Bo.Program="Program",Bo.ExpressionStatement="ExpressionStatement",Bo.AssignmentExpression="AssignmentExpression",Bo.ConditionalExpression="ConditionalExpression",Bo.LogicalExpression="LogicalExpression",Bo.BinaryExpression="BinaryExpression",Bo.UnaryExpression="UnaryExpression",Bo.CallExpression="CallExpression",Bo.MemberExpression="MemberExpression",Bo.Identifier="Identifier",Bo.Literal="Literal",Bo.ArrayExpression="ArrayExpression",Bo.Property="Property",Bo.ObjectExpression="ObjectExpression",Bo.ThisExpression="ThisExpression",Bo.LocalsExpression="LocalsExpression",Bo.NGValueParameter="NGValueParameter",Bo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Bo.Program,body:t}},expressionStatement:function(){return{type:Bo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!hn(t))throw xo("lval","Trying to assign a value to a non l-value");t={type:Bo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Bo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Bo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Bo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Bo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=$(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Bo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Bo.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Bo.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Bo.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Bo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Bo.Identifier,name:t.text}},constant:function(){return{type:Bo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Bo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Bo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Bo.ObjectExpression,properties:e}},throwError:function(t,e){throw xo("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw xo("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw xo("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===i||a===r||!e&&!n&&!i&&!r)return o}return!1},expect:function(t,e,n,i){var r=this.peek(t,e,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{"this":{type:Bo.ThisExpression},$locals:{type:Bo.LocalsExpression}}},gn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},cn(r,n.$filter);var o,a="";if(this.stage="assign",o=fn(r)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=dn(r.body);n.stage="inputs",i(l,function(t,e){var i="fn"+e;n.state[i]={vars:[],body:[],own:{}},n.state.computing=i;var r=n.nextId();n.recurse(t,r),n.return_(r),n.state.inputs.push(i),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,en,rn,on,nn,an,sn,ln,t);return this.state=this.stage=void 0,c.literal=pn(r),c.constant=mn(r),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return i(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return i(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,o,a){var s,l,u,c,d,h=this;if(r=r||f,!a&&y(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,o,!0));switch(t.type){case Bo.Program:i(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){l=t}),n!==t.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case Bo.Literal:c=this.escape(t.value),this.assign(e,c),r(c);break;case Bo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){l=t}),c=t.operator+"("+this.ifDefined(l,0)+")",this.assign(e,c),r(c);break;case Bo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){l=t}),c="+"===t.operator?this.plus(s,l):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(l,0):"("+s+")"+t.operator+"("+l+")",this.assign(e,c),r(c);break;case Bo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Bo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Bo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),en(t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.not(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),(h.state.expensiveChecks||yn(t.name))&&h.addEnsureSafeObject(e),r(e);break;case Bo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){o&&1!==o&&h.addEnsureSafeAssignContext(s),t.computed?(l=h.nextId(),h.recurse(t.property,l),h.getStringValue(l),h.addEnsureSafeMemberName(l),o&&1!==o&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),c=h.ensureSafeObject(h.computedMember(s,l)),h.assign(e,c),n&&(n.computed=!0,n.name=l)):(en(t.property.name),o&&1!==o&&h.if_(h.not(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),c=h.nonComputedMember(s,t.property.name),(h.state.expensiveChecks||yn(t.property.name))&&(c=h.ensureSafeObject(c)),h.assign(e,c),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!o);break;case Bo.CallExpression:e=e||this.nextId(),t.filter?(l=h.filter(t.callee.name),u=[],i(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),u.push(e)}),c=l+"("+u.join(",")+")",h.assign(e,c),r(e)):(l=h.nextId(),s={},u=[],h.recurse(t.callee,l,s,function(){h.if_(h.notNull(l),function(){h.addEnsureSafeFunction(l),i(t.arguments,function(t){h.recurse(t,h.nextId(),void 0,function(t){u.push(h.ensureSafeObject(t))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),c=h.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=h.ensureSafeObject(c),h.assign(e,c)},function(){h.assign(e,"undefined")}),r(e)}));break;case Bo.AssignmentExpression:l=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,l),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),c=h.member(s.context,s.name,s.computed)+t.operator+l,h.assign(e,c),r(e||c)})},1);break;case Bo.ArrayExpression:u=[],i(t.elements,function(t){h.recurse(t,h.nextId(),void 0,function(t){u.push(t)})}),c="["+u.join(",")+"]",this.assign(e,c),r(c);break;case Bo.ObjectExpression:u=[],d=!1,i(t.properties,function(t){t.computed&&(d=!0)}),d?(e=e||this.nextId(),this.assign(e,"{}"),i(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Bo.Identifier?t.key.name:""+t.key.value,l=h.nextId(),h.recurse(t.value,l),h.assign(h.member(e,s,t.computed),l)})):(i(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){u.push(h.escape(e.key.type===Bo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),c="{"+u.join(",")+"}",this.assign(e,c)),r(e||c);break;case Bo.ThisExpression:this.assign(e,"s"),r("s");break;case Bo.LocalsExpression:this.assign(e,"l"),r("l");break;case Bo.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(E(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw xo("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},vn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,cn(r,n.$filter);var o,a;(o=fn(r))&&(a=this.recurse(o));var s,l=dn(r.body);l&&(s=[],i(l,function(t,e){var i=n.recurse(t);t.input=i,s.push(i),t.watchId=e}));var u=[];i(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?f:1===r.body.length?u[0]:function(t,e){var n;return i(u,function(i){n=i(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=pn(r),c.constant=mn(r),c},recurse:function(t,e,n){var r,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Bo.Literal:return this.value(t.value,e);case Bo.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case Bo.BinaryExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case Bo.LogicalExpression:return r=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](r,o,e);case Bo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Bo.Identifier:return en(t.name,s.expression),s.identifier(t.name,s.expensiveChecks||yn(t.name),e,n,s.expression);case Bo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(en(t.property.name,s.expression),o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(r,o,e,n,s.expression):this.nonComputedMember(r,o,s.expensiveChecks,e,n,s.expression);case Bo.CallExpression:return a=[],i(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,i,r){for(var s=[],l=0;l<a.length;++l)s.push(a[l](t,n,i,r));var u=o.apply(void 0,s,r);return e?{context:void 0,name:void 0,value:u}:u}:function(t,n,i,r){var l,u=o(t,n,i,r);if(null!=u.value){rn(u.context,s.expression),on(u.value,s.expression);for(var c=[],d=0;d<a.length;++d)c.push(rn(a[d](t,n,i,r),s.expression));l=rn(u.value.apply(u.context,c),s.expression)}return e?{value:l}:l};case Bo.AssignmentExpression:return r=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,i,a){var l=r(t,n,i,a),u=o(t,n,i,a);return rn(l.value,s.expression),an(l.context),l.context[l.name]=u,e?{value:u}:u};case Bo.ArrayExpression:return a=[],i(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,i,r));return e?{value:o}:o};case Bo.ObjectExpression:return a=[],i(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Bo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,i,r)]=a[s].value(t,n,i,r):o[a[s].key]=a[s].value(t,n,i,r);return e?{value:o}:o};case Bo.ThisExpression:return function(t){return e?{value:t}:t};case Bo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Bo.NGValueParameter:return function(t,n,i){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,i,r,o){var a=t(n,i,r,o);return a=y(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,i,r,o){var a=!t(n,i,r,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),l=e(i,r,o,a),u=ln(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a),l=e(i,r,o,a),u=(y(s)?s:0)-(y(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)*e(i,r,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)/e(i,r,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)%e(i,r,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)===e(i,r,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!==e(i,r,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)==e(i,r,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)!=e(i,r,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<e(i,r,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>e(i,r,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)<=e(i,r,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)>=e(i,r,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)&&e(i,r,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a)||e(i,r,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){var l=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s);return i?{value:l}:l}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n,i,r){return function(o,a,s,l){var u=a&&t in a?a:o;i&&1!==i&&u&&!u[t]&&(u[t]={});var c=u?u[t]:void 0;return e&&rn(c,r),n?{context:u,name:t,value:c}:c}},computedMember:function(t,e,n,i,r){return function(o,a,s,l){var u,c,d=t(o,a,s,l);return null!=d&&(u=e(o,a,s,l),u=nn(u),en(u,r),i&&1!==i&&(an(d),d&&!d[u]&&(d[u]={})),c=d[u],rn(c,r)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(t,e,n,i,r,o){return function(a,s,l,u){var c=t(a,s,l,u);r&&1!==r&&(an(c),c&&!c[e]&&(c[e]={}));var d=null!=c?c[e]:void 0;return(n||yn(e))&&rn(d,o),i?{context:c,name:e,value:d}:d}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var Ho=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Bo(t,n),this.astCompiler=n.csp?new vn(this.ast,e):new gn(this.ast,e)};Ho.prototype={constructor:Ho,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Vo=e("$sce"),zo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Wo=e("$compile"),qo=t.document.createElement("a"),Yo=kn(t.location.href);Fn.$inject=["$document"],Gn.$inject=["$provide"];var Ko=22,Xo=".",Jo="0";zn.$inject=["$locale"],Wn.$inject=["$locale"];var Zo={yyyy:Jn("FullYear",4,0,!1,!0),yy:Jn("FullYear",2,0,!0,!0),y:Jn("FullYear",1,0,!1,!0),MMMM:Zn("Month"),MMM:Zn("Month",!0),MM:Jn("Month",2,1),M:Jn("Month",1,1),LLLL:Zn("Month",!1,!0),dd:Jn("Date",2),d:Jn("Date",1),HH:Jn("Hours",2),H:Jn("Hours",1),hh:Jn("Hours",2,-12),h:Jn("Hours",1,-12),mm:Jn("Minutes",2),m:Jn("Minutes",1),ss:Jn("Seconds",2),s:Jn("Seconds",1),sss:Jn("Milliseconds",3),EEEE:Zn("Day"),EEE:Zn("Day",!0),a:ii,Z:Qn,ww:ni(2),w:ni(1),G:ri,GG:ri,GGG:ri,GGGG:oi},Qo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ta=/^-?\d+$/;ai.$inject=["$locale"];var ea=m(Gi),na=m(Ui);ci.$inject=["$parse"];var ia=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ji.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ra={};i(Dr,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!==t){var i=ve("ng-"+e),r=n;
"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),ra[i]=function(){return{restrict:"A",priority:100,link:r}}}}),i(Fr,function(t,e){ra[e]=function(){return{priority:100,link:function(t,n,i){if("ngPattern"===e&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ni);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(i[e],function(t){i.$set(e,t)})}}}}),i(["src","srcset","href"],function(t){var e=ve("ng-"+t);ra[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Ji.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){return e?(r.$set(a,e),void(Vi&&o&&i.prop(o,r[a]))):void("href"===t&&r.$set(a,null))})}}}});var oa={$addControl:f,$$renameControl:hi,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},aa="ng-submitted";fi.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var sa=function(t){return["$timeout","$parse",function(e,n){function i(t){return""===t?n('this[""]').assign:n(t).assign||f}var r={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:fi,compile:function(n,r){n.addClass(Ha).addClass(Ua);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,n,r,a){var s=a[0];if(!("action"in r)){var l=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};Cr(n[0],"submit",l),n.on("$destroy",function(){e(function(){Tr(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var d=o?i(s.$name):f;o&&(d(t,s),r.$observe(o,function(e){s.$name!==e&&(d(t,void 0),s.$$parentForm.$$renameControl(s,e),(d=i(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(t,void 0),u(s,oa)})}}}};return r}]},la=sa(),ua=sa(!0),ca=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,da=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ha=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,fa=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,pa=/^(\d{4,})-(\d{2})-(\d{2})$/,ma=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ga=/^(\d{4,})-W(\d\d)$/,va=/^(\d{4,})-(\d\d)$/,ya=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_a="keydown wheel mousedown",ba=mt();i("date,datetime-local,month,time,week".split(","),function(t){ba[t]=!0});var Ea={text:mi,date:_i("date",pa,yi(pa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":_i("datetimelocal",ma,yi(ma,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:_i("time",ya,yi(ya,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:_i("week",ga,vi,"yyyy-Www"),month:_i("month",va,yi(va,["yyyy","MM"]),"yyyy-MM"),number:Si,url:ji,email:Oi,radio:Ai,range:Mi,checkbox:Pi,hidden:f,button:f,submit:f,reset:f,file:f},xa=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){if(s[0]){var l=Gi(a.type);"range"!==l||a.hasOwnProperty("ngInputRange")||(l="text"),(Ea[l]||Ea.text)(r,o,a,s[0],e,t,n,i)}}}}}],Ca=/^(true|false|\d+)$/,Ta=function(){return{restrict:"A",priority:100,compile:function(t,e){return Ca.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},wa=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,i){t.$$addBindingInfo(n,i.ngBind),n=n[0],e.$watch(i.ngBind,function(t){n.textContent=v(t)?"":t})}}}}],Sa=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,i,r){var o=t(i.attr(r.$attr.ngBindTemplate));e.$$addBindingInfo(i,o.expressions),i=i[0],r.$observe("ngBindTemplate",function(t){i.textContent=v(t)?"":t})}}}}],Ma=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){var n=o(e);i.html(t.getTrustedHtml(n)||"")})}}}}],ja=m({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Oa=Ii("",!0),Aa=Ii("Odd",0),Ra=Ii("Even",1),Pa=di({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ia=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],La={},ka={blur:!0,focus:!0};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ve("ng-"+t);La[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};ka[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Da=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.$$createComment("end ngIf",r.ngIf),s={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=pt(s.clone),t.leave(u).done(function(t){t!==!1&&(u=null)}),s=null))})}}}],Na=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:tr.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var d,h,f,p=0,m=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).done(function(t){t!==!1&&(h=null)}),h=f,f=null)};i.$watch(o,function(o){var l=function(t){t===!1||!y(s)||s&&!i.$eval(s)||e()},h=++p;o?(t(o,!0).then(function(t){if(!i.$$destroyed&&h===p){var e=i.$new();u.template=t;var s=c(e,function(t){m(),n.enter(t,null,r).done(l)});d=e,f=s,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||h===p&&(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],Fa=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){return Ji.call(i[0]).match(/SVG/)?(i.empty(),void e(Mt(o.template,t.document).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),void e(i.contents())(n))}}}],$a=di({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ga=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var o=e.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?or(o):o,l=function(t){if(!v(t)){var e=[];return t&&i(t.split(s),function(t){t&&e.push(a?or(t):t)}),e}};r.$parsers.push(l),r.$formatters.push(function(t){if(ir(t))return t.join(o)}),r.$isEmpty=function(t){return!t||!t.length}}}},Ua="ng-valid",Ba="ng-invalid",Ha="ng-pristine",Va="ng-dirty",za="ng-untouched",Wa="ng-touched",qa="ng-pending",Ya="ng-empty",Ka="ng-not-empty",Xa=e("ngModel"),Ja=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,n,r,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(t),this.$$parentForm=oa;var d,h=o(n.ngModel),p=h.assign,m=h,g=p,_=null,b=this;this.$$setOptions=function(t){if(b.$options=t,t&&t.getterSetter){var e=o(n.ngModel+"()"),i=o(n.ngModel+"($$$p)");m=function(t){var n=h(t);return T(n)&&(n=e(t)),n},g=function(t,e){T(h(t))?i(t,{$$$p:e}):p(t,e)}}else if(!h.assign)throw Xa("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,X(r))},this.$render=f,this.$isEmpty=function(t){return v(t)||""===t||null===t||t!==t},this.$$updateEmptyClasses=function(t){b.$isEmpty(t)?(a.removeClass(r,Ka),a.addClass(r,Ya)):(a.removeClass(r,Ya),a.addClass(r,Ka))};var E=0;Li({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){b.$dirty=!1,b.$pristine=!0,a.removeClass(r,Va),a.addClass(r,Ha)},this.$setDirty=function(){b.$dirty=!0,b.$pristine=!1,a.removeClass(r,Ha),a.addClass(r,Va),b.$$parentForm.$setDirty()},this.$setUntouched=function(){b.$touched=!1,b.$untouched=!0,a.setClass(r,za,Wa)},this.$setTouched=function(){b.$touched=!0,b.$untouched=!1,a.setClass(r,Wa,za)},this.$rollbackViewValue=function(){s.cancel(_),b.$viewValue=b.$$lastCommittedViewValue,b.$render()},this.$validate=function(){if(!nr(b.$modelValue)){var t=b.$$lastCommittedViewValue,e=b.$$rawModelValue,n=b.$valid,i=b.$modelValue,r=b.$options&&b.$options.allowInvalid;b.$$runValidators(e,t,function(t){r||n===t||(b.$modelValue=t?e:void 0,b.$modelValue!==i&&b.$$writeModelToScope())})}},this.$$runValidators=function(t,e,n){function r(){var t=b.$$parserName||"parse";return v(d)?(s(t,null),!0):(d||(i(b.$validators,function(t,e){s(e,null)}),i(b.$asyncValidators,function(t,e){s(e,null)})),s(t,d),d)}function o(){var n=!0;return i(b.$validators,function(i,r){var o=i(t,e);n=n&&o,s(r,o)}),!!n||(i(b.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],r=!0;i(b.$asyncValidators,function(i,o){var a=i(t,e);if(!P(a))throw Xa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(r)},f):l(!0)}function s(t,e){c===E&&b.$setValidity(t,e)}function l(t){c===E&&n(t)}E++;var c=E;return r()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var t=b.$viewValue;s.cancel(_),(b.$$lastCommittedViewValue!==t||""===t&&b.$$hasNativeValidators)&&(b.$$updateEmptyClasses(t),b.$$lastCommittedViewValue=t,b.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){b.$modelValue!==o&&b.$$writeModelToScope()}var n=b.$$lastCommittedViewValue,i=n;if(d=!v(i)||void 0)for(var r=0;r<b.$parsers.length;r++)if(i=b.$parsers[r](i),v(i)){d=!1;break}nr(b.$modelValue)&&(b.$modelValue=m(t));var o=b.$modelValue,a=b.$options&&b.$options.allowInvalid;b.$$rawModelValue=i,a&&(b.$modelValue=i,e()),b.$$runValidators(i,b.$$lastCommittedViewValue,function(t){a||(b.$modelValue=t?i:void 0,e())})},this.$$writeModelToScope=function(){g(t,b.$modelValue),i(b.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){b.$viewValue=t,b.$options&&!b.$options.updateOnDefault||b.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,i=0,r=b.$options;r&&y(r.debounce)&&(n=r.debounce,x(n)?i=n:x(n[e])?i=n[e]:x(n["default"])&&(i=n["default"])),s.cancel(_),i?_=s(function(){b.$commitViewValue()},i):l.$$phase?b.$commitViewValue():t.$apply(function(){b.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==b.$modelValue&&(b.$modelValue===b.$modelValue||e===e)){b.$modelValue=b.$$rawModelValue=e,d=void 0;for(var n=b.$formatters,i=n.length,r=e;i--;)r=n[i](r);b.$viewValue!==r&&(b.$$updateEmptyClasses(r),b.$viewValue=b.$$lastCommittedViewValue=r,b.$render(),b.$$runValidators(b.$modelValue,b.$viewValue,f))}return e})}],Za=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ja,priority:1,compile:function(e){return e.addClass(Ha).addClass(za).addClass(Ua),{pre:function(t,e,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&r.$$parentForm.$$renameControl(r,t)}),t.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],Qa=/(\s+|^)default(\s+|$)/,ts=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=$(t.$eval(e.ngModelOptions)),y(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=or(this.$options.updateOn.replace(Qa,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},es=di({terminal:!0,priority:1e3}),ns=e("ngOptions"),is=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,rs=["$compile","$document","$parse",function(e,r,o){function a(t,e,i){function r(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}function a(t){var e;if(!u&&n(t))e=t;else{e=[];for(var i in t)t.hasOwnProperty(i)&&"$"!==i.charAt(0)&&e.push(i)}return e}var s=t.match(is);if(!s)throw ns("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,X(e));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],h=o(s[2]?s[1]:l),f=c&&o(c),p=f||h,m=d&&o(d),g=d?function(t,e){return m(i,e)}:function(t){return Zt(t)},v=function(t,e){return g(t,C(t,e))},y=o(s[2]||s[1]),_=o(s[3]||""),b=o(s[4]||""),E=o(s[8]),x={},C=u?function(t,e){return x[u]=e,x[l]=t,x}:function(t){return x[l]=t,x};return{trackBy:d,getTrackByValue:v,getWatchables:o(E,function(t){var e=[];t=t||[];for(var n=a(t),r=n.length,o=0;o<r;o++){var l=t===n?o:n[o],u=t[l],c=C(u,l),d=g(u,c);if(e.push(d),s[2]||s[1]){var h=y(i,c);e.push(h)}if(s[4]){var f=b(i,c);e.push(f)}}return e}),getOptions:function(){for(var t=[],e={},n=E(i)||[],o=a(n),s=o.length,l=0;l<s;l++){var u=n===o?l:o[l],c=n[u],h=C(c,u),f=p(i,h),m=g(f,h),x=y(i,h),T=_(i,h),w=b(i,h),S=new r(m,f,x,T,w);t.push(S),e[m]=S}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return d?$(t.viewValue):t.viewValue}}}}}function s(t,n,o,s){function c(t,e){var n=l.cloneNode(!1);e.appendChild(n),d(t,n)}function d(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function h(){var t=T&&p.readValue();if(T)for(var e=T.items.length-1;e>=0;e--){var i=T.items[e];Vt(y(i.group)?i.element.parentNode:i.element)}T=w.getOptions();var r={};if(E&&n.prepend(f),T.items.forEach(function(t){var e;y(t.group)?(e=r[t.group],e||(e=u.cloneNode(!1),S.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),c(t,e)):c(t,S)}),n[0].appendChild(S),m.$render(),!m.$isEmpty(t)){var o=p.readValue(),a=w.trackBy||g;(a?G(t,o):t===o)||(m.$setViewValue(o),m.$render())}}for(var f,p=s[0],m=s[1],g=o.multiple,v=0,_=n.children(),b=_.length;v<b;v++)if(""===_[v].value){f=_.eq(v);break}var E=!!f,x=!1,C=zi(l.cloneNode(!1));C.val("?");var T,w=a(o.ngOptions,n,t),S=r[0].createDocumentFragment(),M=function(){E||n.prepend(f),n.val(""),x&&(f.prop("selected",!0),f.attr("selected",!0))},j=function(){E?x&&f.removeAttr("selected"):f.remove()},O=function(){n.prepend(C),n.val("?"),C.prop("selected",!0),C.attr("selected",!0)},A=function(){C.remove()};g?(m.$isEmpty=function(t){return!t||0===t.length},p.writeValue=function(t){T.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=T.getOptionFromViewValue(t);e&&(e.element.selected=!0)})},p.readValue=function(){var t=n.val()||[],e=[];return i(t,function(t){var n=T.selectValueMap[t];n&&!n.disabled&&e.push(T.getViewValueFromOption(n))}),e},w.trackBy&&t.$watchCollection(function(){if(ir(m.$viewValue))return m.$viewValue.map(function(t){return w.getTrackByValue(t)})},function(){m.$render()})):(p.writeValue=function(t){var e=T.selectValueMap[n.val()],i=T.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),i?(n[0].value!==i.selectValue&&(A(),j(),n[0].value=i.selectValue,i.element.selected=!0),i.element.setAttribute("selected","selected")):null===t||E?(A(),M()):(j(),O())},p.readValue=function(){var t=T.selectValueMap[n.val()];return t&&!t.disabled?(j(),A(),T.getViewValueFromOption(t)):null},w.trackBy&&t.$watch(function(){return w.getTrackByValue(m.$viewValue)},function(){m.$render()})),E?(f.remove(),e(f)(t),f[0].nodeType===vr?(x=!1,p.registerOption=function(t,e){""===e.val()&&(x=!0,f=e,f.removeClass("ng-scope"),m.$render(),e.on("$destroy",function(){f=void 0,x=!1}))}):(f.removeClass("ng-scope"),x=!0)):f=zi(l.cloneNode(!1)),n.empty(),h(),t.$watchCollection(w.getWatchables,h)}var l=t.document.createElement("option"),u=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,i){i[0].registerOption=f},post:s}}}],os=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,m=a.$eval(h)||{},g={},y=e.startSymbol(),_=e.endSymbol(),b=y+d+"-"+p+_,E=tr.noop;i(l,function(t,e){var n=o.exec(e);if(n){var i=(n[1]?"-":"")+Gi(n[2]);m[i]=s.attr(l.$attr[e])}}),i(m,function(t,n){g[n]=e(t.replace(r,b))}),a.$watch(d,function(e){var i=parseFloat(e),r=nr(i);if(r||i in m||(i=t.pluralCat(i-p)),!(i===c||r&&nr(c))){E();var o=g[i];v(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),E=f,u()):E=a.$watch(o,u),c=i}})}}}],as=["$parse","$animate","$compile",function(t,r,o){var a="$$NG_REMOVED",s=e("ngRepeat"),l=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},u=function(t){return t.clone[0]},c=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,d){var h=d.ngRepeat,f=o.$$createComment("end ngRepeat",h),p=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var m=p[1],g=p[2],v=p[3],y=p[4];if(p=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!p)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var _=p[3]||p[1],b=p[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var E,x,C,T,w={$id:Zt};return y?E=t(y):(C=function(t,e){return Zt(e)},T=function(t){return t}),function(t,e,o,d,p){E&&(x=function(e,n,i){return b&&(w[b]=e),w[_]=n,w.$index=i,E(t,w)});var m=mt();t.$watchCollection(g,function(o){var d,g,y,E,w,S,M,j,O,A,R,P,I=e[0],L=mt();if(v&&(t[v]=o),n(o))O=o,j=x||C;else{j=x||T,O=[];for(var k in o)$i.call(o,k)&&"$"!==k.charAt(0)&&O.push(k)}for(E=O.length,R=new Array(E),d=0;d<E;d++)if(w=o===O?d:O[d],S=o[w],M=j(w,S,d),m[M])A=m[M],delete m[M],L[M]=A,R[d]=A;else{if(L[M])throw i(R,function(t){t&&t.scope&&(m[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,M,S);R[d]={id:M,scope:void 0,clone:void 0},L[M]=!0}for(var D in m){if(A=m[D],P=pt(A.clone),r.leave(P),P[0].parentNode)for(d=0,g=P.length;d<g;d++)P[d][a]=!0;A.scope.$destroy()}for(d=0;d<E;d++)if(w=o===O?d:O[d],S=o[w],A=R[d],A.scope){y=I;do y=y.nextSibling;while(y&&y[a]);u(A)!==y&&r.move(pt(A.clone),null,I),I=c(A),l(A.scope,d,_,S,b,w,E)}else p(function(t,e){A.scope=e;var n=f.cloneNode(!1);t[t.length++]=n,r.enter(t,null,I),I=n,A.clone=t,L[A.id]=A,l(A.scope,d,_,S,b,w,E)});m=L})}}}}],ss="ng-hide",ls="ng-hide-animate",us=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,ss,{tempClasses:ls})})}}}],cs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,ss,{tempClasses:ls})})}}}],ds=di(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),hs=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],d=[],h=function(t,e){return function(n){n!==!1&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,o;c.length;)t.cancel(c.pop());for(r=0,o=d.length;r<o;++r){var s=pt(u[r].clone);d[r].$destroy();var f=c[r]=t.leave(s);f.done(h(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&i(l,function(n){n.transclude(function(i,r){d.push(r);var o=n.element;i[i.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:i};u.push(a),t.enter(i,o.parent(),o)})})})}}}],fs=di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,o){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});i(a,function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:o,element:e})})}}),ps=di({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ms=e("ngTransclude"),gs=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,i,r,o){function a(t,n){t.length?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}if(!o)throw ms("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(e));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var l=i.ngTransclude||i.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],vs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var i=n.id,r=e[0].text;t.put(i,r)}}}}],ys={$setViewValue:f,$render:f},_s=["$element","$scope",function(e,n){var i=this,r=new Qt;i.ngModelCtrl=ys,i.unknownOption=zi(t.document.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Zt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},n.$on("$destroy",function(){i.renderUnknownOption=f}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(t,e){if(e[0].nodeType!==vr){ht(t,'"option value"'),""===t&&(i.emptyOption=e);var n=r.get(t)||0;r.put(t,n+1),i.ngModelCtrl.$render(),Di(e)}},i.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.remove(t),""===t&&(i.emptyOption=void 0)):r.put(t,e-1))},i.hasOption=function(t){return!!r.get(t)},i.registerOption=function(t,e,n,r,o){if(r){var a;n.$observe("value",function(t){y(a)&&i.removeOption(a),a=t,i.addOption(t,e)})}else o?t.$watch(o,function(t,r){n.$set("value",t),r!==t&&i.removeOption(r),i.addOption(t,e)}):i.addOption(n.value,e);e.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],bs=function(){function t(t,e,n,r){var o=r[1];if(o){var a=r[0];if(a.ngModelCtrl=o,e.on("change",function(){t.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return i(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Qt(t);i(e.find("option"),function(t){t.selected=y(n.get(t.value))})};var s,l=NaN;t.$watch(function(){l!==o.$viewValue||G(s,o.$viewValue)||(s=vt(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(t){return!t||0===t.length}}}}function e(t,e,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:_s,priority:1,link:{pre:t,post:e}}},Es=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var i,r;return y(n.ngValue)?i=!0:y(n.value)?i=t(n.value,!0):(r=t(e.text(),!0),r||n.$set("value",e.text())),function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,i,r)}}}}],xs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Cs=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(E(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,X(n));o=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||v(o)||o.test(e)}}}}},Ts=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){var e=d(t);r=nr(e)?-1:e,i.$validate()}),i.$validators.maxlength=function(t,e){return r<0||i.$isEmpty(e)||e.length<=r}}}}},ws=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=d(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(ut(),bt(tr),tr.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,n){var i=n;void 0===i&&(i=Math.min(e(t),3));var r=Math.pow(10,i),o=(t*r|0)%r;return{v:i,f:o}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var r=0|t,o=n(t,e);return 1==r&&0==o.v?i.ONE:i.OTHER}})}]),void zi(t.document).ready(function(){rt(t.document,ot)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e){"use strict";function n(t,e,n){if(!t)throw mt("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(K(t)&&(t=t.join(" ")),K(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function r(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function o(t,e,n){var i="";return t=K(t)?t:t&&tt(t)&&t.length?t.split(/\s+/):[],Y(t,function(t,r){t&&t.length>0&&(i+=r>0?" ":"",i+=n?e+t:t+e)}),i}function a(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function s(t){if(t instanceof nt)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===N)return t;break;default:return nt(l(t))}if(t.nodeType===N)return nt(t)}function l(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===N)return n}}function u(t,e,n){Y(e,function(e){t.addClass(e,n)})}function c(t,e,n){Y(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(u(t,e,n.addClass),n.addClass=null),n.removeClass&&(c(t,e,n.removeClass),n.removeClass=null)}}function h(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||it;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=it},t.$$prepared=!0}return t}function f(t,e){p(t,e),m(t,e)}function p(t,e){e.from&&(t.css(e.from),e.from=null)}function m(t,e){e.to&&(t.css(e.to),e.to=null)}function g(t,e,n){var i=e.options||{},r=n.options||{},o=(i.addClass||"")+" "+(r.addClass||""),a=(i.removeClass||"")+" "+(r.removeClass||""),s=v(t.attr("class"),o,a);r.preparationClasses&&(i.preparationClasses=T(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==it?i.domOperation:null;return q(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,e.addClass=i.addClass,e.removeClass=i.removeClass,i}function v(t,e,n){function i(t){tt(t)&&(t=t.split(" "));var e={};return Y(t,function(t){t.length&&(e[t]=!0)}),e}var r=1,o=-1,a={};t=i(t),e=i(e),Y(e,function(t,e){a[e]=r}),n=i(n),Y(n,function(t,e){a[e]=a[e]===r?null:o});var s={addClass:"",removeClass:""};return Y(a,function(e,n){var i,a;e===r?(i="addClass",a=!t[n]||t[n+$]):e===o&&(i="removeClass",a=t[n]||t[n+F]),a&&(s[i].length&&(s[i]+=" "),s[i]+=n)}),s}function y(t){return t instanceof nt?t[0]:t}function _(t,e,n){var i="";e&&(i=o(e,G,!0)),n.addClass&&(i=T(i,o(n.addClass,F))),n.removeClass&&(i=T(i,o(n.removeClass,$))),i.length&&(n.preparationClasses=i,t.addClass(i))}function b(t,e){e.preparationClasses&&(t.removeClass(e.preparationClasses),e.preparationClasses=null),e.activeClasses&&(t.removeClass(e.activeClasses),e.activeClasses=null)}function E(t,e){var n=e?"-"+e+"s":"";return C(t,[ft,n]),[ft,n]}function x(t,e){var n=e?"paused":"",i=k+ut;return C(t,[i,n]),[i,n]}function C(t,e){var n=e[0],i=e[1];t.style[n]=i}function T(t,e){return t?e?t+" "+e:t:e}function w(t){return[ht,t+"s"]}function S(t,e){var n=e?dt:ft;return[n,t+"s"]}function M(t,e,n){var i=Object.create(null),r=t.getComputedStyle(e)||{};return Y(n,function(t,e){var n=r[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=j(n)),0===n&&(n=null),i[e]=n}}),i}function j(t){var e=0,n=t.split(/\s*,\s*/);return Y(n,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function O(t){return 0===t||null!=t}function A(t,e){var n=I,i=t+"s";return e?n+=rt:i+=" linear all",[n,i]}function R(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function P(t,e,n){Y(n,function(n){t[n]=X(t[n])?t[n]:e.style.getPropertyValue(n)})}var I,L,k,D,N=1,F="-add",$="-remove",G="ng-",U="-active",B="-prepare",H="ng-animate",V="$$ngAnimateChildren",z="";void 0===t.ontransitionend&&void 0!==t.onwebkittransitionend?(z="-webkit-",I="WebkitTransition",L="webkitTransitionEnd transitionend"):(I="transition",L="transitionend"),void 0===t.onanimationend&&void 0!==t.onwebkitanimationend?(z="-webkit-",
k="WebkitAnimation",D="webkitAnimationEnd animationend"):(k="animation",D="animationend");var W,q,Y,K,X,J,Z,Q,tt,et,nt,it,rt="Duration",ot="Property",at="Delay",st="TimingFunction",lt="IterationCount",ut="PlayState",ct=9999,dt=k+at,ht=k+rt,ft=I+at,pt=I+rt,mt=e.$$minErr("ng"),gt=["$$rAF",function(t){function e(t){i=i.concat(t),n()}function n(){if(i.length){for(var e=i.shift(),o=0;o<e.length;o++)e[o]();r||t(function(){r||n()})}}var i,r;return i=e.queue=[],e.waitUntilQuiet=function(e){r&&r(),r=t(function(){r=null,e(),n()})},e}],vt=["$interpolate",function(t){return{link:function(e,n,i){function r(t){t="on"===t||"true"===t,n.data(V,t)}var o=i.ngAnimateChildren;tt(o)&&0===o.length?n.data(V,!0):(r(t(o)(e)),i.$observe("ngAnimateChildren",r))}}}],yt="$$animateCss",_t=1e3,bt=3,Et=1.5,xt={transitionDuration:pt,transitionDelay:ft,transitionProperty:I+ot,animationDuration:ht,animationDelay:dt,animationIterationCount:k+lt},Ct={transitionDuration:pt,transitionDelay:ft,animationDuration:ht,animationDelay:dt},Tt=["$animateProvider",function(t){var e=R(),n=R();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(t,i,s,l,u,c,g,v){function _(t,e){var n="$$ngAnimateParentKey",i=t.parentNode,r=i[n]||(i[n]=++B);return r+"-"+t.getAttribute("class")+"-"+e}function b(n,i,r,o){var a=e.get(r);return a||(a=M(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(r,a),a}function T(r,a,s,l){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var c=o(a,"-stagger");i.addClass(r,c),u=M(t,r,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),i.removeClass(r,c),n.put(s,u)}return u||{}}function j(t){H.push(t),g.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=u(),i=0;i<H.length;i++)H[i](t);H.length=0})}function R(t,e,n){var i=b(t,e,n,xt),r=i.animationDelay,o=i.transitionDelay;return i.maxDelay=r&&o?Math.max(r,o):r||o,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var N=d(i),B=0,H=[];return function(t,n){function u(){g()}function d(){g(!0)}function g(e){if(!(X||Z&&J)){X=!0,J=!1,V.$$skipPreparationClasses||i.removeClass(t,xt),i.removeClass(t,wt),x(q,!1),E(q,!1),Y(ut,function(t){q.style[t[0]]=""}),N(t,V),f(t,V),Object.keys(z).length&&Y(z,function(t,e){t?q.style.setProperty(e,t):q.style.removeProperty(e)}),V.onDone&&V.onDone(),ft&&ft.length&&t.off(ft.join(" "),B);var n=t.data(yt);n&&(l.cancel(n[0].timer),t.removeData(yt)),Q&&Q.complete(!e)}}function b(t){$t.blockTransition&&E(q,t),$t.blockKeyframeAnimation&&x(q,!!t)}function M(){return Q=new s({end:u,cancel:d}),j(it),g(),{$$willAnimate:!1,start:function(){return Q},end:u}}function B(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),i=parseFloat(e.elapsedTime.toFixed(bt));Math.max(n-lt,0)>=nt&&i>=rt&&(Z=!0,g())}function H(){function e(){if(!X){if(b(!1),Y(ut,function(t){var e=t[0],n=t[1];q.style[e]=n}),N(t,V),i.addClass(t,wt),$t.recalculateTimingStyles){if(Tt=q.className+" "+xt,jt=_(q,Tt),Nt=R(q,Tt,jt),Ft=Nt.maxDelay,et=Math.max(Ft,0),rt=Nt.maxDuration,0===rt)return void g();$t.hasTransitions=Nt.transitionDuration>0,$t.hasAnimations=Nt.animationDuration>0}if($t.applyAnimationDelay&&(Ft="boolean"!=typeof V.delay&&O(V.delay)?parseFloat(V.delay):Ft,et=Math.max(Ft,0),Nt.animationDelay=Ft,Gt=S(Ft,!0),ut.push(Gt),q.style[Gt[0]]=Gt[1]),nt=et*_t,at=rt*_t,V.easing){var e,r=V.easing;$t.hasTransitions&&(e=I+st,ut.push([e,r]),q.style[e]=r),$t.hasAnimations&&(e=k+st,ut.push([e,r]),q.style[e]=r)}Nt.transitionDuration&&ft.push(L),Nt.animationDuration&&ft.push(D),lt=Date.now();var o=nt+Et*at,a=lt+o,s=t.data(yt)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(g)}if(u){var d=l(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(g),t.data(yt,s)}ft.length&&t.on(ft.join(" "),B),V.to&&(V.cleanupStyles&&P(z,q,Object.keys(V.to)),m(t,V))}}function n(){var e=t.data(yt);if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData(yt)}}if(!X){if(!q.parentNode)return void g();var r=function(t){if(Z)J&&t&&(J=!1,g());else if(J=!t,Nt.animationDuration){var e=x(q,J);J?ut.push(e):a(ut,e)}},o=kt>0&&(Nt.transitionDuration&&0===Ot.transitionDuration||Nt.animationDuration&&0===Ot.animationDuration)&&Math.max(Ot.animationDelay,Ot.transitionDelay);o?l(e,Math.floor(o*kt*_t),!1):e(),tt.resume=function(){r(!0)},tt.pause=function(){r(!1)}}}var V=n||{};V.$$prepared||(V=h(W(V)));var z={},q=y(t);if(!q||!q.parentNode||!v.enabled())return M();var X,J,Z,Q,tt,et,nt,rt,at,lt,ut=[],dt=t.attr("class"),ht=r(V),ft=[];if(0===V.duration||!c.animations&&!c.transitions)return M();var pt=V.event&&K(V.event)?V.event.join(" "):V.event,mt=pt&&V.structural,gt="",vt="";mt?gt=o(pt,G,!0):pt&&(gt=pt),V.addClass&&(vt+=o(V.addClass,F)),V.removeClass&&(vt.length&&(vt+=" "),vt+=o(V.removeClass,$)),V.applyClassesEarly&&vt.length&&N(t,V);var xt=[gt,vt].join(" ").trim(),Tt=dt+" "+xt,wt=o(xt,U),St=ht.to&&Object.keys(ht.to).length>0,Mt=(V.keyframeStyle||"").length>0;if(!Mt&&!St&&!xt)return M();var jt,Ot;if(V.stagger>0){var At=parseFloat(V.stagger);Ot={transitionDelay:At,animationDelay:At,transitionDuration:0,animationDuration:0}}else jt=_(q,Tt),Ot=T(q,xt,jt,Ct);V.$$skipPreparationClasses||i.addClass(t,xt);var Rt;if(V.transitionStyle){var Pt=[I,V.transitionStyle];C(q,Pt),ut.push(Pt)}if(V.duration>=0){Rt=q.style[I].length>0;var It=A(V.duration,Rt);C(q,It),ut.push(It)}if(V.keyframeStyle){var Lt=[k,V.keyframeStyle];C(q,Lt),ut.push(Lt)}var kt=Ot?V.staggerIndex>=0?V.staggerIndex:e.count(jt):0,Dt=0===kt;Dt&&!V.skipBlocking&&E(q,ct);var Nt=R(q,Tt,jt),Ft=Nt.maxDelay;et=Math.max(Ft,0),rt=Nt.maxDuration;var $t={};if($t.hasTransitions=Nt.transitionDuration>0,$t.hasAnimations=Nt.animationDuration>0,$t.hasTransitionAll=$t.hasTransitions&&"all"===Nt.transitionProperty,$t.applyTransitionDuration=St&&($t.hasTransitions&&!$t.hasTransitionAll||$t.hasAnimations&&!$t.hasTransitions),$t.applyAnimationDuration=V.duration&&$t.hasAnimations,$t.applyTransitionDelay=O(V.delay)&&($t.applyTransitionDuration||$t.hasTransitions),$t.applyAnimationDelay=O(V.delay)&&$t.hasAnimations,$t.recalculateTimingStyles=vt.length>0,($t.applyTransitionDuration||$t.applyAnimationDuration)&&(rt=V.duration?parseFloat(V.duration):rt,$t.applyTransitionDuration&&($t.hasTransitions=!0,Nt.transitionDuration=rt,Rt=q.style[I+ot].length>0,ut.push(A(rt,Rt))),$t.applyAnimationDuration&&($t.hasAnimations=!0,Nt.animationDuration=rt,ut.push(w(rt)))),0===rt&&!$t.recalculateTimingStyles)return M();if(null!=V.delay){var Gt;"boolean"!=typeof V.delay&&(Gt=parseFloat(V.delay),et=Math.max(Gt,0)),$t.applyTransitionDelay&&ut.push(S(Gt)),$t.applyAnimationDelay&&ut.push(S(Gt,!0))}return null==V.duration&&Nt.transitionDuration>0&&($t.recalculateTimingStyles=$t.recalculateTimingStyles||Dt),nt=et*_t,at=rt*_t,V.skipBlocking||($t.blockTransition=Nt.transitionDuration>0,$t.blockKeyframeAnimation=Nt.animationDuration>0&&Ot.animationDelay>0&&0===Ot.animationDuration),V.from&&(V.cleanupStyles&&P(z,q,Object.keys(V.from)),p(t,V)),$t.blockTransition||$t.blockKeyframeAnimation?b(rt):V.skipBlocking||E(q,!1),{$$willAnimate:!0,end:u,start:function(){if(!X)return tt={end:u,cancel:d,resume:null,pause:null},Q=new s(tt),j(H),Q}}}}]}],wt=["$$animationProvider",function(t){function e(t){return t.parentNode&&11===t.parentNode.nodeType}t.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",r="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,a,s,l,u,c,d){function h(t){return t.replace(/\bng-\S+\b/g,"")}function f(t,e){return tt(t)&&(t=t.split(" ")),tt(e)&&(e=e.split(" ")),t.filter(function(t){return e.indexOf(t)===-1}).join(" ")}function p(e,a,l){function u(t){var e={},n=y(t).getBoundingClientRect();return Y(["width","height","top","left"],function(t){var i=n[t];switch(t){case"top":i+=v.scrollTop;break;case"left":i+=v.scrollLeft}e[t]=Math.floor(i)+"px"}),e}function c(){var e=t(g,{addClass:r,delay:!0,from:u(a)});return e.$$willAnimate?e:null}function d(t){return t.attr("class")||""}function p(){var e=h(d(l)),n=f(e,_),i=f(_,e),a=t(g,{to:u(l),addClass:o+" "+n,removeClass:r+" "+i,delay:!0});return a.$$willAnimate?a:null}function m(){g.remove(),a.removeClass(n),l.removeClass(n)}var g=nt(y(a).cloneNode(!0)),_=h(d(g));a.addClass(n),l.addClass(n),g.addClass(i),b.append(g);var E,x=c();if(!x&&(E=p(),!E))return m();var C=x||E;return{start:function(){function t(){n&&n.end()}var e,n=C.start();return n.done(function(){return n=null,!E&&(E=p())?(n=E.start(),n.done(function(){n=null,m(),e.complete()}),n):(m(),void e.complete())}),e=new s({end:t,cancel:t})}}}function m(t,e,n,i){var r=g(t,it),o=g(e,it),a=[];if(Y(i,function(t){var e=t.out,i=t["in"],r=p(n,e,i);r&&a.push(r)}),r||o||0!==a.length)return{start:function(){function t(){Y(e,function(t){t.end()})}var e=[];r&&e.push(r.start()),o&&e.push(o.start()),Y(a,function(t){e.push(t.start())});var n=new s({end:t,cancel:t});return s.all(e,function(t){n.complete(t)}),n}}}function g(e){var n=e.element,i=e.options||{};e.structural&&(i.event=e.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===e.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=T(i.event,i.preparationClasses));var r=t(n,i);return r.$$willAnimate?r:null}if(!u.animations&&!u.transitions)return it;var v=d[0].body,_=y(l),b=nt(e(_)||v.contains(_)?_:v);return function(t){return t.from&&t.to?m(t.from,t.to,t.classes,t.anchors):g(t)}}]}],St=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,i){function r(n){n=K(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!r[a]&&(i.push(e.get(s)),r[a]=!0)}return i}var o=d(i);return function(t,e,i,a){function s(){a.domOperation(),o(t,a)}function l(){p=!0,s(),f(t,a)}function u(t,e,i,r,o){var a;switch(i){case"animate":a=[e,r.from,r.to,o];break;case"setClass":a=[e,v,y,o];break;case"addClass":a=[e,v,o];break;case"removeClass":a=[e,y,o];break;default:a=[e,o]}a.push(r);var s=t.apply(t,a);if(s)if(Z(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(Z(s))return s;return it}function c(t,e,i,r,o){var a=[];return Y(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,l=function(t){a||(a=!0,(o||it)(t),r.complete(!t))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,t,e,i,function(t){var e=t===!1;l(e)}),r})}),a}function d(t,e,i,r,o){var a=c(t,e,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(t,"removeClass",i,r,"beforeRemoveClass"),l=c(t,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=c(t,"removeClass",i,r,"removeClass"),l=c(t,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&Y(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){Y(e,function(e){t?e.cancel():e.end()})}}}var p=!1;3===arguments.length&&Q(i)&&(a=i,i=null),a=h(a),i||(i=t.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var m,g,v=a.addClass,y=a.removeClass,_=r(i);if(_.length){var b,E;"leave"===e?(E="leave",b="afterLeave"):(E="before"+e.charAt(0).toUpperCase()+e.substr(1),b=e),"enter"!==e&&"move"!==e&&(m=d(t,e,a,_,E)),g=d(t,e,a,_,b)}if(m||g){var x;return{$$willAnimate:!0,end:function(){return x?x.end():(l(),x=new n,x.complete(!0)),x},start:function(){function t(t){l(t),x.complete(t)}function e(e){p||((i||it)(e),t(e))}if(x)return x;x=new n;var i,r=[];return m&&r.push(function(t){i=m(t)}),r.length?r.push(function(t){s(),t(!0)}):s(),g&&r.push(function(t){i=g(t)}),x.setHost({end:function(){e()},cancel:function(){e(!0)}}),n.chain(r,t),x}}}}}]}],Mt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,i=e.event,r=e.options,o=e.classes;return t(n,i,o,r)}return function(t){if(t.from&&t.to){var i=n(t.from),r=n(t.to);if(!i&&!r)return;return{start:function(){function t(){return function(){Y(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];i&&o.push(i.start()),r&&o.push(r.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],jt="data-ng-animate",Ot="$ngAnimatePin",At=["$animateProvider",function(e){function i(t){if(!t)return null;var e=t.split(p),n=Object.create(null);return Y(e,function(t){n[t]=!0}),n}function r(t,e){if(t&&e){var n=i(e);return t.split(p).some(function(t){return n[t]})}}function o(t,e,n,i){return m[t].some(function(t){return t(e,n,i)})}function a(t,e){var n=(t.addClass||"").length>0,i=(t.removeClass||"").length>0;return e?n&&i:n||i}var u=1,c=2,p=" ",m=this.rules={skip:[],cancel:[],join:[]};m.join.push(function(t,e,n){return!e.structural&&a(e)}),m.skip.push(function(t,e,n){return!e.structural&&!a(e)}),m.skip.push(function(t,e,n){return"leave"===n.event&&e.structural}),m.skip.push(function(t,e,n){return n.structural&&n.state===c&&!e.structural}),m.cancel.push(function(t,e,n){return n.structural&&e.structural}),m.cancel.push(function(t,e,n){return n.state===c&&e.structural}),m.cancel.push(function(t,e,n){if(n.structural)return!1;var i=e.addClass,o=e.removeClass,a=n.addClass,s=n.removeClass;return!(et(i)&&et(o)||et(a)&&et(s))&&(r(i,s)||r(o,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,r,p,m,v,E,x,C,T,w){function S(){var t=!1;return function(e){t?e():r.$$postDigest(function(){t=!0,e()})}}function M(t,e){return g(t,e,{})}function j(t,e,n){var i=y(e),r=y(t),o=[],a=B[n];return a&&Y(a,function(t){it.call(t.node,i)?o.push(t.callback):"leave"===n&&it.call(t.node,r)&&o.push(t.callback)}),o}function O(t,e,n){var i=l(e);return t.filter(function(t){var e=t.node===i&&(!n||t.callback===n);return!e})}function A(t,e){"close"!==t||e[0].parentNode||rt.off(e)}function R(t,e,n){function l(e,n,r,o){w(function(){var e=j(v,t,n);e.length?i(function(){Y(e,function(e){e(t,r,o)}),A(r,t)}):A(r,t)}),e.progress(n,r,o)}function d(e){b(t,C),Z(t,C),f(t,C),C.domOperation(),T.complete(!e)}var p,v,C=W(n);t=s(t),t&&(p=y(t),v=t.parent()),C=h(C);var T=new x,w=S();if(K(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!tt(C.addClass)&&(C.addClass=null),K(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!tt(C.removeClass)&&(C.removeClass=null),C.from&&!Q(C.from)&&(C.from=null),C.to&&!Q(C.to)&&(C.to=null),!p)return d(),T;var O=[p.className,C.addClass,C.removeClass].join(" ");if(!z(O))return d(),T;var R=["enter","move","leave"].indexOf(e)>=0,L=m[0].hidden,N=!G||L||$.get(p),U=!N&&F.get(p)||{},B=!!U.state;if(N||B&&U.state===u||(N=!k(t,v,e)),N)return L&&l(T,e,"start"),d(),L&&l(T,e,"close"),T;R&&P(t);var H={structural:R,element:t,event:e,addClass:C.addClass,removeClass:C.removeClass,close:d,options:C,runner:T};if(B){var V=o("skip",t,H,U);if(V)return U.state===c?(d(),T):(g(t,U,H),U.runner);var q=o("cancel",t,H,U);if(q)if(U.state===c)U.runner.end();else{if(!U.structural)return g(t,U,H),U.runner;U.close()}else{var X=o("join",t,H,U);if(X){if(U.state!==c)return _(t,R?e:null,C),e=H.event=U.event,C=g(t,U,H),U.runner;M(t,H)}}}else M(t,H);var J=H.structural;if(J||(J="animate"===H.event&&Object.keys(H.options.to||{}).length>0||a(H)),!J)return d(),I(t),T;var et=(U.counter||0)+1;return H.counter=et,D(t,u,H),r.$$postDigest(function(){var n=F.get(p),i=!n;n=n||{};var r=t.parent()||[],o=r.length>0&&("animate"===n.event||n.structural||a(n));if(i||n.counter!==et||!o)return i&&(Z(t,C),f(t,C)),(i||R&&n.event!==e)&&(C.domOperation(),T.end()),void(o||I(t));e=!n.structural&&a(n,!0)?"setClass":n.event,D(t,c);var s=E(t,e,n.options);T.setHost(s),l(T,e,"start",{}),s.done(function(n){d(!n);var i=F.get(p);i&&i.counter===et&&I(y(t)),l(T,e,"close",{})})}),T}function P(t){var e=y(t),n=e.querySelectorAll("["+jt+"]");Y(n,function(t){var e=parseInt(t.getAttribute(jt),10),n=F.get(t);if(n)switch(e){case c:n.runner.end();case u:F.remove(t)}})}function I(t){var e=y(t);e.removeAttribute(jt),F.remove(e)}function L(t,e){return y(t)===y(e)}function k(t,e,n){var i,r=nt(m[0].body),o=L(t,r)||"HTML"===t[0].nodeName,a=L(t,p),s=!1,l=$.get(y(t)),u=nt.data(t[0],Ot);for(u&&(e=u),e=y(e);e&&(a||(a=L(e,p)),e.nodeType===N);){var c=F.get(e)||{};if(!s){var d=$.get(e);if(d===!0&&l!==!1){l=!0;break}d===!1&&(l=!1),s=c.structural}if(et(i)||i===!0){var h=nt.data(e,V);X(h)&&(i=h)}if(s&&i===!1)break;if(o||(o=L(e,r)),o&&a)break;e=a||!(u=nt.data(e,Ot))?e.parentNode:y(u)}var f=(!s||i)&&l!==!0;return f&&a&&o}function D(t,e,n){n=n||{},n.state=e;var i=y(t);i.setAttribute(jt,e);var r=F.get(i),o=r?q(r,n):n;F.put(i,o)}var F=new v,$=new v,G=null,U=r.$watch(function(){return 0===C.totalPendingRequests},function(t){t&&(U(),r.$$postDigest(function(){r.$$postDigest(function(){null===G&&(G=!0)})}))}),B=Object.create(null),H=e.classNameFilter(),z=H?function(t){return H.test(t)}:function(){return!0},Z=d(T),it=t.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))},rt={on:function(t,e,n){var i=l(e);B[t]=B[t]||[],B[t].push({node:i,callback:n}),nt(e).on("$destroy",function(){var r=F.get(i);r||rt.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||tt(arguments[0])){var i=B[t];i&&(B[t]=1===arguments.length?null:O(i,e,n))}else{e=arguments[0];for(var r in B)B[r]=O(B[r],e)}},pin:function(t,e){n(J(t),"element","not an element"),n(J(e),"parentElement","not an element"),t.data(Ot,e)},push:function(t,e,n,i){return n=n||{},n.domOperation=i,R(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!G;else{var i=J(t);if(i){var r=y(t);1===n?e=!$.get(r):$.put(r,!e)}else e=G=!!t}return e}};return rt}]}],Rt=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,s,l,u,c,p){function m(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,i=n.parentNode;o.put(n,t);for(var a;i;){if(a=o.get(i)){a.processed||(a=e(a));break}i=i.parentNode}return(a||r).children.push(t),t}function n(t){var e,n=[],i=[];for(e=0;e<t.children.length;e++)i.push(t.children[e]);var r=i.length,o=0,a=[];for(e=0;e<i.length;e++){var s=i[e];r<=0&&(r=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(t){o++,i.push(t)}),r--}return a.length&&n.push(a),n}var i,r={children:[]},o=new c;for(i=0;i<t.length;i++){var a=t[i];o.put(a.domNode,t[i]={domNode:a.domNode,fn:a.fn,children:[]})}for(i=0;i<t.length;i++)e(t[i]);return n(r)}var g=[],v=d(t);return function(c,d,_){function b(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),i=[];return Y(n,function(t){var e=t.getAttribute(o);e&&e.length&&i.push(t)}),i}function E(t){var e=[],n={};Y(t,function(t,i){var r=t.element,a=y(r),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?b(a):[];if(u.length){var c=l?"to":"from";Y(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][c]={animationID:i,element:nt(t)}})}else e.push(t)});var i={},r={};return Y(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(i[u]||(i[u]=!0,e.push(t[l])))}var c=t[a.animationID],d=t[s.animationID],h=a.animationID.toString();if(!r[h]){var f=r[h]={structural:!0,beforeStart:function(){c.beforeStart(),d.beforeStart()},close:function(){c.close(),d.close()},classes:x(c.classes,d.classes),from:c,to:d,anchors:[]};f.classes.length?e.push(f):(e.push(c),e.push(d))}r[h].anchors.push({out:a.element,"in":s.element})}),e}function x(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],i=0;i<t.length;i++){var r=t[i];if("ng-"!==r.substring(0,3))for(var o=0;o<e.length;o++)if(r===e[o]){n.push(r);break}}return n.join(" ")}function C(t){for(var e=a.length-1;e>=0;e--){var n=a[e],i=l.get(n),r=i(t);if(r)return r}}function T(){c.addClass(H),R&&t.addClass(c,R),P&&(t.removeClass(c,P),P=null)}function w(t,e){function n(t){var n=r(t);n&&n.setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function S(){var t=r(c);!t||"leave"===d&&_.$$domOperationFired||t.end()}function M(e){c.off("$destroy",S),n(c),v(c,_),f(c,_),_.domOperation(),R&&t.removeClass(c,R),c.removeClass(H),O.complete(!e)}_=h(_);var j=["enter","move","leave"].indexOf(d)>=0,O=new u({end:function(){M()},cancel:function(){M(!0)}});if(!a.length)return M(),O;e(c,O);var A=i(c.attr("class"),i(_.addClass,_.removeClass)),R=_.tempClasses;R&&(A+=" "+R,_.tempClasses=null);var P;return j&&(P="ng-"+d+B,t.addClass(c,P)),g.push({element:c,classes:A,event:d,structural:j,options:_,beforeStart:T,close:M}),c.on("$destroy",S),g.length>1?O:(s.$$postDigest(function(){var t=[];Y(g,function(e){r(e.element)?t.push(e):e.close()}),g.length=0;var e=E(t),n=[];Y(e,function(t){n.push({domNode:y(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var e,n=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(r(i)){var o=C(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){n(!t)}),w(t,a)}else n()}})}),p(m(n))}),O)}}]}],Pt=["$animate","$rootScope",function(t,e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,i,r,o){var a,s;e.$watchCollection(i.ngAnimateSwap||i["for"],function(i){a&&t.leave(a),s&&(s.$destroy(),s=null),(i||0===i)&&(s=e.$new(),o(s,function(e){a=e,t.enter(e,null,n)}))})}}}];e.module("ngAnimate",[],function(){it=e.noop,W=e.copy,q=e.extend,nt=e.element,Y=e.forEach,K=e.isArray,tt=e.isString,Q=e.isObject,et=e.isUndefined,X=e.isDefined,Z=e.isFunction,J=e.isElement}).directive("ngAnimateSwap",Pt).directive("ngAnimateChildren",vt).factory("$$rAFScheduler",gt).provider("$$animateQueue",At).provider("$$animation",Rt).provider("$animateCss",Tt).provider("$$animateCssDriver",wt).provider("$$animateJs",St).provider("$$animateJsDriver",Mt)}(window,window.angular),function(t,e){"use strict";function n(){function t(t,e,i,r){return function(a,s,l){var u=l.$normalize(e);!n[u]||o(s,i)||l[u]||a.$watch(l[t],function(t){t=r?!t:!!t,s.attr(e,t)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeypress:!0,bindRoleForClick:!0};this.config=function(t){n=e.extend(n,t)},this.$get=function(){return{config:function(t){return n[t]},$$watchExpr:t}}}var i=e.module("ngAria",["ng"]).provider("$aria",n),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],o=function(t,e){if(e.indexOf(t[0].nodeName)!==-1)return!0};i.directive("ngShow",["$aria",function(t){return t.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(t){return t.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(t){return t.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(t){return t.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(t){return t.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(t){return t.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(t){function e(e,n,i,a){return t.config(n)&&!i.attr(e)&&(a||!o(i,r))}function n(t,e){return!e.attr("role")&&e.attr("type")===t&&"INPUT"!==e[0].nodeName}function i(t,e){var n=t.type,i=t.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(r,o){var a=i(o,r);return{pre:function(t,e,n,i){"checkbox"===a&&(i.$isEmpty=function(t){return t===!1})},post:function(i,r,o,s){function l(){return s.$modelValue}function u(t){var e=o.value==s.$viewValue;r.attr("aria-checked",e)}function c(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=e("tabindex","tabindex",r,!1);switch(a){case"radio":case"checkbox":n(a,r)&&r.attr("role",a),e("aria-checked","ariaChecked",r,!1)&&i.$watch(l,"radio"===a?u:c),d&&r.attr("tabindex",0);break;case"range":if(n(a,r)&&r.attr("role","slider"),t.config("ariaValue")){var h=!r.attr("aria-valuemin")&&(o.hasOwnProperty("min")||o.hasOwnProperty("ngMin")),f=!r.attr("aria-valuemax")&&(o.hasOwnProperty("max")||o.hasOwnProperty("ngMax")),p=!r.attr("aria-valuenow");h&&o.$observe("min",function(t){r.attr("aria-valuemin",t)}),f&&o.$observe("max",function(t){r.attr("aria-valuemax",t)}),p&&i.$watch(l,function(t){r.attr("aria-valuenow",t)})}d&&r.attr("tabindex",0)}!o.hasOwnProperty("ngRequired")&&s.$validators.required&&e("aria-required","ariaRequired",r,!1)&&o.$observe("required",function(){r.attr("aria-required",!!o.required)}),e("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(t){r.attr("aria-invalid",!!t)})}}}}}]).directive("ngDisabled",["$aria",function(t){return t.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(t,e,n,i){e.attr("aria-live")||e.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(t,e){return{restrict:"A",compile:function(n,i){var a=e(i.ngClick,null,!0);return function(e,n,i){o(n,r)||(t.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),t.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),t.config("bindKeypress")&&!i.ngKeypress&&n.on("keypress",function(t){function n(){a(e,{$event:t})}var i=t.which||t.keyCode;32!==i&&13!==i||e.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(t){return function(e,n,i){!t.config("tabindex")||n.attr("tabindex")||o(n,r)||n.attr("tabindex",0)}}])}(window,window.angular),function(t,e){"use strict";function n(t,n,i){function r(t,i,r){var a,s;r=r||{},s=r.expires,a=e.isDefined(r.path)?r.path:o,e.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),e.isString(s)&&(s=new Date(s));var l=encodeURIComponent(t)+"="+encodeURIComponent(i);l+=a?";path="+a:"",l+=r.domain?";domain="+r.domain:"",l+=s?";expires="+s.toUTCString():"",l+=r.secure?";secure":"";var u=l.length+1;return u>4096&&n.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}var o=i.baseHref(),a=t[0];return function(t,e,n){a.cookie=r(t,e,n)}}e.module("ngCookies",["ng"]).provider("$cookies",[function(){function t(t){return t?e.extend({},n,t):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(t){return n()[t]},getObject:function(t){var n=this.get(t);return n?e.fromJson(n):n},getAll:function(){return n()},put:function(e,n,r){i(e,n,t(r))},putObject:function(t,n,i){this.put(t,e.toJson(n),i)},remove:function(e,n){i(e,void 0,t(n))}}}]}]),e.module("ngCookies").factory("$cookieStore",["$cookies",function(t){return{get:function(e){return t.getObject(e)},put:function(e,n){t.putObject(e,n)},remove:function(e){t.remove(e)}}}]),n.$inject=["$document","$log","$browser"],e.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(t){function e(t){return t.$stateful=!0,t}t.decorator("dateFilter",["$delegate",e]),t.decorator("numberFilter",["$delegate",e]),t.decorator("currencyFilter",["$delegate",e])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(t){function e(t,e,n,i){var o=document.createElement("script"),a=r?r:document.getElementsByTagName("body")[0],s=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,i(function(){s||(s=!0,o.parentNode===a&&a.removeChild(o),e())},30,!1))}:(o.onload=function(){s||(s=!0,o.parentNode===a&&a.removeChild(o),e())},o.onerror=function(){s||(s=!0,o.parentNode===a&&a.removeChild(o),n())}),o.src=t,o.async=!0,a.appendChild(o)}function n(t,n,i,r,s,l,c){function f(t,e){a===i&&(angular.forEach(t,function(n,i){e[i]?angular.isArray(e[i])&&(t[i].length=e[i].length):delete t[i]}),angular.forEach(e,function(n,i){angular.isArray(e[i])||angular.isObject(e[i])?(t[i]||(t[i]=angular.isArray(e[i])?[]:{}),f(t[i],e[i])):t[i]=e[i]}))}if(h[i])return a=i,h[i];var p,m=s.defer();return i===a?m.resolve(n):(p=l.get(i))?(a=i,r.$evalAsync(function(){f(n,p),o[d](u,i),r.$broadcast("$localeChangeSuccess",i,n),m.resolve(n)})):(a=i,h[i]=m.promise,e(t,function(){var t=angular.injector(["ngLocale"]),e=t.get("$locale");f(n,e),l.put(i,e),delete h[i],r.$applyAsync(function(){o[d](u,i),r.$broadcast("$localeChangeSuccess",i,n),m.resolve(n)})},function(){delete h[i],r.$applyAsync(function(){a===i&&(a=n.id),r.$broadcast("$localeChangeError",i),m.reject(i)})},c)),m.promise}var i,r,o,a,s="angular/i18n/angular-locale_{{locale}}.js",l="tmhDynamicLocaleStorageCache",u=t,c="get",d="put",h={},f={};this.localeLocationPattern=function(t){return t?(s=t,this):s},this.appendScriptTo=function(t){r=t},this.useStorage=function(t){l=t,c="get",d="put"},this.useCookieStorage=function(){angular.version.minor<7?this.useStorage("$cookieStore"):(this.useStorage("$cookies"),c="getObject",d="putObject")},this.defaultLocale=function(t){i=t},this.storageKey=function(t){return t?(u=t,this):u},this.addLocalePatternValue=function(t,e){f[t]=e},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(t,e,r,d,h,p,m){function g(e){var i={locale:e,angularVersion:angular.version.full};return n(v(angular.extend({},f,i)),d,e,t,h,p,m)}var v=r(s);return o=e.get(l),t.$evalAsync(function(){var t;(t=o[c](u)||i)&&g(t)}),{set:g,get:function(){return a}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"}),!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["angular-file-upload"]=e():t["angular-file-upload"]=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=n(1),o=i(r),a=n(2),s=i(a),l=n(3),u=i(l),c=n(4),d=i(c),h=n(5),f=i(h),p=n(6),m=i(p),g=n(7),v=i(g),y=n(8),_=i(y),b=n(9),E=i(b),x=n(10),C=i(x),T=n(11),w=i(T),S=n(12),M=i(S),j=n(13),O=i(j);angular.module(o["default"].name,[]).value("fileUploaderOptions",s["default"]).factory("FileUploader",u["default"]).factory("FileLikeObject",d["default"]).factory("FileItem",f["default"]).factory("FileDirective",m["default"]).factory("FileSelect",v["default"]).factory("FileDrop",E["default"]).factory("FileOver",C["default"]).factory("Pipeline",_["default"]).directive("nvFileSelect",w["default"]).directive("nvFileDrop",M["default"]).directive("nvFileOver",O["default"]).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver","Pipeline",function(t,e,n,i,r,o,a,s){t.FileLikeObject=e,t.FileItem=n,t.FileDirective=i,t.FileSelect=r,t.FileDrop=o,t.FileOver=a,t.Pipeline=s}])},function(t,e){t.exports={name:"angularFileUpload"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1,disableMultipart:!1}},function(t,e,n){"use strict";function i(t){
return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e,n,i,o,s,l,_){var b=i.File,E=i.FormData,x=function(){function i(e){r(this,i);var n=c(t);d(this,n,e,{isUploading:!1,_nextIndex:0,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return i.prototype.addToQueue=function(t,e,n){var i=this,r=this.isArrayLikeObject(t)?Array.prototype.slice.call(t):[t],o=this._getFilters(n),u=this.queue.length,c=[],d=function f(){var t=r.shift();if(v(t))return h();var n=i.isFile(t)?t:new s(t),u=i._convertFiltersToPipes(o),d=new _(u),p=function(t){var e=t.pipe.originalFilter,n=a(t.args,2),r=n[0],o=n[1];i._onWhenAddingFileFailed(r,e,o),f()},m=function(t,e){var n=new l(i,t,e);c.push(n),i.queue.push(n),i._onAfterAddingFile(n),f()};d.onThrown=p,d.onSuccessful=m,d.exec(n,e)},h=function(){i.queue.length!==u&&(i._onAfterAddingAll(c),i.progress=i._getTotalProgress()),i._render(),i.autoUpload&&i.uploadAll()};d()},i.prototype.removeFromQueue=function(t){var e=this.getIndexOfItem(t),n=this.queue[e];n.isUploading&&n.cancel(),this.queue.splice(e,1),n._destroy(),this.progress=this._getTotalProgress()},i.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},i.prototype.uploadItem=function(t){var e=this.getIndexOfItem(t),n=this.queue[e],i=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this._onBeforeUploadItem(n),n.isCancel||(n.isUploading=!0,this.isUploading=!0,this[i](n),this._render()))},i.prototype.cancelItem=function(t){var e=this,n=this.getIndexOfItem(t),i=this.queue[n],r=this.isHTML5?"_xhr":"_form";if(i)if(i.isCancel=!0,i.isUploading)i[r].abort();else{var a=[void 0,0,{}],s=function(){e._onCancelItem.apply(e,[i].concat(a)),e._onCompleteItem.apply(e,[i].concat(a))};o(s)}},i.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(t){return!t.isUploading});t.length&&(h(t,function(t){return t._prepareToUploading()}),t[0].upload())},i.prototype.cancelAll=function(){var t=this.getNotUploadedItems();h(t,function(t){return t.cancel()})},i.prototype.isFile=function(t){return this.constructor.isFile(t)},i.prototype.isFileLikeObject=function(t){return this.constructor.isFileLikeObject(t)},i.prototype.isArrayLikeObject=function(t){return this.constructor.isArrayLikeObject(t)},i.prototype.getIndexOfItem=function(t){return p(t)?t:this.queue.indexOf(t)},i.prototype.getNotUploadedItems=function(){return this.queue.filter(function(t){return!t.isUploaded})},i.prototype.getReadyItems=function(){return this.queue.filter(function(t){return t.isReady&&!t.isUploading}).sort(function(t,e){return t.index-e.index})},i.prototype.destroy=function(){var t=this;h(this._directives,function(e){h(t._directives[e],function(t){t.destroy()})})},i.prototype.onAfterAddingAll=function(t){},i.prototype.onAfterAddingFile=function(t){},i.prototype.onWhenAddingFileFailed=function(t,e,n){},i.prototype.onBeforeUploadItem=function(t){},i.prototype.onProgressItem=function(t,e){},i.prototype.onProgressAll=function(t){},i.prototype.onSuccessItem=function(t,e,n,i){},i.prototype.onErrorItem=function(t,e,n,i){},i.prototype.onCancelItem=function(t,e,n,i){},i.prototype.onCompleteItem=function(t,e,n,i){},i.prototype.onTimeoutItem=function(t){},i.prototype.onCompleteAll=function(){},i.prototype._getTotalProgress=function(t){if(this.removeAfterUpload)return t||0;var e=this.getNotUploadedItems().length,n=e?this.queue.length-e:this.queue.length,i=100/this.queue.length,r=(t||0)*i/100;return Math.round(n*i+r)},i.prototype._getFilters=function(t){if(!t)return this.filters;if(g(t))return t;var e=t.match(/[^\s,]+/g);return this.filters.filter(function(t){return e.indexOf(t.name)!==-1})},i.prototype._convertFiltersToPipes=function(t){var e=this;return t.map(function(t){var n=u(e,t.fn);return n.isAsync=3===t.fn.length,n.originalFilter=t,n})},i.prototype._render=function(){e.$$phase||e.$apply()},i.prototype._folderFilter=function(t){return!(!t.size&&!t.type)},i.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},i.prototype._isSuccessCode=function(t){return t>=200&&t<300||304===t},i.prototype._transformResponse=function(t,e){var i=this._headersGetter(e);return h(n.defaults.transformResponse,function(e){t=e(t,i)}),t},i.prototype._parseHeaders=function(t){var e,n,i,r={};return t?(h(t.split("\n"),function(t){i=t.indexOf(":"),e=t.slice(0,i).trim().toLowerCase(),n=t.slice(i+1).trim(),e&&(r[e]=r[e]?r[e]+", "+n:n)}),r):r},i.prototype._headersGetter=function(t){return function(e){return e?t[e.toLowerCase()]||null:t}},i.prototype._xhrTransport=function(t){var e,n=this,i=t._xhr=new XMLHttpRequest;if(t.disableMultipart?e=t._file:(e=new E,h(t.formData,function(t){h(t,function(t,n){e.append(n,t)})}),e.append(t.alias,t._file,t.file.name)),"number"!=typeof t._file.size)throw new TypeError("The file specified is no longer valid");i.upload.onprogress=function(e){var i=Math.round(e.lengthComputable?100*e.loaded/e.total:0);n._onProgressItem(t,i)},i.onload=function(){var e=n._parseHeaders(i.getAllResponseHeaders()),r=n._transformResponse(i.response,e),o=n._isSuccessCode(i.status)?"Success":"Error",a="_on"+o+"Item";n[a](t,r,i.status,e),n._onCompleteItem(t,r,i.status,e)},i.onerror=function(){var e=n._parseHeaders(i.getAllResponseHeaders()),r=n._transformResponse(i.response,e);n._onErrorItem(t,r,i.status,e),n._onCompleteItem(t,r,i.status,e)},i.onabort=function(){var e=n._parseHeaders(i.getAllResponseHeaders()),r=n._transformResponse(i.response,e);n._onCancelItem(t,r,i.status,e),n._onCompleteItem(t,r,i.status,e)},i.ontimeout=function(e){var r=n._parseHeaders(i.getAllResponseHeaders()),o="Request Timeout.";n._onTimeoutItem(t),n._onCompleteItem(t,o,408,r)},i.open(t.method,t.url,!0),i.timeout=t.timeout||0,i.withCredentials=t.withCredentials,h(t.headers,function(t,e){i.setRequestHeader(e,t)}),i.send(e)},i.prototype._iframeTransport=function(t){var e=this,n=y('<form style="display: none;" />'),i=y('<iframe name="iframeTransport'+Date.now()+'">'),r=t._input,o=0,a=null,s=!1;t._form&&t._form.replaceWith(r),t._form=n,r.prop("name",t.alias),h(t.formData,function(t){h(t,function(t,e){var i=y('<input type="hidden" name="'+e+'" />');i.val(t),n.append(i)})}),n.prop({action:t.url,method:"POST",target:i.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),i.bind("load",function(){var t="",n=200;try{t=i[0].contentDocument.body.innerHTML}catch(r){n=500}if(a&&clearTimeout(a),a=null,s)return!1;var o={response:t,status:n,dummy:!0},l={},u=e._transformResponse(o.response,l);e._onSuccessItem(r,u,o.status,l),e._onCompleteItem(r,u,o.status,l)}),n.abort=function(){var o,a={status:0,dummy:!0},s={};i.unbind("load").prop("src","javascript:false;"),n.replaceWith(r),e._onCancelItem(t,o,a.status,s),e._onCompleteItem(t,o,a.status,s)},r.after(n),n.append(r).append(i),o=t.timeout||0,a=null,o&&(a=setTimeout(function(){s=!0,t.isCancel=!0,t.isUploading&&(i.unbind("load").prop("src","javascript:false;"),n.replaceWith(r));var o={},a="Request Timeout.";e._onTimeoutItem(t),e._onCompleteItem(t,a,408,o)},o)),n[0].submit()},i.prototype._onWhenAddingFileFailed=function(t,e,n){this.onWhenAddingFileFailed(t,e,n)},i.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},i.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},i.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},i.prototype._onProgressItem=function(t,e){var n=this._getTotalProgress(e);this.progress=n,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(n),this._render()},i.prototype._onSuccessItem=function(t,e,n,i){t._onSuccess(e,n,i),this.onSuccessItem(t,e,n,i)},i.prototype._onErrorItem=function(t,e,n,i){t._onError(e,n,i),this.onErrorItem(t,e,n,i)},i.prototype._onCancelItem=function(t,e,n,i){t._onCancel(e,n,i),this.onCancelItem(t,e,n,i)},i.prototype._onCompleteItem=function(t,e,n,i){t._onComplete(e,n,i),this.onCompleteItem(t,e,n,i);var r=this.getReadyItems()[0];return this.isUploading=!1,m(r)?void r.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},i.prototype._onTimeoutItem=function(t){t._onTimeout(),this.onTimeoutItem(t)},i.isFile=function(t){return b&&t instanceof b},i.isFileLikeObject=function(t){return t instanceof s},i.isArrayLikeObject=function(t){return f(t)&&"length"in t},i.inherit=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.super_=e},i}();return x.prototype.isHTML5=!(!b||!E),x.isHTML5=x.prototype.isHTML5,x}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=o;var s=n(1),l=(i(s),angular),u=l.bind,c=l.copy,d=l.extend,h=l.forEach,f=l.isObject,p=l.isNumber,m=l.isDefined,g=l.isArray,v=l.isUndefined,y=l.element;o.$inject=["fileUploaderOptions","$rootScope","$http","$window","$timeout","FileLikeObject","FileItem","Pipeline"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){return function(){function t(e){r(this,t);var n=u(e),i=n?e.value:e,o=c(i)?"FakePath":"Object",a="_createFrom"+o;this[a](i,e)}return t.prototype._createFromFakePath=function(t,e){this.lastModifiedDate=null,this.size=null,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2),this.input=e},t.prototype._createFromObject=function(t){this.lastModifiedDate=l(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name,this.input=t.input},t}()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(1),s=(i(a),angular),l=s.copy,u=s.isElement,c=s.isString},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return function(){function n(t,i,o){r(this,n);var a=!!i.input,s=a?c(i.input):null,d=a?null:i;u(this,{url:t.url,alias:t.alias,headers:l(t.headers),formData:l(t.formData),removeAfterUpload:t.removeAfterUpload,withCredentials:t.withCredentials,disableMultipart:t.disableMultipart,method:t.method,timeout:t.timeout},o,{uploader:t,file:new e(i),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:d,_input:s}),s&&this._replaceNode(s)}return n.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){var e=t.name+":"+t.message;this.uploader._onCompleteItem(this,e,t.code,[]),this.uploader._onErrorItem(this,e,t.code,[])}},n.prototype.cancel=function(){this.uploader.cancelItem(this)},n.prototype.remove=function(){this.uploader.removeFromQueue(this)},n.prototype.onBeforeUpload=function(){},n.prototype.onProgress=function(t){},n.prototype.onSuccess=function(t,e,n){},n.prototype.onError=function(t,e,n){},n.prototype.onCancel=function(t,e,n){},n.prototype.onComplete=function(t,e,n){},n.prototype.onTimeout=function(){},n.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},n.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},n.prototype._onSuccess=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(t,e,n)},n.prototype._onError=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(t,e,n)},n.prototype._onCancel=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(t,e,n)},n.prototype._onComplete=function(t,e,n){this.onComplete(t,e,n),this.removeAfterUpload&&this.remove()},n.prototype._onTimeout=function(){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onTimeout()},n.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},n.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},n.prototype._replaceNode=function(e){var n=t(e.clone())(e.scope());n.prop("value",null),e.css("display","none"),e.after(n)},n}()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(1),s=(i(a),angular),l=s.copy,u=s.extend,c=s.element;s.isElement,o.$inject=["$compile","FileLikeObject"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=function(){function t(e){r(this,t),l(this,e),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return t.prototype.bind=function(){for(var t in this.events){var e=this.events[t];this.element.bind(t,this[e])}},t.prototype.unbind=function(){for(var t in this.events)this.element.unbind(t,this.events[t])},t.prototype.destroy=function(){var t=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(t,1),this.unbind()},t.prototype._saveLinks=function(){for(var t in this.events){var e=this.events[t];this[e]=this[e].bind(this)}},t}();return t.prototype.events={},t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var a=n(1),s=(i(a),angular),l=s.extend},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){return function(e){function n(t){r(this,n);var i=c(t,{events:{$destroy:"destroy",change:"onChange"},prop:"select"}),a=o(this,e.call(this,i));return a.uploader.isHTML5||a.element.removeAttr("multiple"),a.element.prop("value",null),a}return a(n,e),n.prototype.getOptions=function(){},n.prototype.getFilters=function(){},n.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},n.prototype.onChange=function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],n=this.getOptions(),i=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,n,i),this.isEmptyAfterSelection()&&(this.element.prop("value",null),this.element.replaceWith(t(this.element.clone())(this.scope)))},n}(e)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var l=n(1),u=(i(l),angular),c=u.extend;s.$inject=["$compile","FileDirective"]},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,e),this.pipes=t}return e.prototype.next=function(e){var i=this.pipes.shift();if(s(i))return void this.onSuccessful.apply(this,n(e));var r=new Error("The filter has not passed");if(r.pipe=i,r.args=e,i.isAsync){var o=t.defer(),l=a(this,this.next,e),u=a(this,this.onThrown,r);o.promise.then(l,u),i.apply(void 0,n(e).concat([o]))}else{var c=Boolean(i.apply(void 0,n(e)));c?this.next(e):this.onThrown(r)}},e.prototype.exec=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.next(e)},e.prototype.onThrown=function(t){},e.prototype.onSuccessful=function(){},e}()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=angular,a=o.bind,s=o.isUndefined;r.$inject=["$q"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return function(t){function e(n){r(this,e);var i=c(n,{events:{$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},prop:"drop"});return o(this,t.call(this,i))}return a(e,t),e.prototype.getOptions=function(){},e.prototype.getFilters=function(){},e.prototype.onDrop=function(t){var e=this._getTransfer(t);if(e){var n=this.getOptions(),i=this.getFilters();this._preventAndStop(t),d(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(e.files,n,i)}},e.prototype.onDragOver=function(t){var e=this._getTransfer(t);this._haveFiles(e.types)&&(e.dropEffect="copy",this._preventAndStop(t),d(this.uploader._directives.over,this._addOverClass,this))},e.prototype.onDragLeave=function(t){t.currentTarget!==this.element[0]&&(this._preventAndStop(t),d(this.uploader._directives.over,this._removeOverClass,this))},e.prototype._getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},e.prototype._preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},e.prototype._haveFiles=function(t){return!!t&&(t.indexOf?t.indexOf("Files")!==-1:!!t.contains&&t.contains("Files"))},e.prototype._addOverClass=function(t){t.addOverClass()},e.prototype._removeOverClass=function(t){t.removeOverClass()},e}(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var l=n(1),u=(i(l),angular),c=u.extend,d=u.forEach;s.$inject=["FileDirective"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){return function(t){function e(n){r(this,e);var i=c(n,{events:{$destroy:"destroy"},prop:"over",overClass:"nv-file-over"});return o(this,t.call(this,i))}return a(e,t),e.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},e.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},e.prototype.getOverClass=function(){return this.overClass},e}(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s;var l=n(1),u=(i(l),angular),c=u.extend;s.$inject=["FileDirective"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return{link:function(i,r,o){var a=i.$eval(o.uploader);if(!(a instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');var s=new n({uploader:a,element:r,scope:i});s.getOptions=t(o.options).bind(s,i),s.getFilters=function(){return o.filters}}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(1);i(o),r.$inject=["$parse","FileUploader","FileSelect"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return{link:function(i,r,o){var a=i.$eval(o.uploader);if(!(a instanceof e))throw new TypeError('"Uploader" must be an instance of FileUploader');if(a.isHTML5){var s=new n({uploader:a,element:r});s.getOptions=t(o.options).bind(s,i),s.getFilters=function(){return o.filters}}}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(1);i(o),r.$inject=["$parse","FileUploader","FileDrop"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return{link:function(n,i,r){var o=n.$eval(r.uploader);if(!(o instanceof t))throw new TypeError('"Uploader" must be an instance of FileUploader');var a=new e({uploader:o,element:i});a.getOverClass=function(){return r.overClass||a.overClass}}}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var o=n(1);i(o),r.$inject=["FileUploader","FileOver"]}])}),function(t,e){"use strict";function n(){function t(t,e){if(t)return r(t)?t.indexOf(e)>=0:t.hasOwnProperty(e)}return["$animate",function(e){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,i,o,a,s){var l,u=i[0],c=o.ngMessage||o.when,d=o.ngMessageExp||o.whenExp,h=function(t){l=t?r(t)?t:t.split(/[\s,]+/):null,a.reRender()};d?(h(n.$eval(d)),n.$watchCollection(d,h)):h(c);var f,p;a.register(u,p={test:function(e){return t(l,e)},attach:function(){f||s(function(t,n){e.enter(t,null,i),f=t;var r=f.$$attachId=a.getAttachId();f.on("$destroy",function(){f&&f.$$attachId===r&&(a.deregister(u),p.detach()),n.$destroy()})})},detach:function(){if(f){var t=f;f=null,e.leave(t)}}})}}}]}var i,r,o,a;e.module("ngMessages",[],function(){i=e.forEach,r=e.isArray,o=e.isString,a=e.element}).directive("ngMessages",["$animate",function(t){function e(t,e){return o(e)&&0===e.length||n(t.$eval(e))}function n(t){return o(t)?t.length:!!t}var r="ng-active",a="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,s,l){function u(t,e){for(var n=e,i=[];n&&n!==t;){var r=n.$$ngMessageNode;if(r&&r.length)return v[r];n.childNodes.length&&i.indexOf(n)===-1?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function c(t,e,n){var i=v[n];if(h.head){var r=u(t,e);r?(i.next=r.next,r.next=i):(i.next=h.head,h.head=i)}else h.head=i}function d(t,e,n){var i=v[n],r=u(t,e);r?r.next=i.next:h.head=i.next}var h=this,f=0,p=0;this.getAttachId=function(){return p++};var m,g,v=this.messages={};this.render=function(u){u=u||{},m=!1,g=u;for(var c=e(s,l.ngMessagesMultiple)||e(s,l.multiple),d=[],f={},p=h.head,v=!1,y=0;null!=p;){y++;var _=p.message,b=!1;v||i(u,function(t,e){if(!b&&n(t)&&_.test(e)){if(f[e])return;f[e]=!0,b=!0,_.attach()}}),b?v=!c:d.push(_),p=p.next}i(d,function(t){t.detach()}),d.length!==y?t.setClass(o,r,a):t.setClass(o,a,r)},s.$watchCollection(l.ngMessages||l["for"],h.render),o.on("$destroy",function(){i(v,function(t){t.message.detach()})}),this.reRender=function(){m||(m=!0,s.$evalAsync(function(){m&&g&&h.render(g)}))},this.register=function(t,e){var n=f.toString();v[n]={message:e},c(o[0],t,n),t.$$ngMessageNode=n,f++,h.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,d(o[0],t,e),delete v[e],h.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){function i(t,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):e[0].createComment(" ngMessagesInclude: "+i+" "),o=a(r);t.after(o),t.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(e,r,a){var s=a.ngMessagesInclude||a.src;t(s).then(function(t){e.$$destroyed||(o(t)&&!t.trim()?i(r,s):n(t)(e,function(t){r.after(t),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),function(t,e,n){"use strict";!function(){e.module("ngMaterial",["ng","ngAnimate","ngAria","material.core","material.core.animate","material.core.gestures","material.core.interaction","material.core.layout","material.core.meta","material.core.theming.palette","material.core.theming","material.components.autocomplete","material.components.backdrop","material.components.bottomSheet","material.components.button","material.components.card","material.components.checkbox","material.components.chips","material.components.colors","material.components.content","material.components.datepicker","material.components.dialog","material.components.divider","material.components.fabActions","material.components.fabShared","material.components.fabSpeedDial","material.components.fabToolbar","material.components.gridList","material.components.icon","material.components.input","material.components.list","material.components.menu","material.components.menuBar","material.components.navBar","material.components.panel","material.components.progressCircular","material.components.progressLinear","material.components.radioButton","material.components.select","material.components.showHide","material.components.sidenav","material.components.slider","material.components.sticky","material.components.subheader","material.components.swipe","material.components.switch","material.components.tabs","material.components.toast","material.components.toolbar","material.components.tooltip","material.components.truncate","material.components.virtualRepeat","material.components.whiteframe"])}(),function(){function t(t,e){if(e.has("$swipe")){var n="You are using the ngTouch module. \nAngularJS Material already has mobile click, tap, and swipe support... \nngTouch is not supported with AngularJS Material!";t.warn(n)}}function n(t,e){t.decorator("$$rAF",["$delegate",i]),t.decorator("$q",["$delegate",r]),e.theme("default").primaryPalette("indigo").accentPalette("pink").warnPalette("deep-orange").backgroundPalette("grey")}function i(t){return t.throttle=function(e){var n,i,r,o;return function(){n=arguments,o=this,r=e,i||(i=!0,t(function(){r.apply(o,Array.prototype.slice.call(n)),i=!1}))}},t}function r(t){return t.resolve||(t.resolve=t.when),t}t.$inject=["$log","$injector"],n.$inject=["$provide","$mdThemingProvider"],i.$inject=["$delegate"],r.$inject=["$delegate"],e.module("material.core",["ngAnimate","material.core.animate","material.core.layout","material.core.interaction","material.core.gestures","material.core.theming"]).config(n).run(t)}(),function(){function t(t){function n(n,i,r){function o(t){e.isUndefined(t)&&(t=!0),i.toggleClass("md-autofocus",!!t)}var a=r.mdAutoFocus||r.mdAutofocus||r.mdSidenavFocus;o(t(a)(n)),a&&n.$watch(a,o)}return{restrict:"A",link:{pre:n}}}t.$inject=["$parse"],e.module("material.core").directive("mdAutofocus",t).directive("mdAutoFocus",t).directive("mdSidenavFocus",t)}(),function(){function t(){function t(t){var e="#"===t[0]?t.substr(1):t,n=e.length/3,i=e.substr(0,n),r=e.substr(n,n),o=e.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),"rgba("+parseInt(i,16)+","+parseInt(r,16)+","+parseInt(o,16)+",0.1)"}function e(t){t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);var e=t&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):"";return e.toUpperCase()}function n(t){return t.replace(")",", 0.1)").replace("(","a(")}function i(t){return t?t.replace("rgba","rgb").replace(/,[^),]+\)/,")"):"rgb(0,0,0)"}return{rgbaToHex:e,hexToRgba:t,rgbToRgba:n,rgbaToRgb:i}}e.module("material.core").factory("$mdColorUtil",t)}(),function(){function t(){function t(t){var e=a+"-"+t,r=i(e),s=r.charAt(0).toLowerCase()+r.substring(1);return n(o,t)?t:n(o,r)?r:n(o,s)?s:t}function n(t,n){return e.isDefined(t.style[n])}function i(t){return t.replace(l,function(t,e,n,i){return i?n.toUpperCase():n})}function r(t){var e,n,i=/^(Moz|webkit|ms)(?=[A-Z])/;for(e in t.style)if(n=i.exec(e))return n[0]}var o=document.createElement("div"),a=r(o),s=/webkit/i.test(a),l=/([:\-_]+(.))/g,u={isInputKey:function(t){return t.keyCode>=31&&t.keyCode<=90},isNumPadKey:function(t){return 3===t.location&&t.keyCode>=97&&t.keyCode<=105},isMetaKey:function(t){return t.keyCode>=91&&t.keyCode<=93},isFnLockKey:function(t){return t.keyCode>=112&&t.keyCode<=145},isNavigationKey:function(t){var e=u.KEY_CODE,n=[e.SPACE,e.ENTER,e.UP_ARROW,e.DOWN_ARROW];return n.indexOf(t.keyCode)!=-1},hasModifierKey:function(t){return t.ctrlKey||t.metaKey||t.altKey},ELEMENT_MAX_PIXELS:1533917,BEFORE_NG_ARIA:210,KEY_CODE:{COMMA:188,SEMICOLON:186,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,TAB:9,BACKSPACE:8,DELETE:46},CSS:{TRANSITIONEND:"transitionend"+(s?" webkitTransitionEnd":""),ANIMATIONEND:"animationend"+(s?" webkitAnimationEnd":""),TRANSFORM:t("transform"),TRANSFORM_ORIGIN:t("transformOrigin"),TRANSITION:t("transition"),TRANSITION_DURATION:t("transitionDuration"),ANIMATION_PLAY_STATE:t("animationPlayState"),ANIMATION_DURATION:t("animationDuration"),ANIMATION_NAME:t("animationName"),ANIMATION_TIMING:t("animationTimingFunction"),ANIMATION_DIRECTION:t("animationDirection")},MEDIA:{xs:"(max-width: 599px)","gt-xs":"(min-width: 600px)",sm:"(min-width: 600px) and (max-width: 959px)","gt-sm":"(min-width: 960px)",md:"(min-width: 960px) and (max-width: 1279px)","gt-md":"(min-width: 1280px)",lg:"(min-width: 1280px) and (max-width: 1919px)","gt-lg":"(min-width: 1920px)",xl:"(min-width: 1920px)",landscape:"(orientation: landscape)",portrait:"(orientation: portrait)",print:"print"},MEDIA_PRIORITY:["xl","gt-lg","lg","gt-md","md","gt-sm","sm","gt-xs","xs","landscape","portrait","print"]};return u}e.module("material.core").factory("$mdConstant",t)}(),function(){function t(t,n){function i(){return[].concat(y)}function r(){return y.length}function o(t){return y.length&&t>-1&&t<y.length}function a(t){return!!t&&o(h(t)+1)}function s(t){return!!t&&o(h(t)-1)}function l(t){return o(t)?y[t]:null}function u(t,e){return y.filter(function(n){return n[t]===e})}function c(t,n){return t?(e.isNumber(n)||(n=y.length),y.splice(n,0,t),h(t)):-1}function d(t){f(t)&&y.splice(h(t),1)}function h(t){return y.indexOf(t)}function f(t){return t&&h(t)>-1}function p(){return y.length?y[0]:null}function m(){return y.length?y[y.length-1]:null}function g(t,i,r,a){r=r||v;for(var s=h(i);;){if(!o(s))return null;var l=s+(t?-1:1),u=null;if(o(l)?u=y[l]:n&&(u=t?m():p(),l=h(u)),null===u||l===a)return null;if(r(u))return u;e.isUndefined(a)&&(a=l),s=l}}var v=function(){return!0};t&&!e.isArray(t)&&(t=Array.prototype.slice.call(t)),n=!!n;var y=t||[];return{items:i,count:r,inRange:o,contains:f,indexOf:h,itemAt:l,findBy:u,add:c,remove:d,first:p,last:m,next:e.bind(null,g,!1),previous:e.bind(null,g,!0),hasPrevious:s,hasNext:a}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.iterator=t,e}])}])}(),function(){function t(t,n,i){function r(t){var n=h[t];e.isUndefined(n)&&(n=h[t]=o(t));var i=p[n];return e.isUndefined(i)&&(i=a(n)),i}function o(e){return t.MEDIA[e]||("("!==e.charAt(0)?"("+e+")":e)}function a(t){var e=f[t];return e||(e=f[t]=i.matchMedia(t)),e.addListener(s),p[e.media]=!!e.matches}function s(t){n.$evalAsync(function(){p[t.media]=!!t.matches})}function l(t){return f[t]}function u(e,n){for(var i=0;i<t.MEDIA_PRIORITY.length;i++){var r=t.MEDIA_PRIORITY[i];
if(f[h[r]].matches){var o=d(e,n+"-"+r);if(e[o])return e[o]}}return e[d(e,n)]}function c(n,i,r){var o=[];return n.forEach(function(n){var a=d(i,n);e.isDefined(i[a])&&o.push(i.$observe(a,e.bind(void 0,r,null)));for(var s in t.MEDIA)a=d(i,n+"-"+s),e.isDefined(i[a])&&o.push(i.$observe(a,e.bind(void 0,r,s)))}),function(){o.forEach(function(t){t()})}}function d(t,e){return m[e]||(m[e]=t.$normalize(e))}var h={},f={},p={},m={};return r.getResponsiveAttribute=u,r.getQuery=l,r.watchResponsiveAttributes=c,r}t.$inject=["$mdConstant","$rootScope","$window"],e.module("material.core").factory("$mdMedia",t)}(),function(){function t(t,n){function i(t){return t=e.isArray(t)?t:[t],t.forEach(function(e){l.forEach(function(n){t.push(n+"-"+e)})}),t}function r(t){return t=e.isArray(t)?t:[t],i(t).map(function(t){return"["+t+"]"}).join(",")}function o(t,e){if(t=s(t),!t)return!1;for(var n=i(e),r=0;r<n.length;r++)if(t.hasAttribute(n[r]))return!0;return!1}function a(t,e){t=s(t),t&&i(e).forEach(function(e){t.removeAttribute(e)})}function s(t){if(t=t[0]||t,t.nodeType)return t}var l=["data","x"];return t?n?r(t):i(t):{buildList:i,buildSelector:r,hasAttribute:o,removeAttribute:a}}e.module("material.core").config(["$provide",function(e){e.decorator("$mdUtil",["$delegate",function(e){return e.prefixer=t,e}])}])}(),function(){function i(i,s,l,u,c,d,h,f,p,m){function g(t){return t?v(t)||y(t)?t:t+"px":"0"}function v(t){return String(t).indexOf("px")>-1}function y(t){return String(t).indexOf("%")>-1}function _(t){return t[0]||t}var b=d.startSymbol(),E=d.endSymbol(),x="{{"===b&&"}}"===E;document.contains||(document.contains=function(t){return document.body.contains(t)});var C=function(t,n,i){var r=!1;if(t&&t.length){var o=p.getComputedStyle(t[0]);r=e.isDefined(o[n])&&(!i||o[n]==i)}return r},T={dom:{},isIos:r,isAndroid:o,now:t.performance&&t.performance.now?e.bind(t.performance,t.performance.now):Date.now||function(){return(new Date).getTime()},getModelOption:function(t,e){if(t.$options){var n=t.$options;return n.getOption?n.getOption(e):n[e]}},isRtl:function(t){var n=e.isDefined(t)&&t.hasOwnProperty("dir")&&t.dir;switch(n){case"ltr":return!1;case"rtl":return!0}return"rtl"===i[0].dir||"rtl"===i[0].body.dir},bidi:function(t,n,i,r){var o=!this.isRtl();if(0==arguments.length)return o?"ltr":"rtl";var a=e.element(t);o&&e.isDefined(i)?a.css(n,g(i)):!o&&e.isDefined(r)&&a.css(n,g(r))},bidiProperty:function(t,n,i,r){var o=!this.isRtl(),a=e.element(t);o&&e.isDefined(n)?(a.css(n,g(r)),a.css(i,"")):!o&&e.isDefined(i)&&(a.css(i,g(r)),a.css(n,""))},clientRect:function(t,e,n){var i=_(t);e=_(e||i.offsetParent||document.body);var r=i.getBoundingClientRect(),o=n?e.getBoundingClientRect():{left:0,top:0,width:0,height:0};return{left:r.left-o.left,top:r.top-o.top,width:r.width,height:r.height}},offsetRect:function(t,e){return T.clientRect(t,e,!0)},nodesToArray:function(t){var e,n=[];for(t=t||[],e=0;e<t.length;++e)n.push(t.item(e));return n},getViewportTop:function(){return T.disableScrollAround._count&&T.disableScrollAround._viewPortTop?T.disableScrollAround._viewPortTop:p.scrollY||p.pageYOffset||0},findFocusTarget:function(t,n){function i(t,n){var i,r=t[0].querySelectorAll(n);return r&&r.length&&r.length&&e.forEach(r,function(t){t=e.element(t);var n=t.hasClass("md-autofocus");n&&(i=t)}),i}var r,o=this.prefixer("md-autofocus",!0);return r=i(t,n||o),r||n==o||(r=i(t,this.prefixer("md-auto-focus",!0)),r||(r=i(t,o))),r},disableScrollAround:function(t,n,r){function o(t,n){function i(t){t.preventDefault()}var r,o=e.element(t||s);return n.disableScrollMask?r=o:(r=e.element('<div class="md-scroll-mask">  <div class="md-scroll-mask-bar"></div></div>'),o.append(r)),r.on("wheel touchmove",i),function(){r.off("wheel touchmove",i),!n.disableScrollMask&&r[0].parentNode&&r[0].parentNode.removeChild(r[0])}}function a(){var t=i[0].documentElement,n=t.style.cssText||"",r=s.style.cssText||"",o=T.getViewportTop();T.disableScrollAround._viewPortTop=o;var a=s.clientWidth,l=s.scrollHeight>s.clientHeight+1,u=t.scrollTop>0?t:s;return l&&e.element(s).css({position:"fixed",width:"100%",top:-o+"px"}),s.clientWidth<a&&(s.style.overflow="hidden"),function(){s.style.cssText=r,t.style.cssText=n,u.scrollTop=o}}if(r=r||{},T.disableScrollAround._count=Math.max(0,T.disableScrollAround._count||0),T.disableScrollAround._count++,T.disableScrollAround._restoreScroll)return T.disableScrollAround._restoreScroll;var s=i[0].body,l=a(),u=o(n,r);return T.disableScrollAround._restoreScroll=function(){--T.disableScrollAround._count<=0&&(delete T.disableScrollAround._viewPortTop,l(),u(),delete T.disableScrollAround._restoreScroll)}},enableScrolling:function(){var t=this.disableScrollAround._restoreScroll;t&&t()},floatingScrollbars:function(){if(this.floatingScrollbars.cached===n){var t=e.element("<div><div></div></div>").css({width:"100%","z-index":-1,position:"absolute",height:"35px","overflow-y":"scroll"});t.children().css("height","60px"),i[0].body.appendChild(t[0]),this.floatingScrollbars.cached=t[0].offsetWidth==t[0].childNodes[0].offsetWidth,t.remove()}return this.floatingScrollbars.cached},forceFocus:function(e){var n=e[0]||e;document.addEventListener("click",function r(t){t.target===n&&t.$focus&&(n.focus(),t.stopImmediatePropagation(),t.preventDefault(),n.removeEventListener("click",r))},!0);var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!1,!0,t,{},0,0,0,0,!1,!1,!1,!1,0,null),i.$material=!0,i.$focus=!0,n.dispatchEvent(i)},createBackdrop:function(t,e){return l(T.supplant('<md-backdrop class="{0}">',[e]))(t)},supplant:function(t,e,n){return n=n||/\{([^{}]*)\}/g,t.replace(n,function(t,n){var i=n.split("."),r=e;try{for(var o in i)i.hasOwnProperty(o)&&(r=r[i[o]])}catch(a){r=t}return"string"==typeof r||"number"==typeof r?r:t})},fakeNgModel:function(){return{$fake:!0,$setTouched:e.noop,$setViewValue:function(t){this.$viewValue=t,this.$render(t),this.$viewChangeListeners.forEach(function(t){t()})},$isEmpty:function(t){return 0===(""+t).length},$parsers:[],$formatters:[],$viewChangeListeners:[],$render:e.noop}},debounce:function(t,e,i,r){var o;return function(){var a=i,l=Array.prototype.slice.call(arguments);s.cancel(o),o=s(function(){o=n,t.apply(a,l)},e||10,r)}},throttle:function(t,e){var n;return function(){var i=this,r=arguments,o=T.now();(!n||o-n>e)&&(t.apply(i,r),n=o)}},time:function(t){var e=T.now();return t(),T.now()-e},valueOnUse:function(t,e,n){var i=null,r=Array.prototype.slice.call(arguments),o=r.length>3?r.slice(3):[];Object.defineProperty(t,e,{get:function(){return null===i&&(i=n.apply(t,o)),i}})},nextUid:function(){return""+a++},disconnectScope:function(t){if(t&&t.$root!==t&&!t.$$destroyed){var e=t.$parent;t.$$disconnected=!0,e.$$childHead===t&&(e.$$childHead=t.$$nextSibling),e.$$childTail===t&&(e.$$childTail=t.$$prevSibling),t.$$prevSibling&&(t.$$prevSibling.$$nextSibling=t.$$nextSibling),t.$$nextSibling&&(t.$$nextSibling.$$prevSibling=t.$$prevSibling),t.$$nextSibling=t.$$prevSibling=null}},reconnectScope:function(t){if(t&&t.$root!==t&&t.$$disconnected){var e=t,n=e.$parent;e.$$disconnected=!1,e.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=e,n.$$childTail=e):n.$$childHead=n.$$childTail=e}},getSiblings:function(t,n){var i=n.toUpperCase();t instanceof e.element&&(t=t[0]);var r=Array.prototype.filter.call(t.parentNode.children,function(e){return t!==e&&e.tagName.toUpperCase()===i});return r.map(function(t){return e.element(t)})},getClosest:function(t,n,i){if(e.isString(n)){var r=n.toUpperCase();n=function(t){return t.nodeName.toUpperCase()===r}}if(t instanceof e.element&&(t=t[0]),i&&(t=t.parentNode),!t)return null;do if(n(t))return t;while(t=t.parentNode);return null},elementContains:function(n,i){var r=t.Node&&t.Node.prototype&&Node.prototype.contains,o=r?e.bind(n,n.contains):e.bind(n,function(t){return n===i||!!(16&this.compareDocumentPosition(t))});return o(i)},extractElementByName:function(t,n,i,r){function o(t){return a(t)||(i?s(t):null)}function a(t){if(t)for(var e=0,i=t.length;e<i;e++)if(t[e].nodeName.toLowerCase()===n)return t[e];return null}function s(t){var e;if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n];if(!e)for(var a=0,s=r.childNodes.length;a<s;a++)e=e||o([r.childNodes[a]])}return e}var l=o(t);return!l&&r&&h.warn(T.supplant("Unable to find node '{0}' in element '{1}'.",[n,t[0].outerHTML])),e.element(l||t)},initOptionalProperties:function(t,n,i){i=i||{},e.forEach(t.$$isolateBindings,function(r,o){if(r.optional&&e.isUndefined(t[o])){var a=e.isDefined(n[r.attrName]);t[o]=e.isDefined(i[o])?i[o]:a}})},nextTick:function(t,e,n){function i(){var t=r.queue,e=r.digest;r.queue=[],r.timeout=null,r.digest=!1,t.forEach(function(t){var e=t.scope&&t.scope.$$destroyed;e||t.callback()}),e&&u.$digest()}var r=T.nextTick,o=r.timeout,a=r.queue||[];return a.push({scope:n,callback:t}),null==e&&(e=!0),r.digest=r.digest||e,r.queue=a,o||(r.timeout=s(i,0,!1))},processTemplate:function(t){return x?t:t&&e.isString(t)?t.replace(/\{\{/g,b).replace(/}}/g,E):t},getParentWithPointerEvents:function(t){for(var e=t.parent();C(e,"pointer-events","none");)e=e.parent();return e},getNearestContentElement:function(t){for(var e=t.parent()[0];e&&e!==f[0]&&e!==document.body&&"MD-CONTENT"!==e.nodeName.toUpperCase();)e=e.parentNode;return e},checkStickySupport:function(){var t,n=e.element("<div>");i[0].body.appendChild(n[0]);for(var r=["sticky","-webkit-sticky"],o=0;o<r.length;++o)if(n.css({position:r[o],top:0,"z-index":2}),n.css("position")==r[o]){t=r[o];break}return n.remove(),t},parseAttributeBoolean:function(t,e){return""===t||!!t&&(e===!1||"false"!==t&&"0"!==t)},hasComputedStyle:C,isParentFormSubmitted:function(t){var n=T.getClosest(t,"form"),i=n?e.element(n).controller("form"):null;return!!i&&i.$submitted},animateScrollTo:function(t,e,n){function i(){var n=r();t.scrollTop=n,(l?n<e:n>e)&&m(i)}function r(){var t=n||1e3,e=T.now()-u;return o(e,a,s,t)}function o(t,e,n,i){if(t>i)return e+n;var r=(t/=i)*t,o=r*t;return e+n*(-2*o+3*r)}var a=t.scrollTop,s=e-a,l=a<e,u=T.now();m(i)},uniq:function(t){if(t)return t.filter(function(t,e,n){return n.indexOf(t)===e})},getInnerHTML:function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(t){return e.serializeToString(t)}).join("")},getOuterHTML:function(t){var e=new XMLSerializer;return e.serializeToString(t)},msie:t.document.documentMode,getTouchAction:function(){for(var t=document.createElement("div"),n=["","webkit","Moz","MS","ms","o"],i=0;i<n.length;i++){var r=n[i],o=r?r+"TouchAction":"touchAction";if(e.isDefined(t.style[o]))return o}},getEventPath:function(e){for(var n=[],i=e.target;i;)n.push(i),i=i.parentElement;return n.indexOf(t)===-1&&n.indexOf(document)===-1&&n.push(document),n.indexOf(t)===-1&&n.push(t),n},sanitize:function(t){return t?t.replace(/[\\^$*+?.()|{}[]/g,"\\$&"):t}};return T.dom.animator=c(T),T}i.$inject=["$document","$timeout","$compile","$rootScope","$$mdAnimate","$interpolate","$log","$rootElement","$window","$$rAF"];var r,o,a=0;if(t.navigator){var s=t.navigator.userAgent||t.navigator.vendor||t.opera;r=s.match(/ipad|iphone|ipod/i),o=s.match(/android/i)}e.module("material.core").factory("$mdUtil",i),e.element.prototype.focus=e.element.prototype.focus||function(){return this.length&&this[0].focus(),this},e.element.prototype.blur=e.element.prototype.blur||function(){return this.length&&this[0].blur(),this}}(),function(){function n(n,i,r,o,a){var s;return s={translate3d:function(t,e,n,i){function r(n){return a(t,{to:n||e,addClass:i.transitionOutClass,removeClass:i.transitionInClass,duration:i.duration}).start()}return a(t,{from:e,to:n,addClass:i.transitionInClass,removeClass:i.transitionOutClass,duration:i.duration}).start().then(function(){return r})},waitTransitionEnd:function(e,n){var a=3e3;return i(function(i,s){function l(t){t&&t.target!==e[0]||(t&&r.cancel(c),e.off(o.CSS.TRANSITIONEND,l),i())}function u(n){return n=n||t.getComputedStyle(e[0]),"0s"==n.transitionDuration||!n.transition&&!n.transitionProperty}n=n||{},u(n.cachedTransitionStyles)&&(a=0);var c=r(l,n.timeout||a);e.on(o.CSS.TRANSITIONEND,l)})},calculateTransformValues:function(t,e){function n(){var e=t?t.parent():null,n=e?e.parent():null;return n?s.clientRect(n):null}var i=e.element,r=e.bounds;if(i||r){var o=i?s.clientRect(i)||n():s.copyRect(r),a=s.copyRect(t[0].getBoundingClientRect()),l=s.centerPointFor(a),u=s.centerPointFor(o);return{centerX:u.x-l.x,centerY:u.y-l.y,scaleX:Math.round(100*Math.min(.5,o.width/a.width))/100,scaleY:Math.round(100*Math.min(.5,o.height/a.height))/100}}return{centerX:0,centerY:0,scaleX:.5,scaleY:.5}},calculateZoomToOrigin:function(t,i){var r="translate3d( {centerX}px, {centerY}px, 0 ) scale( {scaleX}, {scaleY} )",o=e.bind(null,n.supplant,r);return o(s.calculateTransformValues(t,i))},calculateSlideToOrigin:function(t,i){var r="translate3d( {centerX}px, {centerY}px, 0 )",o=e.bind(null,n.supplant,r);return o(s.calculateTransformValues(t,i))},toCss:function(t){function n(t,n,r){e.forEach(n.split(" "),function(t){i[t]=r})}var i={},r="left top right bottom width height x y min-width min-height max-width max-height";return e.forEach(t,function(t,a){if(!e.isUndefined(t))if(r.indexOf(a)>=0)i[a]=t+"px";else switch(a){case"transition":n(a,o.CSS.TRANSITION,t);break;case"transform":n(a,o.CSS.TRANSFORM,t);break;case"transformOrigin":n(a,o.CSS.TRANSFORM_ORIGIN,t);break;case"font-size":i["font-size"]=t}}),i},toTransformCss:function(t,n,i){var r={};return e.forEach(o.CSS.TRANSFORM.split(" "),function(e){r[e]=t}),n&&(i=i||"all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1) !important",r.transition=i),r},copyRect:function(t,n){return t?(n=n||{},e.forEach("left top right bottom width height".split(" "),function(e){n[e]=Math.round(t[e])}),n.width=n.width||n.right-n.left,n.height=n.height||n.bottom-n.top,n):null},clientRect:function(t){var n=e.element(t)[0].getBoundingClientRect(),i=function(t){return t&&t.width>0&&t.height>0};return i(n)?s.copyRect(n):null},centerPointFor:function(t){return t?{x:Math.round(t.left+t.width/2),y:Math.round(t.top+t.height/2)}:{x:0,y:0}}}}e.module("material.core").factory("$$mdAnimate",["$q","$timeout","$mdConstant","$animateCss",function(t,e,i,r){return function(o){return n(o,t,e,i,r)}}])}(),function(){e.version.minor>=4?e.module("material.core.animate",[]):!function(){function t(t){return t.replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()})}var n=e.forEach,i=e.isDefined(document.documentElement.style.WebkitAppearance),r=i?"-webkit-":"",o=(i?"webkitTransitionEnd ":"")+"transitionend",a=(i?"webkitAnimationEnd ":"")+"animationend",s=["$document",function(t){return function(){return t[0].body.clientWidth+1}}],l=["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],u=["$q","$$rAFMutex",function(t,i){function r(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=i(),this._state=0}var o=0,a=1,s=2;return r.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===s?t():this._doneCallbacks.push(t)},progress:e.noop,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===o&&(e._state=a,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==s&&(n(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=s)}},r.all=function(t,e){function i(n){o=o&&n,++r===t.length&&e(o)}var r=0,o=!0;n(t,function(t){t.done(i)})},r}];e.module("material.core.animate",[]).factory("$$forceReflow",s).factory("$$AnimateRunner",u).factory("$$rAFMutex",l).factory("$animateCss",["$window","$$rAF","$$AnimateRunner","$$forceReflow","$$jqLite","$timeout","$animate",function(e,s,l,u,c,d,h){function f(i,s){var u=[],c=E(i),f=c&&h.enabled(),g=!1,C=!1;f&&(s.transitionStyle&&u.push([r+"transition",s.transitionStyle]),s.keyframeStyle&&u.push([r+"animation",s.keyframeStyle]),s.delay&&u.push([r+"transition-delay",s.delay+"s"]),s.duration&&u.push([r+"transition-duration",s.duration+"s"]),g=s.keyframeStyle||s.to&&(s.duration>0||s.transitionStyle),C=!!s.addClass||!!s.removeClass,x(i,!0));var T=f&&(g||C);_(i,s);var w,S,M=!1;return{close:e.close,start:function(){function e(){if(!M)return M=!0,w&&S&&i.off(w,S),p(i,s),y(i,s),n(u,function(e){c.style[t(e[0])]=""}),h.complete(!0),h}var h=new l;return v(function(){if(x(i,!1),!T)return e();n(u,function(e){var n=e[0],i=e[1];c.style[t(n)]=i}),p(i,s);var l=m(i);if(0===l.duration)return e();var h=[];s.easing&&(l.transitionDuration&&h.push([r+"transition-timing-function",s.easing]),l.animationDuration&&h.push([r+"animation-timing-function",s.easing])),s.delay&&l.animationDelay&&h.push([r+"animation-delay",s.delay+"s"]),s.duration&&l.animationDuration&&h.push([r+"animation-duration",s.duration+"s"]),n(h,function(e){var n=e[0],i=e[1];c.style[t(n)]=i,u.push(e)});var f=l.delay,g=1e3*f,v=l.duration,y=1e3*v,_=Date.now();w=[],l.transitionDuration&&w.push(o),l.animationDuration&&w.push(a),w=w.join(" "),S=function(t){t.stopPropagation();var n=t.originalEvent||t,i=n.timeStamp||Date.now(),r=parseFloat(n.elapsedTime.toFixed(3));Math.max(i-_,0)>=g&&r>=v&&e()},i.on(w,S),b(i,s),d(e,g+1.5*y,!1)}),h}}}function p(t,e){e.addClass&&(c.addClass(t,e.addClass),e.addClass=null),e.removeClass&&(c.removeClass(t,e.removeClass),e.removeClass=null)}function m(t){function n(t){return i?"Webkit"+t.charAt(0).toUpperCase()+t.substr(1):t}var r=E(t),o=e.getComputedStyle(r),a=g(o[n("transitionDuration")]),s=g(o[n("animationDuration")]),l=g(o[n("transitionDelay")]),u=g(o[n("animationDelay")]);s*=parseInt(o[n("animationIterationCount")],10)||1;var c=Math.max(s,a),d=Math.max(u,l);return{duration:c,delay:d,animationDuration:s,transitionDuration:a,animationDelay:u,transitionDelay:l}}function g(t){var e=0,i=(t||"").split(/\s*,\s*/);return n(i,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function v(t){C&&C(),T.push(t),C=s(function(){C=null;for(var t=u(),e=0;e<T.length;e++)T[e](t);T.length=0})}function y(t,e){_(t,e),b(t,e)}function _(t,e){e.from&&(t.css(e.from),e.from=null)}function b(t,e){e.to&&(t.css(e.to),e.to=null)}function E(t){for(var e=0;e<t.length;e++)if(1===t[e].nodeType)return t[e]}function x(e,n){var i=E(e),o=t(r+"transition-delay");i.style[o]=n?"-9999s":""}var C,T=[];return f}])}()}(),function(){function t(){function t(){e.showWarnings=!1}var e={showWarnings:!0};return{disableWarnings:t,$get:["$$rAF","$log","$window","$interpolate",function(t,i,r,o){return n.apply(e,arguments)}]}}function n(t,n,i,r){function o(t,i,r){var o=e.element(t)[0]||t;!o||o.hasAttribute(i)&&0!==o.getAttribute(i).length||c(o,i)||(r=e.isString(r)?r.trim():"",r.length?t.attr(i,r):f&&n.warn('ARIA: Attribute "',i,'", required for accessibility, is missing on node:',o))}function a(e,n,i){t(function(){o(e,n,i())})}function s(t,e){var n=u(t)||"",i=n.indexOf(r.startSymbol())>-1;i?a(t,e,function(){return u(t)}):o(t,e,n)}function l(t,e){var n=u(t),i=n.indexOf(r.startSymbol())>-1;i||n||o(t,e,n)}function u(t){function e(e){for(;e.parentNode&&(e=e.parentNode)!==t;)if(e.getAttribute&&"true"===e.getAttribute("aria-hidden"))return!0}t=t[0]||t;for(var n,i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,null,!1),r="";n=i.nextNode();)e(n)||(r+=n.textContent);return r.trim()||""}function c(t,e){function n(t){var e=t.currentStyle?t.currentStyle:i.getComputedStyle(t);return"none"===e.display}var r=t.hasChildNodes(),o=!1;if(r)for(var a=t.childNodes,s=0;s<a.length;s++){var l=a[s];1===l.nodeType&&l.hasAttribute(e)&&(n(l)||(o=!0))}return o}function d(t){var n=e.element(t)[0]||t;return!!n.hasAttribute&&(n.hasAttribute("aria-label")||n.hasAttribute("aria-labelledby")||n.hasAttribute("aria-describedby"))}function h(t,n){function i(t){if(!d(t))return!1;if(t.hasAttribute("role"))switch(t.getAttribute("role").toLowerCase()){case"command":case"definition":case"directory":case"grid":case"list":case"listitem":case"log":case"marquee":case"menu":case"menubar":case"note":case"presentation":case"separator":case"scrollbar":case"status":case"tablist":return!1}switch(t.tagName.toLowerCase()){case"abbr":case"acronym":case"address":case"applet":case"audio":case"b":case"bdi":case"bdo":case"big":case"blockquote":case"br":case"canvas":case"caption":case"center":case"cite":case"code":case"col":case"data":case"dd":case"del":case"dfn":case"dir":case"div":case"dl":case"em":case"embed":case"fieldset":case"figcaption":case"font":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"hgroup":case"html":case"i":case"ins":case"isindex":case"kbd":case"keygen":case"label":case"legend":case"li":case"map":case"mark":case"menu":case"object":case"ol":case"output":case"pre":case"presentation":case"q":case"rt":case"ruby":case"samp":case"small":case"source":case"span":case"status":case"strike":case"strong":case"sub":case"sup":case"svg":case"tbody":case"td":case"th":case"thead":case"time":case"tr":case"track":case"tt":case"ul":case"var":return!1}return!0}n=n||1;var r=e.element(t)[0]||t;return!!r.parentNode&&(!!i(r.parentNode)||(n--,!!n&&h(r.parentNode,n)))}var f=this.showWarnings;return{expect:o,expectAsync:a,expectWithText:s,expectWithoutText:l,getText:u,hasAriaLabel:d,parentHasAriaLabel:h}}n.$inject=["$$rAF","$log","$window","$interpolate"],e.module("material.core").provider("$mdAria",t)}(),function(){function t(t){function n(){return!r||("function"==typeof t.preAssignBindingsEnabled?t.preAssignBindingsEnabled():1===e.version.major&&e.version.minor<6)}function i(t,e,n,i,r){this.$q=t,this.$templateRequest=e,this.$injector=n,this.$compile=i,this.$controller=r}var r=!1;this.respectPreAssignBindingsEnabled=function(t){return e.isDefined(t)?(r=t,this):r},this.$get=["$q","$templateRequest","$injector","$compile","$controller",function(t,e,n,r,o){return new i(t,e,n,r,o)}],i.prototype.compile=function(t){return t.contentElement?this._prepareContentElement(t):this._compileTemplate(t)},i.prototype._prepareContentElement=function(t){var e=this._fetchContentElement(t);return this.$q.resolve({element:e.element,cleanup:e.restore,locals:{},link:function(){return e.element}})},i.prototype._compileTemplate=function(t){var n=this,i=t.templateUrl,r=t.template||"",o=e.extend({},t.resolve),a=e.extend({},t.locals),s=t.transformTemplate||e.identity;return e.forEach(o,function(t,i){e.isString(t)?o[i]=n.$injector.get(t):o[i]=n.$injector.invoke(t)}),e.extend(o,a),i?o.$$ngTemplate=this.$templateRequest(i):o.$$ngTemplate=this.$q.when(r),this.$q.all(o).then(function(i){var r=s(i.$$ngTemplate,t),o=t.element||e.element("<div>").html(r.trim()).contents();return n._compileElement(i,o,t)})},i.prototype._compileElement=function(t,n,i){function r(r){if(t.$scope=r,i.controller){var l=e.extend({},t,{$element:n}),u=o._createController(i,l,t);e.isFunction(u.$onDestroy)&&r.$on("$destroy",function(){e.isFunction(u.$onDestroy)&&u.$onDestroy()}),n.data("$ngControllerController",u),n.children().data("$ngControllerController",u),s.controller=u}return a(r)}var o=this,a=this.$compile(n),s={element:n,cleanup:n.remove.bind(n),locals:t,link:r};return s},i.prototype._createController=function(t,i,r){var o,a=n();if(a){var s=this.$controller(t.controller,i,!0);t.bindToController&&e.extend(s.instance,r),o=s()}else o=this.$controller(t.controller,i),t.bindToController&&e.extend(o,r);return t.controllerAs&&(i.$scope[t.controllerAs]=o),e.isFunction(o.$onInit)&&o.$onInit(),o},i.prototype._fetchContentElement=function(t){function n(t){var e=t.parentNode,n=t.nextElementSibling;return function(){n?e.insertBefore(t,n):e.appendChild(t)}}var i=t.contentElement,r=null;return e.isString(i)?(i=document.querySelector(i),r=n(i)):(i=i[0]||i,r=document.contains(i)?n(i):function(){i.parentNode&&i.parentNode.removeChild(i)}),{element:e.element(i),restore:r}}}e.module("material.core").provider("$mdCompiler",t),t.$inject=["$compileProvider"]}(),function(){function n(){}function i(n,i,r,o){function a(t){return function(e,n){n.distance<this.state.options.maxDistance&&this.dispatchEvent(e,t,n)}}function l(t,e,n){var i=m[e.replace(/^\$md./,"")];if(!i)throw new Error("Failed to register element with handler "+e+". Available handlers: "+Object.keys(m).join(", "));return i.registerElement(t,n)}function u(t,i){var r=new n(t);return e.extend(r,i),m[t]=r,p}var d=o.getTouchAction(),f="undefined"!=typeof t.jQuery&&e.element===t.jQuery,p={handler:u,register:l,isAndroid:o.isAndroid,isIos:o.isIos,isHijackingClicks:(o.isIos||o.isAndroid)&&!f&&!v};return p.isHijackingClicks&&(p.handler("click",{options:{maxDistance:g},onEnd:a("click")}),p.handler("focus",{options:{maxDistance:g},onEnd:function(t,e){e.distance<this.state.options.maxDistance&&h(t.target)&&(this.dispatchEvent(t,"focus",e),t.target.focus())}}),p.handler("mouseup",{options:{maxDistance:g},onEnd:a("mouseup")}),p.handler("mousedown",{onStart:function(t){this.dispatchEvent(t,"mousedown")}})),p.handler("press",{onStart:function(t,e){this.dispatchEvent(t,"$md.pressdown")},onEnd:function(t,e){this.dispatchEvent(t,"$md.pressup")}}).handler("hold",{options:{maxDistance:6,delay:500},onCancel:function(){r.cancel(this.state.timeout)},onStart:function(t,n){return this.state.registeredParent?(this.state.pos={x:n.x,y:n.y},void(this.state.timeout=r(e.bind(this,function(){this.dispatchEvent(t,"$md.hold"),this.cancel()}),this.state.options.delay,!1))):this.cancel()},onMove:function(t,e){d||"touchmove"!==t.type||t.preventDefault();var n=this.state.pos.x-e.x,i=this.state.pos.y-e.y;Math.sqrt(n*n+i*i)>this.options.maxDistance&&this.cancel()},onEnd:function(){this.onCancel()}}).handler("drag",{options:{minDistance:6,horizontal:!0,cancelMultiplier:1.5},onSetup:function(t,e){d&&(this.oldTouchAction=t[0].style[d],t[0].style[d]=e.horizontal?"pan-y":"pan-x")},onCleanup:function(t){this.oldTouchAction?t[0].style[d]=this.oldTouchAction:t[0].style[d]=null},onStart:function(t){this.state.registeredParent||this.cancel()},onMove:function(t,e){var n,i;d||"touchmove"!==t.type||t.preventDefault(),this.state.dragPointer?this.dispatchDragMove(t):(this.state.options.horizontal?(n=Math.abs(e.distanceX)>this.state.options.minDistance,i=Math.abs(e.distanceY)>this.state.options.minDistance*this.state.options.cancelMultiplier):(n=Math.abs(e.distanceY)>this.state.options.minDistance,i=Math.abs(e.distanceX)>this.state.options.minDistance*this.state.options.cancelMultiplier),n?(this.state.dragPointer=s(t),c(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragstart",this.state.dragPointer)):i&&this.cancel())},dispatchDragMove:i.throttle(function(t){this.state.isRunning&&(c(t,this.state.dragPointer),this.dispatchEvent(t,"$md.drag",this.state.dragPointer))}),onEnd:function(t,e){this.state.dragPointer&&(c(t,this.state.dragPointer),this.dispatchEvent(t,"$md.dragend",this.state.dragPointer))}}).handler("swipe",{options:{minVelocity:.65,minDistance:10},onEnd:function(t,e){var n;Math.abs(e.velocityX)>this.state.options.minVelocity&&Math.abs(e.distanceX)>this.state.options.minDistance?(n="left"==e.directionX?"$md.swipeleft":"$md.swiperight",this.dispatchEvent(t,n)):Math.abs(e.velocityY)>this.state.options.minVelocity&&Math.abs(e.distanceY)>this.state.options.minDistance&&(n="up"==e.directionY?"$md.swipeup":"$md.swipedown",this.dispatchEvent(t,n))}})}function r(t){this.name=t,this.state={}}function o(){function n(t,n,i){i=i||f;var r=new e.element.Event(n);r.$material=!0,r.pointer=i,r.srcEvent=t,e.extend(r,{clientX:i.x,clientY:i.y,screenX:i.x,screenY:i.y,pageX:i.x,pageY:i.y,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey}),e.element(i.target).trigger(r)}function i(e,n,i){i=i||f;var r;"click"===n||"mouseup"===n||"mousedown"===n?"function"==typeof t.MouseEvent?r=new MouseEvent(n,{bubbles:!0,cancelable:!0,screenX:Number(e.screenX),screenY:Number(e.screenY),clientX:Number(i.x),clientY:Number(i.y),ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,button:e.button,buttons:e.buttons,relatedTarget:e.relatedTarget||null}):(r=document.createEvent("MouseEvents"),r.initMouseEvent(n,!0,!0,t,e.detail,i.x,i.y,i.x,i.y,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget||null)):"function"==typeof t.CustomEvent?r=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:{}}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(n,!0,!0,{})),r.$material=!0,r.pointer=i,r.srcEvent=e,i.target.dispatchEvent(r)}var o="undefined"!=typeof t.jQuery&&e.element===t.jQuery;return r.prototype={options:{},dispatchEvent:o?n:i,onSetup:e.noop,onCleanup:e.noop,onStart:e.noop,onMove:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(t,n){if(!this.state.isRunning){var i=this.getNearestParent(t.target),r=i&&i.$mdGesture[this.name]||{};this.state={isRunning:!0,options:e.extend({},this.options,r),registeredParent:i},this.onStart(t,n)}},move:function(t,e){this.state.isRunning&&this.onMove(t,e)},end:function(t,e){this.state.isRunning&&(this.state.isRunning=!1,this.onEnd(t,e))},cancel:function(t,e){this.onCancel(t,e),this.state={}},getNearestParent:function(t){for(var e=t;e;){if((e.$mdGesture||{})[this.name])return e;e=e.parentNode}return null},registerElement:function(t,e){function n(){delete t[0].$mdGesture[i.name],t.off("$destroy",n),i.onCleanup(t,e||{})}var i=this;return t[0].$mdGesture=t[0].$mdGesture||{},t[0].$mdGesture[this.name]=e||{},t.on("$destroy",n),i.onSetup(t,e||{}),n}},r}function a(t,n,i){function r(t){var e=!t.clientX&&!t.clientY;e||t.$material||t.isIonicTap||u(t)||"mousedown"===t.type&&(h(t.target)||h(document.activeElement))||(t.preventDefault(),t.stopPropagation())}function o(t){var n;n=i.isIos?e.isDefined(t.webkitForce)&&0===t.webkitForce:0===t.clientX&&0===t.clientY,n||t.$material||t.isIonicTap||u(t)?(_=null,"label"===t.target.tagName.toLowerCase()&&(_={x:t.x,y:t.y})):(t.preventDefault(),t.stopPropagation(),_=null)}function a(t,e){var i;for(var r in m)i=m[r],i instanceof n&&("start"===t&&i.cancel(),i[t](e,f))}function d(t){if(!f){var e=+Date.now();p&&!l(t,p)&&e-p.endTime<1500||(f=s(t),a("start",t))}}function g(t){f&&l(t,f)&&(c(t,f),a("move",t))}function v(t){f&&l(t,f)&&(c(t,f),f.endTime=+Date.now(),"pointercancel"!==t.type&&a("end",t),p=f,f=null)}if(!y){!b&&t.isHijackingClicks&&(document.addEventListener("click",o,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("focus",r,!0),b=!0);var E="mousedown touchstart pointerdown",x="mousemove touchmove pointermove",C="mouseup mouseleave touchend touchcancel pointerup pointercancel";e.element(document).on(E,d).on(x,g).on(C,v).on("$$mdGestureReset",function(){p=f=null})}}function s(t){var e=d(t),n={startTime:+Date.now(),target:t.target,type:t.type.charAt(0)};return n.startX=n.x=e.pageX,n.startY=n.y=e.pageY,n}function l(t,e){return t&&e&&t.type.charAt(0)===e.type}function u(t){return _&&_.x===t.x&&_.y===t.y}function c(t,e){var n=d(t),i=e.x=n.pageX,r=e.y=n.pageY;e.distanceX=i-e.startX,e.distanceY=r-e.startY,e.distance=Math.sqrt(e.distanceX*e.distanceX+e.distanceY*e.distanceY),e.directionX=e.distanceX>0?"right":e.distanceX<0?"left":"",e.directionY=e.distanceY>0?"down":e.distanceY<0?"up":"",e.duration=+Date.now()-e.startTime,e.velocityX=e.distanceX/e.duration,e.velocityY=e.distanceY/e.duration}function d(t){return t=t.originalEvent||t,t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t}function h(t){return!!t&&"-1"!==t.getAttribute("tabindex")&&!t.hasAttribute("disabled")&&(t.hasAttribute("tabindex")||t.hasAttribute("href")||t.isContentEditable||["INPUT","SELECT","BUTTON","TEXTAREA","VIDEO","AUDIO"].indexOf(t.nodeName)!==-1)}i.$inject=["$$MdGestureHandler","$$rAF","$timeout","$mdUtil"],a.$inject=["$mdGesture","$$MdGestureHandler","$mdUtil"];
var f,p,m={},g=6,v=!1,y=!1,_=null,b=!1;e.module("material.core.gestures",[]).provider("$mdGesture",n).factory("$$MdGestureHandler",o).run(a),n.prototype={disableAll:function(){y=!0},skipClickHijack:function(){return v=!0},setMaxClickDistance:function(t){g=parseInt(t)},$get:["$$MdGestureHandler","$$rAF","$timeout","$mdUtil",function(t,e,n,r){return new i(t,e,n,r)}]}}(),function(){function n(n,i,r){this.$timeout=n,this.$mdUtil=i,this.$rootScope=r,this.pointerEvent="MSPointerEvent"in t?"MSPointerDown":"PointerEvent"in t?"pointerdown":null,this.bodyElement=e.element(document.body),this.isBuffering=!1,this.bufferTimeout=null,this.lastInteractionType=null,this.lastInteractionTime=null,this.inputHandler=this.onInputEvent.bind(this),this.bufferedInputHandler=this.onBufferInputEvent.bind(this),this.inputEventMap={keydown:"keyboard",mousedown:"mouse",mouseenter:"mouse",touchstart:"touch",pointerdown:"pointer",MSPointerDown:"pointer"},this.iePointerMap={2:"touch",3:"touch",4:"mouse"},this.initializeEvents(),this.$rootScope.$on("$destroy",this.deregister.bind(this))}n.$inject=["$timeout","$mdUtil","$rootScope"],e.module("material.core.interaction",[]).service("$mdInteraction",n),n.prototype.deregister=function(){this.bodyElement.off("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.off("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.off(this.pointerEvent,this.inputHandler)},n.prototype.initializeEvents=function(){this.bodyElement.on("keydown mousedown",this.inputHandler),"ontouchstart"in document.documentElement&&this.bodyElement.on("touchstart",this.bufferedInputHandler),this.pointerEvent&&this.bodyElement.on(this.pointerEvent,this.inputHandler)},n.prototype.onInputEvent=function(t){if(!this.isBuffering){var e=this.inputEventMap[t.type];"pointer"===e&&(e=this.iePointerMap[t.pointerType]||t.pointerType),this.lastInteractionType=e,this.lastInteractionTime=this.$mdUtil.now()}},n.prototype.onBufferInputEvent=function(t){this.$timeout.cancel(this.bufferTimeout),this.onInputEvent(t),this.isBuffering=!0,this.bufferTimeout=this.$timeout(function(){this.isBuffering=!1}.bind(this),650,!1)},n.prototype.getLastInteractionType=function(){return this.lastInteractionType},n.prototype.isUserInvoked=function(t){var n=e.isNumber(t)?t:15;return this.lastInteractionTime>=this.$mdUtil.now()-n}}(),function(){function t(){function t(t){function n(t){return l.optionsFactory=t.options,l.methods=(t.methods||[]).concat(a),u}function i(t,e){return s[t]=e,u}function r(e,n){if(n=n||{},n.methods=n.methods||[],n.options=n.options||function(){return{}},/^cancel|hide|show$/.test(e))throw new Error("Preset '"+e+"' in "+t+" is reserved!");if(n.methods.indexOf("_options")>-1)throw new Error("Method '_options' in "+t+" is reserved!");return l.presets[e]={methods:n.methods.concat(a),optionsFactory:n.options,argOption:n.argOption},u}function o(n,i){function r(t){return t=t||{},t._options&&(t=t._options),d.show(e.extend({},c,t))}function o(t){return d.destroy(t)}function a(e,n){var r={};return r[t]=h,i.invoke(e||function(){return n},{},r)}var u,c,d=n(),h={hide:d.hide,cancel:d.cancel,show:r,destroy:o};return u=l.methods||[],c=a(l.optionsFactory,{}),e.forEach(s,function(t,e){h[e]=t}),e.forEach(l.presets,function(t,n){function i(t){this._options=e.extend({},r,t)}var r=a(t.optionsFactory,{}),o=(t.methods||[]).concat(u);if(e.extend(r,{$type:n}),e.forEach(o,function(t){i.prototype[t]=function(e){return this._options[t]=e,this}}),t.argOption){var s="show"+n.charAt(0).toUpperCase()+n.slice(1);h[s]=function(t){var e=h[n](t);return h.show(e)}}h[n]=function(n){return arguments.length&&t.argOption&&!e.isObject(n)&&!e.isArray(n)?(new i)[t.argOption](n):new i(n)}}),h}o.$inject=["$$interimElement","$injector"];var a=["onHide","onShow","onRemove"],s={},l={presets:{}},u={setDefaults:n,addPreset:r,addMethod:i,$get:o};return u.addPreset("build",{methods:["controller","controllerAs","resolve","multiple","template","templateUrl","themable","transformTemplate","parent","contentElement"]}),u}function i(t,i,r,o,a,s,l,u,c,d,h){return function(){function f(t){t=t||{};var e=new y(t||{}),n=t.multiple?i.resolve():i.all(E);t.multiple||(n=n.then(function(){var t=x.concat(C.map(_.cancel));return i.all(t)}));var r=n.then(function(){return e.show().then(function(){C.push(e)})["catch"](function(t){return t})["finally"](function(){E.splice(E.indexOf(r),1)})});return E.push(r),e.deferred.promise["catch"](function(t){return t instanceof Error&&h(t),t}),e.deferred.promise}function p(t,e){function r(n){if(!n)return i.when(t);var r=n.remove(t,!1,e||{})["catch"](function(t){return t})["finally"](function(){x.splice(x.indexOf(r),1)});return C.splice(C.indexOf(n),1),x.push(r),n.deferred.promise}return e=e||{},e.closeAll?i.all(C.slice().reverse().map(r)):e.closeTo!==n?i.all(C.slice(e.closeTo).map(r)):r(C[C.length-1])}function m(t,n){var r=C.pop();if(!r)return i.when(t);var o=r.remove(t,!0,n||{})["catch"](function(t){return t})["finally"](function(){x.splice(x.indexOf(o),1)});return x.push(o),r.deferred.promise["catch"](e.noop)}function g(t){return function(){var e=arguments;return C.length?t.apply(_,e):E.length?E[0]["finally"](function(){return t.apply(_,e)}):i.when("No interim elements currently showing up.")}}function v(t){var n=t?null:C.shift(),r=e.element(t).length&&e.element(t)[0].parentNode;if(r){var o=C.filter(function(t){return t.options.element[0]===r});o.length&&(n=o[0],C.splice(C.indexOf(n),1))}return n?n.remove(b,!1,{$destroy:!0}):i.when(b)}function y(d){function h(){return i(function(t,e){function n(t){x.deferred.reject(t),e(t)}d.onCompiling&&d.onCompiling(d),m(d).then(function(e){C=g(e,d),d.cleanupElement=e.cleanup,T=b(C,d,e.controller).then(t,n)})["catch"](n)})}function f(t,n,r){function o(t){x.deferred.resolve(t)}function a(t){x.deferred.reject(t)}return C?(d=e.extend(d||{},r||{}),d.cancelAutoHide&&d.cancelAutoHide(),d.element.triggerHandler("$mdInterimElementRemove"),d.$destroy===!0?E(d.element,d).then(function(){n&&a(t)||o(t)}):(i.when(T)["finally"](function(){E(d.element,d).then(function(){n?a(t):o(t)},a)}),x.deferred.promise)):i.when(!1)}function p(t){return t=t||{},t.template&&(t.template=l.processTemplate(t.template)),e.extend({preserveScope:!1,cancelAutoHide:e.noop,scope:t.scope||r.$new(t.isolateScope),onShow:function(t,e,n){return s.enter(e,n.parent)},onRemove:function(t,e){return e&&s.leave(e)||i.when()}},t)}function m(t){var e=t.skipCompile?null:u.compile(t);return e||i(function(e){e({locals:{},link:function(){return t.element}})})}function g(t,n){e.extend(t.locals,n);var i=t.link(n.scope);return n.element=i,n.parent=v(i,n),n.themable&&c(i),i}function v(n,i){var r=i.parent;if(r=e.isFunction(r)?r(i.scope,n,i):e.isString(r)?e.element(t[0].querySelector(r)):e.element(r),!(r||{}).length){var o;return a[0]&&a[0].querySelector&&(o=a[0].querySelector(":not(svg) > body")),o||(o=a[0]),"#comment"==o.nodeName&&(o=t[0].body),e.element(o)}return r}function y(){var t,i=e.noop;d.hideDelay&&(t=o(_.hide,d.hideDelay),i=function(){o.cancel(t)}),d.cancelAutoHide=function(){i(),d.cancelAutoHide=n}}function b(t,n,r){var o=n.onShowing||e.noop,a=n.onComplete||e.noop;try{o(n.scope,t,n,r)}catch(s){return i.reject(s)}return i(function(e,o){try{i.when(n.onShow(n.scope,t,n,r)).then(function(){a(n.scope,t,n),y(),e(t)},o)}catch(s){o(s.message)}})}function E(t,n){var r=n.onRemoving||e.noop;return i(function(e,o){try{var a=i.when(n.onRemove(n.scope,t,n)||!0);r(t,a),n.$destroy?(e(t),!n.preserveScope&&n.scope&&a.then(function(){n.scope.$destroy()})):a.then(function(){!n.preserveScope&&n.scope&&n.scope.$destroy(),e(t)},o)}catch(s){o(s.message)}})}var x,C,T=i.when(!0);return d=p(d),x={options:d,deferred:i.defer(),show:h,remove:f}}var _,b=!1,E=[],x=[],C=[];return _={show:f,hide:g(p),cancel:g(m),destroy:v,$injector_:d}}}return i.$inject=["$document","$q","$rootScope","$timeout","$rootElement","$animate","$mdUtil","$mdCompiler","$mdTheming","$injector","$exceptionHandler"],t.$get=i,t}e.module("material.core").provider("$$interimElement",t)}(),function(){!function(){function t(t){function s(t){return t.replace(d,"").replace(h,function(t,e,n,i){return i?n.toUpperCase():n})}var d=/^((?:x|data)[:\-_])/i,h=/([:\-_]+(.))/g,f=["","xs","gt-xs","sm","gt-sm","md","gt-md","lg","gt-lg","xl","print"],p=["layout","flex","flex-order","flex-offset","layout-align"],m=["show","hide","layout-padding","layout-margin"];e.forEach(f,function(n){e.forEach(p,function(e){var i=n?e+"-"+n:e;t.directive(s(i),o(i))}),e.forEach(m,function(e){var i=n?e+"-"+n:e;t.directive(s(i),a(i))})}),t.provider("$$mdLayout",function(){return{$get:e.noop,validateAttributeValue:c,validateAttributeUsage:u,disableLayouts:function(t){w.enabled=t!==!0}}}).directive("mdLayoutCss",i).directive("ngCloak",r("ng-cloak")).directive("layoutWrap",a("layout-wrap")).directive("layoutNowrap",a("layout-nowrap")).directive("layoutNoWrap",a("layout-no-wrap")).directive("layoutFill",a("layout-fill")).directive("layoutLtMd",l("layout-lt-md",!0)).directive("layoutLtLg",l("layout-lt-lg",!0)).directive("flexLtMd",l("flex-lt-md",!0)).directive("flexLtLg",l("flex-lt-lg",!0)).directive("layoutAlignLtMd",l("layout-align-lt-md")).directive("layoutAlignLtLg",l("layout-align-lt-lg")).directive("flexOrderLtMd",l("flex-order-lt-md")).directive("flexOrderLtLg",l("flex-order-lt-lg")).directive("offsetLtMd",l("flex-offset-lt-md")).directive("offsetLtLg",l("flex-offset-lt-lg")).directive("hideLtMd",l("hide-lt-md")).directive("hideLtLg",l("hide-lt-lg")).directive("showLtMd",l("show-lt-md")).directive("showLtLg",l("show-lt-lg")).config(n)}function n(){var t=!!document.querySelector("[md-layouts-disabled]");w.enabled=!t}function i(){return w.enabled=!1,{restrict:"A",priority:"900"}}function r(t){return["$timeout",function(n){return{restrict:"A",priority:-10,compile:function(i){return w.enabled?(i.addClass(t),function(e,i){n(function(){i.removeClass(t)},10,!1)}):e.noop}}}]}function o(t){function n(e,n,i){var r=s(n,t,i),o=i.$observe(i.$normalize(t),r);r(f(t,i,"")),e.$on("$destroy",function(){o()})}return["$mdUtil","$interpolate","$log",function(i,r,o){return g=i,v=r,y=o,{restrict:"A",compile:function(i,r){var o;return w.enabled&&(u(t,r,i,y),c(t,f(t,r,""),d(i,t,r)),o=n),o||e.noop}}}]}function a(t){function n(e,n){n.addClass(t)}return["$mdUtil","$interpolate","$log",function(i,r,o){return g=i,v=r,y=o,{restrict:"A",compile:function(i,r){var o;return w.enabled&&(c(t,f(t,r,""),d(i,t,r)),n(null,i),o=n),o||e.noop}}}]}function s(t,n){var i;return function(r){var o=c(n,r||"");e.isDefined(o)&&(i&&t.removeClass(i),i=o?n+"-"+o.trim().replace(b,"-"):n,t.addClass(i))}}function l(t){var n=t.split("-");return["$log",function(i){return i.warn(t+"has been deprecated. Please use a `"+n[0]+"-gt-<xxx>` variant."),e.noop}]}function u(t,e,n,i){var r,o,a,s=n[0].nodeName.toLowerCase();switch(t.replace(_,"")){case"flex":"md-button"!=s&&"fieldset"!=s||(o="<"+s+" "+t+"></"+s+">",a="https://github.com/philipwalton/flexbugs#9-some-html-elements-cant-be-flex-containers",r="Markup '{0}' may not work as expected in IE Browsers. Consult '{1}' for details.",i.warn(g.supplant(r,[o,a])))}}function c(t,n,i){var r=n;if(!h(n)){switch(t.replace(_,"")){case"layout":p(n,x)||(n=x[0]);break;case"flex":p(n,E)||isNaN(n)&&(n="");break;case"flex-offset":case"flex-order":n&&!isNaN(+n)||(n="0");break;case"layout-align":var o=m(n);n=g.supplant("{main}-{cross}",o);break;case"layout-padding":case"layout-margin":case"layout-fill":case"layout-wrap":case"layout-nowrap":n=""}n!=r&&(i||e.noop)(n)}return n?n.trim():""}function d(t,e,n){return function(t){h(t)||(n[n.$normalize(e)]=t)}}function h(t){return(t||"").indexOf(v.startSymbol())>-1}function f(t,e,n){var i=e.$normalize(t);return e[i]?e[i].trim().replace(b,"-"):n||null}function p(t,e,n){t=n&&t?t.replace(b,n):t;var i=!1;return t&&e.forEach(function(e){e=n?e.replace(b,n):e,i=i||e===t}),i}function m(t){var e,n={main:"start",cross:"stretch"};return t=t||"",0!==t.indexOf("-")&&0!==t.indexOf(" ")||(t="none"+t),e=t.toLowerCase().trim().replace(b,"-").split("-"),e.length&&"space"===e[0]&&(e=[e[0]+"-"+e[1],e[2]]),e.length>0&&(n.main=e[0]||n.main),e.length>1&&(n.cross=e[1]||n.cross),C.indexOf(n.main)<0&&(n.main="start"),T.indexOf(n.cross)<0&&(n.cross="stretch"),n}var g,v,y,_=/(-gt)?-(sm|md|lg|print)/g,b=/\s+/g,E=["grow","initial","auto","none","noshrink","nogrow"],x=["row","column"],C=["","start","center","end","stretch","space-around","space-between"],T=["","start","center","end","stretch"],w={enabled:!0,breakpoints:[]};t(e.module("material.core.layout",["ng"]))}()}(),function(){function t(t){this._$timeout=t,this._liveElement=this._createLiveElement(),this._announceTimeout=100}t.$inject=["$timeout"],e.module("material.core").service("$mdLiveAnnouncer",t),t.prototype.announce=function(t,e){e||(e="polite");var n=this;n._liveElement.textContent="",n._liveElement.setAttribute("aria-live",e),n._$timeout(function(){n._liveElement.textContent=t},n._announceTimeout,!1)},t.prototype._createLiveElement=function(){var t=document.createElement("div");return t.classList.add("md-visually-hidden"),t.setAttribute("role","status"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),document.body.appendChild(t),t}}(),function(){e.module("material.core.meta",[]).provider("$$mdMeta",function(){function t(t){if(o[t])return!0;var n=document.getElementsByName(t)[0];return!!n&&(o[t]=e.element(n),!0)}function n(n,i){if(t(n),o[n])o[n].attr("content",i);else{var a=e.element('<meta name="'+n+'" content="'+i+'"/>');r.append(a),o[n]=a}return function(){o[n].attr("content",""),o[n].remove(),delete o[n]}}function i(e){if(!t(e))throw Error("$$mdMeta: could not find a meta tag with the name '"+e+"'");return o[e].attr("content")}var r=e.element(document.head),o={},a={setMeta:n,getMeta:i};return e.extend({},a,{$get:function(){return a}})})}(),function(){function t(t,i){function r(t){return t&&""!==t}var o,a=[],s={};return o={notFoundError:function(e,n){t.error((n||"")+"No instance found for handle",e)},getInstances:function(){return a},get:function(t){if(!r(t))return null;var e,n,i;for(e=0,n=a.length;e<n;e++)if(i=a[e],i.$$mdHandle===t)return i;return null},register:function(t,n){function i(){var e=a.indexOf(t);e!==-1&&a.splice(e,1)}function r(){var e=s[n];e&&(e.forEach(function(e){e.resolve(t)}),delete s[n])}return n?(t.$$mdHandle=n,a.push(t),r(),i):e.noop},when:function(t){if(r(t)){var e=i.defer(),a=o.get(t);return a?e.resolve(a):(s[t]===n&&(s[t]=[]),s[t].push(e)),e.promise}return i.reject("Invalid `md-component-id` value.")}}}t.$inject=["$log","$q"],e.module("material.core").factory("$mdComponentRegistry",t)}(),function(){!function(){function t(t){function n(t){return t.hasClass("md-icon-button")?{isMenuItem:t.hasClass("md-menu-item"),fitRipple:!0,center:!0}:{isMenuItem:t.hasClass("md-menu-item"),dimBackground:!0}}return{attach:function(i,r,o){return o=e.extend(n(r),o),t.attach(i,r,o)}}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdButtonInkRipple",t)}()}(),function(){!function(){function t(t){function n(n,i,r){return t.attach(n,i,e.extend({center:!0,dimBackground:!1,fitRipple:!0},r))}return{attach:n}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdCheckboxInkRipple",t)}()}(),function(){!function(){function t(t){function n(n,i,r){return t.attach(n,i,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdListInkRipple",t)}()}(),function(){function t(t,n){return{controller:e.noop,link:function(e,i,r){r.hasOwnProperty("mdInkRippleCheckbox")?n.attach(e,i):t.attach(e,i)}}}function n(){function t(){n=!0}var n=!1;return{disableInkRipple:t,$get:["$injector",function(t){function r(r,o,a){return n||o.controller("mdNoInk")?e.noop:t.instantiate(i,{$scope:r,$element:o,rippleOptions:a})}return{attach:r}}]}}function i(t,n,i,r,o,a,s){this.$window=r,this.$timeout=o,this.$mdUtil=a,this.$mdColorUtil=s,this.$scope=t,this.$element=n,this.options=i,this.mousedown=!1,this.ripples=[],this.timeout=null,this.lastRipple=null,a.valueOnUse(this,"container",this.createContainer),this.$element.addClass("md-ink-ripple"),(n.controller("mdInkRipple")||{}).createRipple=e.bind(this,this.createRipple),(n.controller("mdInkRipple")||{}).setColor=e.bind(this,this.color),this.bindEvents()}function r(t,n){(t.mousedown||t.lastRipple)&&(t.mousedown=!1,t.$mdUtil.nextTick(e.bind(t,n),!1))}function o(){return{controller:e.noop}}i.$inject=["$scope","$element","rippleOptions","$window","$timeout","$mdUtil","$mdColorUtil"],t.$inject=["$mdButtonInkRipple","$mdCheckboxInkRipple"],e.module("material.core").provider("$mdInkRipple",n).directive("mdInkRipple",t).directive("mdNoInk",o).directive("mdNoBar",o).directive("mdNoStretch",o);var a=450;i.prototype.color=function(t){function n(){var t=i.options&&i.options.colorElement?i.options.colorElement:[],e=t.length?t[0]:i.$element[0];return e?i.$window.getComputedStyle(e).color:"rgb(0,0,0)"}var i=this;return e.isDefined(t)&&(i._color=i._parseColor(t)),i._color||i._parseColor(i.inkRipple())||i._parseColor(n())},i.prototype.calculateColor=function(){return this.color()},i.prototype._parseColor=function(t,e){e=e||1;var n=this.$mdColorUtil;if(t)return 0===t.indexOf("rgba")?t.replace(/\d?\.?\d*\s*\)\s*$/,(.1*e).toString()+")"):0===t.indexOf("rgb")?n.rgbToRgba(t):0===t.indexOf("#")?n.hexToRgba(t):void 0},i.prototype.bindEvents=function(){this.$element.on("mousedown",e.bind(this,this.handleMousedown)),this.$element.on("mouseup touchend",e.bind(this,this.handleMouseup)),this.$element.on("mouseleave",e.bind(this,this.handleMouseup)),this.$element.on("touchmove",e.bind(this,this.handleTouchmove))},i.prototype.handleMousedown=function(t){if(!this.mousedown)if(t.hasOwnProperty("originalEvent")&&(t=t.originalEvent),this.mousedown=!0,this.options.center)this.createRipple(this.container.prop("clientWidth")/2,this.container.prop("clientWidth")/2);else if(t.srcElement!==this.$element[0]){var e=this.$element[0].getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;this.createRipple(n,i)}else this.createRipple(t.offsetX,t.offsetY)},i.prototype.handleMouseup=function(){this.$timeout(function(){r(this,this.clearRipples)}.bind(this))},i.prototype.handleTouchmove=function(){r(this,this.deleteRipples)},i.prototype.deleteRipples=function(){for(var t=0;t<this.ripples.length;t++)this.ripples[t].remove()},i.prototype.clearRipples=function(){for(var t=0;t<this.ripples.length;t++)this.fadeInComplete(this.ripples[t])},i.prototype.createContainer=function(){var t=e.element('<div class="md-ripple-container"></div>');return this.$element.append(t),t},i.prototype.clearTimeout=function(){this.timeout&&(this.$timeout.cancel(this.timeout),this.timeout=null)},i.prototype.isRippleAllowed=function(){var t=this.$element[0];do{if(!t.tagName||"BODY"===t.tagName)break;if(t&&e.isFunction(t.hasAttribute)){if(t.hasAttribute("disabled"))return!1;if("false"===this.inkRipple()||"0"===this.inkRipple())return!1}}while(t=t.parentNode);return!0},i.prototype.inkRipple=function(){return this.$element.attr("md-ink-ripple")},i.prototype.createRipple=function(t,n){function i(t,e,n){return t?Math.max(e,n):Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}if(this.isRippleAllowed()){var r=this,o=r.$mdColorUtil,s=e.element('<div class="md-ripple"></div>'),l=this.$element.prop("clientWidth"),u=this.$element.prop("clientHeight"),c=2*Math.max(Math.abs(l-t),t),d=2*Math.max(Math.abs(u-n),n),h=i(this.options.fitRipple,c,d),f=this.calculateColor();s.css({left:t+"px",top:n+"px",background:"black",width:h+"px",height:h+"px",backgroundColor:o.rgbaToRgb(f),borderColor:o.rgbaToRgb(f)}),this.lastRipple=s,this.clearTimeout(),this.timeout=this.$timeout(function(){r.clearTimeout(),r.mousedown||r.fadeInComplete(s)},.35*a,!1),this.options.dimBackground&&this.container.css({backgroundColor:f}),this.container.append(s),this.ripples.push(s),s.addClass("md-ripple-placed"),this.$mdUtil.nextTick(function(){s.addClass("md-ripple-scaled md-ripple-active"),r.$timeout(function(){r.clearRipples()},a,!1)},!1)}},i.prototype.fadeInComplete=function(t){this.lastRipple===t?this.timeout||this.mousedown||this.removeRipple(t):this.removeRipple(t)},i.prototype.removeRipple=function(t){var e=this,n=this.ripples.indexOf(t);n<0||(this.ripples.splice(this.ripples.indexOf(t),1),t.removeClass("md-ripple-active"),t.addClass("md-ripple-remove"),0===this.ripples.length&&this.container.css({backgroundColor:""}),this.$timeout(function(){e.fadeOutComplete(t)},a,!1))},i.prototype.fadeOutComplete=function(t){t.remove(),this.lastRipple=null}}(),function(){!function(){function t(t){function n(n,i,r){return t.attach(n,i,e.extend({center:!1,dimBackground:!0,outline:!1,rippleSize:"full"},r))}return{attach:n}}t.$inject=["$mdInkRipple"],e.module("material.core").factory("$mdTabInkRipple",t)}()}(),function(){e.module("material.core.theming.palette",[]).constant("$mdColorPalette",{red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100",contrastStrongLightColors:"400 500 600 700 A200 A400 A700"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"500 600 A200 A400 A700"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400 A700"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100",contrastStrongLightColors:"300 400 A200 A400"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100",contrastStrongLightColors:"500 600 700 A200 A400 A700"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A700",contrastStrongLightColors:"600 700 800 A700"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853",contrastDefaultColor:"dark",contrastLightColors:"500 600 700 800 900",contrastStrongLightColors:"500 600 700"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17",contrastDefaultColor:"dark",contrastLightColors:"700 800 900",contrastStrongLightColors:"700 800 900"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00",contrastDefaultColor:"dark",contrastLightColors:"900",contrastStrongLightColors:"900"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600",contrastDefaultColor:"dark"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00",contrastDefaultColor:"dark"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00",contrastDefaultColor:"dark",contrastLightColors:"800 900",contrastStrongLightColors:"800 900"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 400 A100 A200",contrastStrongLightColors:"500 600 700 800 900 A400 A700"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 A100 A200",contrastStrongLightColors:"300 400"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64",contrastDefaultColor:"light",contrastDarkColors:"50 100 200 300 A100 A200",contrastStrongLightColors:"400 500 700"}})}(),function(){!function(t){function e(t){var e=!!document.querySelector("[md-themes-disabled]");t.disableTheming(e)}function i(e,i){function r(t,e){return e=e||{},f[t]=a(t,e),p}function o(e,n){return a(e,t.extend({},f[e]||{},n))}function a(t,e){var n=S.filter(function(t){return!e[t]});if(n.length)throw new Error("Missing colors %1 in palette %2!".replace("%1",n.join(", ")).replace("%2",t));return e}function l(e,n){if(_[e])return _[e];n=n||"default";var i="string"==typeof n?_[n]:n,r=new c(e);return i&&t.forEach(i.colors,function(e,n){r.colors[n]={name:e.name,hues:t.extend({},e.hues)}}),_[e]=r,r}function c(e){function n(e){if(e=0===arguments.length||!!e,e!==i.isDark){i.isDark=e,i.foregroundPalette=i.isDark?g:m,i.foregroundShadow=i.isDark?v:y;var n=i.isDark?w:T,r=i.isDark?T:w;return t.forEach(n,function(t,e){var n=i.colors[e],o=r[e];if(n)for(var a in n.hues)n.hues[a]===o[a]&&(n.hues[a]=t[a])}),i}}var i=this;i.name=e,i.colors={},i.dark=n,n(!1),x.forEach(function(e){var n=(i.isDark?w:T)[e];i[e+"Palette"]=function(r,o){var a=i.colors[e]={name:r,hues:t.extend({},n,o)};return Object.keys(a.hues).forEach(function(t){if(!n[t])throw new Error("Invalid hue name '%1' in theme %2's %3 color %4. Available hue names: %4".replace("%1",t).replace("%2",i.name).replace("%3",r).replace("%4",Object.keys(n).join(", ")))}),Object.keys(a.hues).map(function(t){return a.hues[t]}).forEach(function(t){if(S.indexOf(t)==-1)throw new Error("Invalid hue value '%1' in theme %2's %3 color %4. Available hue values: %5".replace("%1",t).replace("%2",i.name).replace("%3",e).replace("%4",r).replace("%5",S.join(", ")))}),i},i[e+"Color"]=function(){var t=Array.prototype.slice.call(arguments);return console.warn("$mdThemingProviderTheme."+e+"Color() has been deprecated. Use $mdThemingProviderTheme."+e+"Palette() instead."),i[e+"Palette"].apply(i,t)}})}function d(e,i,r,o){function a(t){return t===n||""===t||c.THEMES[t]!==n}function s(t,e){function r(){return l&&l.$mdTheme||("default"===E?"":E)}function s(e){if(e){a(e)||o.warn("Attempted to use unregistered theme '"+e+"'. Register it with $mdThemingProvider.theme().");var n=t.data("$mdThemeName");n&&t.removeClass("md-"+n+"-theme"),t.addClass("md-"+e+"-theme"),t.data("$mdThemeName",e),l&&t.data("$mdThemeController",l)}}var l=e.controller("mdTheme")||t.data("$mdThemeController"),u=t.scope();if(s(r()),l){var c=b||l.$shouldWatch||i.parseAttributeBoolean(t.attr("md-theme-watch"));if(c||l.isAsyncTheme){var d=function(){h&&(h(),h=n)},h=l.registerChanges(function(t){s(t),c||d()});u?u.$on("$destroy",d):t.on("$destroy",d)}}}var c=function(t,i){i===n&&(i=t,t=n),t===n&&(t=e),c.inherit(i,i)};return Object.defineProperty(c,"THEMES",{get:function(){return t.extend({},_)}}),Object.defineProperty(c,"PALETTES",{get:function(){return t.extend({},f)}}),Object.defineProperty(c,"ALWAYS_WATCH",{get:function(){return b}}),c.inherit=s,c.registered=a,c.defaultTheme=function(){return E},c.generateTheme=function(t){u(_[t],t,M.nonce)},c.defineTheme=function(t,e){e=e||{};var n=l(t);return e.primary&&n.primaryPalette(e.primary,e.primaryHues),e.accent&&n.accentPalette(e.accent,e.accentHues),e.warn&&n.warnPalette(e.warn,e.warnHues),e.background&&n.backgroundPalette(e.background,e.backgroundHues),e.dark&&n.dark(),this.generateTheme(t),r.resolve(t)},c.setBrowserColor=j,c}d.$inject=["$rootScope","$mdUtil","$q","$log"],f={};var p,_={},b=!1,E="default";t.extend(f,e);var C=function(t){var e=i.setMeta("theme-color",t),n=i.setMeta("msapplication-navbutton-color",t);return function(){e(),n()}},j=function(e){e=t.isObject(e)?e:{};var n=e.theme||"default",i=e.hue||"800",r=f[e.palette]||f[_[n].colors[e.palette||"primary"].name],o=t.isObject(r[i])?r[i].hex:r[i];return"#"!==o.substr(0,1)&&(o="#"+o),C(o)};return p={definePalette:r,extendPalette:o,theme:l,configuration:function(){return t.extend({},M,{defaultTheme:E,alwaysWatchTheme:b,registeredStyles:[].concat(M.registeredStyles)})},disableTheming:function(e){M.disableTheming=t.isUndefined(e)||!!e},registerStyles:function(t){M.registeredStyles.push(t)},setNonce:function(t){M.nonce=t},generateThemesOnDemand:function(t){M.generateOnDemand=t},setDefaultTheme:function(t){E=t},alwaysWatchTheme:function(t){b=t},enableBrowserColor:j,$get:d,_LIGHT_DEFAULT_HUES:T,_DARK_DEFAULT_HUES:w,_PALETTES:f,_THEMES:_,_parseRules:s,_rgba:h}}function r(e,n,i,r,o,a){return{priority:101,link:{pre:function(s,l,u){var c=[],d=n.startSymbol(),h=n.endSymbol(),f=u.mdTheme.trim(),p=f.substr(0,d.length)===d&&f.lastIndexOf(h)===f.length-h.length,m="::",g=u.mdTheme.split(d).join("").split(h).join("").trim().substr(0,m.length)===m,v=function(){var t=n(u.mdTheme)(s);return i(t)(s)||t},y={isAsyncTheme:t.isFunction(v())||t.isFunction(v().then),registerChanges:function(e,n){return n&&(e=t.bind(n,e)),c.push(e),function(){var t=c.indexOf(e);t>-1&&c.splice(t,1)}},$setTheme:function(t){e.registered(t)||a.warn("attempted to use unregistered theme '"+t+"'"),y.$mdTheme=t;for(var n=c.length;n--;)c[n](t)},$shouldWatch:r.parseAttributeBoolean(l.attr("md-theme-watch"))||e.ALWAYS_WATCH||p&&!g};l.data("$mdThemeController",y);var _=function(e){return"string"==typeof e?y.$setTheme(e):void o.when(t.isFunction(e)?e():e).then(function(t){
y.$setTheme(t)})};_(v());var b=s.$watch(v,function(t){t&&(_(t),y.$shouldWatch||b())})}}}}function o(){return M.disableTheming=!0,{restrict:"A",priority:"900"}}function a(t){return t}function s(e,n,i){c(e,n),i=i.replace(/THEME_NAME/g,e.name);var r=new RegExp("\\.md-"+e.name+"-theme","g"),o=/'?"?\{\{\s*([a-zA-Z]+)-(A?\d+|hue-[0-3]|shadow|default)-?(\d\.?\d*)?(contrast)?\s*\}\}'?"?/g;i=i.replace(o,function(t,n,i,r,o){return"foreground"===n?"shadow"==i?e.foregroundShadow:e.foregroundPalette[i]||e.foregroundPalette[1]:(0!==i.indexOf("hue")&&"default"!==i||(i=e.colors[n].hues[i]),h((f[e.colors[n].name][i]||"")[o?"contrast":"value"],r))});var a=new RegExp("('|\")?{{\\s*([a-zA-Z]+)-(color|contrast)-?(\\d\\.?\\d*)?\\s*}}(\"|')?","g"),s=[];return t.forEach(["default","hue-1","hue-2","hue-3"],function(t){var n=i.replace(a,function(n,i,r,o,a){var s=e.colors[r],l=f[s.name],u=s.hues[t];return h(l[u]["color"===o?"value":"contrast"],a)});if("default"!==t&&(n=n.replace(r,".md-"+e.name+"-theme.md-"+t)),"default"==e.name){var o=/((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)\.md-default-theme((?:\s|>|\.|\w|-|:|\(|\)|\[|\]|"|'|=)*)/g;n=n.replace(o,function(t,e,n){return t+", "+e+n})}s.push(n)}),s}function l(e,n){function i(e,n){var i=e.contrastDefaultColor,r=e.contrastLightColors||[],o=e.contrastStrongLightColors||[],a=e.contrastDarkColors||[];"string"==typeof r&&(r=r.split(" ")),"string"==typeof o&&(o=o.split(" ")),"string"==typeof a&&(a=a.split(" ")),delete e.contrastDefaultColor,delete e.contrastLightColors,delete e.contrastStrongLightColors,delete e.contrastDarkColors,t.forEach(e,function(n,s){function l(){return"light"===i?a.indexOf(s)>-1?_:o.indexOf(s)>-1?E:b:r.indexOf(s)>-1?o.indexOf(s)>-1?E:b:_}if(!t.isObject(n)){var u=d(n);if(!u)throw new Error("Color %1, in palette %2's hue %3, is invalid. Hex or rgb(a) color expected.".replace("%1",n).replace("%2",e.name).replace("%3",s));e[s]={hex:e[s],value:u,contrast:l()}}})}var r=document.head,o=r?r.firstElementChild:null,a=!M.disableTheming&&e.has("$MD_THEME_CSS")?e.get("$MD_THEME_CSS"):"";if(a+=M.registeredStyles.join(""),o&&0!==a.length){t.forEach(f,i);var s=a.split(/\}(?!(\}|'|"|;))/).filter(function(t){return t&&t.trim().length}).map(function(t){return t.trim()+"}"});x.forEach(function(t){j[t]=""}),s.forEach(function(t){for(var e,n=0;e=x[n];n++)if(t.indexOf(".md-"+e)>-1)return j[e]+=t;for(n=0;e=x[n];n++)if(t.indexOf(e)>-1)return j[e]+=t;return j[C]+=t}),M.generateOnDemand||t.forEach(n.THEMES,function(t){p[t.name]||"default"!==n.defaultTheme()&&"default"===t.name||u(t,t.name,M.nonce)})}}function u(t,e,n){var i=document.head,r=i?i.firstElementChild:null;p[e]||(x.forEach(function(e){for(var o=s(t,e,j[e]);o.length;){var a=o.shift();if(a){var l=document.createElement("style");l.setAttribute("md-theme-style",""),n&&l.setAttribute("nonce",n),l.appendChild(document.createTextNode(a)),i.insertBefore(l,r)}}}),p[t.name]=!0)}function c(t,e){if(!f[(t.colors[e]||{}).name])throw new Error("You supplied an invalid color palette for theme %1's %2 palette. Available palettes: %3".replace("%1",t.name).replace("%2",e).replace("%3",Object.keys(f).join(", ")))}function d(e){if(t.isArray(e)&&3==e.length)return e;if(/^rgb/.test(e))return e.replace(/(^\s*rgba?\(|\)\s*$)/g,"").split(",").map(function(t,e){return 3==e?parseFloat(t,10):parseInt(t,10)});if("#"==e.charAt(0)&&(e=e.substring(1)),/^([a-fA-F0-9]{3}){1,2}$/g.test(e)){var n=e.length/3,i=e.substr(0,n),r=e.substr(n,n),o=e.substr(2*n);return 1===n&&(i+=i,r+=r,o+=o),[parseInt(i,16),parseInt(r,16),parseInt(o,16)]}}function h(e,n){return e?(4==e.length&&(e=t.copy(e),n?e.pop():n=e.pop()),n&&("number"==typeof n||"string"==typeof n&&n.length)?"rgba("+e.join(",")+","+n+")":"rgb("+e.join(",")+")"):"rgb('0,0,0')"}e.$inject=["$mdThemingProvider"],r.$inject=["$mdTheming","$interpolate","$parse","$mdUtil","$q","$log"],a.$inject=["$mdTheming"],i.$inject=["$mdColorPalette","$$mdMetaProvider"],l.$inject=["$injector","$mdTheming"],t.module("material.core.theming",["material.core.theming.palette","material.core.meta"]).directive("mdTheme",r).directive("mdThemable",a).directive("mdThemesDisabled",o).provider("$mdTheming",i).config(e).run(l);var f,p={},m={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.54)",3:"rgba(0,0,0,0.38)",4:"rgba(0,0,0,0.12)"},g={name:"light",1:"rgba(255,255,255,1.0)",2:"rgba(255,255,255,0.7)",3:"rgba(255,255,255,0.5)",4:"rgba(255,255,255,0.12)"},v="1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4)",y="",_=d("rgba(0,0,0,0.87)"),b=d("rgba(255,255,255,0.87)"),E=d("rgb(255,255,255)"),x=["primary","accent","warn","background"],C="primary",T={accent:{"default":"A200","hue-1":"A100","hue-2":"A400","hue-3":"A700"},background:{"default":"50","hue-1":"A100","hue-2":"100","hue-3":"300"}},w={background:{"default":"A400","hue-1":"800","hue-2":"900","hue-3":"A200"}};x.forEach(function(t){var e={"default":"500","hue-1":"300","hue-2":"800","hue-3":"A100"};T[t]||(T[t]=e),w[t]||(w[t]=e)});var S=["50","100","200","300","400","500","600","700","800","900","A100","A200","A400","A700"],M={disableTheming:!1,generateOnDemand:!1,registeredStyles:[],nonce:null},j={}}(t.angular)}(),function(){e.module("material.components.autocomplete",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){function t(t,u,c,d,h,f,p,m,g,v,y,_){function b(){c.initOptionalProperties(t,g,{searchText:"",selectedItem:null,clearButton:!1,disableVirtualRepeat:!1}),h(u),S(),c.nextTick(function(){O(),C(),u.on("touchstart",T),t.autofocus&&u.on("focus",T),t.inputAriaDescribedBy&&Pt.input.setAttribute("aria-describedby",t.inputAriaDescribedBy),t.floatingLabel||(t.inputAriaLabel?Pt.input.setAttribute("aria-label",t.inputAriaLabel):t.inputAriaLabelledBy?Pt.input.setAttribute("aria-labelledby",t.inputAriaLabelledBy):t.placeholder&&Pt.input.setAttribute("aria-label",t.placeholder))})}function E(){t.requireMatch&&$t&&$t.$setValidity("md-require-match",!!t.selectedItem||!t.searchText)}function x(){function e(){var t=0,e=u.find("md-input-container");if(e.length){var n=e.find("input");t=e.prop("offsetHeight"),t-=n.prop("offsetTop"),t-=n.prop("offsetHeight"),t+=e.prop("offsetTop")}return t}function n(){var t=Pt.scrollContainer.getBoundingClientRect(),e={};t.right>m.right&&(e.left=f.right-t.width+"px"),Pt.$.scrollContainer.css(e)}if(!Pt)return c.nextTick(x,!1,t);var s,l,d,h=(t.dropdownItems||r)*i,f=Pt.wrap.getBoundingClientRect(),p=Pt.snap.getBoundingClientRect(),m=Pt.root.getBoundingClientRect(),v=p.bottom-m.top,y=m.bottom-p.top,_=f.left-m.left,b=f.width,E=e(),C=t.dropdownPosition,T=m.bottom-p.bottom-o+c.getViewportTop(),w=p.top-o;C||(d=w>h,l=T>h,C=l?"bottom":d?"top":w>T?"top":"bottom"),g.mdFloatingLabel&&(_+=a,b-=2*a),s={left:_+"px",minWidth:b+"px",maxWidth:Math.max(f.right-m.left,m.right-f.left)-o+"px"},"top"===C?(s.top="auto",s.bottom=y+"px",s.maxHeight=Math.min(h,w)+"px"):(T=m.bottom-f.bottom-o+c.getViewportTop(),s.top=v-E+"px",s.bottom="auto",s.maxHeight=Math.min(h,T)+"px"),Pt.$.scrollContainer.css(s),c.nextTick(n,!1,t)}function C(){Pt.$.root.length&&(h(Pt.$.scrollContainer),Pt.$.scrollContainer.detach(),Pt.$.root.append(Pt.$.scrollContainer),p.pin&&p.pin(Pt.$.scrollContainer,m))}function T(){Pt.input.focus()}function w(){var t=Pt.scroller.querySelector(".selected");t?Ot.activeOption=t.id:Ot.activeOption=null}function S(){var n=parseInt(t.delay,10)||0;g.$observe("disabled",function(t){Ot.isDisabled=c.parseAttributeBoolean(t,!1)}),g.$observe("required",function(t){Ot.isRequired=c.parseAttributeBoolean(t,!1)}),g.$observe("readonly",function(t){Ot.isReadonly=c.parseAttributeBoolean(t,!1)}),t.$watch("searchText",n?c.debounce(z,n):z),t.$watch("selectedItem",$),e.element(f).on("resize",Gt),t.$on("$destroy",M)}function M(){if(Ot.hidden||c.enableScrolling(),e.element(f).off("resize",Gt),Pt){var t=["ul","scroller","scrollContainer","input"];e.forEach(t,function(t){Pt.$[t].remove()})}}function j(){Ot.hidden||x()}function O(){var t=A();Pt={main:u[0],scrollContainer:u[0].querySelector(".md-virtual-repeat-container, .md-standard-list-container"),scroller:u[0].querySelector(".md-virtual-repeat-scroller, .md-standard-list-scroller"),ul:u.find("ul")[0],input:u.find("input")[0],wrap:t.wrap,snap:t.snap,root:document.body},Pt.li=Pt.ul.getElementsByTagName("li"),Pt.$=R(Pt),Ut=Pt.scrollContainer.classList.contains("md-standard-list-container")?s:l,$t=Pt.$.input.controller("ngModel")}function A(){var t,n;for(t=u;t.length&&(n=t.attr("md-autocomplete-snap"),!e.isDefined(n));t=t.parent());if(t.length)return{snap:t[0],wrap:"width"===n.toLowerCase()?t[0]:u.find("md-autocomplete-wrap")[0]};var i=u.find("md-autocomplete-wrap")[0];return{snap:i,wrap:i}}function R(t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e.element(t[i]));return n}function P(t){t.preventDefault()}function I(t){t.stopPropagation()}function L(t,n){var i;Pt&&(i=e.element(Pt.scrollContainer)),!t&&n?(x(),vt(!0,Bt.Count|Bt.Selected),Pt&&(c.disableScrollAround(Pt.scrollContainer),Ft=D(Pt.wrap),c.isIos&&(Ot.documentElement.on("touchend",k),i&&i.on("touchstart touchmove touchend",I)),Ot.index=Q(),c.nextTick(function(){w(),_t()}))):t&&!n&&(c.isIos&&(Ot.documentElement.off("touchend",k),i&&i.off("touchstart touchmove touchend",I)),c.enableScrolling(),Ft&&(Ft(),Ft=null))}function k(t){Ot.hidden=!0,q(!0)}function D(t){var n=e.element(t);return n.on("wheel touchmove",P),function(){n.off("wheel touchmove",P)}}function N(){Lt=!0}function F(){Dt||Ot.hidden||Pt.input.focus(),Lt=!1,Ot.hidden=et()}function $(n,i){E(),n?J(n).then(function(e){t.searchText=e,B(n,i)}):i&&t.searchText&&J(i).then(function(n){e.isString(t.searchText)&&n.toString().toLowerCase()===t.searchText.toLowerCase()&&(t.searchText="")}),n!==i&&G()}function G(){e.isFunction(t.itemChange)&&t.itemChange(Z(t.selectedItem))}function U(){e.isFunction(t.textChange)&&t.textChange()}function B(t,e){kt.forEach(function(n){n(t,e)})}function H(t){kt.indexOf(t)===-1&&kt.push(t)}function V(t){var e=kt.indexOf(t);e!==-1&&kt.splice(e,1)}function z(e,n){Ot.index=Q(),e!==n&&(E(),J(t.selectedItem).then(function(i){e!==i&&(t.selectedItem=null,e!==n&&U(),ct()?wt():(Ot.matches=[],tt(!1),vt(!0,Bt.Count)))}))}function W(t){Dt=!1,Lt||(Ot.hidden=et(),jt("ngBlur",{$event:t}))}function q(t){t&&(Lt=!1,Dt=!1),Pt.input.blur()}function Y(t){Dt=!0,nt()&&ct()&&wt(),Ot.hidden=et(),jt("ngFocus",{$event:t})}function K(e){switch(e.keyCode){case d.KEY_CODE.DOWN_ARROW:if(Ot.loading||st())return;e.stopPropagation(),e.preventDefault(),Ot.index=Ot.index+1>Ot.matches.length-1?0:Math.min(Ot.index+1,Ot.matches.length-1),c.nextTick(w),_t();break;case d.KEY_CODE.UP_ARROW:if(Ot.loading||st())return;e.stopPropagation(),e.preventDefault(),Ot.index=Ot.index-1<0?Ot.matches.length-1:Math.max(0,Ot.index-1),c.nextTick(w),_t();break;case d.KEY_CODE.TAB:if(F(),Ot.hidden||Ot.loading||Ot.index<0||Ot.matches.length<1)return;ht(Ot.index);break;case d.KEY_CODE.ENTER:if(Ot.hidden||Ot.loading||Ot.index<0||Ot.matches.length<1)return;if(st())return;e.stopImmediatePropagation(),e.preventDefault(),ht(Ot.index);break;case d.KEY_CODE.ESCAPE:if(e.preventDefault(),!it())return;e.stopPropagation(),pt(),t.searchText&&rt("clear")&&mt(),Ot.hidden=!0,rt("blur")&&q(!0)}}function X(){return e.isNumber(t.minLength)?t.minLength:1}function J(n){function i(e){return e&&t.itemText?t.itemText(Z(e)):null}return v.when(i(n)||n).then(function(t){return t&&!e.isString(t)&&y.warn("md-autocomplete: Could not resolve display value to a string. Please check the `md-item-text` attribute."),t})}function Z(t){if(!t)return n;var e={};return Ot.itemName&&(e[Ot.itemName]=t),e}function Q(){return t.autoselect?0:-1}function tt(t){Ot.loading!==t&&(Ot.loading=t),Ot.hidden=et()}function et(){return!ot()}function nt(){return!(Ot.loading&&!at())&&(!st()&&!!Dt)}function it(){return rt("blur")||!Ot.hidden||Ot.loading||rt("clear")&&t.searchText}function rt(e){return!t.escapeOptions||t.escapeOptions.toLowerCase().indexOf(e)!==-1}function ot(){return!Ot.isReadonly&&(!!nt()&&(ct()&&at()||Tt()))}function at(){return!!Ot.matches.length}function st(){return!!Ot.scope.selectedItem}function lt(){return Ot.loading&&!st()}function ut(){return J(Ot.matches[Ot.index])}function ct(){return(t.searchText||"").length>=X()}function dt(t,e,n){Object.defineProperty(Ot,t,{get:function(){return n},set:function(t){var i=n;n=t,e(t,i)}})}function ht(e){c.nextTick(function(){J(Ot.matches[e]).then(function(t){var e=Pt.$.input.controller("ngModel");_.announce(t+" "+Ot.selectedMessage,"assertive"),e.$setViewValue(t),e.$render()})["finally"](function(){t.selectedItem=Ot.matches[e],tt(!1)})},!1)}function ft(t){t&&t.stopPropagation(),pt(),mt()}function pt(){Ot.index=-1,c.nextTick(w),Ot.matches=[]}function mt(){tt(!0),t.searchText="";var e=document.createEvent("CustomEvent");e.initCustomEvent("change",!0,!0,{value:""}),Pt.input.dispatchEvent(e),Pt.input.blur(),t.searchText="",Pt.input.focus()}function gt(n){function i(e){e&&(e=v.when(e),Nt++,tt(!0),c.nextTick(function(){e.then(r)["finally"](function(){0===--Nt&&tt(!1)})},!0,t))}function r(e){It[a]=e,(n||"")===(t.searchText||"")&&St(e)}var o=t.$parent.$eval(Rt),a=n.toLowerCase(),s=e.isArray(o),l=!!o.then;s?r(o):l&&i(o)}function vt(t,e){var n=t?"polite":"assertive",i=[];e&Bt.Selected&&Ot.index!==-1&&i.push(ut()),e&Bt.Count&&i.push(v.resolve(yt())),v.all(i).then(function(t){_.announce(t.join(" "),n)})}function yt(){switch(Ot.matches.length){case 0:return"There are no matches available.";case 1:return"There is 1 match available.";default:return"There are "+Ot.matches.length+" matches available."}}function _t(){Pt.li[0]&&(Ut===s?Et():bt())}function bt(){var t=Pt.li[0].offsetHeight,e=t*Math.max(0,Ot.index),n=e+t,i=Pt.scroller.clientHeight,r=Pt.scroller.scrollTop;e<r?Ct(e):n>r+i&&Ct(n-i)}function Et(){var t=Pt.li[Math.max(0,Ot.index)],e=Pt.scrollContainer.offsetHeight,n=t&&t.offsetTop||0,i=n+t.clientHeight,r=Pt.scrollContainer.scrollTop;n<r?Ct(n):i>r+e&&Ct(i-e)}function xt(){return 0!==Nt}function Ct(t){Ut===s?Pt.scrollContainer.scrollTop=t:Pt.$.scrollContainer.controller("mdVirtualRepeatContainer").scrollTo(t)}function Tt(){var t=(Ot.scope.searchText||"").length;return Ot.hasNotFound&&!at()&&(!Ot.loading||xt())&&t>=X()&&(Dt||Lt)&&!st()}function wt(){var e=t.searchText||"",n=e.toLowerCase();!t.noCache&&It[n]?St(It[n]):gt(e),Ot.hidden=et()}function St(e){Ot.matches=e,Ot.hidden=et(),Ot.loading&&tt(!1),t.selectOnMatch&&Mt(),x(),vt(!0,Bt.Count)}function Mt(){var e=t.searchText,n=Ot.matches,i=n[0];1===n.length&&J(i).then(function(n){var i=e===n;t.matchInsensitive&&!i&&(i=e.toLowerCase()===n.toLowerCase()),i&&ht(0)})}function jt(e,n){g[e]&&t.$parent.$eval(g[e],n||{})}var Ot=this,At=t.itemsExpr.split(/ in /i),Rt=At[1],Pt=null,It={},Lt=!1,kt=[],Dt=!1,Nt=0,Ft=null,$t=null,Gt=c.debounce(j),Ut=l;Ot.documentElement=e.element(document.documentElement),dt("hidden",L,!0),Ot.scope=t,Ot.parent=t.$parent,Ot.itemName=At[0],Ot.matches=[],Ot.loading=!1,Ot.hidden=!0,Ot.index=-1,Ot.activeOption=null,Ot.id=c.nextUid(),Ot.isDisabled=null,Ot.isRequired=null,Ot.isReadonly=null,Ot.hasNotFound=!1,Ot.selectedMessage=t.selectedMessage||"selected",Ot.keydown=K,Ot.blur=W,Ot.focus=Y,Ot.clear=ft,Ot.select=ht,Ot.listEnter=N,Ot.listLeave=F,Ot.focusInput=T,Ot.getCurrentDisplayValue=ut,Ot.registerSelectedItemWatcher=H,Ot.unregisterSelectedItemWatcher=V,Ot.notFoundVisible=Tt,Ot.loadingIsVisible=lt,Ot.positionDropdown=x;var Bt={Count:1,Selected:2};return b()}t.$inject=["$scope","$element","$mdUtil","$mdConstant","$mdTheming","$window","$animate","$rootElement","$attrs","$q","$log","$mdLiveAnnouncer"],e.module("material.components.autocomplete").controller("MdAutocompleteCtrl",t);var i=48,r=5,o=8,a=2,s="standard",l="virtual"}(),function(){function t(t){function n(t){return t?(t=t.toLowerCase(),o.indexOf(t)>-1?t:r):r}var i="standard",r="virtual",o=[i,r];return{controller:"MdAutocompleteCtrl",controllerAs:"$mdAutocompleteCtrl",scope:{inputName:"@mdInputName",inputMinlength:"@mdInputMinlength",inputMaxlength:"@mdInputMaxlength",searchText:"=?mdSearchText",selectedItem:"=?mdSelectedItem",itemsExpr:"@mdItems",itemText:"&mdItemText",placeholder:"@placeholder",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?inputAriaLabel",noCache:"=?mdNoCache",requireMatch:"=?mdRequireMatch",selectOnMatch:"=?mdSelectOnMatch",matchInsensitive:"=?mdMatchCaseInsensitive",itemChange:"&?mdSelectedItemChange",textChange:"&?mdSearchTextChange",minLength:"=?mdMinLength",delay:"=?mdDelay",autofocus:"=?mdAutofocus",floatingLabel:"@?mdFloatingLabel",autoselect:"=?mdAutoselect",menuClass:"@?mdMenuClass",menuContainerClass:"@?mdMenuContainerClass",inputClass:"@?mdInputClass",inputId:"@?mdInputId",escapeOptions:"@?mdEscapeOptions",dropdownItems:"=?mdDropdownItems",dropdownPosition:"@?mdDropdownPosition",clearButton:"=?mdClearButton",selectedMessage:"@?mdSelectedMessage",mdMode:"=?mdMode"},compile:function(t,i){var r=["md-select-on-focus","md-no-asterisk","ng-trim","ng-pattern"],o=t.find("input");return r.forEach(function(t){var e=i[i.$normalize(t)];null!==e&&o.attr(t,e)}),function(t,i,r,o){o.hasNotFound=!!i.attr("md-has-not-found"),e.isDefined(r.mdClearButton)||t.floatingLabel||(t.clearButton=!0),t.mdMode=n(r.mdMode),i.on("click touchstart touchend",function(t){t.stopPropagation()})}},template:function(e,i){function o(){var t=e.find("md-item-template").detach(),n=t.length?t.html():e.html();return t.length||e.empty(),"<md-autocomplete-parent-scope md-autocomplete-replace>"+n+"</md-autocomplete-parent-scope>"}function a(){var t=e.find("md-not-found").detach(),n=t.length?t.html():"";return n?'<li ng-if="$mdAutocompleteCtrl.notFoundVisible()" class="md-autocomplete-suggestion"                         md-autocomplete-parent-scope>'+n+"</li>":""}function s(t,e){return t=t?" "+t:"",c(e)?'            <div                 ng-hide="$mdAutocompleteCtrl.hidden"                class="md-standard-list-container md-autocomplete-suggestions-container md-whiteframe-z1'+t+'"                ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"                ng-mouseenter="$mdAutocompleteCtrl.listEnter()"                ng-mouseleave="$mdAutocompleteCtrl.listLeave()"                role="presentation">              <div class="md-standard-list-scroller" role="presentation">':'          <md-virtual-repeat-container              md-auto-shrink              md-auto-shrink-min="1"              ng-hide="$mdAutocompleteCtrl.hidden"              class="md-virtual-repeat-container md-autocomplete-suggestions-container md-whiteframe-z1'+t+'"              ng-class="{ \'md-not-found\': $mdAutocompleteCtrl.notFoundVisible() }"              ng-mouseenter="$mdAutocompleteCtrl.listEnter()"              ng-mouseleave="$mdAutocompleteCtrl.listLeave()"              role="presentation">'}function l(t){return c(t)?"   </div>              </div>            </div>":"</md-virtual-repeat-container>"}function u(t){return c(t)?"ng-repeat":"md-virtual-repeat"}function c(t){var e=n(t);return e!==r}function d(){return i.mdFloatingLabel?'            <md-input-container ng-if="floatingLabel">              <label>{{floatingLabel}}</label>              <input type="text"                '+(null!=g?'tabindex="'+g+'"':"")+'                id="{{inputId || \'fl-input-\' + $mdAutocompleteCtrl.id}}"                name="{{inputName || \'fl-input-\' + $mdAutocompleteCtrl.id }}"                ng-class="::inputClass"                autocomplete="off"                ng-required="$mdAutocompleteCtrl.isRequired"                ng-readonly="$mdAutocompleteCtrl.isReadonly"                ng-minlength="inputMinlength"                ng-maxlength="inputMaxlength"                ng-disabled="$mdAutocompleteCtrl.isDisabled"                ng-model="$mdAutocompleteCtrl.scope.searchText"                ng-model-options="{ allowInvalid: true }"                ng-mousedown="$mdAutocompleteCtrl.focusInput()"                ng-keydown="$mdAutocompleteCtrl.keydown($event)"                ng-blur="$mdAutocompleteCtrl.blur($event)"                ng-focus="$mdAutocompleteCtrl.focus($event)"                aria-label="{{floatingLabel}}"                ng-attr-aria-autocomplete="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'list\'}}"                ng-attr-role="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'combobox\'}}"                aria-haspopup="{{!$mdAutocompleteCtrl.isDisabled}}"                aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"                ng-attr-aria-owns="{{$mdAutocompleteCtrl.hidden || $mdAutocompleteCtrl.isDisabled ? undefined : \'ul-\' + $mdAutocompleteCtrl.id}}"                ng-attr-aria-activedescendant="{{!$mdAutocompleteCtrl.hidden && $mdAutocompleteCtrl.activeOption ? $mdAutocompleteCtrl.activeOption : undefined}}">              <div md-autocomplete-parent-scope md-autocomplete-replace>'+m+"</div>            </md-input-container>":'            <input type="text"              '+(null!=g?'tabindex="'+g+'"':"")+'              id="{{inputId || \'input-\' + $mdAutocompleteCtrl.id}}"              name="{{inputName || \'input-\' + $mdAutocompleteCtrl.id }}"              ng-class="::inputClass"              ng-if="!floatingLabel"              autocomplete="off"              ng-required="$mdAutocompleteCtrl.isRequired"              ng-disabled="$mdAutocompleteCtrl.isDisabled"              ng-readonly="$mdAutocompleteCtrl.isReadonly"              ng-minlength="inputMinlength"              ng-maxlength="inputMaxlength"              ng-model="$mdAutocompleteCtrl.scope.searchText"              ng-mousedown="$mdAutocompleteCtrl.focusInput()"              ng-keydown="$mdAutocompleteCtrl.keydown($event)"              ng-blur="$mdAutocompleteCtrl.blur($event)"              ng-focus="$mdAutocompleteCtrl.focus($event)"              placeholder="{{placeholder}}"              aria-label="{{placeholder}}"              ng-attr-aria-autocomplete="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'list\'}}"              ng-attr-role="{{$mdAutocompleteCtrl.isDisabled ? undefined : \'combobox\'}}"              aria-haspopup="{{!$mdAutocompleteCtrl.isDisabled}}"              aria-expanded="{{!$mdAutocompleteCtrl.hidden}}"              ng-attr-aria-owns="{{$mdAutocompleteCtrl.hidden || $mdAutocompleteCtrl.isDisabled ? undefined : \'ul-\' + $mdAutocompleteCtrl.id}}"              ng-attr-aria-activedescendant="{{!$mdAutocompleteCtrl.hidden && $mdAutocompleteCtrl.activeOption ? $mdAutocompleteCtrl.activeOption : undefined}}">'}function h(){return'<button type="button" aria-label="Clear Input" tabindex="0" ng-if="clearButton && $mdAutocompleteCtrl.scope.searchText" ng-click="$mdAutocompleteCtrl.clear($event)"><md-icon md-svg-src="'+t.mdClose+'"></md-icon></button>'}var f=a(),p=o(),m=e.html(),g=i.tabindex;return f&&e.attr("md-has-not-found",!0),e.attr("tabindex","-1"),"        <md-autocomplete-wrap            ng-class=\"{ 'md-whiteframe-z1': !floatingLabel,                         'md-menu-showing': !$mdAutocompleteCtrl.hidden,                         'md-show-clear-button': !!clearButton }\">          "+d()+"          "+h()+'          <md-progress-linear              class="'+(i.mdFloatingLabel?"md-inline":"")+'"              ng-if="$mdAutocompleteCtrl.loadingIsVisible()"              md-mode="indeterminate"></md-progress-linear>          '+s(i.mdMenuContainerClass,i.mdMode)+'            <ul class="md-autocomplete-suggestions"                ng-class="::menuClass"                id="ul-{{$mdAutocompleteCtrl.id}}"                ng-mouseup="$mdAutocompleteCtrl.focusInput()"                role="listbox">              <li class="md-autocomplete-suggestion" '+u(i.mdMode)+' ="item in $mdAutocompleteCtrl.matches"                  ng-class="{ selected: $index === $mdAutocompleteCtrl.index }"                  ng-attr-id="{{\'md-option-\' + $mdAutocompleteCtrl.id + \'-\' + $index}}"                  ng-click="$mdAutocompleteCtrl.select($index)"                  role="option"                  aria-setsize="{{$mdAutocompleteCtrl.matches.length}}"                  aria-posinset="{{$index+1}}"                  aria-selected="{{$index === $mdAutocompleteCtrl.index ? true : false}}"                   md-extra-name="$mdAutocompleteCtrl.itemName">                  '+p+"                  </li>"+f+"            </ul>          "+l(i.mdMode)+"        </md-autocomplete-wrap>"}}}t.$inject=["$$mdSvgRegistry"],e.module("material.components.autocomplete").directive("mdAutocomplete",t)}(),function(){function t(t,e){function n(t,n,i){return function(t,n,r){function o(n,i){l[i]=t[n],t.$watch(n,function(t){e.nextTick(function(){l[i]=t})})}function a(){var e=!1,n=!1;t.$watch(function(){n||e||(e=!0,t.$$postDigest(function(){n||l.$digest(),e=n=!1}))}),l.$watch(function(){n=!0})}var s=t.$mdAutocompleteCtrl,l=s.parent.$new(),u=s.itemName;o("$index","$index"),o("item",u),a(),i(l,function(t){n.after(t)})}}return{restrict:"AE",compile:n,terminal:!0,transclude:"element"}}t.$inject=["$compile","$mdUtil"],e.module("material.components.autocomplete").directive("mdAutocompleteParentScope",t)}(),function(){function t(t,e,n,i){this.$scope=t,this.$element=e,this.$attrs=n,this.$mdUtil=i,this.regex=null}t.$inject=["$scope","$element","$attrs","$mdUtil"],e.module("material.components.autocomplete").controller("MdHighlightCtrl",t),t.prototype.init=function(t,e){this.flags=this.$attrs.mdHighlightFlags||"",this.unregisterFn=this.$scope.$watch(function(n){return{term:t(n),contentText:e(n)}}.bind(this),this.onRender.bind(this),!0),this.$element.on("$destroy",this.unregisterFn)},t.prototype.onRender=function(t,e){var n=t.contentText;null!==this.regex&&t.term===e.term||(this.regex=this.createRegex(t.term,this.flags)),t.term?this.applyRegex(n):this.$element.text(n)},t.prototype.applyRegex=function(t){var n=this.resolveTokens(t);this.$element.empty(),n.forEach(function(t){if(t.isMatch){var n=e.element('<span class="highlight">').text(t.text);this.$element.append(n)}else this.$element.append(document.createTextNode(t))}.bind(this))},t.prototype.resolveTokens=function(t){function e(e,i){var r=t.slice(e,i);r&&n.push(r)}var n=[],i=0;return t.replace(this.regex,function(t,r){e(i,r),n.push({text:t,isMatch:!0}),i=r+t.length}),e(i),n},t.prototype.createRegex=function(t,e){var n="",i="",r=this.$mdUtil.sanitize(t);return e.indexOf("^")>=0&&(n="^"),e.indexOf("$")>=0&&(i="$"),new RegExp(n+r+i,e.replace(/[$^]/g,""))}}(),function(){function t(t,e){return{terminal:!0,controller:"MdHighlightCtrl",compile:function(n,i){var r=e(i.mdHighlightText),o=t(n.html());return function(t,e,n,i){i.init(r,o)}}}}t.$inject=["$interpolate","$parse"],e.module("material.components.autocomplete").directive("mdHighlightText",t)}(),function(){e.module("material.components.backdrop",["material.core"]).directive("mdBackdrop",["$mdTheming","$mdUtil","$animate","$rootElement","$window","$log","$$rAF","$document",function(t,n,i,r,o,a,s,l){function u(u,d,h){function f(){var t=parseInt(p.height,10)+Math.abs(parseInt(p.top,10));d.css("height",t+"px")}i.pin&&i.pin(d,r);var p;s(function(){if(p=o.getComputedStyle(l[0].body),"fixed"===p.position){var i=n.debounce(function(){p=o.getComputedStyle(l[0].body),f()},60,null,!1);f(),e.element(o).on("resize",i),u.$on("$destroy",function(){e.element(o).off("resize",i)})}var r=d.parent();if(r.length){"BODY"===r[0].nodeName&&d.css("position","fixed");var s=o.getComputedStyle(r[0]);"static"===s.position&&a.warn(c),t.inherit(d,r)}})}var c="<md-backdrop> may not work properly in a scrolled, static-positioned parent container.";return{restrict:"E",link:u}}])}(),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",function(){t.destroy()})}}}function n(t){function n(t,n,o,a,s,l,u,c){function d(i,r,u,d){if(r=o.extractElementByName(r,"md-bottom-sheet"),r.attr("tabindex","-1"),r.hasClass("ng-cloak")){var h="$mdBottomSheet: using `<md-bottom-sheet ng-cloak>` will affect the bottom-sheet opening animations.";c.warn(h,r[0])}return u.isLockedOpen?(u.clickOutsideToClose=!1,u.escapeToClose=!1):u.cleanupGestures=f(r,u.parent),u.disableBackdrop||(p=o.createBackdrop(i,"md-bottom-sheet-backdrop md-opaque"),p[0].tabIndex=-1,u.clickOutsideToClose&&p.on("click",function(){o.nextTick(s.cancel,!0)}),a.inherit(p,u.parent),t.enter(p,u.parent,null)),a.inherit(r,u.parent),u.disableParentScroll&&(u.restoreScroll=o.disableScrollAround(r,u.parent)),t.enter(r,u.parent,p).then(function(){var t=o.findFocusTarget(r)||e.element(r[0].querySelector("button")||r[0].querySelector("a")||r[0].querySelector(o.prefixer("ng-click",!0)))||p;u.escapeToClose&&(u.rootElementKeyupCallback=function(t){t.keyCode===n.KEY_CODE.ESCAPE&&o.nextTick(s.cancel,!0)},l.on("keyup",u.rootElementKeyupCallback),t&&t.focus())})}function h(e,n,i){return i.disableBackdrop||t.leave(p),t.leave(n).then(function(){i.disableParentScroll&&(i.restoreScroll(),delete i.restoreScroll),i.cleanupGestures&&i.cleanupGestures()})}function f(t,e){function a(){t.css(n.CSS.TRANSITION_DURATION,"0ms")}function l(e){var i=e.pointer.distanceY;i<5&&(i=Math.max(-r,i/2)),t.css(n.CSS.TRANSFORM,"translate3d(0,"+(r+i)+"px,0)")}function c(e){if(e.pointer.distanceY>0&&(e.pointer.distanceY>20||Math.abs(e.pointer.velocityY)>i)){var r=t.prop("offsetHeight")-e.pointer.distanceY,a=Math.min(r/e.pointer.velocityY*.75,500);t.css(n.CSS.TRANSITION_DURATION,a+"ms"),o.nextTick(s.cancel,!0)}else t.css(n.CSS.TRANSITION_DURATION,""),t.css(n.CSS.TRANSFORM,"")}var d=u.register(e,"drag",{horizontal:!1});return e.on("$md.dragstart",a).on("$md.drag",l).on("$md.dragend",c),function(){d(),e.off("$md.dragstart",a),e.off("$md.drag",l),e.off("$md.dragend",c)}}var p;return{themable:!0,onShow:d,onRemove:h,disableBackdrop:!1,escapeToClose:!0,clickOutsideToClose:!0,disableParentScroll:!0,isLockedOpen:!1}}n.$inject=["$animate","$mdConstant","$mdUtil","$mdTheming","$mdBottomSheet","$rootElement","$mdGesture","$log"];var i=.5,r=80;return t("$mdBottomSheet").setDefaults({methods:["disableParentScroll","escapeToClose","clickOutsideToClose"],options:n})}t.$inject=["$mdBottomSheet"],n.$inject=["$$interimElementProvider"],e.module("material.components.bottomSheet",["material.core","material.components.backdrop"]).directive("mdBottomSheet",t).provider("$mdBottomSheet",n)}(),function(){function t(t){return{restrict:"E",link:function(e,n){t(n)}}}function n(t,n,i,r){function o(t){return e.isDefined(t.href)||e.isDefined(t.ngHref)||e.isDefined(t.ngLink)||e.isDefined(t.uiSref)}function a(t,e){if(o(e))return'<a class="md-button" ng-transclude></a>';var n="undefined"==typeof e.type?"button":e.type;return'<button class="md-button" type="'+n+'" ng-transclude></button>'}function s(a,s,l){n(s),t.attach(a,s),i.expectWithoutText(s,"aria-label"),o(l)&&e.isDefined(l.ngDisabled)&&!s.hasClass("_md-nav-button")&&a.$watch(l.ngDisabled,function(t){s.attr("tabindex",t?-1:0)}),s.on("click",function(t){l.disabled===!0&&(t.preventDefault(),t.stopImmediatePropagation())}),s.hasClass("md-no-focus")||(s.on("focus",function(){r.isUserInvoked()&&"keyboard"!==r.getLastInteractionType()||s.addClass("md-focused")}),s.on("blur",function(){s.removeClass("md-focused")}))}return{restrict:"EA",replace:!0,transclude:!0,template:a,link:s}}n.$inject=["$mdButtonInkRipple","$mdTheming","$mdAria","$mdInteraction"],t.$inject=["$mdTheming"],e.module("material.components.button",["material.core"]).directive("mdButton",n).directive("a",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n,i){n.addClass("_md"),t(n)}}}t.$inject=["$mdTheming"],e.module("material.components.card",["material.core"]).directive("mdCard",t)}(),function(){function t(t,n,i,r,o,a){function s(s,l){function u(s,l,u,c){function d(t,e,n){u[t]&&s.$watch(u[t],function(t){n[t]&&l.attr(e,n[t])})}function h(t){var e,n,r=t.which||t.keyCode;switch(t.preventDefault(),r){case i.KEY_CODE.SPACE:l.addClass("md-focused"),f(t);break;case i.KEY_CODE.ENTER:n=o.getClosest(t.target,"form"),n&&(e=n.querySelector('button[type="submit"]:enabled, input[type="submit"]:enabled'),e&&e.click())}}function f(t){l[0].hasAttribute("disabled")||s.skipToggle||s.$apply(function(){
var e=u.ngChecked&&u.ngClick?u.checked:!y.$viewValue;y.$setViewValue(e,t&&t.type),y.$render()})}function p(){l.toggleClass("md-checked",!!y.$viewValue&&!g)}function m(t){g=t!==!1,g&&l.attr("aria-checked","mixed"),l.toggleClass("md-indeterminate",g)}var g,v=c[0],y=c[1]||o.fakeNgModel(),_=c[2];if(v){var b=v.isErrorGetter||function(){return y.$invalid&&(y.$touched||_&&_.$submitted)};v.input=l,s.$watch(b,v.setInvalid)}r(l),l.children().on("focus",function(){l.focus()}),o.parseAttributeBoolean(u.mdIndeterminate)&&(m(),s.$watch(u.mdIndeterminate,m)),u.ngChecked&&s.$watch(s.$eval.bind(s,u.ngChecked),function(t){y.$setViewValue(t),y.$render()}),d("ngDisabled","tabindex",{"true":"-1","false":u.tabindex}),n.expectWithText(l,"aria-label"),t.link.pre(s,{on:e.noop,0:{}},u,[y]),l.on("click",f).on("keypress",h).on("focus",function(){"keyboard"===a.getLastInteractionType()&&l.addClass("md-focused")}).on("blur",function(){l.removeClass("md-focused")}),y.$render=p}return l.$set("tabindex",l.tabindex||"0"),l.$set("type","checkbox"),l.$set("role",l.type),{pre:function(t,e){e.on("click",function(t){this.hasAttribute("disabled")&&t.stopImmediatePropagation()})},post:u}}return t=t[0],{restrict:"E",transclude:!0,require:["^?mdInputContainer","?ngModel","?^form"],priority:i.BEFORE_NG_ARIA,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-icon"></div></div><div ng-transclude class="md-label"></div>',compile:s}}t.$inject=["inputDirective","$mdAria","$mdConstant","$mdTheming","$mdUtil","$mdInteraction"],e.module("material.components.checkbox",["material.core"]).directive("mdCheckbox",t)}(),function(){e.module("material.components.chips",["material.core","material.components.autocomplete"])}(),function(){function i(t,e,i,r,o){this.$scope=t,this.$element=e,this.$mdConstant=i,this.$timeout=r,this.$mdUtil=o,this.isEditing=!1,this.parentController=n,this.enableChipEdit=!1}i.$inject=["$scope","$element","$mdConstant","$timeout","$mdUtil"],e.module("material.components.chips").controller("MdChipCtrl",i),i.prototype.init=function(t){this.parentController=t,this.enableChipEdit=this.parentController.enableChipEdit,this.enableChipEdit&&(this.$element.on("keydown",this.chipKeyDown.bind(this)),this.$element.on("dblclick",this.chipMouseDoubleClick.bind(this)),this.getChipContent().addClass("_md-chip-content-edit-is-enabled"))},i.prototype.getChipContent=function(){var t=this.$element[0].getElementsByClassName("md-chip-content");return e.element(t[0])},i.prototype.getContentElement=function(){var t=e.element(this.getChipContent().children()[0]);return t&&0!==t.length||(t=e.element(this.getChipContent().contents()[0])),t},i.prototype.getChipIndex=function(){return parseInt(this.$element.attr("index"))},i.prototype.goOutOfEditMode=function(){if(this.isEditing){this.isEditing=!1,this.$element.removeClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="false";var t=this.getChipIndex(),e=this.getContentElement().text();e?(this.parentController.updateChipContents(t,e),this.$mdUtil.nextTick(function(){this.parentController.selectedChip===t&&this.parentController.focusChip(t)}.bind(this))):this.parentController.removeChipAndFocusInput(t)}},i.prototype.selectNodeContents=function(e){var n,i;document.body.createTextRange?(n=document.body.createTextRange(),n.moveToElementText(e),n.select()):t.getSelection&&(i=t.getSelection(),n=document.createRange(),n.selectNodeContents(e),i.removeAllRanges(),i.addRange(n))},i.prototype.goInEditMode=function(){this.isEditing=!0,this.$element.addClass("_md-chip-editing"),this.getChipContent()[0].contentEditable="true",this.getChipContent().on("blur",function(){this.goOutOfEditMode()}.bind(this)),this.selectNodeContents(this.getChipContent()[0])},i.prototype.chipKeyDown=function(t){this.isEditing||t.keyCode!==this.$mdConstant.KEY_CODE.ENTER&&t.keyCode!==this.$mdConstant.KEY_CODE.SPACE?this.isEditing&&t.keyCode===this.$mdConstant.KEY_CODE.ENTER&&(t.preventDefault(),this.goOutOfEditMode()):(t.preventDefault(),this.goInEditMode())},i.prototype.chipMouseDoubleClick=function(){this.enableChipEdit&&!this.isEditing&&this.goInEditMode()}}(),function(){function t(t,n,i,r){function o(n,i,o,a){var s=a.shift(),l=a.shift(),u=e.element(i[0].querySelector(".md-chip-content"));t(i),s&&(l.init(s),u.on("blur",function(){s.resetSelectedChip(),s.$scope.$applyAsync()})),r(function(){s&&s.shouldFocusLastChip&&s.focusLastChipThenInput()})}return{restrict:"E",require:["^?mdChips","mdChip"],link:o,controller:"MdChipCtrl"}}t.$inject=["$mdTheming","$mdUtil","$compile","$timeout"],e.module("material.components.chips").directive("mdChip",t)}(),function(){function t(t){function e(e,n,i,r){n.on("click",function(t){e.$apply(function(){r.removeChip(e.$$replacedScope.$index)})}),t(function(){n.attr({tabindex:"-1","aria-hidden":"true"}),n.find("button").attr("tabindex","-1")})}return{restrict:"A",require:"^mdChips",scope:!1,link:e}}t.$inject=["$timeout"],e.module("material.components.chips").directive("mdChipRemove",t)}(),function(){function t(t){function e(e,n,i){var r=e.$parent.$mdChipsCtrl,o=r.parent.$new(!1,r.parent);o.$$replacedScope=e,o.$chip=e.$chip,o.$index=e.$index,o.$mdChipsCtrl=r;var a=r.$scope.$eval(i.mdChipTransclude);n.html(a),t(n.contents())(o)}return{restrict:"EA",terminal:!0,link:e,scope:!1}}t.$inject=["$compile"],e.module("material.components.chips").directive("mdChipTransclude",t)}(),function(){function t(t,e,i,r,o,a,s,l,u){this.$timeout=a,this.$mdConstant=i,this.$scope=t,this.parent=t.$parent,this.$mdUtil=s,this.$log=r,this.$mdLiveAnnouncer=l,this.$exceptionHandler=u,this.$element=o,this.$attrs=e,this.ngModelCtrl=null,this.userInputNgModelCtrl=null,this.autocompleteCtrl=null,this.userInputElement=null,this.items=[],this.selectedChip=-1,this.enableChipEdit=s.parseAttributeBoolean(e.mdEnableChipEdit),this.addOnBlur=s.parseAttributeBoolean(e.mdAddOnBlur),this.inputAriaLabel="Chips input.",this.containerHint="Chips container. Use arrow keys to select chips.",this.containerEmptyHint="Chips container. Enter the text area, then type text, and press enter to add a chip.",this.deleteHint="Press delete to remove this chip.",this.deleteButtonLabel="Remove",this.chipBuffer="",this.useTransformChip=!1,this.useOnAdd=!1,this.useOnRemove=!1,this.wrapperId="",this.contentIds=[],this.ariaTabIndex=null,this.chipAppendDelay=n,this.deRegister=[],this.addedMessage="added",this.removedMessage="removed",this.init()}t.$inject=["$scope","$attrs","$mdConstant","$log","$element","$timeout","$mdUtil","$mdLiveAnnouncer","$exceptionHandler"];var n=300;e.module("material.components.chips").controller("MdChipsCtrl",t),t.prototype.init=function(){var t=this;this.wrapperId="_md-chips-wrapper-"+this.$mdUtil.nextUid(),this.$element.attr("ng-model")||this.setupStaticChips(),this.deRegister.push(this.$scope.$watchCollection("$mdChipsCtrl.items",function(){t.setupInputAria(),t.setupWrapperAria()})),this.deRegister.push(this.$attrs.$observe("mdChipAppendDelay",function(e){t.chipAppendDelay=parseInt(e)||n}))},t.prototype.$onDestroy=function(){for(var t;t=this.deRegister.pop();)t.call(this)},t.prototype.setupInputAria=function(){var t=this.$element.find("input");t&&(t.attr("role","textbox"),t.attr("aria-multiline",!0),this.inputAriaDescribedBy&&t.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy?(t.attr("aria-labelledby",this.inputAriaLabelledBy),t.removeAttr("aria-label")):t.attr("aria-label",this.inputAriaLabel))},t.prototype.setupWrapperAria=function(){var t=this,e=this.$element.find("md-chips-wrap");this.items&&this.items.length?(e.attr("role","listbox"),this.contentIds=this.items.map(function(){return t.wrapperId+"-chip-"+t.$mdUtil.nextUid()}),e.attr("aria-owns",this.contentIds.join(" ")),e.attr("aria-label",this.containerHint)):(e.removeAttr("role"),e.removeAttr("aria-owns"),e.attr("aria-label",this.containerEmptyHint))},t.prototype.setupStaticChips=function(){var t,e,n=this,i=this.$element.find("md-chips-wrap");this.$timeout(function(){for(i.attr("role","list"),e=i[0].children,t=0;t<e.length;t++)e[t].setAttribute("role","listitem"),e[t].setAttribute("aria-setsize",e.length);n.inputAriaDescribedBy&&i.attr("aria-describedby",n.inputAriaDescribedBy),n.inputAriaLabelledBy?(i.attr("aria-labelledby",n.inputAriaLabelledBy),i.removeAttr("aria-label")):i.attr("aria-label",n.inputAriaLabel)},10)},t.prototype.inputKeydown=function(t){var e=this.getChipBuffer();if(!(this.autocompleteCtrl&&t.isDefaultPrevented&&t.isDefaultPrevented())){if(t.keyCode===this.$mdConstant.KEY_CODE.BACKSPACE){if(0!==this.getCursorPosition(t.target))return;return t.preventDefault(),t.stopPropagation(),void(this.items.length&&this.selectAndFocusChipSafe(this.items.length-1))}if((!this.separatorKeys||this.separatorKeys.length<1)&&(this.separatorKeys=[this.$mdConstant.KEY_CODE.ENTER]),this.separatorKeys.indexOf(t.keyCode)!==-1){if(this.autocompleteCtrl&&this.requireMatch||!e)return;if(t.preventDefault(),this.hasMaxChipsReached())return;return this.appendChip(e.trim()),this.resetChipBuffer(),!1}}},t.prototype.getCursorPosition=function(t){try{if(t.selectionStart===t.selectionEnd)return t.selectionStart}catch(e){if(!t.value)return 0}},t.prototype.updateChipContents=function(t,e){t>=0&&t<this.items.length&&(this.items[t]=e,this.updateNgModel(!0))},t.prototype.isEditingChip=function(){return!!this.$element[0].querySelector("._md-chip-editing")},t.prototype._isChipObject=function(t){return e.isObject(t)},t.prototype.isRemovable=function(){return!!this.ngModelCtrl&&(this.readonly?this.removable:!e.isDefined(this.removable)||this.removable)},t.prototype.chipKeydown=function(t){if(!this.getChipBuffer()&&!this.isEditingChip())switch(t.keyCode){case this.$mdConstant.KEY_CODE.BACKSPACE:case this.$mdConstant.KEY_CODE.DELETE:if(this.selectedChip<0)return;if(t.preventDefault(),!this.isRemovable())return;this.removeAndSelectAdjacentChip(this.selectedChip,t);break;case this.$mdConstant.KEY_CODE.LEFT_ARROW:t.preventDefault(),(this.selectedChip<0||this.readonly&&0===this.selectedChip)&&(this.selectedChip=this.items.length),this.items.length&&this.selectAndFocusChipSafe(this.selectedChip-1);break;case this.$mdConstant.KEY_CODE.RIGHT_ARROW:t.preventDefault(),this.selectAndFocusChipSafe(this.selectedChip+1);break;case this.$mdConstant.KEY_CODE.ESCAPE:case this.$mdConstant.KEY_CODE.TAB:if(this.selectedChip<0)return;t.preventDefault(),this.onFocus()}},t.prototype.getPlaceholder=function(){var t=this.items&&this.items.length&&(""===this.secondaryPlaceholder||this.secondaryPlaceholder);return t?this.secondaryPlaceholder:this.placeholder},t.prototype.removeAndSelectAdjacentChip=function(t,e){var n=this,i=n.getAdjacentChipIndex(t);this.$element[0].querySelector("md-chips-wrap"),this.$element[0].querySelector('md-chip[index="'+t+'"]');n.removeChip(t,e),n.$timeout(function(){n.$timeout(function(){n.selectAndFocusChipSafe(i)})})},t.prototype.resetSelectedChip=function(){this.selectedChip=-1,this.ariaTabIndex=null},t.prototype.getAdjacentChipIndex=function(t){var e=this.items.length-1;return 0===e?-1:t===e?t-1:t},t.prototype.appendChip=function(t){if(this.shouldFocusLastChip=!this.addOnBlur,this.useTransformChip&&this.transformChip){var n=this.transformChip({$chip:t});e.isDefined(n)&&(t=n)}if(e.isObject(t)){var i=this.items.some(function(n){return e.equals(t,n)});if(i)return}if(!(null==t||this.items.indexOf(t)+1)){var r=this.items.push(t),o=r-1;this.updateNgModel();var a=e.isObject(t)?"":t;this.$mdLiveAnnouncer.announce(a+" "+this.addedMessage,"assertive"),this.useOnAdd&&this.onAdd&&this.onAdd({$chip:t,$index:o})}},t.prototype.useTransformChipExpression=function(){this.useTransformChip=!0},t.prototype.useOnAddExpression=function(){this.useOnAdd=!0},t.prototype.useOnRemoveExpression=function(){this.useOnRemove=!0},t.prototype.useOnSelectExpression=function(){this.useOnSelect=!0},t.prototype.getChipBuffer=function(){var t=this.userInputElement?this.userInputNgModelCtrl?this.userInputNgModelCtrl.$viewValue:this.userInputElement[0].value:this.chipBuffer;return e.isString(t)?t:""},t.prototype.resetChipBuffer=function(){this.userInputElement?this.userInputNgModelCtrl?(this.userInputNgModelCtrl.$setViewValue(""),this.userInputNgModelCtrl.$render()):this.userInputElement[0].value="":this.chipBuffer=""},t.prototype.hasMaxChipsReached=function(){return e.isString(this.maxChips)&&(this.maxChips=parseInt(this.maxChips,10)||0),this.maxChips>0&&this.items.length>=this.maxChips},t.prototype.validateModel=function(){this.ngModelCtrl.$setValidity("md-max-chips",!this.hasMaxChipsReached()),this.ngModelCtrl.$validate()},t.prototype.updateNgModel=function(t){t||this.validateModel(),e.forEach(this.ngModelCtrl.$viewChangeListeners,function(t){try{t()}catch(e){this.$exceptionHandler(e)}})},t.prototype.removeChip=function(t,n){var i=this.items.splice(t,1);this.updateNgModel(),this.ngModelCtrl.$setDirty();var r=e.isObject(i[0])?"":i[0];this.$mdLiveAnnouncer.announce(r+" "+this.removedMessage,"assertive"),i&&i.length&&this.useOnRemove&&this.onRemove&&this.onRemove({$chip:i[0],$index:t,$event:n})},t.prototype.removeChipAndFocusInput=function(t,e){this.removeChip(t,e),this.autocompleteCtrl?(this.autocompleteCtrl.hidden=!0,this.$mdUtil.nextTick(this.onFocus.bind(this))):this.onFocus()},t.prototype.selectAndFocusChipSafe=function(t){if(!this.items.length||t===-1)return this.focusInput();if(t>=this.items.length){if(!this.readonly)return this.onFocus();t=0}t=Math.max(t,0),t=Math.min(t,this.items.length-1),this.selectChip(t),this.focusChip(t)},t.prototype.focusLastChipThenInput=function(){var t=this;t.shouldFocusLastChip=!1,t.focusChip(this.items.length-1),t.$timeout(function(){t.focusInput()},t.chipAppendDelay)},t.prototype.focusInput=function(){this.selectChip(-1),this.onFocus()},t.prototype.selectChip=function(t){t>=-1&&t<=this.items.length?(this.selectedChip=t,this.useOnSelect&&this.onSelect&&this.onSelect({$chip:this.items[t]})):this.$log.warn("Selected Chip index out of bounds; ignoring.")},t.prototype.selectAndFocusChip=function(t){this.selectChip(t),t!==-1&&this.focusChip(t)},t.prototype.focusChip=function(t){var e=this.$element[0].querySelector('md-chip[index="'+t+'"] .md-chip-content');this.ariaTabIndex=t,e.focus()},t.prototype.configureNgModel=function(t){this.ngModelCtrl=t;var e=this;t.$isEmpty=function(t){return!t||0===t.length},t.$render=function(){e.items=e.ngModelCtrl.$viewValue}},t.prototype.onFocus=function(){var t=this.$element[0].querySelector("input");t&&t.focus(),this.resetSelectedChip()},t.prototype.onInputFocus=function(){this.inputHasFocus=!0,this.setupInputAria(),this.resetSelectedChip()},t.prototype.onInputBlur=function(){this.inputHasFocus=!1,this.shouldAddOnBlur()&&(this.appendChip(this.getChipBuffer().trim()),this.resetChipBuffer())},t.prototype.configureInput=function(t){var e=t.controller("ngModel"),n=this;e&&(this.deRegister.push(this.$scope.$watch(function(){return e.$touched},function(t){t&&n.ngModelCtrl.$setTouched()})),this.deRegister.push(this.$scope.$watch(function(){return e.$dirty},function(t){t&&n.ngModelCtrl.$setDirty()})))},t.prototype.configureUserInput=function(t){this.userInputElement=t;var n=t.controller("ngModel");n!==this.ngModelCtrl&&(this.userInputNgModelCtrl=n);var i=this.$scope,r=this,o=function(t,n){i.$evalAsync(e.bind(r,n,t))};t.attr({tabindex:0}).on("keydown",function(t){o(t,r.inputKeydown)}).on("focus",function(t){o(t,r.onInputFocus)}).on("blur",function(t){o(t,r.onInputBlur)})},t.prototype.configureAutocomplete=function(t){t&&(this.autocompleteCtrl=t,this.$element.attr("container-empty-hint")||(this.containerEmptyHint="Chips container with autocompletion. Enter the text area, type text to search, and then use the up and down arrow keys to select an option. Press enter to add the selected option as a chip.",this.setupWrapperAria()),t.registerSelectedItemWatcher(e.bind(this,function(t){if(t){if(this.hasMaxChipsReached())return;this.appendChip(t),this.resetChipBuffer()}})),this.$element.find("input").on("focus",e.bind(this,this.onInputFocus)).on("blur",e.bind(this,this.onInputBlur)))},t.prototype.shouldAddOnBlur=function(){this.validateModel();var t=this.getChipBuffer().trim(),e=this.ngModelCtrl.$isEmpty(this.ngModelCtrl.$modelValue)||this.ngModelCtrl.$valid,n=this.autocompleteCtrl&&!this.autocompleteCtrl.hidden;return this.userInputNgModelCtrl&&(e=e&&this.userInputNgModelCtrl.$valid),this.addOnBlur&&!this.requireMatch&&t&&e&&!n},t.prototype.hasFocus=function(){return this.inputHasFocus||this.selectedChip>=0},t.prototype.contentIdFor=function(t){return this.contentIds[t]}}(),function(){function t(t,e,a,s,l,u){function c(n,i){function r(t){if(i.ngModel){var e=o[0].querySelector(t);return e&&e.outerHTML}}var o=i.$mdUserTemplate;i.$mdUserTemplate=null;var c=r("md-chips>md-chip-template"),d=e.prefixer().buildList("md-chip-remove").map(function(t){return"md-chips>*["+t+"]"}).join(","),f=r(d)||h.remove,p=c||h["default"],m=r("md-chips>md-autocomplete")||r("md-chips>input")||h.input,g=o.find("md-chip");return o[0].querySelector("md-chip-template>*[md-chip-remove]")&&s.warn("invalid placement of md-chip-remove within md-chip-template."),function(n,r,o,s){e.initOptionalProperties(n,i),t(r);var d=s[0];if(c&&(d.enableChipEdit=!1),d.chipContentsTemplate=p,d.chipRemoveTemplate=f,d.chipInputTemplate=m,d.mdCloseIcon=u.mdClose,r.attr({tabindex:-1}).on("focus",function(){d.onFocus()}).on("click",function(){d.readonly||d.selectedChip!==-1||d.onFocus()}),i.ngModel&&(d.configureNgModel(r.controller("ngModel")),o.mdTransformChip&&d.useTransformChipExpression(),o.mdOnAppend&&d.useOnAppendExpression(),o.mdOnAdd&&d.useOnAddExpression(),o.mdOnRemove&&d.useOnRemoveExpression(),o.mdOnSelect&&d.useOnSelectExpression(),m!==h.input&&n.$watch("$mdChipsCtrl.readonly",function(t){t||e.nextTick(function(){if(0===m.indexOf("<md-autocomplete")){var t=r.find("md-autocomplete");d.configureAutocomplete(t.controller("mdAutocomplete"))}d.configureUserInput(r.find("input"))})}),e.nextTick(function(){var t=r.find("input");t&&(d.configureInput(t),t.toggleClass("md-input",!0))})),g.length>0){var v=a(g.clone())(n.$parent);l(function(){r.find("md-chips-wrap").prepend(v)})}}}function d(){return{chips:e.processTemplate(n),input:e.processTemplate(i),"default":e.processTemplate(r),remove:e.processTemplate(o)}}var h=d();return{template:function(t,e){return e.$mdUserTemplate=t.clone(),h.chips},require:["mdChips"],restrict:"E",controller:"MdChipsCtrl",controllerAs:"$mdChipsCtrl",bindToController:!0,compile:c,scope:{readonly:"=?readonly",removable:"=?mdRemovable",placeholder:"@?",secondaryPlaceholder:"@?",maxChips:"@?mdMaxChips",transformChip:"&mdTransformChip",onAppend:"&?mdOnAppend",onAdd:"&?mdOnAdd",onRemove:"&?mdOnRemove",addedMessage:"@?mdAddedMessage",removedMessage:"@?mdRemovedMessage",onSelect:"&?mdOnSelect",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?",deleteButtonLabel:"@?",separatorKeys:"=?mdSeparatorKeys",requireMatch:"=?mdRequireMatch",chipAppendDelayString:"@?mdChipAppendDelay",ngChange:"&?"}}}t.$inject=["$mdTheming","$mdUtil","$compile","$log","$timeout","$$mdSvgRegistry"],e.module("material.components.chips").directive("mdChips",t);var n='      <md-chips-wrap          id="{{$mdChipsCtrl.wrapperId}}"          tabindex="{{$mdChipsCtrl.readonly ? 0 : -1}}"          ng-keydown="$mdChipsCtrl.chipKeydown($event)"          ng-class="{ \'md-focused\': $mdChipsCtrl.hasFocus(),                       \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly,                      \'md-removable\': $mdChipsCtrl.isRemovable() }"          class="md-chips">        <md-chip ng-repeat="$chip in $mdChipsCtrl.items"            index="{{$index}}"             ng-class="{\'md-focused\': $mdChipsCtrl.selectedChip == $index, \'md-readonly\': !$mdChipsCtrl.ngModelCtrl || $mdChipsCtrl.readonly}">          <div class="md-chip-content"              tabindex="{{$mdChipsCtrl.ariaTabIndex === $index ? 0 : -1}}"              id="{{$mdChipsCtrl.contentIdFor($index)}}"              role="option"              aria-selected="{{$mdChipsCtrl.selectedChip === $index}}"              aria-setsize="{{$mdChipsCtrl.items.length}}"              aria-posinset="{{$index+1}}"              ng-click="!$mdChipsCtrl.readonly && $mdChipsCtrl.focusChip($index)"              aria-label="{{$mdChipsCtrl._isChipObject($chip) ? \'\' : $chip + \'. \'}}{{$mdChipsCtrl.isRemovable() ? \'\' + $mdChipsCtrl.deleteHint : \'\'}}"               ng-focus="!$mdChipsCtrl.readonly && $mdChipsCtrl.selectChip($index)"              md-chip-transclude="$mdChipsCtrl.chipContentsTemplate"></div>          <div ng-if="$mdChipsCtrl.isRemovable()"               class="md-chip-remove-container"               tabindex="-1"               md-chip-transclude="$mdChipsCtrl.chipRemoveTemplate"></div>        </md-chip>        <div class="md-chip-input-container" ng-if="!$mdChipsCtrl.readonly && $mdChipsCtrl.ngModelCtrl">          <div md-chip-transclude="$mdChipsCtrl.chipInputTemplate"></div>        </div>      </md-chips-wrap>',i='        <input            class="md-input"            tabindex="0"            aria-label="{{$mdChipsCtrl.inputAriaLabel}}"            placeholder="{{$mdChipsCtrl.getPlaceholder()}}"            ng-model="$mdChipsCtrl.chipBuffer"            ng-focus="$mdChipsCtrl.onInputFocus()"            ng-blur="$mdChipsCtrl.onInputBlur()"            ng-keydown="$mdChipsCtrl.inputKeydown($event)">',r="      <span>{{$chip}}</span>",o='      <button          class="md-chip-remove"          ng-if="$mdChipsCtrl.isRemovable()"          ng-click="$mdChipsCtrl.removeChipAndFocusInput($$replacedScope.$index, $event)"          type="button"          tabindex="-1"          aria-label="{{$mdChipsCtrl.deleteButtonLabel}}{{$mdChipsCtrl._isChipObject($chip) ? \'\' : \' \' + $chip}}">        <md-icon md-svg-src="{{$mdChipsCtrl.mdCloseIcon}}" aria-hidden="true"></md-icon>      </button>'}(),function(){function t(t,e,n){this.$element=e,this.$attrs=t,this.$timeout=n,this.selectedItem=null,this.searchText="",this.deRegister=[],this.init()}t.$inject=["$attrs","$element","$timeout"],e.module("material.components.chips").controller("MdContactChipsCtrl",t),t.prototype.init=function(){var t=this,e=this.deRegister,n=this.$element;this.$timeout(function(){e.push(n.find("md-chips").controller("mdChips").$scope.$watchCollection("$mdChipsCtrl.items",function(){t.setupChipsAria(),t.setupAutocompleteAria()}))})},t.prototype.setupChipsAria=function(){var t=this.$element.find("md-chips"),e=t.controller("mdChips");this.removedMessage&&(e.removedMessage=this.removedMessage),this.containerHint&&(e.containerHint=this.containerHint),this.containerEmptyHint&&(t.attr("container-empty-hint",this.containerEmptyHint),e.containerEmptyHint=this.containerEmptyHint),this.deleteHint&&(e.deleteHint=this.deleteHint),this.inputAriaLabel&&(e.inputAriaLabel=this.inputAriaLabel)},t.prototype.setupAutocompleteAria=function(){var t=this.$element.find("md-chips-wrap").find("md-autocomplete").find("input");this.inputAriaDescribedBy&&t.attr("aria-describedby",this.inputAriaDescribedBy),this.inputAriaLabelledBy&&(t.removeAttr("aria-label"),t.attr("aria-labelledby",this.inputAriaLabelledBy))},t.prototype.queryContact=function(t){return this.contactQuery({$query:t})},t.prototype.inputKeydown=function(t){if(this.separatorKeys&&!(this.separatorKeys.indexOf(t.keyCode)<0)){t.stopPropagation(),t.preventDefault();var n=e.element(t.target).controller("mdAutocomplete");n.select(n.index)}},t.prototype.itemName=function(t){return t[this.contactName]},t.prototype.$onDestroy=function(){for(var t;t=this.deRegister.pop();)t.call(this)}}(),function(){function t(t,e){function i(n,i){return function(n,r,o,a){var s=a;e.initOptionalProperties(n,i),t(r),r.attr("tabindex","-1"),o.$observe("mdChipAppendDelay",function(t){s.chipAppendDelay=t})}}return{template:function(t,e){return n},restrict:"E",controller:"MdContactChipsCtrl",controllerAs:"$mdContactChipsCtrl",bindToController:!0,compile:i,scope:{contactQuery:"&mdContacts",placeholder:"@?",secondaryPlaceholder:"@?",contactName:"@mdContactName",contactImage:"@mdContactImage",contactEmail:"@mdContactEmail",contacts:"=ngModel",ngChange:"&?",requireMatch:"=?mdRequireMatch",minLength:"=?mdMinLength",highlightFlags:"@?mdHighlightFlags",chipAppendDelay:"@?mdChipAppendDelay",separatorKeys:"=?mdSeparatorKeys",removedMessage:"@?mdRemovedMessage",inputAriaDescribedBy:"@?inputAriaDescribedby",inputAriaLabelledBy:"@?inputAriaLabelledby",inputAriaLabel:"@?",containerHint:"@?",containerEmptyHint:"@?",deleteHint:"@?"}}}t.$inject=["$mdTheming","$mdUtil"],e.module("material.components.chips").directive("mdContactChips",t);var n='      <md-chips class="md-contact-chips"          ng-model="$mdContactChipsCtrl.contacts"          ng-change="$mdContactChipsCtrl.ngChange($mdContactChipsCtrl.contacts)"          md-require-match="$mdContactChipsCtrl.requireMatch"          md-chip-append-delay="{{$mdContactChipsCtrl.chipAppendDelay}}"          md-separator-keys="$mdContactChipsCtrl.separatorKeys"          md-autocomplete-snap>          <md-autocomplete              md-menu-class="md-contact-chips-suggestions"              md-selected-item="$mdContactChipsCtrl.selectedItem"              md-search-text="$mdContactChipsCtrl.searchText"              md-items="item in $mdContactChipsCtrl.queryContact($mdContactChipsCtrl.searchText)"              md-item-text="$mdContactChipsCtrl.itemName(item)"              md-no-cache="true"              md-min-length="$mdContactChipsCtrl.minLength"              md-autoselect              ng-keydown="$mdContactChipsCtrl.inputKeydown($event)"              placeholder="{{$mdContactChipsCtrl.contacts.length === 0 ?                  $mdContactChipsCtrl.placeholder : $mdContactChipsCtrl.secondaryPlaceholder}}">            <div class="md-contact-suggestion">              <img                   ng-src="{{item[$mdContactChipsCtrl.contactImage]}}"                  alt="{{item[$mdContactChipsCtrl.contactName]}}"                  ng-if="item[$mdContactChipsCtrl.contactImage]" />              <span class="md-contact-name" md-highlight-text="$mdContactChipsCtrl.searchText"                    md-highlight-flags="{{$mdContactChipsCtrl.highlightFlags}}">                {{item[$mdContactChipsCtrl.contactName]}}              </span>              <span class="md-contact-email" >{{item[$mdContactChipsCtrl.contactEmail]}}</span>            </div>          </md-autocomplete>          <md-chip-template>            <div class="md-contact-avatar">              <img                   ng-src="{{$chip[$mdContactChipsCtrl.contactImage]}}"                  alt="{{$chip[$mdContactChipsCtrl.contactName]}}"                  ng-if="$chip[$mdContactChipsCtrl.contactImage]" />            </div>            <div class="md-contact-name">              {{$chip[$mdContactChipsCtrl.contactName]}}            </div>          </md-chip-template>      </md-chips>'}(),function(){!function(){function t(t,n,i){function o(t,e){try{e&&t.css(l(e))}catch(n){i.error(n.message)}}function a(t){var e=c(t);return s(e)}function s(e,i){i=i||!1;var r=t.PALETTES[e.palette][e.hue];return r=i?r.contrast:r.value,n.supplant("rgba({0}, {1}, {2}, {3})",[r[0],r[1],r[2],r[3]||e.opacity])}function l(t){var n={},i=t.hasOwnProperty("color");return e.forEach(t,function(t,e){var r=c(t),o=e.indexOf("background")>-1;n[e]=s(r),o&&!i&&(n.color=s(r,!0))}),n}function u(n){return e.isDefined(t.THEMES[n.split("-")[0]])}function c(n){var i=n.split("-"),r=e.isDefined(t.THEMES[i[0]]),o=r?i.splice(0,1)[0]:t.defaultTheme();return{theme:o,palette:d(i,o),hue:h(i,o),opacity:i[2]||1}}function d(e,i){var o=e.length>1&&r.indexOf(e[1])!==-1,a=e[0].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(o&&(a=e[0]+"-"+e.splice(1,1)),r.indexOf(a)===-1){var s=t.THEMES[i].colors[a];if(!s)throw new Error(n.supplant("mdColors: couldn't find '{palette}' in the palettes.",{palette:a}));a=s.name}return a}function h(e,i){var r=t.THEMES[i].colors;if("hue"===e[1]){var o=parseInt(e.splice(2,1)[0],10);if(o<1||o>3)throw new Error(n.supplant("mdColors: 'hue-{hueNumber}' is not a valid hue, can be only 'hue-1', 'hue-2' and 'hue-3'",{hueNumber:o}));if(e[1]="hue-"+o,!(e[0]in r))throw new Error(n.supplant("mdColors: 'hue-x' can only be used with [{availableThemes}], but was used with '{usedTheme}'",{availableThemes:Object.keys(r).join(", "),usedTheme:e[0]}));return r[e[0]].hues[e[1]]}return e[1]||r[e[0]in r?e[0]:"primary"].hues["default"]}return r=r||Object.keys(t.PALETTES),{applyThemeColors:o,getThemeColor:a,hasTheme:u}}function n(t,n,r,o){return{restrict:"A",require:["^?mdTheme"],compile:function(a,s){function l(){var t=s.mdColors,r=t.indexOf("::")>-1,o=!!r||i.test(s.mdColors);s.mdColors=t.replace("::","");var a=e.isDefined(s.mdColorsWatch);return!r&&!o&&(!a||n.parseAttributeBoolean(s.mdColorsWatch))}var u=l();return function(n,i,a,s){var l=s[0],c={},d=function(e){"string"!=typeof e&&(e=""),a.mdColors||(a.mdColors="{}");var i=o(a.mdColors)(n);return l&&Object.keys(i).forEach(function(n){var r=i[n];t.hasTheme(r)||(i[n]=(e||l.$mdTheme)+"-"+r)}),h(i),i},h=function(t){if(!e.equals(t,c)){var n=Object.keys(c);c.background&&!n.color&&n.push("color"),n.forEach(function(t){i.css(t,"")})}c=t},f=e.noop;l&&(f=l.registerChanges(function(e){t.applyThemeColors(i,d(e))})),n.$on("$destroy",function(){f()});try{u?n.$watch(d,e.bind(this,t.applyThemeColors,i),!0):t.applyThemeColors(i,d())}catch(p){r.error(p.message)}}}}}n.$inject=["$mdColors","$mdUtil","$log","$parse"],t.$inject=["$mdTheming","$mdUtil","$log"];var i=/^{((\s|,)*?["'a-zA-Z-]+?\s*?:\s*?('|")[a-zA-Z0-9-.]*('|"))+\s*}$/,r=null;e.module("material.components.colors",["material.core"]).directive("mdColors",n).service("$mdColors",t)}()}(),function(){function t(t){function e(t,e){this.$scope=t,this.$element=e}return{restrict:"E",controller:["$scope","$element",e],link:function(e,i){i.addClass("_md"),t(i),e.$broadcast("$mdContentLoaded",i),n(i[0])}}}function n(t){e.element(t).on("$md.pressdown",function(e){"t"===e.pointer.type&&(e.$materialScrollFixed||(e.$materialScrollFixed=!0,0===t.scrollTop?t.scrollTop=1:t.scrollHeight===t.scrollTop+t.offsetHeight&&(t.scrollTop-=1)))})}t.$inject=["$mdTheming"],e.module("material.components.content",["material.core"]).directive("mdContent",t)}(),function(){e.module("material.components.datepicker",["material.core","material.components.icon","material.components.virtualRepeat"])}(),function(){!function(){function t(t){return{template:function(t,e){var n=e.hasOwnProperty("ngIf")?"":'ng-if="calendarCtrl.isInitialized"';return'<div ng-switch="calendarCtrl.currentView" '+n+'><md-calendar-year ng-switch-when="year"></md-calendar-year><md-calendar-month ng-switch-default></md-calendar-month></div>'},scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",dateFilter:"=mdDateFilter",monthFilter:"=mdMonthFilter",_mode:"@mdMode",_currentView:"@mdCurrentView"},require:["ngModel","mdCalendar"],controller:i,controllerAs:"calendarCtrl",bindToController:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a.configureNgModel(o,t)}}}function i(t,i,r,a,s,l,u,c,d,h){l(t),this.$element=t,this.$scope=i,this.$attrs=c,this.dateUtil=r,this.$mdUtil=a,this.keyCode=s.KEY_CODE,this.$$rAF=u,this.$mdDateLocale=d,this.ngDateFilter=h("date"),this.today=this.dateUtil.createDateAtMidnight(),this.ngModelCtrl=n,this.SELECTED_DATE_CLASS="md-calendar-selected-date",this.TODAY_CLASS="md-calendar-date-today",this.FOCUSED_DATE_CLASS="md-focus",this.id=o++,this.displayDate=null,this.mode=null,this.selectedDate=null,this.firstRenderableDate=null,this.lastRenderableDate=null,this.isInitialized=!1,this.width=0,this.scrollbarWidth=0,c.tabindex||t.attr("tabindex","-1");var f,p=e.bind(this,this.handleKeyEvent);f=t.parent().hasClass("md-datepicker-calendar")?e.element(document.body):t,f.on("keydown",p),i.$on("$destroy",function(){f.off("keydown",p)}),1===e.version.major&&e.version.minor<=4&&this.$onInit()}i.$inject=["$element","$scope","$$mdDateUtil","$mdUtil","$mdConstant","$mdTheming","$$rAF","$attrs","$mdDateLocale","$filter"],
t.$inject=["inputDirective"],e.module("material.components.datepicker").directive("mdCalendar",t);var r=340,o=0,a={day:"month",month:"year"};i.prototype.$onInit=function(){this._mode&&a.hasOwnProperty(this._mode)?(this.currentView=a[this._mode],this.mode=this._mode):(this.currentView=this._currentView||"month",this.mode=null),this.minDate&&this.minDate>this.$mdDateLocale.firstRenderableDate?this.firstRenderableDate=this.minDate:this.firstRenderableDate=this.$mdDateLocale.firstRenderableDate,this.maxDate&&this.maxDate<this.$mdDateLocale.lastRenderableDate?this.lastRenderableDate=this.maxDate:this.lastRenderableDate=this.$mdDateLocale.lastRenderableDate},i.prototype.configureNgModel=function(t,n){var i=this;i.ngModelCtrl=t,this.$attrs.$set("type","date"),n[0].link.pre(this.$scope,{on:e.noop,val:e.noop,0:{}},this.$attrs,[t]),t.$render=function(){var t,e=this.$viewValue;i.dateUtil.isValidDate(e)||(t=i.dateUtil.removeLocalTzAndReparseDate(new Date(e)),i.dateUtil.isValidDate(t)&&(e=t)),i.$scope.$broadcast("md-calendar-parent-changed",e),i.selectedDate||(i.selectedDate=e),i.displayDate||(i.displayDate=i.selectedDate||i.today)},i.$mdUtil.nextTick(function(){i.isInitialized=!0})},i.prototype.setNgModelValue=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone"),n=this.dateUtil.createDateAtMidnight(t);return this.focusDate(n),this.$scope.$emit("md-calendar-change",n),null==e||n.getTimezoneOffset()<0?this.ngModelCtrl.$setViewValue(this.ngDateFilter(n,"yyyy-MM-dd"),"default"):this.ngModelCtrl.$setViewValue(this.ngDateFilter(n,"yyyy-MM-dd",e),"default"),this.ngModelCtrl.$render(),n},i.prototype.setCurrentView=function(t,n){var i=this;i.$mdUtil.nextTick(function(){i.currentView=t,n&&(i.displayDate=e.isDate(n)?n:new Date(n))})},i.prototype.focusDate=function(t){if(this.dateUtil.isValidDate(t)){var e=this.$element[0].querySelector("."+this.FOCUSED_DATE_CLASS);e&&e.classList.remove(this.FOCUSED_DATE_CLASS);var n=this.getDateId(t,this.currentView),i=document.getElementById(n);i&&(i.classList.add(this.FOCUSED_DATE_CLASS),i.focus(),this.displayDate=t)}else{var r=this.$element[0].querySelector("[ng-switch]");r&&r.focus()}},i.prototype.changeSelectedDate=function(t){var e=this.SELECTED_DATE_CLASS,n=this.$element[0].querySelector("."+e);if(n&&(n.classList.remove(e),n.setAttribute("aria-selected","false")),t){var i=document.getElementById(this.getDateId(t,this.currentView));i&&(i.classList.add(e),i.setAttribute("aria-selected","true"))}this.selectedDate=t},i.prototype.getActionFromKeyEvent=function(t){var e=this.keyCode;switch(t.which){case e.ENTER:return"select";case e.RIGHT_ARROW:return"move-right";case e.LEFT_ARROW:return"move-left";case e.DOWN_ARROW:return t.metaKey?"move-page-down":"move-row-down";case e.UP_ARROW:return t.metaKey?"move-page-up":"move-row-up";case e.PAGE_DOWN:return"move-page-down";case e.PAGE_UP:return"move-page-up";case e.HOME:return"start";case e.END:return"end";default:return null}},i.prototype.handleKeyEvent=function(t){var e=this;this.$scope.$apply(function(){if(t.which===e.keyCode.ESCAPE||t.which===e.keyCode.TAB)return e.$scope.$emit("md-calendar-close"),void(t.which===e.keyCode.TAB&&t.preventDefault());var n=e.getActionFromKeyEvent(t);n&&(t.preventDefault(),t.stopPropagation(),e.$scope.$broadcast("md-calendar-parent-action",n))})},i.prototype.hideVerticalScrollbar=function(t){function e(){var e=n.width||r,i=n.scrollbarWidth,a=t.calendarScroller;o.style.width=e+"px",a.style.width=e+i+"px",a.style.paddingRight=i+"px"}var n=this,i=t.$element[0],o=i.querySelector(".md-calendar-scroll-mask");n.width>0?e():n.$$rAF(function(){var r=t.calendarScroller;n.scrollbarWidth=r.offsetWidth-r.clientWidth,n.width=i.querySelector("table").offsetWidth,e()})},i.prototype.getDateId=function(t,e){if(!e)throw new Error("A namespace for the date id has to be specified.");return["md",this.id,e,t.getFullYear(),t.getMonth(),t.getDate()].join("-")},i.prototype.updateVirtualRepeat=function(){var t=this.$scope,e=t.$on("$md-resize-enable",function(){t.$$phase||t.$apply(),e()})}}()}(),function(){!function(){function t(){return{template:'<table aria-hidden="true" class="md-calendar-day-header"><thead></thead></table><div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container" md-offset-size="'+(r-i)+'"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-month-body role="rowgroup" md-virtual-repeat="i in monthCtrl.items" md-month-offset="$index" class="md-calendar-month" md-start-index="monthCtrl.getSelectedMonthIndex()" md-item-size="'+i+'"><tr aria-hidden="true" md-force-height="\''+i+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarMonth"],controller:n,controllerAs:"monthCtrl",bindToController:!0,link:function(t,e,n,i){var r=i[0],o=i[1];o.initialize(r)}}}function n(t,e,n,i,r,o){this.$element=t,this.$scope=e,this.$animate=n,this.$q=i,this.dateUtil=r,this.dateLocale=o,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1;var a=this;this.cellClickHandler=function(){var t=r.getTimestampFromNode(this);a.$scope.$apply(function(){a.calendarCtrl.setNgModelValue(new Date(t))})},this.headerClickHandler=function(){a.calendarCtrl.setCurrentView("year",r.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarMonth",t);var i=265,r=45;n.prototype.initialize=function(t){this.items={length:this.dateUtil.getMonthDistance(t.firstRenderableDate,t.lastRenderableDate)+2},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},n.prototype.getSelectedMonthIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getMonthDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},n.prototype.changeDisplayDate=function(t){if(!this.isInitialized)return this.buildWeekHeader(),this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(!this.dateUtil.isValidDate(t)||this.isMonthTransitionInProgress)return this.$q.when();this.isMonthTransitionInProgress=!0;var e=this.animateDateChange(t);this.calendarCtrl.displayDate=t;var n=this;return e.then(function(){n.isMonthTransitionInProgress=!1}),e},n.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var e=this.dateUtil.getMonthDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=e*i}return this.$q.when()},n.prototype.buildWeekHeader=function(){for(var t=this.dateLocale.firstDayOfWeek,e=this.dateLocale.shortDays,n=document.createElement("tr"),i=0;i<7;i++){var r=document.createElement("th");r.textContent=e[(i+t)%7],n.appendChild(r)}this.$element.find("thead").append(n)},n.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",function(e,n){t.calendarCtrl.changeSelectedDate(n),t.changeDisplayDate(n)}),t.$scope.$on("md-calendar-parent-action",e.bind(this,this.handleKeyEvent))},n.prototype.handleKeyEvent=function(t,e){var n=this.calendarCtrl,i=n.displayDate;if("select"===e)n.setNgModelValue(i);else{var r=null,o=this.dateUtil;switch(e){case"move-right":r=o.incrementDays(i,1);break;case"move-left":r=o.incrementDays(i,-1);break;case"move-page-down":r=o.incrementMonths(i,1);break;case"move-page-up":r=o.incrementMonths(i,-1);break;case"move-row-down":r=o.incrementDays(i,7);break;case"move-row-up":r=o.incrementDays(i,-7);break;case"start":r=o.getFirstDateOfMonth(i);break;case"end":r=o.getLastDateOfMonth(i)}r&&(r=this.dateUtil.clampDate(r,n.minDate,n.maxDate),this.changeDisplayDate(r).then(function(){n.focusDate(r)}))}}}()}(),function(){!function(){function t(t,i){var r=t('<md-icon md-svg-src="'+i.mdTabsArrow+'"></md-icon>')({})[0];return{require:["^^mdCalendar","^^mdCalendarMonth","mdCalendarMonthBody"],scope:{offset:"=mdMonthOffset"},controller:n,controllerAs:"mdMonthBodyCtrl",bindToController:!0,link:function(t,n,i,o){var a=o[0],s=o[1],l=o[2];l.calendarCtrl=a,l.monthCtrl=s,l.arrowIcon=r.cloneNode(!0),t.$watch(function(){return l.offset},function(t){e.isNumber(t)&&l.generateContent()})}}}function n(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.monthCtrl=null,this.calendarCtrl=null,this.offset=null,this.focusAfterAppend=null}t.$inject=["$compile","$$mdSvgRegistry"],n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarMonthBody",t),n.prototype.generateContent=function(){var t=this.dateUtil.incrementMonths(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForMonth(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend=null)},n.prototype.buildDateCell=function(t){var e=this.monthCtrl,n=this.calendarCtrl,i=document.createElement("td");if(i.tabIndex=-1,i.classList.add("md-calendar-date"),i.setAttribute("role","gridcell"),t){i.setAttribute("tabindex","-1"),i.setAttribute("aria-label",this.dateLocale.longDateFormatter(t)),i.id=n.getDateId(t,"month"),i.setAttribute("data-timestamp",t.getTime()),this.dateUtil.isSameDay(t,n.today)&&i.classList.add(n.TODAY_CLASS),this.dateUtil.isValidDate(n.selectedDate)&&this.dateUtil.isSameDay(t,n.selectedDate)&&(i.classList.add(n.SELECTED_DATE_CLASS),i.setAttribute("aria-selected","true"));var r=this.dateLocale.dates[t.getDate()];if(this.isDateEnabled(t)){var o=document.createElement("span");o.classList.add("md-calendar-date-selection-indicator"),o.textContent=r,i.appendChild(o),i.addEventListener("click",e.cellClickHandler),n.displayDate&&this.dateUtil.isSameDay(t,n.displayDate)&&(this.focusAfterAppend=i)}else i.classList.add("md-calendar-date-disabled"),i.textContent=r}return i},n.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.calendarCtrl.minDate,this.calendarCtrl.maxDate)&&(!e.isFunction(this.calendarCtrl.dateFilter)||this.calendarCtrl.dateFilter(t))},n.prototype.buildDateRow=function(t){var e=document.createElement("tr");return e.setAttribute("role","row"),e.setAttribute("aria-label",this.dateLocale.weekNumberFormatter(t)),e},n.prototype.buildCalendarForMonth=function(t){var e=this.dateUtil.isValidDate(t)?t:new Date,n=this.dateUtil.getFirstDateOfMonth(e),i=this.getLocaleDay_(n),r=this.dateUtil.getNumberOfDaysInMonth(e),o=document.createDocumentFragment(),a=1,s=this.buildDateRow(a);o.appendChild(s);var l=this.offset===this.monthCtrl.items.length-1,u=0,c=document.createElement("td"),d=document.createElement("span"),h=this.calendarCtrl;if(d.textContent=this.dateLocale.monthHeaderFormatter(e),c.appendChild(d),c.classList.add("md-calendar-month-label"),h.maxDate&&n>h.maxDate?c.classList.add("md-calendar-month-label-disabled"):h.mode||(c.addEventListener("click",this.monthCtrl.headerClickHandler),c.setAttribute("data-timestamp",n.getTime()),c.setAttribute("aria-label",this.dateLocale.monthFormatter(e)),c.classList.add("md-calendar-label-clickable"),c.appendChild(this.arrowIcon.cloneNode(!0))),i<=2){c.setAttribute("colspan","7");var f=this.buildDateRow();if(f.appendChild(c),o.insertBefore(f,s),l)return o}else u=3,c.setAttribute("colspan","3"),s.appendChild(c);for(var p=u;p<i;p++)s.appendChild(this.buildDateCell());for(var m=i,g=n,v=1;v<=r;v++){if(7===m){if(l)return o;m=0,a++,s=this.buildDateRow(a),o.appendChild(s)}g.setDate(v);var y=this.buildDateCell(g);s.appendChild(y),m++}for(;s.childNodes.length<7;)s.appendChild(this.buildDateCell());for(;o.childNodes.length<6;){for(var _=this.buildDateRow(),b=0;b<7;b++)_.appendChild(this.buildDateCell());o.appendChild(_)}return o},n.prototype.getLocaleDay_=function(t){return(t.getDay()+(7-this.dateLocale.firstDayOfWeek))%7}}()}(),function(){!function(){function t(){return{template:'<div class="md-calendar-scroll-mask"><md-virtual-repeat-container class="md-calendar-scroll-container"><table role="grid" tabindex="0" class="md-calendar" aria-readonly="true"><tbody md-calendar-year-body role="rowgroup" md-virtual-repeat="i in yearCtrl.items" md-year-offset="$index" class="md-calendar-year" md-start-index="yearCtrl.getFocusedYearIndex()" md-item-size="'+i+'"><tr aria-hidden="true" md-force-height="\''+i+"px'\"></tr></tbody></table></md-virtual-repeat-container></div>",require:["^^mdCalendar","mdCalendarYear"],controller:n,controllerAs:"yearCtrl",bindToController:!0,link:function(t,e,n,i){var r=i[0],o=i[1];o.initialize(r)}}}function n(t,e,n,i,r,o){this.$element=t,this.$scope=e,this.$animate=n,this.$q=i,this.dateUtil=r,this.calendarScroller=t[0].querySelector(".md-virtual-repeat-scroller"),this.isInitialized=!1,this.isMonthTransitionInProgress=!1,this.$mdUtil=o;var a=this;this.cellClickHandler=function(){a.onTimestampSelected(r.getTimestampFromNode(this))}}n.$inject=["$element","$scope","$animate","$q","$$mdDateUtil","$mdUtil"],e.module("material.components.datepicker").directive("mdCalendarYear",t);var i=88;n.prototype.initialize=function(t){this.items={length:this.dateUtil.getYearDistance(t.firstRenderableDate,t.lastRenderableDate)+1},this.calendarCtrl=t,this.attachScopeListeners(),t.updateVirtualRepeat(),t.ngModelCtrl&&t.ngModelCtrl.$render()},n.prototype.getFocusedYearIndex=function(){var t=this.calendarCtrl;return this.dateUtil.getYearDistance(t.firstRenderableDate,t.displayDate||t.selectedDate||t.today)},n.prototype.changeDate=function(t){if(!this.isInitialized)return this.calendarCtrl.hideVerticalScrollbar(this),this.isInitialized=!0,this.$q.when();if(this.dateUtil.isValidDate(t)&&!this.isMonthTransitionInProgress){var e=this,n=this.animateDateChange(t);return e.isMonthTransitionInProgress=!0,e.calendarCtrl.displayDate=t,n.then(function(){e.isMonthTransitionInProgress=!1})}},n.prototype.animateDateChange=function(t){if(this.dateUtil.isValidDate(t)){var e=this.dateUtil.getYearDistance(this.calendarCtrl.firstRenderableDate,t);this.calendarScroller.scrollTop=e*i}return this.$q.when()},n.prototype.handleKeyEvent=function(t,e){var n=this,i=n.calendarCtrl,r=i.displayDate;if("select"===e)n.changeDate(r).then(function(){n.onTimestampSelected(r)});else{var o=null,a=n.dateUtil;switch(e){case"move-right":o=a.incrementMonths(r,1);break;case"move-left":o=a.incrementMonths(r,-1);break;case"move-row-down":o=a.incrementMonths(r,6);break;case"move-row-up":o=a.incrementMonths(r,-6)}if(o){var s=i.minDate?a.getFirstDateOfMonth(i.minDate):null,l=i.maxDate?a.getFirstDateOfMonth(i.maxDate):null;o=a.getFirstDateOfMonth(n.dateUtil.clampDate(o,s,l)),n.changeDate(o).then(function(){i.focusDate(o)})}}},n.prototype.attachScopeListeners=function(){var t=this;t.$scope.$on("md-calendar-parent-changed",function(e,n){t.calendarCtrl.changeSelectedDate(n?t.dateUtil.getFirstDateOfMonth(n):n),t.changeDate(n)}),t.$scope.$on("md-calendar-parent-action",e.bind(t,t.handleKeyEvent))},n.prototype.onTimestampSelected=function(t){var e=this.calendarCtrl;e.mode?this.$mdUtil.nextTick(function(){e.setNgModelValue(new Date(t))}):e.setCurrentView("month",t)}}()}(),function(){!function(){function t(){return{require:["^^mdCalendar","^^mdCalendarYear","mdCalendarYearBody"],scope:{offset:"=mdYearOffset"},controller:n,controllerAs:"mdYearBodyCtrl",bindToController:!0,link:function(t,n,i,r){var o=r[0],a=r[1],s=r[2];s.calendarCtrl=o,s.yearCtrl=a,t.$watch(function(){return s.offset},function(t){e.isNumber(t)&&s.generateContent()})}}}function n(t,e,n){this.$element=t,this.dateUtil=e,this.dateLocale=n,this.calendarCtrl=null,this.yearCtrl=null,this.offset=null,this.focusAfterAppend=null}n.$inject=["$element","$$mdDateUtil","$mdDateLocale"],e.module("material.components.datepicker").directive("mdCalendarYearBody",t),n.prototype.generateContent=function(){var t=this.dateUtil.incrementYears(this.calendarCtrl.firstRenderableDate,this.offset);this.$element.empty().append(this.buildCalendarForYear(t)),this.focusAfterAppend&&(this.focusAfterAppend.classList.add(this.calendarCtrl.FOCUSED_DATE_CLASS),this.focusAfterAppend=null)},n.prototype.buildMonthCell=function(t,n){var i=this.calendarCtrl,r=this.yearCtrl,o=this.buildBlankCell(),a=new Date(t,n,1);o.setAttribute("aria-label",this.dateLocale.monthFormatter(a)),o.id=i.getDateId(a,"year"),o.setAttribute("data-timestamp",String(a.getTime())),this.dateUtil.isSameMonthAndYear(a,i.today)&&o.classList.add(i.TODAY_CLASS),this.dateUtil.isValidDate(i.selectedDate)&&this.dateUtil.isSameMonthAndYear(a,i.selectedDate)&&(o.classList.add(i.SELECTED_DATE_CLASS),o.setAttribute("aria-selected","true"));var s=this.dateLocale.shortMonths[n];if(!this.dateUtil.isMonthWithinRange(a,i.minDate,i.maxDate)||e.isFunction(i.monthFilter)&&!i.monthFilter(a))o.classList.add("md-calendar-date-disabled"),o.textContent=s;else{var l=document.createElement("span");l.classList.add("md-calendar-date-selection-indicator"),l.textContent=s,o.appendChild(l),o.addEventListener("click",r.cellClickHandler),i.displayDate&&this.dateUtil.isSameMonthAndYear(a,i.displayDate)&&(this.focusAfterAppend=o)}return o},n.prototype.buildBlankCell=function(){var t=document.createElement("td");return t.tabIndex=-1,t.classList.add("md-calendar-date"),t.setAttribute("role","gridcell"),t.setAttribute("tabindex","-1"),t},n.prototype.buildCalendarForYear=function(t){var e,n=t.getFullYear(),i=document.createDocumentFragment(),r=document.createElement("tr"),o=document.createElement("td");for(o.className="md-calendar-month-label",o.textContent=String(n),r.appendChild(o),e=0;e<6;e++)r.appendChild(this.buildMonthCell(n,e));i.appendChild(r);var a=document.createElement("tr");for(a.appendChild(this.buildBlankCell()),e=6;e<12;e++)a.appendChild(this.buildMonthCell(n,e));return i.appendChild(a),i}}()}(),function(){!function(){e.module("material.components.datepicker").config(["$provide",function(t){function e(){this.months=null,this.shortMonths=null,this.days=null,this.shortDays=null,this.dates=null,this.firstDayOfWeek=0,this.formatDate=null,this.parseDate=null,this.monthHeaderFormatter=null,this.weekNumberFormatter=null,this.longDateFormatter=null,this.isDateComplete=null,this.msgCalendar="",this.msgOpenCalendar=""}e.prototype.$get=function(t,e){function n(t,n){if(!t)return"";var i=t.toLocaleTimeString(),r=t;return 0!==t.getHours()||i.indexOf("11:")===-1&&i.indexOf("23:")===-1||(r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1,0,0)),e("date")(r,"M/d/yyyy",n)}function i(t){return new Date(t)}function r(t){t=t.trim();var e=/^(([a-zA-Z]{3,}|[0-9]{1,4})([ .,]+|[\/-])){2}([a-zA-Z]{3,}|[0-9]{1,4})$/;return e.test(t)}function o(t){return g.shortMonths[t.getMonth()]+" "+t.getFullYear()}function a(t){return g.months[t.getMonth()]+" "+t.getFullYear()}function s(t){return"Week "+t}function l(t){return[g.days[t.getDay()],g.months[t.getMonth()],g.dates[t.getDate()],t.getFullYear()].join(" ")}for(var u=t.DATETIME_FORMATS.SHORTDAY.map(function(t){return t.substring(0,1)}),c=Array(32),d=1;d<=31;d++)c[d]=d;var h="Calendar",f="Open calendar",p=new Date(1880,0,1),m=new Date(p.getFullYear()+250,0,1),g={months:this.months||t.DATETIME_FORMATS.MONTH,shortMonths:this.shortMonths||t.DATETIME_FORMATS.SHORTMONTH,days:this.days||t.DATETIME_FORMATS.DAY,shortDays:this.shortDays||u,dates:this.dates||c,firstDayOfWeek:this.firstDayOfWeek||0,formatDate:this.formatDate||n,parseDate:this.parseDate||i,isDateComplete:this.isDateComplete||r,monthHeaderFormatter:this.monthHeaderFormatter||o,monthFormatter:this.monthFormatter||a,weekNumberFormatter:this.weekNumberFormatter||s,longDateFormatter:this.longDateFormatter||l,msgCalendar:this.msgCalendar||h,msgOpenCalendar:this.msgOpenCalendar||f,firstRenderableDate:this.firstRenderableDate||p,lastRenderableDate:this.lastRenderableDate||m};return g},e.prototype.$get.$inject=["$locale","$filter"],t.provider("$mdDateLocale",new e)}])}()}(),function(){!function(){e.module("material.components.datepicker").factory("$$mdDateUtil",["$mdDateLocale",function(t){function n(t){return new Date(t.getFullYear(),t.getMonth(),1)}function i(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function r(t){return new Date(t.getFullYear(),t.getMonth()+1,1)}function o(t){return new Date(t.getFullYear(),t.getMonth()-1,1)}function a(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}function s(t,e){return t.getDate()==e.getDate()&&a(t,e)}function l(t,e){var n=r(t);return a(n,e)}function u(t,e){var n=o(t);return a(e,n)}function c(t,e){return y((t.getTime()+e.getTime())/2)}function d(t){var e=n(t);return Math.floor((e.getDay()+t.getDate()-1)/7)}function h(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+e)}function f(t,e){var n=new Date(t.getFullYear(),t.getMonth()+e,1),r=i(n);return r<t.getDate()?n.setDate(r):n.setDate(t.getDate()),n}function p(t,e){return 12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth())}function m(t){return new Date(t.getFullYear(),t.getMonth(),i(t))}function g(t){return t&&t.getTime&&!isNaN(t.getTime())}function v(t){g(t)&&t.setHours(0,0,0,0)}function y(t){var n;return n=e.isDate(t)?t:e.isNumber(t)?new Date(t):new Date,v(n),n}function _(t,e,n){var i=y(t),r=g(e)?y(e):null,o=g(n)?y(n):null;return(!r||r<=i)&&(!o||o>=i)}function b(t,e){return f(t,12*e)}function E(t,e){return e.getFullYear()-t.getFullYear()}function x(t,e,n){var i=t;return e&&t<e&&(i=new Date(e.getTime())),n&&t>n&&(i=new Date(n.getTime())),i}function C(t){if(t&&t.hasAttribute("data-timestamp"))return Number(t.getAttribute("data-timestamp"))}function T(t,e,n){var i=t.getMonth(),r=t.getFullYear();return(!e||e.getFullYear()<r||e.getMonth()<=i)&&(!n||n.getFullYear()>r||n.getMonth()>=i)}function w(e){var n,i;return n=new Date(e.getTime()+6e4*e.getTimezoneOffset()),i=t.formatDate(n),t.parseDate(i)}return{getFirstDateOfMonth:n,getNumberOfDaysInMonth:i,getDateInNextMonth:r,getDateInPreviousMonth:o,isInNextMonth:l,isInPreviousMonth:u,getDateMidpoint:c,isSameMonthAndYear:a,getWeekOfMonth:d,incrementDays:h,incrementMonths:f,getLastDateOfMonth:m,isSameDay:s,getMonthDistance:p,isValidDate:g,setDateTimeToMidnight:v,createDateAtMidnight:y,isDateWithinRange:_,incrementYears:b,getYearDistance:E,clampDate:x,getTimestampFromNode:C,isMonthWithinRange:T,removeLocalTzAndReparseDate:w}}])}()}(),function(){!function(){function i(t,n,i,o){return{template:function(e,n){var i=n.mdHideIcons,r=n.ariaLabel||n.mdPlaceholder,o=n.ngModelOptions,a="all"===i||"calendar"===i?"":'<md-button class="md-datepicker-button md-icon-button" type="button" tabindex="-1" aria-hidden="true" ng-click="ctrl.openCalendarPane($event)"><md-icon class="md-datepicker-calendar-icon" aria-label="md-calendar" md-svg-src="'+t.mdCalendar+'"></md-icon></md-button>',s="";return"all"!==i&&"triangle"!==i&&(s='<md-button type="button" md-no-ink class="md-datepicker-triangle-button md-icon-button" ng-click="ctrl.openCalendarPane($event)" aria-label="{{::ctrl.locale.msgOpenCalendar}}"><div class="md-datepicker-expand-triangle"></div></md-button>',e.addClass(c)),a+'<div class="md-datepicker-input-container" ng-class="{\'md-datepicker-focused\': ctrl.isFocused}"><input '+(r?'aria-label="'+r+'" ':"")+'class="md-datepicker-input" aria-haspopup="dialog" ng-focus="ctrl.setFocused(true)" ng-blur="ctrl.setFocused(false)"> '+s+'</div><div class="md-datepicker-calendar-pane md-whiteframe-z1" id="{{::ctrl.calendarPaneId}}"><div class="md-datepicker-input-mask"><div class="md-datepicker-input-mask-opaque"></div></div><div class="md-datepicker-calendar"><md-calendar role="dialog" aria-label="{{::ctrl.locale.msgCalendar}}" md-current-view="{{::ctrl.currentView}}" md-mode="{{::ctrl.mode}}" md-min-date="ctrl.minDate" md-max-date="ctrl.maxDate" md-date-filter="ctrl.dateFilter" md-month-filter="ctrl.monthFilter" '+(o?'ng-model-options="'+o+'" ':"")+'ng-model="ctrl.date" ng-if="ctrl.isCalendarOpen"></md-calendar></div></div>'},require:["ngModel","mdDatepicker","?^mdInputContainer","?^form"],scope:{minDate:"=mdMinDate",maxDate:"=mdMaxDate",placeholder:"@mdPlaceholder",currentView:"@mdCurrentView",mode:"@mdMode",dateFilter:"=mdDateFilter",monthFilter:"=mdMonthFilter",isOpen:"=?mdIsOpen",debounceInterval:"=mdDebounceInterval",dateLocale:"=mdDateLocale"},controller:r,controllerAs:"ctrl",bindToController:!0,link:function(t,r,a,s){var c=s[0],d=s[1],h=s[2],f=s[3],p=n.parseAttributeBoolean(a.mdNoAsterisk);if(d.configureNgModel(c,h,o),h){var m=r[0].querySelector(".md-errors-spacer");m&&r.after(e.element("<div>").append(m)),h.setHasPlaceholder(a.mdPlaceholder),h.input=r,h.element.addClass(l).toggleClass(u,"calendar"!==a.mdHideIcons&&"all"!==a.mdHideIcons),h.label?p||a.$observe("required",function(t){h.label.toggleClass("md-required",!!t)}):i.expect(r,"aria-label",a.mdPlaceholder),t.$watch(h.isErrorGetter||function(){return c.$invalid&&(c.$touched||f&&f.$submitted)},h.setInvalid)}else if(f)var g=t.$watch(function(){return f.$submitted},function(t){t&&(d.updateErrorState(),g())})}}}function r(i,r,o,a,s,l,u,c,d,h,f,m){this.$window=a,this.dateUtil=d,this.$mdConstant=s,this.$mdUtil=u,this.$$rAF=h,this.$mdDateLocale=c,this.$timeout=m,this.documentElement=e.element(document.documentElement),this.ngModelCtrl=null,this.inputElement=r[0].querySelector("input"),this.ngInputElement=e.element(this.inputElement),this.inputContainer=r[0].querySelector(".md-datepicker-input-container"),this.calendarPane=r[0].querySelector(".md-datepicker-calendar-pane"),this.calendarButton=r[0].querySelector(".md-datepicker-button"),this.inputMask=e.element(r[0].querySelector(".md-datepicker-input-mask-opaque")),this.$element=r,this.$attrs=o,this.$scope=i,this.date=null,this.isFocused=!1,this.isDisabled=n,this.setDisabled(r[0].disabled||e.isString(o.disabled)),this.isCalendarOpen=!1,this.openOnFocus=o.hasOwnProperty("mdOpenOnFocus"),this.mdInputContainer=null,this.calendarPaneOpenedFrom=null,this.calendarPaneId="md-date-pane-"+u.nextUid(),this.bodyClickHandler=e.bind(this,this.handleBodyClick),this.windowEventName=p.test(navigator.userAgent||navigator.vendor||t.opera)?"orientationchange":"resize",this.windowEventHandler=u.debounce(e.bind(this,this.closeCalendarPane),100),this.windowBlurHandler=e.bind(this,this.handleWindowBlur),this.ngDateFilter=f("date"),this.leftMargin=20,this.topMargin=null,o.tabindex?(this.ngInputElement.attr("tabindex",o.tabindex),o.$set("tabindex",null)):o.$set("tabindex","-1"),o.$set("aria-owns",this.calendarPaneId),l(r),l(e.element(this.calendarPane));var g=this;i.$on("$destroy",function(){g.detachCalendarPane()}),o.mdIsOpen&&i.$watch("ctrl.isOpen",function(t){t?g.openCalendarPane({target:g.inputElement}):g.closeCalendarPane()}),1===e.version.major&&e.version.minor<=4&&this.$onInit()}r.$inject=["$scope","$element","$attrs","$window","$mdConstant","$mdTheming","$mdUtil","$mdDateLocale","$$mdDateUtil","$$rAF","$filter","$timeout"],i.$inject=["$$mdSvgRegistry","$mdUtil","$mdAria","inputDirective"],e.module("material.components.datepicker").directive("mdDatepicker",i);var o=3,a="md-datepicker-invalid",s="md-datepicker-open",l="_md-datepicker-floating-label",u="_md-datepicker-has-calendar-icon",c="_md-datepicker-has-triangle-icon",d=500,h=368,f=360,p=/ipad|iphone|ipod|android/i;r.prototype.$onInit=function(){this.locale=this.dateLocale?e.extend({},this.$mdDateLocale,this.dateLocale):this.$mdDateLocale,this.installPropertyInterceptors(),this.attachChangeListeners(),this.attachInteractionListeners()},r.prototype.configureNgModel=function(t,n,i){this.ngModelCtrl=t,this.mdInputContainer=n,this.$attrs.$set("type","date"),i[0].link.pre(this.$scope,{on:e.noop,val:e.noop,0:{}},this.$attrs,[t]);var r=this;r.ngModelCtrl.$formatters.push(function(t){var n=e.isDefined(t)?t:null;if(!(t instanceof Date)&&(n=Date.parse(t),!isNaN(n)&&e.isNumber(n)&&(t=new Date(n)),t&&!(t instanceof Date)))throw Error("The ng-model for md-datepicker must be a Date instance or a value that can be parsed into a date. Currently the model is of type: "+typeof t);return r.onExternalChange(t),t}),t.$viewChangeListeners.unshift(e.bind(this,this.updateErrorState));var o=r.$mdUtil.getModelOption(t,"updateOn");o&&this.ngInputElement.on(o,e.bind(this.$element,this.$element.triggerHandler,o))},r.prototype.attachChangeListeners=function(){var t=this;t.$scope.$on("md-calendar-change",function(e,n){t.setModelValue(n),t.onExternalChange(n),t.closeCalendarPane()}),t.ngInputElement.on("input",e.bind(t,t.resizeInputElement));var n=e.isDefined(this.debounceInterval)?this.debounceInterval:d;t.ngInputElement.on("input",t.$mdUtil.debounce(t.handleInputEvent,n,t))},r.prototype.attachInteractionListeners=function(){var t=this,n=this.$scope,i=this.$mdConstant.KEY_CODE;t.ngInputElement.on("keydown",function(e){e.altKey&&e.keyCode===i.DOWN_ARROW&&(t.openCalendarPane(e),n.$digest())}),t.openOnFocus&&(t.ngInputElement.on("focus",e.bind(t,t.openCalendarPane)),t.ngInputElement.on("click",function(t){t.stopPropagation()}),t.ngInputElement.on("pointerdown",function(t){t.target&&t.target.setPointerCapture&&t.target.setPointerCapture(t.pointerId)}),e.element(t.$window).on("blur",t.windowBlurHandler),n.$on("$destroy",function(){e.element(t.$window).off("blur",t.windowBlurHandler)})),n.$on("md-calendar-close",function(){t.closeCalendarPane()})},r.prototype.installPropertyInterceptors=function(){var t=this;if(this.$attrs.ngDisabled){var e=this.$scope.$parent;e&&e.$watch(this.$attrs.ngDisabled,function(e){t.setDisabled(e)})}Object.defineProperty(this,"placeholder",{get:function(){return t.inputElement.placeholder},set:function(e){t.inputElement.placeholder=e||""}})},r.prototype.setDisabled=function(t){this.isDisabled=t,this.inputElement.disabled=t,this.calendarButton&&(this.calendarButton.disabled=t)},r.prototype.updateErrorState=function(t){var n=t||this.date;if(this.clearErrorState(),this.dateUtil.isValidDate(n)){if(n=this.dateUtil.createDateAtMidnight(n),this.dateUtil.isValidDate(this.minDate)){var i=this.dateUtil.createDateAtMidnight(this.minDate);this.ngModelCtrl.$setValidity("mindate",n>=i)}if(this.dateUtil.isValidDate(this.maxDate)){var r=this.dateUtil.createDateAtMidnight(this.maxDate);this.ngModelCtrl.$setValidity("maxdate",n<=r)}e.isFunction(this.dateFilter)&&this.ngModelCtrl.$setValidity("filtered",this.dateFilter(n)),e.isFunction(this.monthFilter)&&this.ngModelCtrl.$setValidity("filtered",this.monthFilter(n))}else this.ngModelCtrl.$setValidity("valid",null==n);var o=this.inputElement.value,s=this.locale.parseDate(o);!this.isInputValid(o,s)&&this.ngModelCtrl.$valid&&this.ngModelCtrl.$setValidity("valid",null==n),e.element(this.inputContainer).toggleClass(a,this.ngModelCtrl.$invalid&&(this.ngModelCtrl.$touched||this.ngModelCtrl.$submitted))},r.prototype.isInputValid=function(t,e){return""===t||this.dateUtil.isValidDate(e)&&this.locale.isDateComplete(t)&&this.isDateEnabled(e)},r.prototype.clearErrorState=function(){this.inputContainer.classList.remove(a),["mindate","maxdate","filtered","valid"].forEach(function(t){this.ngModelCtrl.$setValidity(t,!0)},this)},r.prototype.resizeInputElement=function(){this.inputElement.size=this.inputElement.value.length+o},r.prototype.handleInputEvent=function(){var t=this.inputElement.value,e=t?this.locale.parseDate(t):null;this.dateUtil.setDateTimeToMidnight(e);var n=this.isInputValid(t,e);n&&(this.setModelValue(e),this.date=e),this.updateErrorState(e)},r.prototype.isDateEnabled=function(t){return this.dateUtil.isDateWithinRange(t,this.minDate,this.maxDate)&&(!e.isFunction(this.dateFilter)||this.dateFilter(t))&&(!e.isFunction(this.monthFilter)||this.monthFilter(t))},r.prototype.attachCalendarPane=function(){var t=this.calendarPane,n=document.body;t.style.transform="",this.$element.addClass(s),this.mdInputContainer&&this.mdInputContainer.element.addClass(s),e.element(n).addClass("md-datepicker-is-showing");var i=this.inputContainer.getBoundingClientRect(),r=n.getBoundingClientRect();(!this.topMargin||this.topMargin<0)&&(this.topMargin=(this.inputMask.parent().prop("clientHeight")-this.ngInputElement.prop("clientHeight"))/2);var o=i.top-r.top-this.topMargin,a=i.left-r.left-this.leftMargin,l=r.top<0&&0===document.body.scrollTop?-r.top:document.body.scrollTop,u=r.left<0&&0===document.body.scrollLeft?-r.left:document.body.scrollLeft,c=l+this.$window.innerHeight,d=u+this.$window.innerWidth;
if(this.inputMask.css({position:"absolute",left:this.leftMargin+"px",top:this.topMargin+"px",width:i.width-1+"px",height:i.height-2+"px"}),a+f>d){if(d-f>0)a=d-f;else{a=u;var p=this.$window.innerWidth/f;t.style.transform="scale("+p+")"}t.classList.add("md-datepicker-pos-adjusted")}o+h>c&&c-h>l&&(o=c-h,t.classList.add("md-datepicker-pos-adjusted")),t.style.left=a+"px",t.style.top=o+"px",document.body.appendChild(t),this.$$rAF(function(){t.classList.add("md-pane-open")})},r.prototype.detachCalendarPane=function(){this.$element.removeClass(s),this.mdInputContainer&&this.mdInputContainer.element.removeClass(s),e.element(document.body).removeClass("md-datepicker-is-showing"),this.calendarPane.classList.remove("md-pane-open"),this.calendarPane.classList.remove("md-datepicker-pos-adjusted"),this.isCalendarOpen&&this.$mdUtil.enableScrolling(),this.calendarPane.parentNode&&this.calendarPane.parentNode.removeChild(this.calendarPane)},r.prototype.openCalendarPane=function(e){if(this.isCalendarOpen||this.isDisabled||this.inputFocusedOnWindowBlur)this.inputFocusedOnWindowBlur&&this.resetInputFocused();else{this.isCalendarOpen=this.isOpen=!0,this.calendarPaneOpenedFrom=e.target,this.$mdUtil.disableScrollAround(this.calendarPane),this.attachCalendarPane(),this.focusCalendar(),this.evalAttr("ngFocus");var n=this;this.$mdUtil.nextTick(function(){n.documentElement.on("click touchstart",n.bodyClickHandler)},!1),t.addEventListener(this.windowEventName,this.windowEventHandler)}},r.prototype.closeCalendarPane=function(){function e(){n.isCalendarOpen=n.isOpen=!1}if(this.isCalendarOpen){var n=this;n.detachCalendarPane(),n.ngModelCtrl.$setTouched(),n.evalAttr("ngBlur"),n.documentElement.off("click touchstart",n.bodyClickHandler),t.removeEventListener(n.windowEventName,n.windowEventHandler),n.calendarPaneOpenedFrom.focus(),n.calendarPaneOpenedFrom=null,n.openOnFocus?n.$timeout(e):e()}},r.prototype.getCalendarCtrl=function(){return e.element(this.calendarPane.querySelector("md-calendar")).controller("mdCalendar")},r.prototype.focusCalendar=function(){var t=this;this.$mdUtil.nextTick(function(){t.getCalendarCtrl().focusDate()},!1)},r.prototype.setFocused=function(t){t||this.ngModelCtrl.$setTouched(),this.openOnFocus||this.evalAttr(t?"ngFocus":"ngBlur"),this.isFocused=t},r.prototype.handleBodyClick=function(t){if(this.isCalendarOpen){var e=this.$mdUtil.getClosest(t.target,"md-calendar");e||this.closeCalendarPane(),this.$scope.$digest()}},r.prototype.handleWindowBlur=function(){this.inputFocusedOnWindowBlur=document.activeElement===this.inputElement},r.prototype.resetInputFocused=function(){this.inputFocusedOnWindowBlur=!1},r.prototype.evalAttr=function(t){this.$attrs[t]&&this.$scope.$parent.$eval(this.$attrs[t])},r.prototype.setModelValue=function(t){var e=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");null==e||t.getTimezoneOffset()<0?this.ngModelCtrl.$setViewValue(this.ngDateFilter(t,"yyyy-MM-dd"),"default"):this.ngModelCtrl.$setViewValue(this.ngDateFilter(t,"yyyy-MM-dd",e),"default")},r.prototype.onExternalChange=function(t){var e=this,n=this.$mdUtil.getModelOption(this.ngModelCtrl,"timezone");this.dateUtil.isValidDate(t)&&null!=n&&t.getTimezoneOffset()>=0?this.date=this.dateUtil.removeLocalTzAndReparseDate(t):this.date=t,null==n||t.getTimezoneOffset()<0?this.inputElement.value=this.locale.formatDate(t):this.inputElement.value=this.locale.formatDate(t,n),this.mdInputContainer&&this.mdInputContainer.setHasValue(!!t),this.resizeInputElement(),this.$mdUtil.nextTick(function(){e.updateErrorState()},!1,e.$scope)}}()}(),function(){function t(t,n,i){return{restrict:"E",link:function(r,o){o.addClass("_md"),n(o),t(function(){function t(){o.toggleClass("md-content-overflow",a.scrollHeight>a.clientHeight)}var n,a=o[0].querySelector("md-dialog-content");a&&(n=a.getElementsByTagName("img"),t(),e.element(n).on("load",t)),r.$on("$destroy",function(){i.destroy(o)})})}}}function i(t){function i(){return{template:['<md-dialog md-theme="{{ dialog.theme || dialog.defaultTheme }}" aria-label="{{ dialog.ariaLabel }}" ng-class="dialog.css">','  <md-dialog-content class="md-dialog-content" role="document" tabIndex="-1">','    <h2 class="md-title">{{ dialog.title }}</h2>','    <div ng-if="::dialog.mdHtmlContent" class="md-dialog-content-body" ','        ng-bind-html="::dialog.mdHtmlContent"></div>','    <div ng-if="::!dialog.mdHtmlContent" class="md-dialog-content-body">',"      <p>{{::dialog.mdTextContent}}</p>","    </div>",'    <md-input-container md-no-float ng-if="::dialog.$type == \'prompt\'" class="md-prompt-input-container">','      <input ng-keypress="dialog.keypress($event)" md-autofocus ng-model="dialog.result"              placeholder="{{::dialog.placeholder}}" ng-required="dialog.required">',"    </md-input-container>","  </md-dialog-content>","  <md-dialog-actions>",'    <md-button ng-if="dialog.$type === \'confirm\' || dialog.$type === \'prompt\'"               ng-click="dialog.abort()" class="md-primary md-cancel-button">',"      {{ dialog.cancel }}","    </md-button>",'    <md-button ng-click="dialog.hide()" class="md-primary md-confirm-button" md-autofocus="dialog.$type===\'alert\'"               ng-disabled="dialog.required && !dialog.result">',"      {{ dialog.ok }}","    </md-button>","  </md-dialog-actions>","</md-dialog>"].join("").replace(/\s\s+/g,""),controller:r,controllerAs:"dialog",bindToController:!0}}function r(t,n){this.$onInit=function(){var i="prompt"==this.$type;i&&this.initialValue&&(this.result=this.initialValue),this.hide=function(){t.hide(!i||this.result)},this.abort=function(){t.cancel()},this.keypress=function(r){var o=i&&this.required&&!e.isDefined(this.result);r.keyCode!==n.KEY_CODE.ENTER||o||t.hide(this.result)}}}function o(t,i,r,o,l,u,c,d,h,f,p,m,g){function v(t){t.defaultTheme=p.defaultTheme(),E(t)}function y(t,e,n,i){if(i){var r=i.htmlContent||n.htmlContent||"",o=i.textContent||n.textContent||i.content||n.content||"";if(r&&!f.has("$sanitize"))throw Error("The ngSanitize module must be loaded in order to use htmlContent.");if(r&&o)throw Error("md-dialog cannot have both `htmlContent` and `textContent`");i.mdHtmlContent=r,i.mdTextContent=o}}function _(t,n,i,o){function a(){n[0].querySelector(".md-actions")&&h.warn("Using a class of md-actions is deprecated, please use <md-dialog-actions>.")}function s(){function t(){return n[0].querySelector(".dialog-close, md-dialog-actions button:last-child")}if(i.focusOnOpen){var e=r.findFocusTarget(n)||t()||l;e.focus()}}e.element(u[0].body).addClass("md-dialog-is-showing");var l=n.find("md-dialog");if(l.hasClass("ng-cloak")){var c="$mdDialog: using `<md-dialog ng-cloak>` will affect the dialog opening animations.";h.warn(c,n[0])}return x(i),w(l,i),T(t,n,i),C(n,i),j(n,i).then(function(){S(n,i),a(),s()})}function b(t,n,i){function r(){return O(n,i)}function o(){e.element(u[0].body).removeClass("md-dialog-is-showing"),i.contentElement&&i.reverseContainerStretch(),i.cleanupElement(),i.$destroy||"keyboard"!==i.originInteraction||i.origin.focus()}return i.deactivateListeners(),i.unlockScreenReader(),i.hideBackdrop(i.$destroy),a&&a.parentNode&&a.parentNode.removeChild(a),s&&s.parentNode&&s.parentNode.removeChild(s),i.$destroy?o():r().then(o)}function E(t){var n;t.targetEvent&&t.targetEvent.target&&(n=e.element(t.targetEvent.target));var i=n&&n.controller("mdTheme");if(t.hasTheme=!!i,t.hasTheme){t.themeWatch=i.$shouldWatch;var r=t.theme||i.$mdTheme;r&&(t.scope.theme=r);var o=i.registerChanges(function(e){t.scope.theme=e,t.themeWatch||o()})}}function x(t){function i(t,i){var r=e.element(t||{});if(r&&r.length){var o={top:0,left:0,height:0,width:0},a=e.isFunction(r[0].getBoundingClientRect);return e.extend(i||{},{element:a?r:n,bounds:a?r[0].getBoundingClientRect():e.extend({},o,r[0]),focus:e.bind(r,r.focus)})}}function r(t,n){return e.isString(t)&&(t=u[0].querySelector(t)),e.element(t||n)}t.origin=e.extend({element:null,bounds:null,focus:e.noop},t.origin||{}),t.parent=r(t.parent,d),t.closeTo=i(r(t.closeTo)),t.openFrom=i(r(t.openFrom)),t.targetEvent&&(t.origin=i(t.targetEvent.target,t.origin),t.originInteraction=g.getLastInteractionType())}function C(n,i){var a=e.element(c),s=r.debounce(function(){M(n,i)},60),l=[],u=function(){var e="alert"==i.$type?t.hide:t.cancel;r.nextTick(e,!0)};if(i.escapeToClose){var d=i.parent,h=function(t){t.keyCode===o.KEY_CODE.ESCAPE&&(t.stopImmediatePropagation(),t.preventDefault(),u())};n.on("keydown",h),d.on("keydown",h),l.push(function(){n.off("keydown",h),d.off("keydown",h)})}if(a.on("resize",s),l.push(function(){a.off("resize",s)}),i.clickOutsideToClose){var f,p=n,m=function(t){f=t.target},g=function(t){f===p[0]&&t.target===p[0]&&(t.stopPropagation(),t.preventDefault(),u())};p.on("mousedown",m),p.on("mouseup",g),l.push(function(){p.off("mousedown",m),p.off("mouseup",g)})}i.deactivateListeners=function(){l.forEach(function(t){t()}),i.deactivateListeners=null}}function T(t,e,n){n.disableParentScroll&&(n.restoreScroll=r.disableScrollAround(e,n.parent)),n.hasBackdrop&&(n.backdrop=r.createBackdrop(t,"md-dialog-backdrop md-opaque"),l.enter(n.backdrop,n.parent)),n.hideBackdrop=function(t){n.backdrop&&(t?n.backdrop.remove():l.leave(n.backdrop)),n.disableParentScroll&&(n.restoreScroll&&n.restoreScroll(),delete n.restoreScroll),n.hideBackdrop=null}}function w(t,e){var n="alert"===e.$type?"alertdialog":"dialog",o=t.find("md-dialog-content"),l=t.attr("id"),u="dialogContent_"+(l||r.nextUid());t.attr({role:n,tabIndex:"-1"}),0===o.length&&(o=t,l&&(u=l)),o.attr("id",u),t.attr("aria-describedby",u),e.ariaLabel?i.expect(t,"aria-label",e.ariaLabel):i.expectAsync(t,"aria-label",function(){if(e.title)return e.title;var t=o.text().split(/\s+/);return t.length>3&&(t=t.slice(0,3).concat("...")),t.join(" ")}),a=document.createElement("div"),a.classList.add("md-dialog-focus-trap"),a.tabIndex=0,s=a.cloneNode(!1);var c=function(){t.focus()};a.addEventListener("focus",c),s.addEventListener("focus",c),t[0].parentNode.insertBefore(a,t[0]),t.after(s)}function S(t,e){function n(t){for(var e=[];t.parentNode;){if(t===document.body)return e;for(var n=t.parentNode.children,i=0;i<n.length;i++)t===n[i]||A(n[i],["SCRIPT","STYLE"])||n[i].hasAttribute("aria-live")||e.push(n[i]);t=t.parentNode}return e}function i(t){for(var e=n(t),i=0;i<e.length;i++)e[i].setAttribute("aria-hidden",r)}var r=!0;i(t[0]),e.unlockScreenReader=function(){r=!1,i(t[0]),e.unlockScreenReader=null}}function M(t,e){var n="fixed"==c.getComputedStyle(u[0].body).position,i=e.backdrop?c.getComputedStyle(e.backdrop[0]):null,r=i?Math.min(u[0].body.clientHeight,Math.ceil(Math.abs(parseInt(i.height,10)))):0,o={top:t.css("top"),height:t.css("height")},a=Math.abs(e.parent[0].getBoundingClientRect().top);return t.css({top:(n?a:0)+"px",height:r?r+"px":"100%"}),function(){t.css(o)}}function j(t,e){e.parent.append(t),e.reverseContainerStretch=M(t,e);var n=t.find("md-dialog"),i=r.dom.animator,o=i.calculateZoomToOrigin,a={transitionInClass:"md-transition-in",transitionOutClass:"md-transition-out"},s=i.toTransformCss(o(n,e.openFrom||e.origin)),l=i.toTransformCss("");return n.toggleClass("md-dialog-fullscreen",!!e.fullscreen),i.translate3d(n,s,l,a).then(function(t){return e.reverseAnimate=function(){return delete e.reverseAnimate,e.closeTo?(a={transitionInClass:"md-transition-out",transitionOutClass:"md-transition-in"},s=l,l=i.toTransformCss(o(n,e.closeTo)),i.translate3d(n,s,l,a)):t(l=i.toTransformCss(o(n,e.origin)))},e.clearAnimate=function(){return delete e.clearAnimate,n.removeClass([a.transitionOutClass,a.transitionInClass].join(" ")),i.translate3d(n,l,i.toTransformCss(""),{})},!0})}function O(t,e){return e.reverseAnimate().then(function(){e.contentElement&&e.clearAnimate()})}function A(t,e){if(e.indexOf(t.nodeName)!==-1)return!0}return{hasBackdrop:!0,isolateScope:!0,onCompiling:v,onShow:_,onShowing:y,onRemove:b,clickOutsideToClose:!1,escapeToClose:!0,targetEvent:null,closeTo:null,openFrom:null,focusOnOpen:!0,disableParentScroll:!0,autoWrap:!0,fullscreen:!1,transformTemplate:function(t,e){function n(t){return e.autoWrap&&!/<\/md-dialog>/g.test(t)?"<md-dialog>"+(t||"")+"</md-dialog>":t||""}var i=m.startSymbol(),r=m.endSymbol(),o=i+(e.themeWatch?"":"::")+"theme"+r,a=e.hasTheme?'md-theme="'+o+'"':"";return'<div class="md-dialog-container" tabindex="-1" '+a+">"+n(t)+"</div>"}}}r.$inject=["$mdDialog","$mdConstant"],o.$inject=["$mdDialog","$mdAria","$mdUtil","$mdConstant","$animate","$document","$window","$rootElement","$log","$injector","$mdTheming","$interpolate","$mdInteraction"];var a,s;return t("$mdDialog").setDefaults({methods:["disableParentScroll","hasBackdrop","clickOutsideToClose","escapeToClose","targetEvent","closeTo","openFrom","parent","fullscreen","multiple"],options:o}).addPreset("alert",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","theme","css"],options:i}).addPreset("confirm",{methods:["title","htmlContent","textContent","content","ariaLabel","ok","cancel","theme","css"],options:i}).addPreset("prompt",{methods:["title","htmlContent","textContent","initialValue","content","placeholder","ariaLabel","ok","cancel","theme","css","required"],options:i})}t.$inject=["$$rAF","$mdTheming","$mdDialog"],i.$inject=["$$interimElementProvider"],e.module("material.components.dialog",["material.core","material.components.backdrop"]).directive("mdDialog",t).provider("$mdDialog",i)}(),function(){function t(t){return{restrict:"E",link:t}}t.$inject=["$mdTheming"],e.module("material.components.divider",["material.core"]).directive("mdDivider",t)}(),function(){!function(){function t(t){return{restrict:"E",require:["^?mdFabSpeedDial","^?mdFabToolbar"],compile:function(e,n){var i=e.children(),r=t.prefixer().hasAttribute(i,"ng-repeat");r?i.addClass("md-fab-action-item"):i.wrap('<div class="md-fab-action-item">')}}}t.$inject=["$mdUtil"],e.module("material.components.fabActions",["material.core"]).directive("mdFabActions",t)}()}(),function(){!function(){function t(t,n,i,r,o,a){function s(){A.direction=A.direction||"down",A.isOpen=A.isOpen||!1,c(),n.addClass("md-animations-waiting")}function l(){var i=["click","focusin","focusout"];e.forEach(i,function(t){n.on(t,u)}),t.$on("$destroy",function(){e.forEach(i,function(t){n.off(t,u)}),p()})}function u(t){"click"==t.type&&M(t),"focusout"!=t.type||P||(P=a(function(){A.close()},100,!1)),"focusin"==t.type&&P&&(a.cancel(P),P=null)}function c(){A.currentActionIndex=-1}function d(){t.$watch("vm.direction",function(t,e){i.removeClass(n,"md-"+e),i.addClass(n,"md-"+t),c()});var e,r;t.$watch("vm.isOpen",function(t){c(),e&&r||(e=j(),r=O()),t?f():p();var o=t?"md-is-open":"",a=t?"":"md-is-open";e.attr("aria-haspopup",!0),e.attr("aria-expanded",t),r.attr("aria-hidden",!t),i.setClass(n,o,a)})}function h(){n[0].scrollHeight>0?i.addClass(n,"_md-animations-ready").then(function(){n.removeClass("md-animations-waiting")}):R<10&&(a(h,100),R+=1)}function f(){n.on("keydown",g),r.nextTick(function(){e.element(document).on("click touchend",m)})}function p(){n.off("keydown",g),e.element(document).off("click touchend",m)}function m(t){if(t.target){var e=r.getClosest(t.target,"md-fab-trigger"),n=r.getClosest(t.target,"md-fab-actions");e||n||A.close()}}function g(t){switch(t.which){case o.KEY_CODE.ESCAPE:return A.close(),t.preventDefault(),!1;case o.KEY_CODE.LEFT_ARROW:return E(t),!1;case o.KEY_CODE.UP_ARROW:return x(t),!1;case o.KEY_CODE.RIGHT_ARROW:return C(t),!1;case o.KEY_CODE.DOWN_ARROW:return T(t),!1}}function v(t){_(t,-1)}function y(t){_(t,1)}function _(t,n){var i=b();A.currentActionIndex=A.currentActionIndex+n,A.currentActionIndex=Math.min(i.length-1,A.currentActionIndex),A.currentActionIndex=Math.max(0,A.currentActionIndex);var r=e.element(i[A.currentActionIndex]).children()[0];e.element(r).attr("tabindex",0),r.focus(),t.preventDefault(),t.stopImmediatePropagation()}function b(){var t=O()[0].querySelectorAll(".md-fab-action-item");return e.forEach(t,function(t){e.element(e.element(t).children()[0]).attr("tabindex",-1)}),t}function E(t){"left"===A.direction?y(t):v(t)}function x(t){"down"===A.direction?v(t):y(t)}function C(t){"left"===A.direction?v(t):y(t)}function T(t){"up"===A.direction?v(t):y(t)}function w(t){return r.getClosest(t,"md-fab-trigger")}function S(t){return r.getClosest(t,"md-fab-actions")}function M(t){w(t.target)&&A.toggle(),S(t.target)&&A.close()}function j(){return n.find("md-fab-trigger")}function O(){return n.find("md-fab-actions")}var A=this,R=0;A.open=function(){t.$evalAsync("vm.isOpen = true")},A.close=function(){t.$evalAsync("vm.isOpen = false"),n.find("md-fab-trigger")[0].focus()},A.toggle=function(){t.$evalAsync("vm.isOpen = !vm.isOpen")},A.$onInit=function(){s(),l(),d(),h()},1===e.version.major&&e.version.minor<=4&&this.$onInit();var P}t.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],e.module("material.components.fabShared",["material.core"]).controller("MdFabController",t)}()}(),function(){!function(){function n(){function t(t,e){e.prepend('<div class="_md-css-variables"></div>')}return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:t}}function i(n){function i(t){n(t,o,!1)}function r(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),a=i.querySelector("md-fab-trigger"),s=i.querySelector("._md-css-variables"),l=parseInt(t.getComputedStyle(s).zIndex);e.forEach(o,function(t,e){var n=t.style;n.transform=n.webkitTransform="",n.transitionDelay="",n.opacity=1,n.zIndex=o.length-e+l}),a.style.zIndex=l+o.length+1,r.isOpen||e.forEach(o,function(t,e){var n,i,o=t.style,s=(a.clientHeight-t.clientHeight)/2,l=(a.clientWidth-t.clientWidth)/2;switch(r.direction){case"up":n=t.scrollHeight*(e+1)+s,i="Y";break;case"down":n=-(t.scrollHeight*(e+1)+s),i="Y";break;case"left":n=t.scrollWidth*(e+1)+l,i="X";break;case"right":n=-(t.scrollWidth*(e+1)+l),i="X"}var u="translate"+i+"("+n+"px)";o.transform=o.webkitTransform=u})}}return{addClass:function(t,e,n){t.hasClass("md-fling")?(r(t),i(n)):n()},removeClass:function(t,e,n){r(t),i(n)}}}function r(n){function i(t){n(t,o,!1)}function r(n){var i=n[0],r=n.controller("mdFabSpeedDial"),o=i.querySelectorAll(".md-fab-action-item"),s=i.querySelector("._md-css-variables"),l=parseInt(t.getComputedStyle(s).zIndex);e.forEach(o,function(t,e){var n=t.style,i=e*a;n.opacity=r.isOpen?1:0,n.transform=n.webkitTransform=r.isOpen?"scale(1)":"scale(0)",n.transitionDelay=(r.isOpen?i:o.length-i)+"ms",n.zIndex=o.length-e+l})}var a=65;return{addClass:function(t,e,n){r(t),i(n)},removeClass:function(t,e,n){r(t),i(n)}}}i.$inject=["$timeout"],r.$inject=["$timeout"];var o=300;e.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",n).animation(".md-fling",i).animation(".md-scale",r).service("mdFabSpeedDialFlingAnimation",i).service("mdFabSpeedDialScaleAnimation",r)}()}(),function(){!function(){function n(){function t(t,e,n){e.addClass("md-fab-toolbar"),e.find("md-fab-trigger").find("button").prepend('<div class="md-fab-toolbar-background"></div>')}return{restrict:"E",transclude:!0,template:'<div class="md-fab-toolbar-wrapper">  <div class="md-fab-toolbar-content" ng-transclude></div></div>',scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:t}}function i(){function n(n,i,r){if(i){var o=n[0],a=n.controller("mdFabToolbar"),s=o.querySelector(".md-fab-toolbar-background"),l=o.querySelector("md-fab-trigger button"),u=o.querySelector("md-toolbar"),c=o.querySelector("md-fab-trigger button md-icon"),d=n.find("md-fab-actions").children();if(l&&s){var h=t.getComputedStyle(l).getPropertyValue("background-color"),f=o.offsetWidth,p=(o.offsetHeight,2*(f/l.offsetWidth));s.style.backgroundColor=h,s.style.borderRadius=f+"px",a.isOpen?(u.style.pointerEvents="inherit",s.style.width=l.offsetWidth+"px",s.style.height=l.offsetHeight+"px",s.style.transform="scale("+p+")",s.style.transitionDelay="0ms",c&&(c.style.transitionDelay=".3s"),e.forEach(d,function(t,e){t.style.transitionDelay=25*(d.length-e)+"ms"})):(u.style.pointerEvents="none",s.style.transform="scale(1)",s.style.top="0",n.hasClass("md-right")&&(s.style.left="0",s.style.right=null),n.hasClass("md-left")&&(s.style.right="0",s.style.left=null),s.style.transitionDelay="200ms",c&&(c.style.transitionDelay="0ms"),e.forEach(d,function(t,e){t.style.transitionDelay=200+25*e+"ms"}))}}}return{addClass:function(t,e,i){n(t,e,i),i()},removeClass:function(t,e,i){n(t,e,i),i()}}}e.module("material.components.fabToolbar",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabToolbar",n).animation(".md-fab-toolbar",i).service("mdFabToolbarAnimation",i)}()}(),function(){function t(t,i,r,o,a){function s(n,s,l,u){function c(){for(var t in i.MEDIA)o(t),o.getQuery(i.MEDIA[t]).addListener(T);return o.watchResponsiveAttributes(["md-cols","md-row-height","md-gutter"],l,h)}function d(){u.layoutDelegate=e.noop,w();for(var t in i.MEDIA)o.getQuery(i.MEDIA[t]).removeListener(T)}function h(t){null==t?u.invalidateLayout():o(t)&&u.invalidateLayout()}function f(t){var i=v(),o={tileSpans:y(i),colCount:_(),rowMode:x(),rowHeight:E(),gutter:b()};if(t||!e.equals(o,S)){var a=r(o.colCount,o.tileSpans,i).map(function(t,n){return{grid:{element:s,style:g(o.colCount,n,o.gutter,o.rowMode,o.rowHeight)},tiles:t.map(function(t,r){return{element:e.element(i[r]),style:m(t.position,t.spans,o.colCount,n,o.gutter,o.rowMode,o.rowHeight)}})}}).reflow().performance();n.mdOnLayout({$event:{performance:a}}),S=o}}function p(t){return M+t+j}function m(t,e,n,i,r,o,s){var u=1/n*100,c=(n-1)/n,d=O({share:u,gutterShare:c,gutter:r}),h=a.isRtl(l)?{right:A({unit:d,offset:t.col,gutter:r}),width:R({unit:d,span:e.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""}:{left:A({unit:d,offset:t.col,gutter:r}),width:R({unit:d,span:e.col,gutter:r}),paddingTop:"",marginTop:"",top:"",height:""};switch(o){case"fixed":h.top=A({unit:s,offset:t.row,gutter:r}),h.height=R({unit:s,span:e.row,gutter:r});break;case"ratio":var f=u/s,p=O({share:f,gutterShare:c,gutter:r});h.paddingTop=R({unit:p,span:e.row,gutter:r}),h.marginTop=A({unit:p,offset:t.row,gutter:r});break;case"fit":var m=(i-1)/i;f=1/i*100,p=O({share:f,gutterShare:m,gutter:r}),h.top=A({unit:p,offset:t.row,gutter:r}),h.height=R({unit:p,span:e.row,gutter:r})}return h}function g(t,e,n,i,r){var o={};switch(i){case"fixed":o.height=R({unit:r,span:e,gutter:n}),o.paddingBottom="";break;case"ratio":var a=1===t?0:(t-1)/t,s=1/t*100,l=s*(1/r),u=O({share:l,gutterShare:a,gutter:n});o.height="",o.paddingBottom=R({unit:u,span:e,gutter:n});break;case"fit":}return o}function v(){return[].filter.call(s.children(),function(t){return"MD-GRID-TILE"==t.tagName&&!t.$$mdDestroyed})}function y(t){return[].map.call(t,function(t){var n=e.element(t).controller("mdGridTile");return{row:parseInt(o.getResponsiveAttribute(n.$attrs,"md-rowspan"),10)||1,col:parseInt(o.getResponsiveAttribute(n.$attrs,"md-colspan"),10)||1}})}function _(){var t=parseInt(o.getResponsiveAttribute(l,"md-cols"),10);if(isNaN(t))throw"md-grid-list: md-cols attribute was not found, or contained a non-numeric value";return t}function b(){return C(o.getResponsiveAttribute(l,"md-gutter")||1)}function E(){var t=o.getResponsiveAttribute(l,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";switch(x()){case"fixed":return C(t);case"ratio":var e=t.split(":");return parseFloat(e[0])/parseFloat(e[1]);case"fit":return 0}}function x(){var t=o.getResponsiveAttribute(l,"md-row-height");if(!t)throw"md-grid-list: md-row-height attribute was not found";return"fit"==t?"fit":t.indexOf(":")!==-1?"ratio":"fixed"}function C(t){return/\D$/.test(t)?t:t+"px"}s.addClass("_md"),s.attr("role","list"),u.layoutDelegate=f;var T=e.bind(u,u.invalidateLayout),w=c();n.$on("$destroy",d);var S,M=t.startSymbol(),j=t.endSymbol(),O=t(p("share")+"% - ("+p("gutter")+" * "+p("gutterShare")+")"),A=t("calc(("+p("unit")+" + "+p("gutter")+") * "+p("offset")+")"),R=t("calc(("+p("unit")+") * "+p("span")+" + ("+p("span")+" - 1) * "+p("gutter")+")")}return{restrict:"E",controller:n,scope:{mdOnLayout:"&"},link:s}}function n(t){this.layoutInvalidated=!1,this.tilesInvalidated=!1,this.$timeout_=t.nextTick,this.layoutDelegate=e.noop}function i(t){function n(e,n){var i,a,s,l,u,c;return l=t.time(function(){a=r(e,n)}),i={layoutInfo:function(){return a},map:function(e){return u=t.time(function(){var t=i.layoutInfo();s=e(t.positioning,t.rowCount)}),i},reflow:function(e){return c=t.time(function(){var t=e||o;t(s.grid,s.tiles)}),i},performance:function(){return{tileCount:n.length,layoutTime:l,mapTime:u,reflowTime:c,totalTime:l+u+c}}}}function i(t,e){t.element.css(t.style),e.forEach(function(t){t.element.css(t.style)})}function r(t,e){function n(e,n){if(e.col>t)throw"md-grid-list: Tile at position "+n+" has a colspan ("+e.col+") that exceeds the column count ("+t+")";for(var a=0,c=0;c-a<e.col;)s>=t?i():(a=u.indexOf(0,s),a!==-1&&(c=o(a+1))!==-1?s=c+1:(a=c=0,i()));return r(a,e.col,e.row),s=a+e.col,{col:a,row:l}}function i(){s=0,l++,r(0,t,-1)}function r(t,e,n){for(var i=t;i<t+e;i++)u[i]=Math.max(u[i]+n,0)}function o(t){var e;for(e=t;e<u.length;e++)if(0!==u[e])return e;if(e===u.length)return e}function a(){for(var e=[],n=0;n<t;n++)e.push(0);return e}var s=0,l=0,u=a();return{positioning:e.map(function(t,e){return{spans:t,position:n(t,e)}}),rowCount:l+Math.max.apply(Math,u)}}var o=i;return n.animateWith=function(t){o=e.isFunction(t)?t:i},n}function r(t){function n(n,i,r,o){i.attr("role","listitem");var a=t.watchResponsiveAttributes(["md-colspan","md-rowspan"],r,e.bind(o,o.invalidateLayout));o.invalidateTiles(),n.$on("$destroy",function(){i[0].$$mdDestroyed=!0,a(),o.invalidateLayout()}),e.isDefined(n.$parent.$index)&&n.$watch(function(){return n.$parent.$index},function(t,e){t!==e&&o.invalidateTiles()})}return{restrict:"E",require:"^mdGridList",template:"<figure ng-transclude></figure>",transclude:!0,scope:{},controller:["$attrs",function(t){this.$attrs=t}],link:n}}function o(){return{template:"<figcaption ng-transclude></figcaption>",transclude:!0}}n.$inject=["$mdUtil"],i.$inject=["$mdUtil"],t.$inject=["$interpolate","$mdConstant","$mdGridLayout","$mdMedia","$mdUtil"],r.$inject=["$mdMedia"],e.module("material.components.gridList",["material.core"]).directive("mdGridList",t).directive("mdGridTile",r).directive("mdGridTileFooter",o).directive("mdGridTileHeader",o).factory("$mdGridLayout",i),n.prototype={invalidateTiles:function(){this.tilesInvalidated=!0,this.invalidateLayout()},invalidateLayout:function(){this.layoutInvalidated||(this.layoutInvalidated=!0,this.$timeout_(e.bind(this,this.layout)))},layout:function(){try{this.layoutDelegate(this.tilesInvalidated)}finally{this.layoutInvalidated=!1,this.tilesInvalidated=!1}}}}(),function(){e.module("material.components.icon",["material.core"])}(),function(){function t(t,e,n,i){function r(i,r,o){function a(){o.mdSvgIcon||o.mdSvgSrc||(o.mdFontIcon&&r.addClass("md-font "+o.mdFontIcon),r.addClass(u))}function s(){if(!o.mdSvgIcon&&!o.mdSvgSrc){o.mdFontIcon&&(r.removeClass(l),r.addClass(o.mdFontIcon),l=o.mdFontIcon);var e=t.fontSet(o.mdFontSet);u!==e&&(r.removeClass(u),r.addClass(e),u=e)}}e(r);var l=o.mdFontIcon,u=t.fontSet(o.mdFontSet);a(),o.$observe("mdFontIcon",s),o.$observe("mdFontSet",s);var c=(r[0].getAttribute(o.$attr.mdSvgSrc),o.$normalize(o.$attr.mdSvgIcon||o.$attr.mdSvgSrc||""));if(o.role||(n.expect(r,"role","img"),o.role="img"),"img"===o.role&&!o.ariaHidden&&!n.hasAriaLabel(r)){var d;o.alt?n.expect(r,"aria-label",o.alt):n.parentHasAriaLabel(r,2)?n.expect(r,"aria-hidden","true"):(d=o.mdFontIcon||o.mdSvgIcon||r.text())?n.expect(r,"aria-label",d):n.expect(r,"aria-hidden","true")}c&&o.$observe(c,function(e){r.empty(),e&&t(e).then(function(t){r.empty(),r.append(t)})})}return{restrict:"E",link:r}}e.module("material.components.icon").directive("mdIcon",["$mdIcon","$mdTheming","$mdAria","$sce",t])}(),function(){function i(){}function r(t,e){this.url=t,this.viewBoxSize=e||a.defaultViewBoxSize}function o(i,r,o,a,s,l){function u(t){if(t=t||"",e.isString(t)||(t=l.getTrustedUrl(t)),E[t])return o.when(d(E[t]));if(C.test(t)||T.test(t))return g(t).then(f(t));t.indexOf(":")===-1&&(t="$default:"+t);var n=i[t]?p:m;return n(t).then(f(t))}function c(t){var n=e.isUndefined(t)||!(t&&t.length);if(n)return i.defaultFontSet;var r=t;return e.forEach(i.fontSets,function(e){e.alias===t&&(r=e.fontSet||r)}),r}function d(t){var i,r,o,a,l=t.clone(),u=s.nextUid(),c=["clip-path","color-profile","cursor","fill","filter","href","marker-start","marker-mid","marker-end","mask","stroke","style","vector-effect"],d=l.innerHTML===n;if(!isFinite(Number(u)))throw new Error("Unsafe and unexpected non-number result from $mdUtil.nextUid().");return i="_cache"+u,l.id&&(l.id+=i),e.forEach(l.querySelectorAll("[id]"),function(t){for(r="",o=0;o<c.length;o++)r+="["+c[o]+'="url(#'+t.id+')"]',o+1<c.length&&(r+=", ");e.forEach(l.querySelectorAll(r),function(e){h(t,e,d,u)}),e.forEach(l.querySelectorAll("style"),function(e){h(t,e,d,u)}),e.forEach(l.querySelectorAll("[*|href]:not([href])"),function(e){a=e.getAttribute("xlink:href"),a&&(a=a.replace("#"+t.id,"#"+t.id+i),e.setAttribute("xlink:href",a))}),t.id+=i}),l}function h(t,n,i,r){var o,a;if(!isFinite(Number(r)))throw new Error("Unsafe and unexpected non-number result for newUid.");a="_cache"+r,i?(o=s.getOuterHTML(n),o=o.replace("url(#"+t.id+")","url(#"+t.id+a+")"),n.textContent=e.element(o)[0].innerHTML):n.outerHTML=n.outerHTML.replace("url(#"+t.id+")","url(#"+t.id+a+")")}function f(t){return function(e){return E[t]=v(e)?e:new y(e,i[t]),d(E[t])}}function p(t){var e=i[t];return g(e.url).then(function(t){return new y(t,e)})}function m(t){function e(e){var i=t.slice(t.lastIndexOf(":")+1),r=e.querySelector("#"+i);return r?new y(r,s):n(t)}function n(t){var e="icon "+t+" not found";return a.warn(e),o.reject(e||t)}var r=t.substring(0,t.lastIndexOf(":"))||"$default",s=i[r];return s?g(s.url).then(e):n(t)}function g(n){function i(n){var i=T.exec(n),r=/base64/i.test(n),a=r?t.atob(i[2]):i[2];return o.when(e.element(a)[0])}function s(t){return o(function(n,i){var o=function(t){var n=e.isString(t)?t:t.message||t.data||t.statusText;a.warn(n),i(t)},s=function(i){x[t]||(x[t]=e.element("<div>").append(i)[0].querySelector("svg")),n(x[t])};r(t,!0).then(s,o)})}return T.test(n)?i(n):s(n)}function v(t){return e.isDefined(t.element)&&e.isDefined(t.config)}function y(t,n){if(t&&"symbol"===t.tagName.toLowerCase()){var i=t.getAttribute("viewBox");t=t.innerHTML?e.element('<svg xmlns="http://www.w3.org/2000/svg">').html(t.innerHTML)[0]:e.element('<svg xmlns="http://www.w3.org/2000/svg">').append(s.getInnerHTML(t))[0],i&&t.setAttribute("viewBox",i)}t&&"svg"!==t.tagName.toLowerCase()&&(t=e.element('<svg xmlns="http://www.w3.org/2000/svg">').append(t.cloneNode(!0))[0]),t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.element=t,this.config=n,this.prepare()}function _(){var t=this.config?this.config.viewBoxSize:i.defaultViewBoxSize;e.forEach({fit:"",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet",viewBox:this.element.getAttribute("viewBox")||"0 0 "+t+" "+t,focusable:!1},function(t,e){this.element.setAttribute(e,t)},this)}function b(){return this.element.cloneNode(!0)}var E={},x={},C=/[-\w@:%+.~#?&\/\/=]{2,}\.[a-z]{2,4}\b(\/[-\w@:%+.~#?&\/\/=]*)?/i,T=/^data:image\/svg\+xml[\s*;\w\-=]*?(base64)?,(.*)$/i;return y.prototype={clone:b,prepare:_},u.fontSet=c,u}o.$inject=["config","$templateRequest","$q","$log","$mdUtil","$sce"],e.module("material.components.icon").constant("$$mdSvgRegistry",{mdTabsArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwb2x5Z29uIHBvaW50cz0iMTUuNCw3LjQgMTQsNiA4LDEyIDE0LDE4IDE1LjQsMTYuNiAxMC44LDEyICIvPjwvZz48L3N2Zz4=",mdClose:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xOSA2LjQxbC0xLjQxLTEuNDEtNS41OSA1LjU5LTUuNTktNS41OS0xLjQxIDEuNDEgNS41OSA1LjU5LTUuNTkgNS41OSAxLjQxIDEuNDEgNS41OS01LjU5IDUuNTkgNS41OSAxLjQxLTEuNDEtNS41OS01LjU5eiIvPjwvZz48L3N2Zz4=",
mdCancel:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik0xMiAyYy01LjUzIDAtMTAgNC40Ny0xMCAxMHM0LjQ3IDEwIDEwIDEwIDEwLTQuNDcgMTAtMTAtNC40Ny0xMC0xMC0xMHptNSAxMy41OWwtMS40MSAxLjQxLTMuNTktMy41OS0zLjU5IDMuNTktMS40MS0xLjQxIDMuNTktMy41OS0zLjU5LTMuNTkgMS40MS0xLjQxIDMuNTkgMy41OSAzLjU5LTMuNTkgMS40MSAxLjQxLTMuNTkgMy41OSAzLjU5IDMuNTl6Ii8+PC9nPjwvc3ZnPg==",mdMenu:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0zLDZIMjFWOEgzVjZNMywxMUgyMVYxM0gzVjExTTMsMTZIMjFWMThIM1YxNloiIC8+PC9zdmc+",mdToggleArrow:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDggNDgiPjxwYXRoIGQ9Ik0yNCAxNmwtMTIgMTIgMi44MyAyLjgzIDkuMTctOS4xNyA5LjE3IDkuMTcgMi44My0yLjgzeiIvPjxwYXRoIGQ9Ik0wIDBoNDh2NDhoLTQ4eiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",mdCalendar:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTkgM2gtMVYxaC0ydjJIOFYxSDZ2Mkg1Yy0xLjExIDAtMS45OS45LTEuOTkgMkwzIDE5YzAgMS4xLjg5IDIgMiAyaDE0YzEuMSAwIDItLjkgMi0yVjVjMC0xLjEtLjktMi0yLTJ6bTAgMTZINVY4aDE0djExek03IDEwaDV2NUg3eiIvPjwvc3ZnPg==",mdChecked:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxnPjxwYXRoIGQ9Ik05IDE2LjE3TDQuODMgMTJsLTEuNDIgMS40MUw5IDE5IDIxIDdsLTEuNDEtMS40MXoiLz48L2c+PC9zdmc+"}).provider("$mdIcon",i);var a={defaultViewBoxSize:24,defaultFontSet:"material-icons",fontSets:[]};i.prototype={icon:function(t,e,n){return t.indexOf(":")==-1&&(t="$default:"+t),a[t]=new r(e,n),this},iconSet:function(t,e,n){return a[t]=new r(e,n),this},defaultIconSet:function(t,e){var n="$default";return a[n]||(a[n]=new r(t,e)),a[n].viewBoxSize=e||a.defaultViewBoxSize,this},defaultViewBoxSize:function(t){return a.defaultViewBoxSize=t,this},fontSet:function(t,e){return a.fontSets.push({alias:t,fontSet:e||t}),this},defaultFontSet:function(t){return a.defaultFontSet=t?t:"",this},defaultIconSize:function(t){return a.defaultIconSize=t,this},$get:["$templateRequest","$q","$log","$mdUtil","$sce",function(t,e,n,i,r){return o(a,t,e,n,i,r)}]}}(),function(){function i(t,e,n){function i(e){var i=e[0].querySelector(a),r=e[0].querySelector(s);return function(e,o){t(o),(i||r)&&n(function(){var t=o[0].querySelector("md-icon")||o[0].querySelector(".md-icon");i&&t&&o.addClass("md-icon-left"),r&&t&&o.addClass("md-icon-right")})}}function r(t,n,i,r){var o=this;o.isErrorGetter=i.mdIsError&&e(i.mdIsError),o.delegateClick=function(){o.input.focus()},o.element=n,o.setFocused=function(t){n.toggleClass("md-input-focused",!!t)},o.setHasValue=function(t){n.toggleClass("md-input-has-value",!!t)},o.setHasPlaceholder=function(t){n.toggleClass("md-input-has-placeholder",!!t)},o.setInvalid=function(t){t?r.addClass(n,"md-input-invalid"):r.removeClass(n,"md-input-invalid")},t.$watch(function(){return o.label&&o.input},function(t){t&&!o.label.attr("for")&&o.label.attr("for",o.input.attr("id"))})}r.$inject=["$scope","$element","$attrs","$animate"];var o=["INPUT","TEXTAREA","SELECT","MD-SELECT"],a=o.reduce(function(t,e){return t.concat(["md-icon ~ "+e,".md-icon ~ "+e])},[]).join(","),s=o.reduce(function(t,e){return t.concat([e+" ~ md-icon",e+" ~ .md-icon"])},[]).join(",");return{restrict:"E",compile:i,controller:r}}function r(){return{restrict:"E",require:"^?mdInputContainer",link:function(t,e,n,i){!i||n.mdNoFloat||e.hasClass("md-container-ignore")||(i.label=e,t.$on("$destroy",function(){i.label=null}))}}}function o(t,n,i,r,o){function a(a,s,l,u){function c(t){return p.setHasValue(!g.$isEmpty(t)),t}function d(){p.label&&l.$observe("required",function(t){p.label.toggleClass("md-required",t&&!_)})}function h(){p.setHasValue(s.val().length>0||(s[0].validity||{}).badInput)}function f(){function i(){s.attr("rows",1).css("height","auto").addClass("md-no-flex");var t=u();if(!b){var e=s[0].style.padding||"";b=s.css("padding",0).prop("offsetHeight"),s[0].style.padding=e}if(v&&b&&(t=Math.max(t,b*v)),y&&b){var n=b*y;n<t?(s.attr("md-no-autogrow",""),t=n):s.removeAttr("md-no-autogrow")}b&&s.attr("rows",Math.round(t/b)),s.css("height",t+"px").removeClass("md-no-flex")}function u(){var t=E.offsetHeight,e=E.scrollHeight-t;return t+Math.max(e,0)}function c(e){return t.nextTick(i),e}function d(){if(f&&(f=!1,e.element(n).off("resize",i),_&&_(),s.attr("md-no-autogrow","").off("input",i),m)){var t=g.$formatters.indexOf(c);t>-1&&g.$formatters.splice(t,1)}}function h(){function t(t){t.preventDefault(),c=!0,h=t.clientY,f=parseFloat(s.css("height"))||s.prop("offsetHeight")}function n(t){c&&(t.preventDefault(),d(),m.addClass("md-input-resized"))}function i(t){c&&s.css("height",f+t.pointer.distanceY+"px")}function r(t){c&&(c=!1,m.removeClass("md-input-resized"))}if(!l.hasOwnProperty("mdNoResize")){var u=e.element('<div class="md-resize-handle"></div>'),c=!1,h=null,f=0,m=p.element,g=o.register(u,"drag",{horizontal:!1});s.wrap('<div class="md-resize-wrapper">').after(u),u.on("mousedown",t),m.on("$md.dragstart",n).on("$md.drag",i).on("$md.dragend",r),a.$on("$destroy",function(){u.off("mousedown",t).remove(),m.off("$md.dragstart",n).off("$md.drag",i).off("$md.dragend",r),g(),u=null,m=null,g=null})}}var f=!l.hasOwnProperty("mdNoAutogrow");if(h(),f){var v=l.hasOwnProperty("rows")?parseInt(l.rows):NaN,y=l.hasOwnProperty("maxRows")?parseInt(l.maxRows):NaN,_=a.$on("md-resize-textarea",i),b=null,E=s[0];if(r(function(){t.nextTick(i)},10,!1),s.on("input",i),m&&g.$formatters.push(c),v||s.attr("rows",1),e.element(n).on("resize",i),a.$on("$destroy",d),l.hasOwnProperty("mdDetectHidden")){var x=function(){var t=!1;return function(){var e=0===E.offsetHeight;e===!1&&t===!0&&i(),t=e}}();a.$watch(function(){return t.nextTick(x,!1),!0})}}}var p=u[0],m=!!u[1],g=u[1]||t.fakeNgModel(),v=u[2],y=e.isDefined(l.readonly),_=t.parseAttributeBoolean(l.mdNoAsterisk),b=s[0].tagName.toLowerCase();if(p){if("hidden"===l.type)return void s.attr("aria-hidden","true");if(p.input){if(p.input[0].contains(s[0]))return;throw new Error("<md-input-container> can only have *one* <input>, <textarea> or <md-select> child element!")}p.input=s,d();var E=e.element('<div class="md-errors-spacer">');s.after(E);var x=e.isString(l.placeholder)?l.placeholder.trim():"";p.label||x.length||i.expect(s,"aria-label"),s.addClass("md-input"),s.attr("id")||s.attr("id","input_"+t.nextUid()),"input"===b&&"number"===l.type&&l.min&&l.max&&!l.step?s.attr("step","any"):"textarea"===b&&f(),m||h();var C=p.isErrorGetter||function(){return g.$invalid&&(g.$touched||v&&v.$submitted)};a.$watch(C,p.setInvalid),l.ngValue&&l.$observe("value",h),g.$parsers.push(c),g.$formatters.push(c),s.on("input",h),y||s.on("focus",function(e){t.nextTick(function(){p.setFocused(!0)})}).on("blur",function(e){t.nextTick(function(){p.setFocused(!1),h()})}),a.$on("$destroy",function(){p.setFocused(!1),p.setHasValue(!1),p.input=null})}}return{restrict:"E",require:["^?mdInputContainer","?ngModel","?^form"],link:a}}function a(t,i){function r(r,o,a,s){function l(t){return t=m&&!g&&e.isString(t)?t.trim():t,t!==n&&null!==t||(t=""),String(t).length}function u(){d&&d.parent()&&d.text(l(o.val())+" / "+c)}var c=parseInt(a.mdMaxlength);isNaN(c)&&(c=-1);var d,h,f=s[0],p=s[1],m=!e.isDefined(a.ngTrim)||i.parseAttributeBoolean(a.ngTrim),g="password"===a.type;r.$watch(a.mdMaxlength,function(t){c=t}),f.$validators["md-maxlength"]=function(t,i){if(!e.isNumber(c)||c<0)return!0;u();var r=o.val()||i;return r!==n&&null!==r||(r=""),r=m&&!g&&e.isString(r)?r.trim():r,String(r).length<=c},f.$isEmpty=function(t){return 0===l(t)},i.nextTick(function(){h=e.element(p.element[0].querySelector(".md-errors-spacer")),d=e.element('<div class="md-char-counter">'),h.append(d),a.$observe("ngTrim",function(t){m=!e.isDefined(t)||i.parseAttributeBoolean(t)}),r.$watch(a.mdMaxlength,function(n){e.isNumber(n)&&n>0?(d.parent().length||t.enter(d,h),u()):t.leave(d)})})}return{restrict:"A",require:["ngModel","^mdInputContainer"],link:r}}function s(t){function n(n,i,r,o){if(o){var a=o.element.find("label"),s=o.element.attr("md-no-float");if(a&&a.length||""===s||n.$eval(s))return void o.setHasPlaceholder(!0);if("MD-SELECT"!==i[0].nodeName){var l=e.element('<label ng-click="delegateClick()" tabindex="-1" aria-hidden="true">'+r.placeholder+"</label>");r.$set("placeholder",null),o.element.addClass("md-icon-float").prepend(l),t(l)(n)}}}return{restrict:"A",require:"^^?mdInputContainer",priority:200,link:{pre:n}}}function l(t,e){function n(n,i,r){function o(){s=!0,e(function(){t[0].activeElement===i[0]&&i[0].select(),s=!1},1,!1)}function a(t){s&&t.preventDefault()}if("INPUT"===i[0].nodeName||"TEXTAREA"===i[0].nodeName){var s=!1;i.on("focus",o).on("mouseup",a),n.$on("$destroy",function(){i.off("focus",o).off("mouseup",a)})}}return{restrict:"A",link:n}}function u(){function t(t,n,i,r){r&&(n.toggleClass("md-input-messages-animation",!0),n.toggleClass("md-auto-hide",!0),("false"==i.mdAutoHide||e(i))&&n.toggleClass("md-auto-hide",!1))}function e(t){return w.some(function(e){return t[e]})}return{restrict:"EA",link:t,require:"^^?mdInputContainer"}}function c(t){function e(e){function n(){for(var t=e[0];t=t.parentNode;)if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE)return!0;return!1}function i(e){return!!t.getClosest(e,"md-input-container")}function r(t){t.toggleClass("md-input-message-animation",!0)}if(i(e))r(e);else if(n())return function(t,n){i(n)&&r(e)}}return{restrict:"EA",compile:e,priority:100}}function d(t,e,n){return b(t,e,n),{addClass:function(t,e,n){p(t,n)}}}function h(t,e,n){return b(t,e,n),{enter:function(t,e){p(t,e)},leave:function(t,e){m(t,e)},addClass:function(t,e,n){"ng-hide"==e?m(t,n):n()},removeClass:function(t,e,n){"ng-hide"==e?p(t,n):n()}}}function f(t,e,n,i){return b(t,e,n,i),{enter:function(t,e){var n=g(t);n.start().done(e)},leave:function(t,e){var n=v(t);n.start().done(e)}}}function p(t,n){var i,r=[],o=_(t),a=o.children();return 0==o.length||0==a.length?void n():(e.forEach(a,function(t){i=g(e.element(t)),r.push(i.start())}),void x.all(r,n))}function m(t,n){var i,r=[],o=_(t),a=o.children();return 0==o.length||0==a.length?void n():(e.forEach(a,function(t){i=v(e.element(t)),r.push(i.start())}),void x.all(r,n))}function g(e){var n=parseInt(t.getComputedStyle(e[0]).height),i=parseInt(t.getComputedStyle(e[0]).marginTop),r=_(e),o=y(e),a=i>-n;return a||r.hasClass("md-auto-hide")&&!o.hasClass("md-input-invalid")?C(e,{}):C(e,{event:"enter",structural:!0,from:{opacity:0,"margin-top":-n+"px"},to:{opacity:1,"margin-top":"0"},duration:.3})}function v(e){var n=e[0].offsetHeight,i=t.getComputedStyle(e[0]);return 0===parseInt(i.opacity)?C(e,{}):C(e,{event:"leave",structural:!0,from:{opacity:1,"margin-top":0},to:{opacity:0,"margin-top":-n+"px"},duration:.3})}function y(t){var e=t.controller("mdInputContainer");return e.element}function _(t){return t.hasClass("md-input-messages-animation")?t:t.hasClass("md-input-message-animation")?e.element(T.getClosest(t,function(t){return t.classList.contains("md-input-messages-animation")})):e.element(t[0].querySelector(".md-input-messages-animation"))}function b(t,e,n){x=t,C=e,T=n}i.$inject=["$mdTheming","$parse","$$rAF"],o.$inject=["$mdUtil","$window","$mdAria","$timeout","$mdGesture"],a.$inject=["$animate","$mdUtil"],s.$inject=["$compile"],c.$inject=["$mdUtil"],l.$inject=["$document","$timeout"],d.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],h.$inject=["$$AnimateRunner","$animateCss","$mdUtil"],f.$inject=["$$AnimateRunner","$animateCss","$mdUtil","$log"];var E=e.module("material.components.input",["material.core"]).directive("mdInputContainer",i).directive("label",r).directive("input",o).directive("textarea",o).directive("mdMaxlength",a).directive("placeholder",s).directive("ngMessages",u).directive("ngMessage",c).directive("ngMessageExp",c).directive("mdSelectOnFocus",l).animation(".md-input-invalid",d).animation(".md-input-messages-animation",h).animation(".md-input-message-animation",f);t._mdMocksIncluded&&E.service("$$mdInput",function(){return{messages:{getElement:_}}}).service("mdInputInvalidAnimation",d).service("mdInputMessagesAnimation",h).service("mdInputMessageAnimation",f);var x,C,T,w=["ngIf","ngShow","ngHide","ngSwitchWhen","ngSwitchDefault"]}(),function(){function t(t){return{restrict:"E",compile:function(e){return e[0].setAttribute("role","list"),t}}}function n(t,n,i,r){var o=["md-checkbox","md-switch","md-menu"];return{restrict:"E",controller:"MdListController",compile:function(a,s){function l(){for(var t,e=["md-switch","md-checkbox"],n=0;n<e.length;++n)if(t=a.find(e[n])[0],t&&!t.hasAttribute("aria-label")){var i=a.find("p")[0];if(i||(i=a.find("span")[0]),!i)return;t.setAttribute("aria-label","Toggle "+i.textContent)}}function u(){var t=e.element(_),n=t.parent().hasClass("md-secondary-container")||_.parentNode.firstElementChild!==_,i="left";n&&(i="right"),t.attr("md-position-mode")||t.attr("md-position-mode",i+" target");var r=t.children().eq(0);g(r[0])||r.attr("ng-click","$mdMenu.open($event)"),r.attr("aria-label")||r.attr("aria-label","Open List Menu")}function c(n){if("div"===n)E=e.element('<div class="md-no-style md-list-item-inner">'),E.append(a.contents()),a.addClass("md-proxy-focus");else{E=e.element('<div class="md-button md-no-style">   <div class="md-list-item-inner"></div></div>');var i=e.element('<md-button class="md-no-style"></md-button>');f(a[0],i[0]),i.attr("aria-label")||i.attr("aria-label",t.getText(a)),a.hasClass("md-no-focus")&&i.addClass("md-no-focus"),E.prepend(i),E.children().eq(1).append(a.contents()),a.addClass("_md-button-wrap")}a[0].setAttribute("tabindex","-1"),a.append(E)}function d(){var t=e.element('<div class="md-secondary-container">');e.forEach(b,function(e){h(e,t)}),E.append(t)}function h(n,i){if(n&&!m(n)&&n.hasAttribute("ng-click")){t.expect(n,"aria-label");var r=e.element('<md-button class="md-secondary md-icon-button">');f(n,r[0],["ng-if","ng-hide","ng-show"]),n.setAttribute("tabindex","-1"),r.append(n),n=r[0]}n&&(!g(n)||!s.ngClick&&p(n))&&e.element(n).removeClass("md-secondary"),a.addClass("md-with-secondary"),i.append(n)}function f(t,n,r){var o=i.prefixer(["ng-if","ng-click","ng-dblclick","aria-label","ng-disabled","ui-sref","href","ng-href","rel","target","ng-attr-ui-sref","ui-sref-opts","download"]);r&&(o=o.concat(i.prefixer(r))),e.forEach(o,function(e){t.hasAttribute(e)&&(n.setAttribute(e,t.getAttribute(e)),t.removeAttribute(e))})}function p(t){return o.indexOf(t.nodeName.toLowerCase())!==-1}function m(t){var e=t.nodeName.toUpperCase();return"MD-BUTTON"===e||"BUTTON"===e}function g(t){for(var e=t.attributes,n=0;n<e.length;n++)if("ngClick"===s.$normalize(e[n].name))return!0;return!1}function v(t,a,s,l){function u(){f&&f.children&&!v&&!y&&e.forEach(o,function(t){e.forEach(f.querySelectorAll(t+":not(.md-secondary)"),function(t){h.push(t)})})}function c(){(1===h.length||v)&&(a.addClass("md-clickable"),v||l.attachRipple(t,e.element(a[0].querySelector(".md-no-style"))))}function d(t){var e=["md-slider"],n=i.getEventPath(t);if(!n||0===n.length)return e.indexOf(t.target.tagName.toLowerCase())!==-1;for(var r=n.indexOf(a.children()[0]),o=0;o<r;o++)if(e.indexOf(n[o].tagName.toLowerCase())!==-1)return!0;return!1}a.addClass("_md");var h=[],f=a[0].firstElementChild,p=a.hasClass("_md-button-wrap"),m=p?f.firstElementChild:f,v=m&&g(m),y=a.hasClass("md-no-proxy");u(),c(),h.length&&e.forEach(h,function(n){n=e.element(n),t.mouseActive=!1,n.on("mousedown",function(){t.mouseActive=!0,r(function(){t.mouseActive=!1},100)}).on("focus",function(){t.mouseActive===!1&&a.addClass("md-focused"),n.on("blur",function e(){a.removeClass("md-focused"),n.off("blur",e)})})});var _=function(t){if("INPUT"!==t.target.nodeName&&"TEXTAREA"!==t.target.nodeName&&!t.target.isContentEditable){var e=t.which||t.keyCode;e===n.KEY_CODE.SPACE&&m&&(m.click(),t.preventDefault(),t.stopPropagation())}};v||h.length||m&&m.addEventListener("keypress",_),a.off("click"),a.off("keypress"),a.off("keydown"),1===h.length&&m&&a.children().eq(0).on("click",function(t){if(!d(t)){var n=i.getClosest(t.target,"BUTTON");!n&&m.contains(t.target)&&e.forEach(h,function(n){t.target===n||n.contains(t.target)||("MD-MENU"===n.nodeName&&(n=n.children[0]),e.element(n).triggerHandler("click"))})}}),t.$on("$destroy",function(){m&&m.removeEventListener("keypress",_)})}var y,_,b=a[0].querySelectorAll(".md-secondary"),E=a;if(a[0].setAttribute("role","listitem"),s.ngClick||s.ngDblclick||s.ngHref||s.href||s.uiSref||s.ngAttrUiSref)c("button");else if(!a.hasClass("md-no-proxy")){for(var x=0;x<o.length;++x)if(_=a[0].querySelector(o[x]),null!==_){y=!0;break}y?c("div"):a.addClass("md-no-proxy")}return d(),l(),y&&"MD-MENU"===_.nodeName&&u(),v}}}function i(t,e,n){function i(t,e){var i={};n.attach(t,e,i)}var r=this;r.attachRipple=i}i.$inject=["$scope","$element","$mdListInkRipple"],t.$inject=["$mdTheming"],n.$inject=["$mdAria","$mdConstant","$mdUtil","$timeout"],e.module("material.components.list",["material.core"]).controller("MdListController",i).directive("mdList",t).directive("mdListItem",n)}(),function(){e.module("material.components.menu",["material.core","material.components.backdrop"])}(),function(){function t(t,i,r,o,a,s,l,u,c){var d,h,f=a.prefixer(),p=this;this.nestLevel=parseInt(i.mdNestLevel,10)||0,this.init=function(n,i){i=i||{},d=n,h=r[0].querySelector(f.buildSelector(["ng-click","ng-mouseenter"])),h.setAttribute("aria-expanded","false"),this.isInMenuBar=i.isInMenuBar,this.mdMenuBarCtrl=i.mdMenuBarCtrl,this.nestedMenus=a.nodesToArray(d[0].querySelectorAll(".md-nested-menu")),d.on("$mdInterimElementRemove",function(){p.isOpen=!1,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)})}),a.nextTick(function(){p.onIsOpenChanged(p.isOpen)});var s="menu_container_"+a.nextUid();d.attr("id",s),e.element(h).attr({"aria-owns":s,"aria-haspopup":"true"}),o.$on("$destroy",e.bind(this,function(){this.disableHoverListener(),t.destroy()})),d.on("$destroy",function(){t.destroy()})};var m,g,v=[];this.enableHoverListener=function(){v.push(l.$on("$mdMenuOpen",function(t,e){d[0].contains(e[0])&&(p.currentlyOpenMenu=e.controller("mdMenu"),p.isAlreadyOpening=!1,p.currentlyOpenMenu.registerContainerProxy(p.triggerContainerProxy.bind(p)))})),v.push(l.$on("$mdMenuClose",function(t,e){d[0].contains(e[0])&&(p.currentlyOpenMenu=n)})),g=e.element(a.nodesToArray(d[0].children[0].children)),g.on("mouseenter",p.handleMenuItemHover),g.on("mouseleave",p.handleMenuItemMouseLeave)},this.disableHoverListener=function(){for(;v.length;)v.shift()();g&&g.off("mouseenter",p.handleMenuItemHover),g&&g.off("mouseleave",p.handleMenuItemMouseLeave)},this.handleMenuItemHover=function(t){if(!p.isAlreadyOpening){var n=t.target.querySelector("md-menu")||a.getClosest(t.target,"MD-MENU");m=s(function(){if(n&&(n=e.element(n).controller("mdMenu")),p.currentlyOpenMenu&&p.currentlyOpenMenu!=n){var t=p.nestLevel+1;p.currentlyOpenMenu.close(!0,{closeTo:t}),p.isAlreadyOpening=!!n,n&&n.open()}else n&&!n.isOpen&&n.open&&(p.isAlreadyOpening=!!n,n&&n.open())},n?100:250);var i=t.currentTarget.querySelector(".md-button:not([disabled])");i&&i.focus()}},this.handleMenuItemMouseLeave=function(){m&&(s.cancel(m),m=n)},this.open=function(e){e&&e.stopPropagation(),e&&e.preventDefault(),p.isOpen||(p.enableHoverListener(),p.isOpen=!0,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)}),h=h||(e?e.target:r[0]),h.setAttribute("aria-expanded","true"),o.$emit("$mdMenuOpen",r),t.show({scope:o,mdMenuCtrl:p,nestLevel:p.nestLevel,element:d,target:h,preserveElement:!0,parent:"body"})["finally"](function(){h.setAttribute("aria-expanded","false"),p.disableHoverListener()}))},this.onIsOpenChanged=function(t){t?(d.attr("aria-hidden","false"),r[0].classList.add("md-open"),e.forEach(p.nestedMenus,function(t){t.classList.remove("md-open")})):(d.attr("aria-hidden","true"),r[0].classList.remove("md-open")),o.$mdMenuIsOpen=p.isOpen},this.focusMenuContainer=function(){var t=d[0].querySelector(f.buildSelector(["md-menu-focus-target","md-autofocus"]));t||(t=d[0].querySelector(".md-button:not([disabled])")),t.focus()},this.registerContainerProxy=function(t){this.containerProxy=t},this.triggerContainerProxy=function(t){this.containerProxy&&this.containerProxy(t)},this.destroy=function(){return p.isOpen?t.destroy():u.when(!1)},this.close=function(n,i){if(p.isOpen){p.isOpen=!1,a.nextTick(function(){p.onIsOpenChanged(p.isOpen)});var s=e.extend({},i,{skipFocus:n});if(o.$emit("$mdMenuClose",r,s),t.hide(null,i),!n){var l=p.restoreFocusTo||r.find("button")[0];l instanceof e.element&&(l=l[0]),l&&l.focus()}}},this.positionMode=function(){var t=(i.mdPositionMode||"target").split(" ");return 1===t.length&&t.push(t[0]),{left:t[0],top:t[1]}},this.offsets=function(){var t=(i.mdOffset||"0 0").split(" ").map(parseFloat);if(2===t.length)return{left:t[0],top:t[1]};if(1===t.length)return{top:t[0],left:t[0]};throw Error("Invalid offsets specified. Please follow format <x, y> or <n>")},o.$mdMenu={open:this.open,close:this.close},o.$mdOpenMenu=e.bind(this,function(){return c.warn("mdMenu: The $mdOpenMenu method is deprecated. Please use `$mdMenu.open`."),this.open.apply(this,arguments)})}t.$inject=["$mdMenu","$attrs","$element","$scope","$mdUtil","$timeout","$rootScope","$q","$log"],e.module("material.components.menu").controller("mdMenuCtrl",t)}(),function(){function t(t){function n(n){n.addClass("md-menu");var o=n.children()[0],a=t.prefixer();a.hasAttribute(o,"ng-click")||(o=o.querySelector(a.buildSelector(["ng-click","ng-mouseenter"]))||o);var s="MD-BUTTON"===o.nodeName||"BUTTON"===o.nodeName;if(o&&s&&!o.hasAttribute("type")&&o.setAttribute("type","button"),!o)throw Error(r+"Expected the menu to have a trigger element.");if(2!==n.children().length)throw Error(r+"Expected two children elements. The second element must have a `md-menu-content` element.");o&&o.setAttribute("aria-haspopup","true");var l=n[0].querySelectorAll("md-menu"),u=parseInt(n[0].getAttribute("md-nest-level"),10)||0;return l&&e.forEach(t.nodesToArray(l),function(t){t.hasAttribute("md-position-mode")||t.setAttribute("md-position-mode","cascade"),t.classList.add("_md-nested-menu"),t.setAttribute("md-nest-level",u+1)}),i}function i(t,n,i,r){var o=r[0],a=!!r[1],s=r[1],l=e.element('<div class="_md md-open-menu-container md-whiteframe-z2"></div>'),u=n.children()[1];n.addClass("_md"),u.hasAttribute("role")||u.setAttribute("role","menu"),l.append(u),n.on("$destroy",function(){l.remove()}),n.append(l),l[0].style.display="none",o.init(l,{isInMenuBar:a,mdMenuBarCtrl:s})}var r="Invalid HTML for md-menu: ";return{restrict:"E",require:["mdMenu","?^mdMenuBar"],controller:"mdMenuCtrl",scope:!0,compile:n}}t.$inject=["$mdUtil"],e.module("material.components.menu").directive("mdMenu",t)}(),function(){function t(t){function i(t,i,a,s,l,u,c,d,h,f){function p(n,i,r){return r.nestLevel?e.noop:(r.disableParentScroll&&!t.getClosest(r.target,"MD-DIALOG")?r.restoreScroll=t.disableScrollAround(r.element,r.parent):r.disableParentScroll=!1,r.hasBackdrop&&(r.backdrop=t.createBackdrop(n,"md-menu-backdrop md-click-catcher"),h.enter(r.backdrop,s[0].body)),function(){r.backdrop&&r.backdrop.remove(),r.disableParentScroll&&r.restoreScroll()})}function m(t,e,n){function i(){return d(e,{addClass:"md-leave"}).start()}function r(){e.removeClass("md-active"),_(e,n),n.alreadyOpen=!1}return n.cleanupInteraction(),n.cleanupBackdrop(),n.cleanupResizing(),n.hideBackdrop(),e.removeClass("md-clickable"),n.$destroy===!0?r():i().then(r)}function g(n,r,o){function s(){return o.parent.append(r),r[0].style.display="",u(function(t){var e=b(r,o);r.removeClass("md-leave"),d(r,{addClass:"md-active",from:x.toCss(e),to:x.toCss({transform:""})}).start().then(t)})}function h(){if(!o.target)throw Error("$mdMenu.show() expected a target to animate from in options.target");e.extend(o,{alreadyOpen:!1,isRemoved:!1,target:e.element(o.target),parent:e.element(o.parent),menuContentEl:e.element(r[0].querySelector("md-menu-content"))})}function m(){var t=function(t,e){return c.throttle(function(){if(!o.isRemoved){var n=b(t,e);t.css(x.toCss(n))}})}(r,o);return l.addEventListener("resize",t),l.addEventListener("orientationchange",t),function(){l.removeEventListener("resize",t),l.removeEventListener("orientationchange",t)}}function g(){return o.backdrop?(o.backdrop.on("click",y),function(){o.backdrop.off("click",y)}):e.noop}function y(t){t.preventDefault(),t.stopPropagation(),n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}function _(){function i(e){var n;switch(e.keyCode){case a.KEY_CODE.ESCAPE:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!0;break;case a.KEY_CODE.TAB:o.mdMenuCtrl.close(!1,{closeAll:!0}),n=!1;break;case a.KEY_CODE.UP_ARROW:v(e,o.menuContentEl,o,-1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.DOWN_ARROW:v(e,o.menuContentEl,o,1)||o.nestLevel||o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.LEFT_ARROW:o.nestLevel?o.mdMenuCtrl.close():o.mdMenuCtrl.triggerContainerProxy(e),n=!0;break;case a.KEY_CODE.RIGHT_ARROW:var i=t.getClosest(e.target,"MD-MENU");i&&i!=o.parent[0]?e.target.click():o.mdMenuCtrl.triggerContainerProxy(e),n=!0}n&&(e.preventDefault(),e.stopImmediatePropagation())}function r(e){function i(){n.$apply(function(){o.mdMenuCtrl.close(!0,{closeAll:!0})})}function r(t,e){if(!t)return!1;for(var n,i=0;n=e[i];++i)if(E.hasAttribute(t,n))return!0;return!1}var a=e.target;do{if(a==o.menuContentEl[0])return;if((r(a,["ng-click","ng-href","ui-sref"])||"BUTTON"==a.nodeName||"MD-BUTTON"==a.nodeName)&&!r(a,["md-prevent-menu-close"])){var s=t.getClosest(a,"MD-MENU");a.hasAttribute("disabled")||s&&s!=o.parent[0]||i();break}}while(a=a.parentNode)}if(!o.menuContentEl[0])return e.noop;o.menuContentEl.on("keydown",i),o.menuContentEl[0].addEventListener("click",r,!0);var s=o.menuContentEl[0].querySelector(E.buildSelector(["md-menu-focus-target","md-autofocus"]));if(!s)for(var l=o.menuContentEl[0].children.length,u=0;u<l;u++){var c=o.menuContentEl[0].children[u];if(s=c.querySelector(".md-button:not([disabled])"))break;if(c.firstElementChild&&!c.firstElementChild.disabled){s=c.firstElementChild;break}}return s&&s.focus(),function(){o.menuContentEl.off("keydown",i),o.menuContentEl[0].removeEventListener("click",r,!0)}}return h(o),o.menuContentEl[0]?i.inherit(o.menuContentEl,o.target):f.warn("$mdMenu: Menu elements should always contain a `md-menu-content` element,otherwise interactivity features will not work properly.",r),o.cleanupResizing=m(),o.hideBackdrop=p(n,r,o),s().then(function(t){return o.alreadyOpen=!0,o.cleanupInteraction=_(),o.cleanupBackdrop=g(),r.addClass("md-clickable"),t})}function v(e,n,i,r){for(var o,a=t.getClosest(e.target,"MD-MENU-ITEM"),s=t.nodesToArray(n[0].children),l=s.indexOf(a),u=l+r;u>=0&&u<s.length;u+=r){var c=s[u].querySelector(".md-button");if(o=y(c))break}return o}function y(t){if(t&&t.getAttribute("tabindex")!=-1)return t.focus(),s[0].activeElement==t}function _(t,e){e.preserveElement?r(t).style.display="none":r(t).parentNode===r(e.parent)&&r(e.parent).removeChild(r(t))}function b(e,i){function r(t){t.top=Math.max(Math.min(t.top,y.bottom-c.offsetHeight),y.top),t.left=Math.max(Math.min(t.left,y.right-c.offsetWidth),y.left)}function a(){for(var t=0;t<d.children.length;++t)if("none"!=l.getComputedStyle(d.children[t]).display)return d.children[t]}var u,c=e[0],d=e[0].firstElementChild,h=d.getBoundingClientRect(),f=s[0].body,p=f.getBoundingClientRect(),m=l.getComputedStyle(d),g=i.target[0].querySelector(E.buildSelector("md-menu-origin"))||i.target[0],v=g.getBoundingClientRect(),y={left:p.left+o,top:Math.max(p.top,0)+o,bottom:Math.max(p.bottom,Math.max(p.top,0)+p.height)-o,right:p.right-o},_={top:0,left:0,right:0,bottom:0},b={top:0,left:0,right:0,bottom:0},x=i.mdMenuCtrl.positionMode();"target"!==x.top&&"target"!==x.left&&"target-right"!==x.left||(u=a(),u&&(u=u.firstElementChild||u,u=u.querySelector(E.buildSelector("md-menu-align-target"))||u,_=u.getBoundingClientRect(),b={top:parseFloat(c.style.top||0),left:parseFloat(c.style.left||0)}));var C={},T="top ";switch(x.top){case"target":C.top=b.top+v.top-_.top;break;case"cascade":C.top=v.top-parseFloat(m.paddingTop)-g.style.top;break;case"bottom":C.top=v.top+v.height;break;default:throw new Error('Invalid target mode "'+x.top+'" specified for md-menu on Y axis.')}var w=t.isRtl(e);switch(x.left){case"target":C.left=b.left+v.left-_.left,T+=w?"right":"left";break;case"target-left":C.left=v.left,T+="left";break;case"target-right":C.left=v.right-h.width+(h.right-_.right),T+="right";break;case"cascade":var S=w?v.left-h.width<y.left:v.right+h.width<y.right;C.left=S?v.right-g.style.left:v.left-g.style.left-h.width,T+=S?"left":"right";break;case"right":w?(C.left=v.right-v.width,T+="left"):(C.left=v.right-h.width,T+="right");break;case"left":w?(C.left=v.right-h.width,T+="right"):(C.left=v.left,T+="left");break;default:throw new Error('Invalid target mode "'+x.left+'" specified for md-menu on X axis.')}var M=i.mdMenuCtrl.offsets();C.top+=M.top,C.left+=M.left,r(C);var j=Math.round(100*Math.min(v.width/c.offsetWidth,1))/100,O=Math.round(100*Math.min(v.height/c.offsetHeight,1))/100;return{top:Math.round(C.top),left:Math.round(C.left),transform:i.alreadyOpen?n:t.supplant("scale({0},{1})",[j,O]),transformOrigin:T}}var E=t.prefixer(),x=t.dom.animator;return{parent:"body",onShow:g,onRemove:m,hasBackdrop:!0,disableParentScroll:!0,skipCompile:!0,preserveScope:!0,multiple:!0,themable:!0}}function r(t){return t instanceof e.element&&(t=t[0]),t}i.$inject=["$mdUtil","$mdTheming","$mdConstant","$document","$window","$q","$$rAF","$animateCss","$animate","$log"];var o=8;return t("$mdMenu").setDefaults({methods:["target"],options:i})}t.$inject=["$$interimElementProvider"],e.module("material.components.menu").provider("$mdMenu",t)}(),function(){e.module("material.components.menuBar",["material.core","material.components.icon","material.components.menu"])}(),function(){function t(t,n,r,o,a,s,l,u){this.$element=r,this.$attrs=o,this.$mdConstant=a,this.$mdUtil=l,this.$document=s,this.$scope=t,this.$rootScope=n,this.$timeout=u;var c=this;e.forEach(i,function(t){c[t]=e.bind(c,c[t])})}t.$inject=["$scope","$rootScope","$element","$attrs","$mdConstant","$document","$mdUtil","$timeout"],e.module("material.components.menuBar").controller("MenuBarController",t);var i=["handleKeyDown","handleMenuHover","scheduleOpenHoveredMenu","cancelScheduledOpen"];t.prototype.init=function(){var t=this.$element,i=this.$mdUtil,r=this.$scope,o=this,a=[];t.on("keydown",this.handleKeyDown),this.parentToolbar=i.getClosest(t,"MD-TOOLBAR"),a.push(this.$rootScope.$on("$mdMenuOpen",function(e,n){o.getMenus().indexOf(n[0])!=-1&&(t[0].classList.add("md-open"),n[0].classList.add("md-open"),o.currentlyOpenMenu=n.controller("mdMenu"),o.currentlyOpenMenu.registerContainerProxy(o.handleKeyDown),o.enableOpenOnHover())})),a.push(this.$rootScope.$on("$mdMenuClose",function(r,a,s){var l=o.getMenus();l.indexOf(a[0])!=-1&&(t[0].classList.remove("md-open"),a[0].classList.remove("md-open"));var u=e.element(a[0]).controller("mdMenu");if(u.isInMenuBar&&u.mdMenuBarCtrl===o){for(var c=a[0];c&&l.indexOf(c)==-1;)c=i.getClosest(c,"MD-MENU",!0);c&&(s.skipFocus||c.querySelector("button:not([disabled])").focus(),o.currentlyOpenMenu=n),o.disableOpenOnHover(),o.setKeyboardMode(!0)}})),r.$on("$destroy",function(){for(o.disableOpenOnHover();a.length;)a.shift()()}),this.setKeyboardMode(!0)},t.prototype.setKeyboardMode=function(t){t?this.$element[0].classList.add("md-keyboard-mode"):this.$element[0].classList.remove("md-keyboard-mode")},t.prototype.enableOpenOnHover=function(){if(!this.openOnHoverEnabled){var t=this;t.openOnHoverEnabled=!0,t.parentToolbar&&(t.parentToolbar.classList.add("md-has-open-menu"),t.$mdUtil.nextTick(function(){e.element(t.parentToolbar).on("click",t.handleParentClick)},!1)),e.element(t.getMenus()).on("mouseenter",t.handleMenuHover)}},t.prototype.handleMenuHover=function(t){this.setKeyboardMode(!1),this.openOnHoverEnabled&&this.scheduleOpenHoveredMenu(t)},t.prototype.disableOpenOnHover=function(){this.openOnHoverEnabled&&(this.openOnHoverEnabled=!1,
this.parentToolbar&&(this.parentToolbar.classList.remove("md-has-open-menu"),e.element(this.parentToolbar).off("click",this.handleParentClick)),e.element(this.getMenus()).off("mouseenter",this.handleMenuHover))},t.prototype.scheduleOpenHoveredMenu=function(t){var n=e.element(t.currentTarget),i=n.controller("mdMenu");this.setKeyboardMode(!1),this.scheduleOpenMenu(i)},t.prototype.scheduleOpenMenu=function(t){var e=this,i=this.$timeout;t!=e.currentlyOpenMenu&&(i.cancel(e.pendingMenuOpen),e.pendingMenuOpen=i(function(){e.pendingMenuOpen=n,e.currentlyOpenMenu&&e.currentlyOpenMenu.close(!0,{closeAll:!0}),t.open()},200,!1))},t.prototype.handleKeyDown=function(t){var n=this.$mdConstant.KEY_CODE,i=this.currentlyOpenMenu,r=i&&i.isOpen;this.setKeyboardMode(!0);var o,a,s;switch(t.keyCode){case n.DOWN_ARROW:i?i.focusMenuContainer():this.openFocusedMenu(),o=!0;break;case n.UP_ARROW:i&&i.close(),o=!0;break;case n.LEFT_ARROW:a=this.focusMenu(-1),r&&(s=e.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0;break;case n.RIGHT_ARROW:a=this.focusMenu(1),r&&(s=e.element(a).controller("mdMenu"),this.scheduleOpenMenu(s)),o=!0}o&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopImmediatePropagation&&t.stopImmediatePropagation())},t.prototype.focusMenu=function(t){var e=this.getMenus(),n=this.getFocusedMenuIndex();n==-1&&(n=this.getOpenMenuIndex());var i=!1;if(n==-1?(n=0,i=!0):(t<0&&n>0||t>0&&n<e.length-t)&&(n+=t,i=!0),i)return e[n].querySelector("button").focus(),e[n]},t.prototype.openFocusedMenu=function(){var t=this.getFocusedMenu();t&&e.element(t).controller("mdMenu").open()},t.prototype.getMenus=function(){var t=this.$element;return this.$mdUtil.nodesToArray(t[0].children).filter(function(t){return"MD-MENU"==t.nodeName})},t.prototype.getFocusedMenu=function(){return this.getMenus()[this.getFocusedMenuIndex()]},t.prototype.getFocusedMenuIndex=function(){var t=this.$mdUtil,e=t.getClosest(this.$document[0].activeElement,"MD-MENU");if(!e)return-1;var n=this.getMenus().indexOf(e);return n},t.prototype.getOpenMenuIndex=function(){for(var t=this.getMenus(),e=0;e<t.length;++e)if(t[e].classList.contains("md-open"))return e;return-1},t.prototype.handleParentClick=function(t){var n=this.querySelector("md-menu.md-open");n&&!n.contains(t.target)&&e.element(n).controller("mdMenu").close(!0,{closeAll:!0})}}(),function(){function t(t,n){return{restrict:"E",require:"mdMenuBar",controller:"MenuBarController",compile:function(i,r){return r.ariaRole||i[0].setAttribute("role","menubar"),e.forEach(i[0].children,function(n){if("MD-MENU"==n.nodeName){n.hasAttribute("md-position-mode")||(n.setAttribute("md-position-mode","left bottom"),n.querySelector("button, a, md-button").setAttribute("role","menuitem"));var i=t.nodesToArray(n.querySelectorAll("md-menu-content"));e.forEach(i,function(t){t.classList.add("md-menu-bar-menu"),t.classList.add("md-dense"),t.hasAttribute("width")||t.setAttribute("width",5)})}}),i.find("md-menu-item").addClass("md-in-menu-bar"),function(t,e,i,r){e.addClass("_md"),n(t,e),r.init()}}}}t.$inject=["$mdUtil","$mdTheming"],e.module("material.components.menuBar").directive("mdMenuBar",t)}(),function(){function t(){return{restrict:"E",compile:function(t,e){e.role||t[0].setAttribute("role","separator")}}}e.module("material.components.menuBar").directive("mdMenuDivider",t)}(),function(){function t(t,e,n){this.$element=e,this.$attrs=n,this.$scope=t}t.$inject=["$scope","$element","$attrs"],e.module("material.components.menuBar").controller("MenuItemController",t),t.prototype.init=function(t){var e=this.$element,n=this.$attrs;this.ngModel=t,"checkbox"!=n.type&&"radio"!=n.type||(this.mode=n.type,this.iconEl=e[0].children[0],this.buttonEl=e[0].children[1],t&&this.initClickListeners())},t.prototype.clearNgAria=function(){var t=this.$element[0],n=["role","tabindex","aria-invalid","aria-checked"];e.forEach(n,function(e){t.removeAttribute(e)})},t.prototype.initClickListeners=function(){function t(){if("radio"==s){var t=a.ngValue?o.$eval(a.ngValue):a.value;return r.$modelValue==t}return r.$modelValue}function n(t){t?u.off("click",c):u.on("click",c)}var i=this,r=this.ngModel,o=this.$scope,a=this.$attrs,s=(this.$element,this.mode);this.handleClick=e.bind(this,this.handleClick);var l=this.iconEl,u=e.element(this.buttonEl),c=this.handleClick;a.$observe("disabled",n),n(a.disabled),r.$render=function(){i.clearNgAria(),t()?(l.style.display="",u.attr("aria-checked","true")):(l.style.display="none",u.attr("aria-checked","false"))},o.$$postDigest(r.$render)},t.prototype.handleClick=function(t){var e,n=this.mode,i=this.ngModel,r=this.$attrs;"checkbox"==n?e=!i.$modelValue:"radio"==n&&(e=r.ngValue?this.$scope.$eval(r.ngValue):r.value),i.$setViewValue(e),i.$render()}}(),function(){function t(t,n,i){return{controller:"MenuItemController",require:["mdMenuItem","?ngModel"],priority:n.BEFORE_NG_ARIA,compile:function(n,r){function o(t,i,r){r=r||n,r instanceof e.element&&(r=r[0]),r.hasAttribute(t)||r.setAttribute(t,i)}function a(i){var r=t.prefixer(i);e.forEach(r,function(t){if(n[0].hasAttribute(t)){var e=n[0].getAttribute(t);c[0].setAttribute(t,e),n[0].removeAttribute(t)}})}var s=r.type,l="md-in-menu-bar";if("checkbox"!==s&&"radio"!==s||!n.hasClass(l))o("role","menuitem",n[0].querySelector("md-button, button, a"));else{var u=n[0].textContent,c=e.element('<md-button type="button"></md-button>'),d='<md-icon md-svg-src="'+i.mdChecked+'"></md-icon>';c.html(u),c.attr("tabindex","0"),e.isDefined(r.mdPreventMenuClose)&&c.attr("md-prevent-menu-close",r.mdPreventMenuClose),n.html(""),n.append(e.element(d)),n.append(c),n.addClass("md-indent").removeClass(l),o("role","checkbox"===s?"menuitemcheckbox":"menuitemradio",c),a("ng-disabled")}return function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}}t.$inject=["$mdUtil","$mdConstant","$$mdSvgRegistry"],e.module("material.components.menuBar").directive("mdMenuItem",t)}(),function(){function t(t,n,r,o){return{restrict:"E",transclude:!0,controller:i,controllerAs:"ctrl",bindToController:!0,scope:{mdSelectedNavItem:"=?",mdNoInkBar:"=?",navBarAriaLabel:"@?"},template:'<div class="md-nav-bar"><nav role="navigation"><ul class="_md-nav-bar-list" ng-transclude role="tablist" ng-focus="ctrl.onFocus()" aria-label="{{ctrl.navBarAriaLabel}}"></ul></nav><md-nav-ink-bar ng-hide="ctrl.mdNoInkBar"></md-nav-ink-bar></div>',link:function(i,a,s,l){function u(){l.width!==r.innerWidth&&(l.updateSelectedTabInkBar(),l.width=r.innerWidth,i.$digest())}function c(){e.element(r).off("resize",u)}l.width=r.innerWidth,e.element(r).on("resize",o.debounce(u,300)),i.$on("$destroy",c),n(a),l.navBarAriaLabel||t.expectAsync(a,"aria-label",e.noop)}}}function i(t,e,n,i){this._$timeout=n,this._$scope=e,this._$mdConstant=i,this.mdSelectedNavItem,this.navBarAriaLabel,this._navBarEl=t[0],this._inkbar;var r=this,o=this._$scope.$watch(function(){return r._navBarEl.querySelectorAll("._md-nav-button").length},function(t){t>0&&(r._initTabs(),o())})}function r(t,i,r,a){return{restrict:"E",require:["mdNavItem","^mdNavBar"],controller:o,bindToController:!0,controllerAs:"ctrl",replace:!0,transclude:!0,template:function(t,e){var i,r,o,a=e.mdNavClick,s=e.mdNavHref,l=e.mdNavSref,u=e.srefOpts;if((a?1:0)+(s?1:0)+(l?1:0)>1)throw Error("Please do not specify more than one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");if(a!==n&&null!==a)i='ng-click="ctrl.mdNavClick()"';else if(s!==n&&null!==s)i='ng-href="{{ctrl.mdNavHref}}"';else{if(l===n||null===l)throw Error("Please specify at least one of the md-nav-click, md-nav-href, or md-nav-sref attributes per nav-item directive.");i='ui-sref="{{ctrl.mdNavSref}}"'}return r=u?'ui-sref-opts="{{ctrl.srefOpts}}" ':"",i&&(o='<md-button class="_md-nav-button md-accent" ng-class="ctrl.getNgClassMap()" ng-blur="ctrl.setFocused(false)" ng-disabled="ctrl.disabled" tabindex="-1" role="tab" ng-attr-aria-label="{{ctrl.navItemAriaLabel ? ctrl.navItemAriaLabel : undefined}}" aria-selected="{{ctrl.isSelected()}}" '+r+i+'><span ng-transclude class="_md-nav-button-text"></span></md-button>'),'<li class="md-nav-item" role="presentation">'+(o||"")+"</li>"},scope:{mdNavClick:"&?",mdNavHref:"@?",mdNavSref:"@?",srefOpts:"=?",name:"@",navItemAriaLabel:"@?"},link:function(n,o,s,l){var u,c,d,h;i(function(){if(c=l[0],d=l[1],h=e.element(o[0].querySelector("._md-nav-button")),c.name||(c.name=e.element(o[0].querySelector("._md-nav-button-text")).text().trim()),h.on("keydown",function(t){d.onKeydown(t)}),h.on("focus",function(){c._focused=!0}),h.on("click",function(){d.mdSelectedNavItem=c.name,n.$apply()}),c.disabled=r.parseAttributeBoolean(s.disabled,!1),"MutationObserver"in a){var i={attributes:!0,attributeFilter:["disabled"]},f=o[0],p=function(t){r.nextTick(function(){c.disabled=r.parseAttributeBoolean(s[t[0].attributeName],!1)})},m=new MutationObserver(p);m.observe(f,i),u=m.disconnect.bind(m)}else s.$observe("disabled",function(t){c.disabled=r.parseAttributeBoolean(t,!1)});c.navItemAriaLabel||t.expectWithText(h,"aria-label")}),n.$on("destroy",function(){h.off("keydown"),h.off("focus"),h.off("click"),u()})}}}function o(t){this._$element=t,this.mdNavClick,this.mdNavHref,this.mdNavSref,this.srefOpts,this.name,this.navItemAriaLabel,this._selected=!1,this._focused=!1}t.$inject=["$mdAria","$mdTheming","$window","$mdUtil"],i.$inject=["$element","$scope","$timeout","$mdConstant"],r.$inject=["$mdAria","$$rAF","$mdUtil","$window"],o.$inject=["$element"],e.module("material.components.navBar",["material.core"]).controller("MdNavBarController",i).directive("mdNavBar",t).controller("MdNavItemController",o).directive("mdNavItem",r),i.prototype._initTabs=function(){this._inkbar=e.element(this._navBarEl.querySelector("md-nav-ink-bar"));var t=this;this._$timeout(function(){t._updateTabs(t.mdSelectedNavItem,null)}),this._$scope.$watch("ctrl.mdSelectedNavItem",function(e,n){t._$timeout(function(){t._updateTabs(e,n)})})},i.prototype._updateTabs=function(t,e){var n=this,i=this._getTabs(),r=t===e;if(i){var o=-1,a=-1,s=this._getTabByName(t),l=this._getTabByName(e);l&&(l.setSelected(!1),o=i.indexOf(l)),s&&(s.setSelected(!0),a=i.indexOf(s)),this._$timeout(function(){n._updateInkBarStyles(s,a,o),s&&l&&!r&&n._moveFocus(l,s)})}},i.prototype._updateInkBarStyles=function(t,e){if(this._inkbar.css({display:e<0?"none":""}),t){var n=t.getButtonEl(),i=n.offsetLeft,r=n.offsetWidth,o=this._navBarEl.getBoundingClientRect().width,a=r/o,s=i/o*100;this._inkbar.css({transform:"translateX("+s+"%) scaleX("+a+")"})}},i.prototype.updateSelectedTabInkBar=function(){this._updateInkBarStyles(this._getSelectedTab())},i.prototype._getTabs=function(){var t=Array.prototype.slice.call(this._navBarEl.querySelectorAll(".md-nav-item")).map(function(t){return e.element(t).controller("mdNavItem")});return t.indexOf(n)?t:null},i.prototype._getTabByName=function(t){return this._findTab(function(e){return e.getName()===t})},i.prototype._getSelectedTab=function(){return this._findTab(function(t){return t.isSelected()})},i.prototype.getFocusedTab=function(){return this._findTab(function(t){return t.hasFocus()})},i.prototype._findTab=function(t,e){var i=this._getTabs();e!==n&&null!==e||(e=0);for(var r=e;r<i.length;r++)if(t(i[r]))return i[r];return null},i.prototype._findTabReverse=function(t,e){var i=this._getTabs();e!==n&&null!==e||(e=i.length-1);for(var r=e;r>=0;r--)if(t(i[r]))return i[r];return null},i.prototype.onFocus=function(){var t=this._getSelectedTab();t&&!t._focused&&t.setFocused(!0)},i.prototype._moveFocus=function(t,e){t.setFocused(!1),e.setFocused(!0)},i.prototype._focusFirstTab=function(){var t=this._getTabs();if(t){var e=this._findTab(function(t){return t._isEnabled()});e&&this._moveFocus(this.getFocusedTab(),e)}},i.prototype._focusLastTab=function(){var t=this._getTabs();if(t){var e=this._findTabReverse(function(t){return t._isEnabled()});e&&this._moveFocus(this.getFocusedTab(),e)}},i.prototype._focusNextTab=function(t){var e=this._getTabs();if(e){var n=this._findTab(function(t){return t._isEnabled()},t+1);n?this._moveFocus(this.getFocusedTab(),n):this._focusFirstTab()}},i.prototype._focusPreviousTab=function(t){var e=this._getTabs();if(e){var n=this._findTabReverse(function(t){return t._isEnabled()},t-1);n?this._moveFocus(this.getFocusedTab(),n):this._focusLastTab()}},i.prototype.onKeydown=function(t){var e=this._$mdConstant.KEY_CODE,n=this._getTabs(),i=this.getFocusedTab();if(i&&n){var r=n.indexOf(i);switch(t.keyCode){case e.UP_ARROW:case e.LEFT_ARROW:t.preventDefault(),this._focusPreviousTab(r);break;case e.DOWN_ARROW:case e.RIGHT_ARROW:t.preventDefault(),this._focusNextTab(r);break;case e.SPACE:case e.ENTER:this._$timeout(function(){i.getButtonEl().click()});break;case e.HOME:t.preventDefault(),this._focusFirstTab();break;case e.END:t.preventDefault(),this._focusLastTab()}}},o.prototype.getNgClassMap=function(){return{"md-active":this._selected,"md-primary":this._selected,"md-unselected":!this._selected,"md-focused":this._focused}},o.prototype.getName=function(){return this.name},o.prototype.getButtonEl=function(){return this._$element[0].querySelector("._md-nav-button")},o.prototype.setSelected=function(t){this._selected=t,t?this.getButtonEl().setAttribute("tabindex","0"):this.getButtonEl().setAttribute("tabindex","-1")},o.prototype.isSelected=function(){return this._selected},o.prototype.setFocused=function(t){this._focused=t,t&&this.getButtonEl().focus()},o.prototype.hasFocus=function(){return this._focused},o.prototype._isEnabled=function(){return!this._$element.attr("disabled")}}(),function(){function t(){return{definePreset:i,getAllPresets:r,clearPresets:o,$get:a()}}function i(t,e){if(!t||!e)throw new Error("mdPanelProvider: The panel preset definition is malformed. The name and preset object are required.");if(y.hasOwnProperty(t))throw new Error("mdPanelProvider: The panel preset you have requested has already been defined.");delete e.id,delete e.position,delete e.animation,y[t]=e}function r(){return e.copy(y)}function o(){y={}}function a(){return["$rootElement","$rootScope","$injector","$window",function(t,e,n,i){return new s(y,t,e,n,i)}]}function s(t,n,i,r,o){this._defaultConfigOptions={bindToController:!0,clickOutsideToClose:!1,disableParentScroll:!1,escapeToClose:!1,focusOnOpen:!0,fullscreen:!1,hasBackdrop:!1,propagateContainerEvents:!1,transformTemplate:e.bind(this,this._wrapTemplate),trapFocus:!1,zIndex:m},this._config={},this._presets=t,this._$rootElement=n,this._$rootScope=i,this._$injector=r,this._$window=o,this._$mdUtil=this._$injector.get("$mdUtil"),this._trackedPanels={},this._groups=Object.create(null),this.animation=c.animation,this.xPosition=u.xPosition,this.yPosition=u.yPosition,this.interceptorTypes=l.interceptorTypes,this.closeReasons=l.closeReasons,this.absPosition=u.absPosition}function l(t,e){this._$q=e.get("$q"),this._$mdCompiler=e.get("$mdCompiler"),this._$mdConstant=e.get("$mdConstant"),this._$mdUtil=e.get("$mdUtil"),this._$mdTheming=e.get("$mdTheming"),this._$rootScope=e.get("$rootScope"),this._$animate=e.get("$animate"),this._$mdPanel=e.get("$mdPanel"),this._$log=e.get("$log"),this._$window=e.get("$window"),this._$$rAF=e.get("$$rAF"),this.id=t.id,this.config=t,this.panelContainer=n,this.panelEl=n,this.innerWrapper=n,this.isAttached=!1,this._removeListeners=[],this._topFocusTrap=n,this._bottomFocusTrap=n,this._backdropRef=n,this._restoreScroll=null,this._interceptors=Object.create(null),this._compilerCleanup=null,this._restoreCache={styles:"",classes:""}}function u(t){this._$window=t.get("$window"),this._isRTL=t.get("$mdUtil").isRtl(),this._$mdConstant=t.get("$mdConstant"),this._absolute=!1,this._relativeToEl=n,this._top="",this._bottom="",this._left="",this._right="",this._translateX=[],this._translateY=[],this._positions=[],this._actualPosition=n}function c(t){this._$mdUtil=t.get("$mdUtil"),this._openFrom,this._closeTo,this._animationClass="",this._openDuration,this._closeDuration,this._rawDuration}function d(t){var n=e.isString(t)?document.querySelector(t):t;return e.element(n)}function h(t,e){var n=getComputedStyle(t[0]||t)[e],i=n.indexOf("("),r=n.lastIndexOf(")"),o={x:0,y:0};if(i>-1&&r>-1){var a=n.substring(i+1,r).split(", ").slice(-2);o.x=parseInt(a[0]),o.y=parseInt(a[1])}return o}function f(t,n){if(null!==n&&!e.isUndefined(n)){for(var i,r=Object.keys(t),o=[],a=0;i=r[a];a++){var s=t[i];if(o.push(s),s===n)return}throw new Error("Panel position only accepts the following values:\n"+o.join(" | "))}}function p(t){return e.isNumber(t)?t+"px":t}s.$inject=["presets","$rootElement","$rootScope","$injector","$window"],e.module("material.components.panel",["material.core","material.components.backdrop"]).provider("$mdPanel",t);var m=80,g="_md-panel-hidden",v=e.element('<div class="_md-panel-focus-trap" tabindex="0"></div>'),y={};s.prototype.create=function(t,n){if("string"==typeof t?t=this._getPresetByName(t):"object"!=typeof t||!e.isUndefined(n)&&n||(n=t,t={}),t=t||{},n=n||{},e.isDefined(n.id)&&this._trackedPanels[n.id]){var i=this._trackedPanels[n.id];return e.extend(i.config,n),i}this._config=e.extend({id:n.id||"panel_"+this._$mdUtil.nextUid(),scope:this._$rootScope.$new(!0),attachTo:this._$rootElement},this._defaultConfigOptions,n,t);var r=new l(this._config,this._$injector);return this._trackedPanels[this._config.id]=r,this._config.groupName&&(e.isString(this._config.groupName)&&(this._config.groupName=[this._config.groupName]),e.forEach(this._config.groupName,function(t){r.addToGroup(t)})),this._config.scope.$on("$destroy",e.bind(r,r.detach)),r},s.prototype.open=function(t,e){var n=this.create(t,e);return n.open().then(function(){return n})},s.prototype._getPresetByName=function(t){if(!this._presets[t])throw new Error("mdPanel: The panel preset configuration that you requested does not exist. Use the $mdPanelProvider to create a preset before requesting one.");return this._presets[t]},s.prototype.newPanelPosition=function(){return new u(this._$injector)},s.prototype.newPanelAnimation=function(){return new c(this._$injector)},s.prototype.newPanelGroup=function(t,e){if(!this._groups[t]){e=e||{};var n={panels:[],openPanels:[],maxOpen:e.maxOpen>0?e.maxOpen:1/0};this._groups[t]=n}return this._groups[t]},s.prototype.setGroupMaxOpen=function(t,e){if(!this._groups[t])throw new Error("mdPanel: Group does not exist yet. Call newPanelGroup().");this._groups[t].maxOpen=e},s.prototype._openCountExceedsMaxOpen=function(t){if(this._groups[t]){var e=this._groups[t];return e.maxOpen>0&&e.openPanels.length>e.maxOpen}return!1},s.prototype._closeFirstOpenedPanel=function(t){this._groups[t].openPanels[0].close()},s.prototype._wrapTemplate=function(t){var e=t||"";return'<div class="md-panel-outer-wrapper"><div class="md-panel-inner-wrapper _md-panel-offscreen"><div class="md-panel _md-panel-offscreen">'+e+"</div></div></div>"},s.prototype._wrapContentElement=function(t){var n=e.element('<div class="md-panel-outer-wrapper"><div class="md-panel-inner-wrapper _md-panel-offscreen"></div></div>');return t.addClass("md-panel _md-panel-offscreen"),n.children().eq(0).append(t),n},l.interceptorTypes={CLOSE:"onClose"},l.prototype.open=function(){var t=this;return this._$q(function(n,i){var r=t._done(n,t),o=t._simpleBind(t.show,t),a=function(){t.config.groupName&&e.forEach(t.config.groupName,function(e){t._$mdPanel._openCountExceedsMaxOpen(e)&&t._$mdPanel._closeFirstOpenedPanel(e)})};t.attach().then(o).then(a).then(r)["catch"](i)})},l.prototype.close=function(t){var n=this;return this._$q(function(i,r){n._callInterceptors(l.interceptorTypes.CLOSE).then(function(){var o=n._done(i,n),a=n._simpleBind(n.detach,n),s=n.config.onCloseSuccess||e.noop;s=e.bind(n,s,n,t),n.hide().then(a).then(o).then(s)["catch"](r)},r)})},l.prototype.attach=function(){if(this.isAttached&&this.panelEl)return this._$q.when(this);var t=this;return this._$q(function(n,i){var r=t._done(n,t),o=t.config.onDomAdded||e.noop,a=function(e){return t.isAttached=!0,t._addEventListeners(),e};t._$q.all([t._createBackdrop(),t._createPanel().then(a)["catch"](i)]).then(o).then(r)["catch"](i)})},l.prototype.detach=function(){if(!this.isAttached)return this._$q.when(this);var t=this,n=t.config.onDomRemoved||e.noop,i=function(){return t._removeEventListeners(),t._topFocusTrap&&t._topFocusTrap.parentNode&&t._topFocusTrap.parentNode.removeChild(t._topFocusTrap),t._bottomFocusTrap&&t._bottomFocusTrap.parentNode&&t._bottomFocusTrap.parentNode.removeChild(t._bottomFocusTrap),t._restoreCache.classes&&(t.panelEl[0].className=t._restoreCache.classes),t.panelEl[0].style.cssText=t._restoreCache.styles||"",t._compilerCleanup(),t.panelContainer.remove(),t.isAttached=!1,t._$q.when(t)};return this._restoreScroll&&(this._restoreScroll(),this._restoreScroll=null),this._$q(function(e,r){var o=t._done(e,t);t._$q.all([i(),!t._backdropRef||t._backdropRef.detach()]).then(n).then(o)["catch"](r)})},l.prototype.destroy=function(){var t=this;this.config.groupName&&e.forEach(this.config.groupName,function(e){t.removeFromGroup(e)}),this.config.scope.$destroy(),this.config.locals=null,this.config.onDomAdded=null,this.config.onDomRemoved=null,this.config.onRemoving=null,this.config.onOpenComplete=null,this._interceptors=n},l.prototype.show=function(){if(!this.panelContainer)return this._$q(function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")});if(!this.panelContainer.hasClass(g))return this._$q.when(this);var t=this,n=function(){return t.panelContainer.removeClass(g),t._animateOpen()};return this._$q(function(i,r){var o=t._done(i,t),a=t.config.onOpenComplete||e.noop,s=function(){t.config.groupName&&e.forEach(t.config.groupName,function(e){t._$mdPanel._groups[e].openPanels.push(t)})};t._$q.all([t._backdropRef?t._backdropRef.show():t,n().then(function(){t._focusOnOpen()},r)]).then(a).then(s).then(o)["catch"](r)})},l.prototype.hide=function(){if(!this.panelContainer)return this._$q(function(t,e){e("mdPanel: Panel does not exist yet. Call open() or attach().")});if(this.panelContainer.hasClass(g))return this._$q.when(this);var t=this;return this._$q(function(n,i){var r=t._done(n,t),o=t.config.onRemoving||e.noop,a=function(){t.panelContainer.addClass(g)},s=function(){if(t.config.groupName){var n;e.forEach(t.config.groupName,function(e){e=t._$mdPanel._groups[e],n=e.openPanels.indexOf(t),n>-1&&e.openPanels.splice(n,1)})}},l=function(){var e=t.config.origin;e&&d(e).focus()};t._$q.all([t._backdropRef?t._backdropRef.hide():t,t._animateClose().then(o).then(a).then(s).then(l)["catch"](i)]).then(r,i)})},l.prototype.addClass=function(t,e){if(this._$log.warn("mdPanel: The addClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e||this.panelContainer.hasClass(t)?e&&!this.panelEl.hasClass(t)&&this.panelEl.addClass(t):this.panelContainer.addClass(t)},l.prototype.removeClass=function(t,e){if(this._$log.warn("mdPanel: The removeClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");!e&&this.panelContainer.hasClass(t)?this.panelContainer.removeClass(t):e&&this.panelEl.hasClass(t)&&this.panelEl.removeClass(t)},l.prototype.toggleClass=function(t,e){if(this._$log.warn("mdPanel: The toggleClass method is in the process of being deprecated. Full deprecation is scheduled for the AngularJS Material 1.2 release. To achieve the same results, use the panelContainer or panelEl JQLite elements that are referenced in MdPanelRef."),!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");e?this.panelEl.toggleClass(t):this.panelContainer.toggleClass(t)},l.prototype._compile=function(){var t=this;return t._$mdCompiler.compile(t.config).then(function(n){var i=t.config;if(i.contentElement){var r=n.element;t._restoreCache.styles=r[0].style.cssText,t._restoreCache.classes=r[0].className,t.panelContainer=t._$mdPanel._wrapContentElement(r),t.panelEl=r}else t.panelContainer=n.link(i.scope),t.panelEl=e.element(t.panelContainer[0].querySelector(".md-panel"));return t.innerWrapper=e.element(t.panelContainer[0].querySelector(".md-panel-inner-wrapper")),t._compilerCleanup=n.cleanup,d(t.config.attachTo).append(t.panelContainer),t})},l.prototype._createPanel=function(){var t=this;return this._$q(function(e,n){t.config.locals||(t.config.locals={}),t.config.locals.mdPanelRef=t,t._compile().then(function(){t.config.disableParentScroll&&(t._restoreScroll=t._$mdUtil.disableScrollAround(null,t.panelContainer,{disableScrollMask:!0})),t.config.panelClass&&t.panelEl.addClass(t.config.panelClass),t.config.propagateContainerEvents&&(t.panelContainer.css("pointer-events","none"),t.panelEl.css("pointer-events","all")),t._$animate.pin&&t._$animate.pin(t.panelContainer,d(t.config.attachTo)),t._configureTrapFocus(),t._addStyles().then(function(){e(t)},n)},n)})},l.prototype._addStyles=function(){var t=this;return this._$q(function(e){t.panelContainer.css("z-index",t.config.zIndex),t.innerWrapper.css("z-index",t.config.zIndex+1);var n=function(){t._setTheming(),t.panelEl.removeClass("_md-panel-offscreen"),t.innerWrapper.removeClass("_md-panel-offscreen"),t.panelContainer.addClass(g),e(t)};if(t.config.fullscreen)return t.panelEl.addClass("_md-panel-fullscreen"),void n();var i=t.config.position;return i?void t._$rootScope.$$postDigest(function(){t._updatePosition(!0),t._setTheming(),e(t)}):void n()})},l.prototype._setTheming=function(){this._$mdTheming(this.panelEl),this._$mdTheming(this.panelContainer)},l.prototype.updatePosition=function(t){if(!this.panelContainer)throw new Error("mdPanel: Panel does not exist yet. Call open() or attach().");this.config.position=t,this._updatePosition()},l.prototype._updatePosition=function(t){var e=this.config.position;e&&(e._setPanelPosition(this.innerWrapper),t&&(this.panelEl.removeClass("_md-panel-offscreen"),this.innerWrapper.removeClass("_md-panel-offscreen"),this.panelContainer.addClass(g)),this.innerWrapper.css(u.absPosition.TOP,e.getTop()),this.innerWrapper.css(u.absPosition.BOTTOM,e.getBottom()),this.innerWrapper.css(u.absPosition.LEFT,e.getLeft()),this.innerWrapper.css(u.absPosition.RIGHT,e.getRight()))},l.prototype._focusOnOpen=function(){if(this.config.focusOnOpen){var t=this;this._$rootScope.$$postDigest(function(){var e=t._$mdUtil.findFocusTarget(t.panelEl)||t.panelEl;e.focus()})}},l.prototype._createBackdrop=function(){if(this.config.hasBackdrop){if(!this._backdropRef){var t=this._$mdPanel.newPanelAnimation().openFrom(this.config.attachTo).withAnimation({open:"_md-opaque-enter",close:"_md-opaque-leave"});this.config.animation&&t.duration(this.config.animation._rawDuration);var e={animation:t,attachTo:this.config.attachTo,focusOnOpen:!1,panelClass:"_md-panel-backdrop",zIndex:this.config.zIndex-1};this._backdropRef=this._$mdPanel.create(e)}if(!this._backdropRef.isAttached)return this._backdropRef.attach()}},l.prototype._addEventListeners=function(){this._configureEscapeToClose(),this._configureClickOutsideToClose(),this._configureScrollListener()},l.prototype._removeEventListeners=function(){this._removeListeners&&this._removeListeners.forEach(function(t){t()}),this._removeListeners=[]},l.prototype._configureEscapeToClose=function(){if(this.config.escapeToClose){var t=d(this.config.attachTo),e=this,n=function(t){t.keyCode===e._$mdConstant.KEY_CODE.ESCAPE&&(t.stopPropagation(),t.preventDefault(),e.close(l.closeReasons.ESCAPE))};this.panelContainer.on("keydown",n),t.on("keydown",n),this._removeListeners.push(function(){e.panelContainer.off("keydown",n),t.off("keydown",n)})}},l.prototype._configureClickOutsideToClose=function(){if(this.config.clickOutsideToClose){var t,n=this.config.propagateContainerEvents?e.element(document.body):this.panelContainer,i=function(e){t=e.target},r=this,o=function(e){r.config.propagateContainerEvents?t===r.panelEl[0]||r.panelEl[0].contains(t)||r.close():t===n[0]&&e.target===n[0]&&(e.stopPropagation(),e.preventDefault(),r.close(l.closeReasons.CLICK_OUTSIDE))};n.on("mousedown",i),n.on("mouseup",o),this._removeListeners.push(function(){n.off("mousedown",i),n.off("mouseup",o)})}},l.prototype._configureScrollListener=function(){if(!this.config.disableParentScroll){var t=e.bind(this,this._updatePosition),n=this._$$rAF.throttle(t),i=this,r=function(){n()};this._$window.addEventListener("scroll",r,!0),this._removeListeners.push(function(){i._$window.removeEventListener("scroll",r,!0)})}},l.prototype._configureTrapFocus=function(){if(this.panelEl.attr("tabIndex","-1"),this.config.trapFocus){var t=this.panelEl;this._topFocusTrap=v.clone()[0],this._bottomFocusTrap=v.clone()[0];var e=function(){t.focus()};this._topFocusTrap.addEventListener("focus",e),this._bottomFocusTrap.addEventListener("focus",e),this._removeListeners.push(this._simpleBind(function(){this._topFocusTrap.removeEventListener("focus",e),this._bottomFocusTrap.removeEventListener("focus",e)},this)),t[0].parentNode.insertBefore(this._topFocusTrap,t[0]),t.after(this._bottomFocusTrap)}},l.prototype.updateAnimation=function(t){this.config.animation=t,this._backdropRef&&this._backdropRef.config.animation.duration(t._rawDuration)},l.prototype._animateOpen=function(){this.panelContainer.addClass("md-panel-is-showing");var t=this.config.animation;if(!t)return this.panelContainer.addClass("_md-panel-shown"),this._$q.when(this);var e=this;return this._$q(function(n){var i=e._done(n,e),r=function(){e._$log.warn("mdPanel: MdPanel Animations failed. Showing panel without animating."),i()};t.animateOpen(e.panelEl).then(i,r)})},l.prototype._animateClose=function(){var t=this,e=this.config.animation;return e?this._$q(function(n){var i=function(){t.panelContainer.removeClass("md-panel-is-showing"),t.panelEl.css("transform",""),n(t)},r=function(){t._$log.warn("mdPanel: MdPanel Animations failed. Hiding panel without animating."),i()};e.animateClose(t.panelEl).then(i,r)}):(this.panelContainer.removeClass("md-panel-is-showing"),this.panelContainer.removeClass("_md-panel-shown"),this._$q.when(this))},l.prototype.registerInterceptor=function(t,n){var i=null;if(e.isString(t)?e.isFunction(n)||(i="Interceptor callback must be a function, instead got "+typeof n):i="Interceptor type must be a string, instead got "+typeof t,i)throw new Error("MdPanel: "+i);var r=this._interceptors[t]=this._interceptors[t]||[];return r.indexOf(n)===-1&&r.push(n),this},l.prototype.removeInterceptor=function(t,e){var n=this._interceptors[t]?this._interceptors[t].indexOf(e):-1;return n>-1&&this._interceptors[t].splice(n,1),this},l.prototype.removeAllInterceptors=function(t){return t?this._interceptors[t]=[]:this._interceptors=Object.create(null),this},l.prototype._callInterceptors=function(t){var n=this,i=n._$q,r=n._interceptors&&n._interceptors[t]||[];return r.reduceRight(function(t,r){var o=r&&e.isFunction(r.then),a=o?r:null;return t.then(function(){if(!a)try{a=r(n)}catch(t){a=i.reject(t)}return a})},i.resolve(n))},l.prototype._simpleBind=function(t,e){return function(n){return t.apply(e,n)}},l.prototype._done=function(t,e){return function(){t(e)}},l.prototype.addToGroup=function(t){this._$mdPanel._groups[t]||this._$mdPanel.newPanelGroup(t);var e=this._$mdPanel._groups[t],n=e.panels.indexOf(this);n<0&&e.panels.push(this)},l.prototype.removeFromGroup=function(t){if(!this._$mdPanel._groups[t])throw new Error("mdPanel: The group "+t+" does not exist.");var e=this._$mdPanel._groups[t],n=e.panels.indexOf(this);n>-1&&e.panels.splice(n,1)},l.closeReasons={CLICK_OUTSIDE:"clickOutsideToClose",ESCAPE:"escapeToClose"},u.xPosition={CENTER:"center",ALIGN_START:"align-start",ALIGN_END:"align-end",OFFSET_START:"offset-start",OFFSET_END:"offset-end"},u.yPosition={CENTER:"center",ALIGN_TOPS:"align-tops",
ALIGN_BOTTOMS:"align-bottoms",ABOVE:"above",BELOW:"below"},u.absPosition={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},u.viewportMargin=8,u.prototype.absolute=function(){return this._absolute=!0,this},u.prototype._setPosition=function(t,n){if(t===u.absPosition.RIGHT||t===u.absPosition.LEFT)this._left=this._right="";else{if(t!==u.absPosition.BOTTOM&&t!==u.absPosition.TOP){var i=Object.keys(u.absPosition).join().toLowerCase();throw new Error("mdPanel: Position must be one of "+i+".")}this._top=this._bottom=""}return this["_"+t]=e.isString(n)?n:"0",this},u.prototype.top=function(t){return this._setPosition(u.absPosition.TOP,t)},u.prototype.bottom=function(t){return this._setPosition(u.absPosition.BOTTOM,t)},u.prototype.start=function(t){var e=this._isRTL?u.absPosition.RIGHT:u.absPosition.LEFT;return this._setPosition(e,t)},u.prototype.end=function(t){var e=this._isRTL?u.absPosition.LEFT:u.absPosition.RIGHT;return this._setPosition(e,t)},u.prototype.left=function(t){return this._setPosition(u.absPosition.LEFT,t)},u.prototype.right=function(t){return this._setPosition(u.absPosition.RIGHT,t)},u.prototype.centerHorizontally=function(){return this._left="50%",this._right="",this._translateX=["-50%"],this},u.prototype.centerVertically=function(){return this._top="50%",this._bottom="",this._translateY=["-50%"],this},u.prototype.center=function(){return this.centerHorizontally().centerVertically()},u.prototype.relativeTo=function(t){return this._absolute=!1,this._relativeToEl=d(t),this},u.prototype.addPanelPosition=function(t,e){if(!this._relativeToEl)throw new Error("mdPanel: addPanelPosition can only be used with relative positioning. Set relativeTo first.");return f(u.xPosition,t),f(u.yPosition,e),this._positions.push({x:t,y:e}),this},u.prototype.withOffsetX=function(t){return this._translateX.push(p(t)),this},u.prototype.withOffsetY=function(t){return this._translateY.push(p(t)),this},u.prototype.getTop=function(){return this._top},u.prototype.getBottom=function(){return this._bottom},u.prototype.getLeft=function(){return this._left},u.prototype.getRight=function(){return this._right},u.prototype.getTransform=function(){var t=this._reduceTranslateValues("translateX",this._translateX),e=this._reduceTranslateValues("translateY",this._translateY);return(t+" "+e).trim()},u.prototype._setTransform=function(t){return t.css(this._$mdConstant.CSS.TRANSFORM,this.getTransform())},u.prototype._isOnscreen=function(t){var e=parseInt(this.getLeft()),n=parseInt(this.getTop());if(this._translateX.length||this._translateY.length){var i=this._$mdConstant.CSS.TRANSFORM,r=h(t,i);e+=r.x,n+=r.y}var o=e+t[0].offsetWidth,a=n+t[0].offsetHeight;return e>=0&&n>=0&&a<=this._$window.innerHeight&&o<=this._$window.innerWidth},u.prototype.getActualPosition=function(){return this._actualPosition},u.prototype._reduceTranslateValues=function(t,n){return n.map(function(n){var i=e.isFunction(n)?p(n(this)):n;return t+"("+i+")"},this).join(" ")},u.prototype._setPanelPosition=function(t){if(t.removeClass("_md-panel-position-adjusted"),this._absolute)return void this._setTransform(t);if(this._actualPosition)return this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),void this._constrainToViewport(t);for(var e=0;e<this._positions.length;e++)if(this._actualPosition=this._positions[e],this._calculatePanelPosition(t,this._actualPosition),this._setTransform(t),this._isOnscreen(t))return;this._constrainToViewport(t)},u.prototype._constrainToViewport=function(t){var e=u.viewportMargin,n=this._top,i=this._left;if(this.getTop()){var r=parseInt(this.getTop()),o=t[0].offsetHeight+r,a=this._$window.innerHeight;r<e?this._top=e+"px":o>a&&(this._top=r-(o-a+e)+"px")}if(this.getLeft()){var s=parseInt(this.getLeft()),l=t[0].offsetWidth+s,c=this._$window.innerWidth;s<e?this._left=e+"px":l>c&&(this._left=s-(l-c+e)+"px")}t.toggleClass("_md-panel-position-adjusted",this._top!==n||this._left!==i)},u.prototype._reverseXPosition=function(t){if(t===u.xPosition.CENTER)return t;var e="start",n="end";return t.indexOf(e)>-1?t.replace(e,n):t.replace(n,e)},u.prototype._bidi=function(t){return this._isRTL?this._reverseXPosition(t):t},u.prototype._calculatePanelPosition=function(t,e){var n=t[0].getBoundingClientRect(),i=Math.max(n.width,t[0].clientWidth),r=Math.max(n.height,t[0].clientHeight),o=this._relativeToEl[0].getBoundingClientRect(),a=o.left,s=o.right,l=o.width;switch(this._bidi(e.x)){case u.xPosition.OFFSET_START:this._left=a-i+"px";break;case u.xPosition.ALIGN_END:this._left=s-i+"px";break;case u.xPosition.CENTER:var c=a+.5*l-.5*i;this._left=c+"px";break;case u.xPosition.ALIGN_START:this._left=a+"px";break;case u.xPosition.OFFSET_END:this._left=s+"px"}var d=o.top,h=o.bottom,f=o.height;switch(e.y){case u.yPosition.ABOVE:this._top=d-r+"px";break;case u.yPosition.ALIGN_BOTTOMS:this._top=h-r+"px";break;case u.yPosition.CENTER:var p=d+.5*f-.5*r;this._top=p+"px";break;case u.yPosition.ALIGN_TOPS:this._top=d+"px";break;case u.yPosition.BELOW:this._top=h+"px"}},c.animation={SLIDE:"md-panel-animate-slide",SCALE:"md-panel-animate-scale",FADE:"md-panel-animate-fade"},c.prototype.openFrom=function(t){return t=t.target?t.target:t,this._openFrom=this._getPanelAnimationTarget(t),this._closeTo||(this._closeTo=this._openFrom),this},c.prototype.closeTo=function(t){return this._closeTo=this._getPanelAnimationTarget(t),this},c.prototype.duration=function(t){function n(t){if(e.isNumber(t))return t/1e3}return t&&(e.isNumber(t)?this._openDuration=this._closeDuration=n(t):e.isObject(t)&&(this._openDuration=n(t.open),this._closeDuration=n(t.close))),this._rawDuration=t,this},c.prototype._getPanelAnimationTarget=function(t){return e.isDefined(t.top)||e.isDefined(t.left)?{element:n,bounds:{top:t.top||0,left:t.left||0}}:this._getBoundingClientRect(d(t))},c.prototype.withAnimation=function(t){return this._animationClass=t,this},c.prototype.animateOpen=function(t){var n=this._$mdUtil.dom.animator;this._fixBounds(t);var i={},r=t[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case c.animation.SLIDE:t.css("opacity","1"),i={transitionInClass:"_md-panel-animate-enter",transitionOutClass:"_md-panel-animate-leave"};var s=n.calculateSlideToOrigin(t,this._openFrom)||"";o=n.toTransformCss(s+" "+r);break;case c.animation.SCALE:i={transitionInClass:"_md-panel-animate-enter"};var l=n.calculateZoomToOrigin(t,this._openFrom)||"";o=n.toTransformCss(r+" "+l);break;case c.animation.FADE:i={transitionInClass:"_md-panel-animate-enter"};break;default:i=e.isString(this._animationClass)?{transitionInClass:this._animationClass}:{transitionInClass:this._animationClass.open,transitionOutClass:this._animationClass.close}}return i.duration=this._openDuration,n.translate3d(t,o,a,i)},c.prototype.animateClose=function(t){var n=this._$mdUtil.dom.animator,i={},r=t[0].style.transform||"",o=n.toTransformCss(r),a=n.toTransformCss(r);switch(this._animationClass){case c.animation.SLIDE:t.css("opacity","1"),i={transitionInClass:"_md-panel-animate-leave",transitionOutClass:"_md-panel-animate-enter _md-panel-animate-leave"};var s=n.calculateSlideToOrigin(t,this._closeTo)||"";a=n.toTransformCss(s+" "+r);break;case c.animation.SCALE:i={transitionInClass:"_md-panel-animate-scale-out _md-panel-animate-leave",transitionOutClass:"_md-panel-animate-scale-out _md-panel-animate-enter _md-panel-animate-leave"};var l=n.calculateZoomToOrigin(t,this._closeTo)||"";a=n.toTransformCss(r+" "+l);break;case c.animation.FADE:i={transitionInClass:"_md-panel-animate-fade-out _md-panel-animate-leave",transitionOutClass:"_md-panel-animate-fade-out _md-panel-animate-enter _md-panel-animate-leave"};break;default:i=e.isString(this._animationClass)?{transitionOutClass:this._animationClass}:{transitionInClass:this._animationClass.close,transitionOutClass:this._animationClass.open}}return i.duration=this._closeDuration,n.translate3d(t,o,a,i)},c.prototype._fixBounds=function(t){var e=t[0].offsetWidth,n=t[0].offsetHeight;this._openFrom&&null==this._openFrom.bounds.height&&(this._openFrom.bounds.height=n),this._openFrom&&null==this._openFrom.bounds.width&&(this._openFrom.bounds.width=e),this._closeTo&&null==this._closeTo.bounds.height&&(this._closeTo.bounds.height=n),this._closeTo&&null==this._closeTo.bounds.width&&(this._closeTo.bounds.width=e)},c.prototype._getBoundingClientRect=function(t){if(t instanceof e.element)return{element:t,bounds:t[0].getBoundingClientRect()}}}(),function(){e.module("material.components.progressCircular",["material.core"])}(),function(){function t(t,n,i,r,o,a){function s(a,s,p){function E(e,i,o,s,l,c){function f(t){O.attr("stroke-dashoffset",u(y,_,t,C)),O.attr("transform","rotate("+x+" "+y/2+" "+y/2+")")}var p=++I,g=r.now(),v=i-e,y=d(a.mdDiameter),_=h(y),b=o||n.easeFn,E=s||n.duration,x=-90*(l||0),C=c||100;i===e?f(i):w=m(function T(){var n=t.Math.max(0,t.Math.min(r.now()-g,E));f(b(n,e,v,E)),p===I&&n<E&&(w=m(T))})}function x(){E(A,R,n.easeFnIndeterminate,n.durationIndeterminate,P,75),P=++P%4}function C(){S||(S=o(x,n.durationIndeterminate,0,!1),x(),s.addClass(b).removeAttr("aria-valuenow"))}function T(){S&&(o.cancel(S),S=null,s.removeClass(b))}var w,S,M=s[0],j=e.element(M.querySelector("svg")),O=e.element(M.querySelector("path")),A=n.startIndeterminate,R=n.endIndeterminate,P=0,I=0;i(s),s.toggleClass(_,p.hasOwnProperty("disabled")),a.mdMode===y&&C(),a.$on("$destroy",function(){T(),w&&g(w)}),a.$watchGroup(["value","mdMode",function(){var t=M.disabled;return t===!0||t===!1?t:e.isDefined(s.attr("disabled"))}],function(t,e){var n=t[1],i=t[2],r=e[2],o=0,u=0;if(i!==r&&s.toggleClass(_,!!i),i)T();else if(n!==v&&n!==y&&(n=y,p.$set("mdMode",n)),n===y)e[1]===v&&(o=d(a.mdDiameter),u=h(o),O.attr("d",l(o,u,!0)),O.attr("stroke-dasharray",f(o,u,75))),C();else{var m=c(t[0]),g=c(e[0]);T(),e[1]===y&&(o=d(a.mdDiameter),u=h(o),O.attr("d",l(o,u,!1)),O.attr("stroke-dasharray",f(o,u,100))),s.attr("aria-valuenow",m),E(g,m)}}),a.$watch("mdDiameter",function(t){var e=d(t),n=h(e),i=c(a.value),r=e/2+"px",o={width:e+"px",height:e+"px"};j[0].setAttribute("viewBox","0 0 "+e+" "+e),j.css(o).css("transform-origin",r+" "+r+" "+r),s.css(o),O.attr("stroke-width",n),O.attr("stroke-linecap","square"),a.mdMode==y?(O.attr("d",l(e,n,!0)),O.attr("stroke-dasharray",f(e,n,75)),O.attr("stroke-dashoffset",u(e,n,1,75))):(O.attr("d",l(e,n,!1)),O.attr("stroke-dasharray",f(e,n,100)),O.attr("stroke-dashoffset",u(e,n,0,100)),E(i,i))})}function l(t,e,n){var i=t/2,r=e/2,o=i+","+r,a=r+","+i,s=i-r;return"M"+o+"A"+s+","+s+" 0 1 1 "+a+(n?"":"A"+s+","+s+" 0 0 1 "+o)}function u(t,e,n,i){return p(t,e)*((i-n)/100)}function c(e){return t.Math.max(0,t.Math.min(e||0,100))}function d(t){var e=n.progressSize;if(t){var i=parseFloat(t);return t.lastIndexOf("%")===t.length-1&&(i=i/100*e),i}return e}function h(t){return n.strokeWidth/100*t}function f(t,e,n){return p(t,e)*(n/100)}function p(e,n){return(e-n)*t.Math.PI}var m=t.requestAnimationFrame||t.webkitRequestAnimationFrame||e.noop,g=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||e.noop,v="determinate",y="indeterminate",_="_md-progress-circular-disabled",b="md-mode-indeterminate";return{restrict:"E",scope:{value:"@",mdDiameter:"@",mdMode:"@"},template:'<svg xmlns="http://www.w3.org/2000/svg"><path fill="none"/></svg>',compile:function(t,n){if(t.attr({"aria-valuemin":0,"aria-valuemax":100,role:"progressbar"}),e.isUndefined(n.mdMode)){var i=n.hasOwnProperty("value")?v:y;n.$set("mdMode",i)}else n.$set("mdMode",n.mdMode.trim());return s}}}t.$inject=["$window","$mdProgressCircular","$mdTheming","$mdUtil","$interval","$log"],e.module("material.components.progressCircular").directive("mdProgressCircular",t)}(),function(){function t(){function t(t,e,n,i){return n*t/i+e}function n(t,e,n,i){var r=(t/=i)*t,o=r*t;return e+n*(6*o*r+-15*r*r+10*o)}var i={progressSize:50,strokeWidth:10,duration:100,easeFn:t,durationIndeterminate:1333,startIndeterminate:1,endIndeterminate:149,easeFnIndeterminate:n,easingPresets:{linearEase:t,materialEase:n}};return{configure:function(t){return i=e.extend(i,t||{})},$get:function(){return i}}}e.module("material.components.progressCircular").provider("$mdProgressCircular",t)}(),function(){function t(t,n,i){function r(t,e,n){return t.attr("aria-valuemin",0),t.attr("aria-valuemax",100),t.attr("role","progressbar"),o}function o(i,r,o){function h(){o.$observe("value",function(t){var e=a(t);r.attr("aria-valuenow",e),p()!=c&&m(b,e)}),o.$observe("mdBufferValue",function(t){m(_,a(t))}),o.$observe("disabled",function(t){v=t===!0||t===!1?!!t:e.isDefined(t),r.toggleClass(d,v),E.toggleClass(g,!v)}),o.$observe("mdMode",function(t){switch(g&&E.removeClass(g),t){case c:case u:case s:case l:E.addClass(g="md-mode-"+t);break;default:E.addClass(g="md-mode-"+l)}})}function f(){if(e.isUndefined(o.mdMode)){var t=e.isDefined(o.value),n=t?s:l;r.attr("md-mode",n),o.mdMode=n}}function p(){var t=(o.mdMode||"").trim();if(t)switch(t){case s:case l:case u:case c:break;default:t=l}return t}function m(t,i){if(!v&&p()){var r=n.supplant("translateX({0}%) scale({1},1)",[(i-100)/2,i/100]),o=y({transform:r});e.element(t).css(o)}}t(r);var g,v=o.hasOwnProperty("disabled"),y=n.dom.animator.toCss,_=e.element(r[0].querySelector(".md-bar1")),b=e.element(r[0].querySelector(".md-bar2")),E=e.element(r[0].querySelector(".md-container"));r.attr("md-mode",p()).toggleClass(d,v),f(),h()}function a(t){return Math.max(0,Math.min(t||0,100))}var s="determinate",l="indeterminate",u="buffer",c="query",d="_md-progress-linear-disabled";return{restrict:"E",template:'<div class="md-container"><div class="md-dashed"></div><div class="md-bar md-bar1"></div><div class="md-bar md-bar2"></div></div>',compile:r}}t.$inject=["$mdTheming","$mdUtil","$log"],e.module("material.components.progressLinear",["material.core"]).directive("mdProgressLinear",t)}(),function(){function t(t,n,i,r){function o(o,a,s,l){function u(){a.hasClass("md-focused")||a.addClass("md-focused")}function c(i){var r=i.which||i.keyCode;if(r===n.KEY_CODE.ENTER||i.currentTarget===i.target)switch(r){case n.KEY_CODE.LEFT_ARROW:case n.KEY_CODE.UP_ARROW:i.preventDefault(),d.selectPrevious(),u();break;case n.KEY_CODE.RIGHT_ARROW:case n.KEY_CODE.DOWN_ARROW:i.preventDefault(),d.selectNext(),u();break;case n.KEY_CODE.ENTER:var o=e.element(t.getClosest(a[0],"form"));o.length>0&&o.triggerHandler("submit")}}a.addClass("_md"),i(a);var d=l[0],h=l[1]||t.fakeNgModel();d.init(h),o.mouseActive=!1,a.attr({role:"radiogroup",tabIndex:a.attr("tabindex")||"0"}).on("keydown",c).on("mousedown",function(t){o.mouseActive=!0,r(function(){o.mouseActive=!1},100)}).on("focus",function(){o.mouseActive===!1&&d.$element.addClass("md-focused")}).on("blur",function(){d.$element.removeClass("md-focused")})}function a(t){this._radioButtonRenderFns=[],this.$element=t}function s(){return{init:function(t){this._ngModelCtrl=t,this._ngModelCtrl.$render=e.bind(this,this.render)},add:function(t){this._radioButtonRenderFns.push(t)},remove:function(t){var e=this._radioButtonRenderFns.indexOf(t);e!==-1&&this._radioButtonRenderFns.splice(e,1)},render:function(){this._radioButtonRenderFns.forEach(function(t){t()})},setViewValue:function(t,e){this._ngModelCtrl.$setViewValue(t,e),this.render()},getViewValue:function(){return this._ngModelCtrl.$viewValue},selectNext:function(){return l(this.$element,1)},selectPrevious:function(){return l(this.$element,-1)},setActiveDescendant:function(t){this.$element.attr("aria-activedescendant",t)},isDisabled:function(){return this.$element[0].hasAttribute("disabled")}}}function l(n,i){var r=t.iterator(n[0].querySelectorAll("md-radio-button"),!0);if(r.count()){var o=function(t){return!e.element(t).attr("disabled")},a=n[0].querySelector("md-radio-button.md-checked"),s=r[i<0?"previous":"next"](a,o)||r.first();e.element(s).triggerHandler("click")}}return a.prototype=s(),{restrict:"E",controller:["$element",a],require:["mdRadioGroup","?ngModel"],link:{pre:o}}}function n(t,e,n){function i(i,o,a,s){function l(){if(!s)throw"RadioButton: No RadioGroupController could be found.";s.add(c),a.$observe("value",c),o.on("click",u).on("$destroy",function(){s.remove(c)})}function u(t){o[0].hasAttribute("disabled")||s.isDisabled()||i.$apply(function(){s.setViewValue(a.value,t&&t.type)})}function c(){var t=s.getViewValue()==a.value;t!==h&&("md-radio-group"!==o[0].parentNode.nodeName.toLowerCase()&&o.parent().toggleClass(r,t),t&&s.setActiveDescendant(o.attr("id")),h=t,o.attr("aria-checked",t).toggleClass(r,t))}function d(n,i){n.attr({id:a.id||"radio_"+e.nextUid(),role:"radio","aria-checked":"false"}),t.expectWithText(n,"aria-label")}var h;n(o),d(o,i),a.ngValue?e.nextTick(l,!1):l()}var r="md-checked";return{restrict:"E",require:"^mdRadioGroup",transclude:!0,template:'<div class="md-container" md-ink-ripple md-ink-ripple-checkbox><div class="md-off"></div><div class="md-on"></div></div><div ng-transclude class="md-label"></div>',link:i}}t.$inject=["$mdUtil","$mdConstant","$mdTheming","$timeout"],n.$inject=["$mdAria","$mdUtil","$mdTheming"],e.module("material.components.radioButton",["material.core"]).directive("mdRadioGroup",t).directive("mdRadioButton",n)}(),function(){function i(t,i,r,o,a,s,l,u){function d(u,d){var h=i.parseAttributeBoolean(d.multiple),f=e.element("<md-select-value><span></span></md-select-value>");f.append('<span class="md-select-icon" aria-hidden="true"></span>'),f.addClass("md-select-value"),f[0].hasAttribute("id")||f.attr("id","select_value_label_"+i.nextUid());var p=u.find("md-content");if(p.length||(u.append(e.element("<md-content>").append(u.contents())),p=u.find("md-content")),p.attr("role","listbox"),p.attr("tabindex","-1"),h?p.attr("aria-multiselectable","true"):p.attr("aria-multiselectable","false"),d.mdOnOpen&&(u.find("md-content").prepend(e.element('<div> <md-progress-circular md-mode="indeterminate" ng-if="$$loadingAsyncDone === false" md-diameter="25px"></md-progress-circular></div>')),u.find("md-option").attr("ng-show","$$loadingAsyncDone")),d.name){var m=e.element('<select class="md-visually-hidden"></select>');m.attr({name:d.name,"aria-hidden":"true",tabindex:"-1"});var g=u.find("md-option");e.forEach(g,function(t){var n=e.element("<option>"+t.innerHTML+"</option>");t.hasAttribute("ng-value")?n.attr("ng-value",t.getAttribute("ng-value")):t.hasAttribute("value")&&n.attr("value",t.getAttribute("value")),m.append(n)}),m.append('<option ng-value="'+d.ngModel+'" selected></option>'),u.parent().append(m)}var v=h?"multiple":"",y=d.ngModelOptions?i.supplant('ng-model-options="{0}"',[d.ngModelOptions]):"",_='<div class="md-select-menu-container" aria-hidden="true" role="presentation">  <md-select-menu role="presentation" {0} {1}>{2}</md-select-menu></div>';return _=i.supplant(_,[v,y,u.html()]),u.empty().append(f),u.append(_),d.tabindex||d.$set("tabindex",0),function(u,d,h,f){function p(){var t=d.attr("aria-label")||d.attr("placeholder");!t&&C&&C.label&&(t=C.label.text()),a.expect(d,"aria-label",t)}function m(){N=N||k.find("md-select-menu").controller("mdSelectMenu"),T.setSelectValueText(N.getSelectedLabels())}function g(){i.nextTick(function(){C&&C.setHasValue(N.getSelectedLabels().length>0||(d[0].validity||{}).badInput)})}function v(){var t=e.element(d[0].querySelector(".md-select-menu-container"));return D=u,h.mdContainerClass&&t.addClass(h.mdContainerClass),N=t.find("md-select-menu").controller("mdSelectMenu"),N.init(w,h),d.on("$destroy",function(){t.remove()}),t}function y(t){if(r.isNavigationKey(t))t.preventDefault(),_(t);else if(c(t,r)){t.preventDefault();var n=N.optNodeForKeyboardSearch(t);if(!n||n.hasAttribute("disabled"))return;var i=e.element(n).controller("mdOption");N.isMultiple||e.forEach(Object.keys(N.selected),function(t){N.deselect(t)}),N.select(i.hashKey,i.value),N.refreshViewValue()}}function _(){D._mdSelectIsOpen=!0,d.attr("aria-expanded","true"),t.show({scope:D,preserveScope:!0,skipCompile:!0,element:k,target:d[0],selectCtrl:T,preserveElement:!0,hasBackdrop:!0,loadingAsync:!!h.mdOnOpen&&(u.$eval(h.mdOnOpen)||!0)})["finally"](function(){D._mdSelectIsOpen=!1,d.removeAttr("aria-expanded"),d.removeAttr("aria-activedescendant"),w.$setTouched()})}var b,E,x=!0,C=f[0],T=f[1],w=f[2],S=f[3],M=d.find("md-select-value"),j=e.isDefined(h.readonly),O=i.parseAttributeBoolean(h.mdNoAsterisk),A=e.isDefined(h.ariaLabelledby),R=d.find("md-content");if(O&&d.addClass("md-no-asterisk"),C){var P=C.isErrorGetter||function(){return w.$invalid&&(w.$touched||S&&S.$submitted)};if(C.input&&d.find("md-select-header").find("input")[0]!==C.input[0])throw new Error("<md-input-container> can only have *one* child <input>, <textarea> or <select> element!");if(C.input=d,C.label)C.label.attr("aria-hidden","true"),R.attr("aria-label",C.label.text());else{a.expect(d,"aria-label",d.attr("placeholder"));var I=d.attr("aria-label");I||(I=d.attr("placeholder")),R.attr("aria-label",I)}var L=u.$watch(P,C.setInvalid)}var k,D,N;k=v(),o(d);var F=w.$render;w.$render=function(){F(),m(),g()};var $=h.$observe("placeholder",w.$render),G=h.$observe("required",function(t){C&&C.label&&C.label.toggleClass("md-required",t&&!O),d.removeAttr("aria-required"),t?R.attr("aria-required","true"):R.removeAttr("aria-required")});if(T.setSelectValueText=function(t){var e=t===n||""===t,i=!1;if(T.setIsPlaceholder(!t),h.mdSelectedText&&h.mdSelectedHtml)throw Error("md-select cannot have both `md-selected-text` and `md-selected-html`");if(h.mdSelectedText||h.mdSelectedHtml)t=s(h.mdSelectedText||h.mdSelectedHtml)(u),i=!0;else if(e){var r=h.placeholder||(C&&C.label?C.label.text():"");t=r||"",i=!0}var o=M.children().eq(0);h.mdSelectedHtml?o.html(l.getTrustedHtml(t)):i?o.text(t):o.html(t),e?(M.attr("aria-hidden","true"),A||d.removeAttr("aria-labelledby")):(M.removeAttr("aria-hidden"),A||d.attr("aria-labelledby",d[0].id+" "+M[0].id))},T.setIsPlaceholder=function(t){t?(M.addClass("md-select-placeholder"),C&&C.label&&C.label.addClass("md-placeholder")):(M.removeClass("md-select-placeholder"),C&&C.label&&C.label.removeClass("md-placeholder"))},!j){var U=function(t){x&&(x=!1,D._mdSelectIsOpen&&t.stopImmediatePropagation()),C&&C.setFocused(!1),g()},B=function(t){C&&C.setFocused(!0)};d.on("focus",B),d.on("blur",U)}T.triggerClose=function(){s(h.mdOnClose)(u)},u.$$postDigest(function(){p(),m()});var H=u.$watch(function(){return N.getSelectedLabels()},m),V=h.$observe("ngMultiple",function(t){E&&E();var e=s(t);E=u.$watch(function(){return e(u)},function(t,e){var i=k.find("md-select-menu");if(t!==n||e!==n){if(t){var r={multiple:"multiple"};d.attr(r),i.attr(r)}else d.removeAttr("multiple"),i.removeAttr("multiple");d.find("md-content").attr("aria-multiselectable",t?"true":"false"),k&&(N.setMultiple(Boolean(t)),F=w.$render,w.$render=function(){F(),m(),g()},w.$render())}})}),z=h.$observe("disabled",function(t){e.isString(t)&&(t=!0),b!==n&&b===t||(b=t,t?d.attr({"aria-disabled":"true"}).removeAttr("tabindex").removeAttr("aria-expanded").removeAttr("aria-haspopup").off("click",_).off("keydown",y):d.attr({tabindex:h.tabindex,"aria-haspopup":"listbox"}).removeAttr("aria-disabled").on("click",_).on("keydown",y))});h.hasOwnProperty("disabled")||h.hasOwnProperty("ngDisabled")||(d.attr({"aria-disabled":"false"}),d.on("click",_),d.on("keydown",y));var W={role:"button","aria-haspopup":"listbox"};d[0].hasAttribute("id")||(W.id="select_"+i.nextUid());var q="select_container_"+i.nextUid();k.attr("id",q);var Y="select_listbox_"+i.nextUid();k.find("md-content").attr("id",Y),d.find("md-select-menu").length||(W["aria-owns"]=Y),d.attr(W),u.$on("$destroy",function(){G&&G(),z&&z(),E&&E(),V&&V(),H&&H(),$&&$(),L&&L(),d.off("focus"),d.off("blur"),t.destroy()["finally"](function(){C&&(C.setFocused(!1),C.setHasValue(!1),C.input=null),w.$setTouched()})})}}return{restrict:"E",require:["^?mdInputContainer","mdSelect","ngModel","?^form"],compile:d,controller:function(){}}}function r(t,i,r,o){function a(t,n,r,a){function s(t){13!==t.keyCode&&32!==t.keyCode||l(t)}function l(n){var r=i.getClosest(n.target,"md-option"),o=r&&e.element(r).data("$mdOptionController");if(!r||!o)return void(n.target&&n.target.parentNode&&"MD-SELECT-HEADER"===n.target.parentNode.tagName&&n.stopImmediatePropagation());if(r.hasAttribute("disabled"))return void n.stopImmediatePropagation();var a=u.hashGetter(o.value),s=e.isDefined(u.selected[a]);t.$apply(function(){u.isMultiple?s?u.deselect(a):u.select(a,o.value):s||(e.forEach(Object.keys(u.selected),function(t){u.deselect(t)}),u.select(a,o.value)),u.refreshViewValue()})}var u=a[0];n.addClass("_md"),o(n),n.on("click",l),n.on("keypress",s)}function s(r,o,a){function s(){var t,e,n=a.find("md-optgroup");if(n.length)for(e=a.find("md-option"),t=0;t<e.length;t++)e[t].setAttribute("aria-setsize",e.length),e[t].setAttribute("aria-posinset",t+1)}function l(){var t=m.ngModel.$modelValue||m.ngModel.$viewValue||[];if(e.isArray(t)){var n=Object.keys(m.selected),i=t.map(m.hashGetter),r=n.filter(function(t){return i.indexOf(t)===-1});r.forEach(m.deselect),i.forEach(function(e,n){m.select(e,t[n])})}}function u(){var t=m.ngModel.$viewValue||m.ngModel.$modelValue;Object.keys(m.selected).forEach(m.deselect),m.select(m.hashGetter(t),t)}var c,d,f,p,m=this,g="",v=300;m.isMultiple=e.isDefined(o.multiple),m.selected={},m.options={},r.$watchCollection(function(){return m.options},function(){m.ngModel.$render(),s()}),m.setMultiple=function(t){function n(t,n){return e.isArray(t||n||[])}var o=m.ngModel;if(c=c||o.$isEmpty,m.isMultiple=t,m.isMultiple){var a=!1,s=function(t){a?l(t):i.nextTick(function(){l(t),a=!0})};o.$validators["md-multiple"]=n,o.$render=s,r.$watchCollection(m.modelBinding,function(t){n(t)&&s(t)}),o.$isEmpty=function(t){return!t||0===t.length}}else delete o.$validators["md-multiple"],o.$render=u},m.optNodeForKeyboardSearch=function(t){var r,o;for(d&&clearTimeout(d),d=setTimeout(function(){d=n,g="",p=n,f=n},v),g+=t.key,r=new RegExp("^"+i.sanitize(g),"i"),f||(f=a.find("md-option"),p=new Array(f.length),e.forEach(f,function(t,e){p[e]=t.textContent.trim()})),o=0;o<p.length;++o)if(r.test(p[o]))return f[o]},m.init=function(n,a){function s(t){return e.isObject(t)&&!e.isArray(t)?"object_"+(t.$$mdSelectId||(t.$$mdSelectId=++h)):t+""}m.ngModel=n,m.modelBinding=a.ngModel,m.ngModel.$isEmpty=function(t){return!m.options[m.hashGetter(t)]},o.ngModelOptions?m.hashGetter=function(n){var i=t(o.ngModelOptions)(r),a=i&&i.trackBy;return a?t(a)(r,{$value:n}):e.isObject(n)?s(n):n}:m.hashGetter=s,m.setMultiple(m.isMultiple),a.hasOwnProperty("mdSelectOnlyOption")&&i.nextTick(function(){var t=Object.keys(m.options);if(1===t.length){var e=m.options[t[0]];m.deselect(Object.keys(m.selected)[0]),m.select(m.hashGetter(e.value),e.value),m.refreshViewValue(),m.ngModel.$setPristine()}},!1)},m.setActiveDescendant=function(t){e.isDefined(t)?a.find("md-content").attr("aria-activedescendant",t):a.find("md-content").removeAttr("aria-activedescendant")},m.getSelectedLabels=function(t){t=t||{};var e=t.mode||"html",n=i.nodesToArray(a[0].querySelectorAll("md-option[selected]"));if(n.length){var r;return"html"===e?r=function(t){if(t.hasAttribute("md-option-empty"))return"";var e=t.innerHTML,n=t.querySelector(".md-ripple-container");n&&(e=e.replace(n.outerHTML,""));var i=t.querySelector(".md-container");return i&&(e=e.replace(i.outerHTML,"")),e}:"aria"===e&&(r=function(t){return t.hasAttribute("aria-label")?t.getAttribute("aria-label"):t.textContent}),i.uniq(n.map(r)).join(", ")}return""},m.select=function(t,e){var n=m.options[t];n&&n.setSelected(!0,m.isMultiple),m.selected[t]=e},m.deselect=function(t){var e=m.options[t];e&&e.setSelected(!1,m.isMultiple),delete m.selected[t]},m.addOption=function(t,n){if(e.isDefined(m.options[t]))throw new Error('Duplicate md-option values are not allowed in a select. Duplicate value "'+n.value+'" found.');m.options[t]=n,e.isDefined(m.selected[t])&&(m.select(t,n.value),e.isDefined(m.ngModel.$$rawModelValue)&&m.hashGetter(m.ngModel.$$rawModelValue)===t&&m.ngModel.$validate(),m.refreshViewValue())},m.removeOption=function(t){delete m.options[t]},m.refreshViewValue=function(){function t(t,n){if(m.isMultiple){if(e.isArray(t)){if(t.length!==n.length)return!1;var i=t.map(function(t){return m.hashGetter(t)});return n.every(function(t){var e=m.hashGetter(t);return i.some(function(t){return t===e})})}return!1}return m.hashGetter(t)===m.hashGetter(n)}var n,i=[];for(var r in m.selected)(n=m.options[r])?i.push(n.value):i.push(m.selected[r]);var o=m.isMultiple?i:i[0],a=m.ngModel.$modelValue;t(a,o)||(m.ngModel.$setViewValue(o),m.ngModel.$render())}}return s.$inject=["$scope","$attrs","$element"],{restrict:"E",require:["mdSelectMenu"],scope:!1,controller:s,link:{pre:a}}}function o(t,n,i){function r(t,n){return t.append(e.element('<div class="md-text">').append(t.contents())),t.attr("tabindex",n.tabindex||"0"),o(n)||t.attr("md-option-empty",""),s}function o(t){var e=t.value,n=t.ngValue;return e||n}function s(r,o,a,s){function l(t,e,n){if(!d.hashGetter)return void(n||r.$$postDigest(function(){l(t,e,!0)}));var i=d.hashGetter(e,r),o=d.hashGetter(t,r);c.hashKey=o,c.value=t,d.removeOption(i,c),d.addOption(o,c)}function u(){var t={role:"option"};d.isMultiple&&(t["aria-selected"]="false"),o[0].hasAttribute("id")||(t.id="select_option_"+n.nextUid()),o.attr(t)}var c=s[0],d=s[1];i(o),d.isMultiple&&(o.addClass("md-checkbox-enabled"),o.prepend(f.clone())),e.isDefined(a.ngValue)?r.$watch(a.ngValue,function(t,e){l(t,e),o.removeAttr("aria-checked")}):e.isDefined(a.value)?l(a.value):r.$watch(function(){return o.text().trim()},l),a.$observe("disabled",function(t){t?o.attr("tabindex","-1"):o.attr("tabindex","0")}),r.$$postDigest(function(){a.$observe("selected",function(t){e.isDefined(t)&&("string"==typeof t&&(t=!0),t?(d.isMultiple||d.deselect(Object.keys(d.selected)[0]),d.select(c.hashKey,c.value)):d.deselect(c.hashKey),d.refreshViewValue())})}),t.attach(r,o),u(),r.$on("$destroy",function(){d.removeOption(c.hashKey,c)})}return{restrict:"E",require:["mdOption","^^mdSelectMenu"],controller:a,compile:r}}function a(t){this.setSelected=function(e,n){e?t.attr({selected:"true","aria-selected":"true"}):e||(t.removeAttr("selected"),n?t.attr("aria-selected","false"):t.removeAttr("aria-selected"))}}function s(){function t(t,n){function i(){return t.parent().find("md-select-header").length}function r(){var i=t.find("label");i.length||(i=e.element("<label>"),t.prepend(i)),i.addClass("md-container-ignore"),i.attr("aria-hidden","true"),n.label&&i.text(n.label),t.attr("aria-label",i.text())}i()||r(),t.attr("role","group")}return{restrict:"E",compile:t}}function l(){return{restrict:"E"}}function u(n){function i(n,i,l,u,h,f,p,m,g){function v(t,e,n){function i(){return o=p(e,{addClass:"md-leave"}),o.start()}function r(){a(),e.removeClass("md-active").attr("aria-hidden","true").css({display:"none",top:"",right:"",bottom:"",left:"","font-size":"","min-width":""}),_(n),n.$destroy||(n.restoreFocus?n.target.focus():l.nextTick(function(){n.target.triggerHandler("blur")},!0))}var o=null,a=t.$on("$destroy",function(){o.end()});return n=n||{},n.cleanupInteraction(),n.cleanupResizing(),n.hideBackdrop(),n.$destroy===!0?r():i().then(r)}function y(t,r,o){function a(t,e,n){return n.parent!==e.parent()&&e.parent().attr("aria-owns",e.find("md-content").attr("id")),n.parent.append(e),h(function(t,n){try{p(e,{removeClass:"md-leave",duration:0}).start().then(s).then(t)}catch(i){n(i)}})}function s(){return h(function(e){if(o.isRemoved)return h.reject(!1);var n=b(t,r,o);n.container.element.css(x.toCss(n.container.styles)),n.dropDown.element.css(x.toCss(n.dropDown.styles)),f(function(){r.addClass("md-active"),n.dropDown.element.css(x.toCss({transform:""})),y(o.focusedNode),e()})})}function d(t,e,n){return n.disableParentScroll&&!l.getClosest(n.target,"MD-DIALOG")?n.restoreScroll=l.disableScrollAround(n.element,n.parent):n.disableParentScroll=!1,n.hasBackdrop&&(n.backdrop=l.createBackdrop(t,"md-select-backdrop md-click-catcher"),m.enter(n.backdrop,g[0].body,null,{duration:0})),function(){n.backdrop&&n.backdrop.remove(),n.disableParentScroll&&n.restoreScroll(),delete n.restoreScroll}}function v(t,e,n){
var i=o.contentEl[0];if(e){if(t&&t.classList.remove("md-focused"),e.classList.add("md-focused"),n&&n.setActiveDescendant&&n.setActiveDescendant(e.id),i.scrollHeight>i.clientHeight){var r=i.clientHeight+i.scrollTop,a=e.offsetTop+e.offsetHeight;a>r?i.scrollTop=a-i.clientHeight:e.offsetTop<i.scrollTop&&(i.scrollTop=e.offsetTop)}o.focusedNode=e,n&&n.refreshViewValue&&n.refreshViewValue()}}function y(t){var e;t&&!t.hasAttribute("disabled")&&(e=o.selectEl.controller("mdSelectMenu"),v(null,t,e))}function _(t,n){var i=r.find("md-select-menu");if(!n.target)throw new Error(l.supplant(E,[n.target]));e.extend(n,{isRemoved:!1,target:e.element(n.target),parent:e.element(n.parent),selectEl:i,contentEl:r.find("md-content"),optionNodes:i[0].getElementsByTagName("md-option")})}function T(){var n=function(t,e,n){return function(){if(!n.isRemoved){var i=b(t,e,n),r=i.container,o=i.dropDown;r.element.css(x.toCss(r.styles)),o.element.css(x.toCss(o.styles))}}}(t,r,o),i=e.element(u);return i.on("resize",n),i.on("orientationchange",n),function(){i.off("resize",n),i.off("orientationchange",n)}}function w(){o.loadingAsync&&!o.isRemoved&&(t.$$loadingAsyncDone=!1,h.when(o.loadingAsync).then(function(){t.$$loadingAsyncDone=!0,delete o.loadingAsync}).then(function(){f(s)}))}function S(){function t(t){t.preventDefault(),t.stopPropagation(),o.restoreFocus=!1,l.nextTick(n.hide,!0)}function e(t){switch(t.preventDefault(),t.stopPropagation(),t.keyCode){case C.UP_ARROW:return u();case C.DOWN_ARROW:return s();case C.SPACE:case C.ENTER:o.focusedNode&&(h.triggerHandler({type:"click",target:o.focusedNode}),t.preventDefault()),d(t);break;case C.TAB:case C.ESCAPE:t.stopPropagation(),t.preventDefault(),o.restoreFocus=!0,l.nextTick(n.hide,!0);break;default:if(c(t,i)){var e=f.optNodeForKeyboardSearch(t);e&&!e.hasAttribute("disabled")&&v(o.focusedNode,e,f)}}}function a(t){var e,n=l.nodesToArray(o.optionNodes),i=n.indexOf(o.focusedNode),r=n[i];do i===-1?i=0:"next"===t&&i<n.length-1?i++:"prev"===t&&i>0&&i--,e=n[i],e.hasAttribute("disabled")&&(e=null);while(!e&&i<n.length-1&&i>0);v(r,e,f)}function s(){a("next")}function u(){a("prev")}function d(t){function e(){var e=!1;if(t&&t.currentTarget.children.length>0){var n=t.currentTarget.children[0],i=n.scrollHeight>n.clientHeight;if(i&&n.children.length>0){var r=t.pageX-t.currentTarget.getBoundingClientRect().left;r>n.querySelector("md-option").offsetWidth&&(e=!0)}}return e}t&&"click"===t.type&&t.currentTarget!==h[0]||e()||o.focusedNode&&o.focusedNode.hasAttribute&&!o.focusedNode.hasAttribute("disabled")&&(t.preventDefault(),t.stopPropagation(),f.isMultiple||(o.restoreFocus=!0,l.nextTick(function(){n.hide(f.ngModel.$viewValue),o.focusedNode.classList.remove("md-focused")},!0)))}if(!o.isRemoved){var h=o.selectEl,f=h.controller("mdSelectMenu")||{};o.contentEl;return r.addClass("md-clickable"),o.backdrop&&o.backdrop.on("click",t),h.on("keydown",e),h.on("click",d),function(){o.backdrop&&o.backdrop.off("click",t),h.off("keydown",e),h.off("click",d),r.removeClass("md-clickable"),o.isRemoved=!0}}}return w(),_(t,o),o.hideBackdrop=d(t,r,o),a(t,r,o).then(function(t){return r.attr("aria-hidden","false"),o.alreadyOpen=!0,o.cleanupInteraction=S(),o.cleanupResizing=T(),o.contentEl[0].focus(),t},o.hideBackdrop)}function _(t){var e=t.selectCtrl;if(e){var n=t.selectEl.controller("mdSelectMenu");e.setSelectValueText(n?n.getSelectedLabels():""),e.triggerClose()}}function b(n,i,c){var h,f=i[0],p=c.target[0].children[0],m=g[0].body,v=c.selectEl[0],y=c.contentEl[0],_=m.getBoundingClientRect(),b=p.getBoundingClientRect(),E=!1,x={left:_.left+d,top:d,bottom:_.height-d,right:_.width-d-(l.floatingScrollbars()?16:0)},C={top:b.top-x.top,left:b.left-x.left,right:x.right-(b.left+b.width),bottom:x.bottom-(b.top+b.height)},T=_.width-2*d,w=v.querySelector("md-option[selected]"),S=v.getElementsByTagName("md-option"),M=v.getElementsByTagName("md-optgroup"),j=s(i,y),O=r(c.loadingAsync);h=O?y.firstElementChild||y:w?w:M.length?M[0]:S.length?S[0]:y.firstElementChild||y,y.offsetWidth>T?y.style["max-width"]=T+"px":y.style.maxWidth=null,E&&(y.style["min-width"]=b.width+"px"),j&&v.classList.add("md-overflow");var A=h;"MD-OPTGROUP"===(A.tagName||"").toUpperCase()&&(A=S[0]||y.firstElementChild||y,h=A),c.focusedNode=A,f.style.display="block";var R=v.getBoundingClientRect(),P=a(h);if(h){var I=u.getComputedStyle(h);P.paddingLeft=parseInt(I.paddingLeft,10)||0,P.paddingRight=parseInt(I.paddingRight,10)||0}if(j){var L=y.offsetHeight/2;y.scrollTop=P.top+P.height/2-L,C.top<L?y.scrollTop=Math.min(P.top,y.scrollTop+L-C.top):C.bottom<L&&(y.scrollTop=Math.max(P.top+P.height-R.height,y.scrollTop-L+C.bottom))}var k,D,N,F,$;E?(k=b.left,D=b.top+b.height,N="50% 0",D+R.height>x.bottom&&(D=b.top-R.height,N="50% 100%")):(k=b.left+P.left-P.paddingLeft+2,D=Math.floor(b.top+b.height/2-P.height/2-P.top+y.scrollTop)+2,N=P.left+b.width/2+"px "+(P.top+P.height/2-y.scrollTop)+"px 0px",F=Math.min(b.width+P.paddingLeft+P.paddingRight,T),$=t.getComputedStyle(p)["font-size"]);var G=f.getBoundingClientRect(),U=Math.round(100*Math.min(b.width/R.width,1))/100,B=Math.round(100*Math.min(b.height/R.height,1))/100;return{container:{element:e.element(f),styles:{left:Math.floor(o(x.left,k,x.right-F)),top:Math.floor(o(x.top,D,x.bottom-G.height)),"min-width":F,"font-size":$}},dropDown:{element:e.element(v),styles:{transformOrigin:N,transform:c.alreadyOpen?"":l.supplant("scale({0},{1})",[U,B])}}}}var E="$mdSelect.show() expected a target element in options.target but got '{0}'!",x=l.dom.animator,C=i.KEY_CODE;return{parent:"body",themable:!0,onShow:y,onRemove:v,hasBackdrop:!0,disableParentScroll:!0}}function r(t){return t&&e.isFunction(t.then)}function o(t,e,n){return Math.max(t,Math.min(e,n))}function a(t){return t?{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}:{left:0,top:0,width:0,height:0}}function s(t,e){var n=!1;try{var i=t[0].style.display;t[0].style.display="block",n=e.scrollHeight>e.offsetHeight,t[0].style.display=i}finally{}return n}return i.$inject=["$mdSelect","$mdConstant","$mdUtil","$window","$q","$$rAF","$animateCss","$animate","$document"],n("$mdSelect").setDefaults({methods:["target"],options:i})}function c(t,e){var n=String.fromCharCode(t.keyCode),i=t.keyCode<=31;return n&&n.length&&!i&&!e.isMetaKey(t)&&!e.isFnLockKey(t)&&!e.hasModifierKey(t)}i.$inject=["$mdSelect","$mdUtil","$mdConstant","$mdTheming","$mdAria","$parse","$sce","$injector"],r.$inject=["$parse","$mdUtil","$mdConstant","$mdTheming"],o.$inject=["$mdButtonInkRipple","$mdUtil","$mdTheming"],u.$inject=["$$interimElementProvider"],a.$inject=["$element"];var d=8,h=0,f=e.element('<div class="md-container"><div class="md-icon"></div></div>');e.module("material.components.select",["material.core","material.components.backdrop"]).directive("mdSelect",i).directive("mdSelectMenu",r).directive("mdOption",o).directive("mdOptgroup",s).directive("mdSelectHeader",l).provider("$mdSelect",u)}(),function(){function t(t,e){return["$mdUtil","$window",function(n,i){return{restrict:"A",multiElement:!0,link:function(r,o,a){var s=r.$on("$md-resize-enable",function(){s();var l=o[0],u=l.nodeType===i.Node.ELEMENT_NODE?i.getComputedStyle(l):{};r.$watch(a[t],function(t){if(!!t===e){n.nextTick(function(){r.$broadcast("$md-resize")});var i={cachedTransitionStyles:u};n.dom.animator.waitTransitionEnd(o,i).then(function(){r.$broadcast("$md-resize")})}})})}}}]}e.module("material.components.showHide",["material.core"]).directive("ngShow",t("ngShow",!0)).directive("ngHide",t("ngHide",!1))}(),function(){function t(t,i,r,o){function a(t,n){var o=function(){return!1},a=function(){return r.when(i.supplant(u,[n||""]))};return e.extend({isLockedOpen:o,isOpen:o,toggle:a,open:a,close:a,onClose:e.noop,then:function(t){return l(n).then(t||e.noop)}},t)}function s(e,r){var a=t.get(e);return a||r?a:(o.error(i.supplant(u,[e||""])),n)}function l(e){return t.when(e)["catch"](o.error)}var u="SideNav '{0}' is not available! Did you use md-component-id='{0}'?",c={find:s,waitFor:l};return function(t,n){if(e.isUndefined(t))return c;var i=n===!0,r=c.find(t,i);return!r&&i?c.waitFor(t):!r&&e.isUndefined(n)?a(c,t):r}}function i(){return{restrict:"A",require:"^mdSidenav",link:function(t,e,n,i){}}}function r(t,i,r,o,a,s,l,u,c,d,h,f,p){function m(l,m,g,v){function y(t,e){l.isLockedOpen=t,t===e?m.toggleClass("md-locked-open",!!t):s[t?"addClass":"removeClass"](m,"md-locked-open"),S&&S.toggleClass("md-locked-open",!!t)}function _(t){var e,n=i.findFocusTarget(m)||i.findFocusTarget(m,"[md-sidenav-focus]")||m,r=m.parent();return M||(r[t?"on":"off"]("keydown",C),S&&S[t?"on":"off"]("click",T)),e=b(r,t),t&&(R=h[0].activeElement,j=a.getLastInteractionType()),E(t),P=d.all([t&&S?s.enter(S,r):S?s.leave(S):d.when(!0),s[t?"removeClass":"addClass"](m,"md-closed")]).then(function(){l.isOpen&&(p(function(){L.triggerHandler("resize")}),n&&n.focus()),e&&e()})}function b(t,e){var n=m[0],i=t[0].scrollTop;if(e&&i){O={top:n.style.top,bottom:n.style.bottom,height:n.style.height};var r={top:i+"px",bottom:"auto",height:t[0].clientHeight+"px"};m.css(r),S.css(r)}if(!e&&O)return function(){n.style.top=O.top,n.style.bottom=O.bottom,n.style.height=O.height,S[0].style.top=null,S[0].style.bottom=null,S[0].style.height=null,O=null}}function E(t){t&&!w?(w=A.css("overflow"),A.css("overflow","hidden")):e.isDefined(w)&&(A.css("overflow",w),w=n)}function x(t){return l.isOpen===t?d.when(!0):(l.isOpen&&v.onCloseCb&&v.onCloseCb(),d(function(e){l.isOpen=t,i.nextTick(function(){P.then(function(t){!l.isOpen&&R&&"keyboard"===j&&(R.focus(),R=null),e(t)})})}))}function C(t){var e=t.keyCode===r.KEY_CODE.ESCAPE;return e?T(t):d.when(!0)}function T(t){return t.preventDefault(),v.close()}var w,S,M,j,O,A=null,R=null,P=d.when(!0),I=u(g.mdIsLockedOpen),L=e.element(f),k=function(){return I(l.$parent,{$media:function(e){return c.warn("$media is deprecated for is-locked-open. Use $mdMedia instead."),t(e)},$mdMedia:t})};g.mdDisableScrollTarget&&(A=h[0].querySelector(g.mdDisableScrollTarget),A?A=e.element(A):c.warn(i.supplant('mdSidenav: couldn\'t find element matching selector "{selector}". Falling back to parent.',{selector:g.mdDisableScrollTarget}))),A||(A=m.parent()),g.hasOwnProperty("mdDisableBackdrop")||(S=i.createBackdrop(l,"md-sidenav-backdrop md-opaque ng-enter")),g.hasOwnProperty("mdDisableCloseEvents")&&(M=!0),m.addClass("_md"),o(m),S&&o.inherit(S,m),m.on("$destroy",function(){S&&S.remove(),v.destroy()}),l.$on("$destroy",function(){S&&S.remove()}),l.$watch(k,y),l.$watch("isOpen",_),v.$toggleOpen=x}return{restrict:"E",scope:{isOpen:"=?mdIsOpen"},controller:"$mdSidenavController",compile:function(t){return t.addClass("md-closed").attr("tabIndex","-1"),m}}}function o(t,e,n,i,r){var o=this;o.isOpen=function(){return!!t.isOpen},o.isLockedOpen=function(){return!!t.isLockedOpen},o.onClose=function(t){return o.onCloseCb=t,o},o.open=function(){return o.$toggleOpen(!0)},o.close=function(){return o.$toggleOpen(!1)},o.toggle=function(){return o.$toggleOpen(!t.isOpen)},o.$toggleOpen=function(e){return i.when(t.isOpen=e)};var a=e.mdComponentId,s=a&&a.indexOf(r.startSymbol())>-1,l=s?r(a)(t.$parent):a;o.destroy=n.register(o,l),s&&e.$observe("mdComponentId",function(t){t&&t!==o.$$mdHandle&&(o.destroy(),o.destroy=n.register(o,t))})}t.$inject=["$mdComponentRegistry","$mdUtil","$q","$log"],r.$inject=["$mdMedia","$mdUtil","$mdConstant","$mdTheming","$mdInteraction","$animate","$compile","$parse","$log","$q","$document","$window","$$rAF"],o.$inject=["$scope","$attrs","$mdComponentRegistry","$q","$interpolate"],e.module("material.components.sidenav",["material.core","material.components.backdrop"]).factory("$mdSidenav",t).directive("mdSidenav",r).directive("mdSidenavFocus",i).controller("$mdSidenavController",o)}(),function(){function t(){return{controller:function(){},compile:function(t){var i=t.find("md-slider");if(i){var r=i.attr("md-vertical");return r!==n&&t.attr("md-vertical",""),i.attr("flex")||i.attr("flex",""),function(t,n,i,r){function o(t){n.children().attr("disabled",t),n.find("input").attr("disabled",t)}n.addClass("_md");var a=e.noop;i.disabled?o(!0):i.ngDisabled&&(a=t.$watch(i.ngDisabled,function(t){o(t)})),t.$on("$destroy",function(){a()});var s;r.fitInputWidthToTextLength=function(t){var e=n[0].querySelector("md-input-container");if(e){var i=getComputedStyle(e),r=parseInt(i.minWidth),o=parseInt(i.paddingLeft)+parseInt(i.paddingRight);s=s||parseInt(i.maxWidth);var a=Math.max(s,r+o+r/2*t);e.style.maxWidth=a+"px"}}}}}}}function i(t,n,i,a,s,l,u,c,d,h){function f(t,n){var r=e.element(t[0].getElementsByClassName("md-slider-wrapper")),o=n.tabindex||0;return r.attr("tabindex",o),(n.disabled||n.ngDisabled)&&r.attr("tabindex",-1),r.attr("role","slider"),i.expect(t,"aria-label"),p}function p(i,f,p,m){function g(){T(),P()}function v(t){dt=parseFloat(t),Y.$viewValue=I(Y.$modelValue,dt,ht),it.attr("aria-valuemin",t),g()}function y(t){ht=parseFloat(t),Y.$viewValue=I(Y.$modelValue,dt,ht),it.attr("aria-valuemax",t),g()}function _(t){ft=parseFloat(t)}function b(t){pt=I(parseInt(t),0,6)}function E(){f.attr("aria-disabled",!!X())}function x(){if(st&&!X()&&!e.isUndefined(ft)){if(ft<=0){var t="Slider step value must be greater than zero when in discrete mode";throw d.error(t),new Error(t)}var i=Math.floor((ht-dt)/ft);mt||(mt=e.element("<canvas>").css("position","absolute"),nt.append(mt),gt=mt[0].getContext("2d"));var r=w();!r||r.height||r.width||(T(),r=vt),mt[0].width=r.width,mt[0].height=r.height;for(var o,a=0;a<=i;a++){var s=n.getComputedStyle(nt[0]);gt.fillStyle=s.color||"black",o=Math.floor((at?r.height:r.width)*(a/i)),gt.fillRect(at?0:o-1,at?o-1:0,at?r.width:2,at?2:r.height)}}}function C(){if(mt&&gt){var t=w();gt.clearRect(0,0,t.width,t.height)}}function T(){vt=tt[0].getBoundingClientRect()}function w(){return rt(),vt}function S(t){if(!X()){var e,n=s.KEY_CODE;switch(t.keyCode){case n.DOWN_ARROW:case n.LEFT_ARROW:t.preventDefault(),e=-ft;break;case n.UP_ARROW:case n.RIGHT_ARROW:t.preventDefault(),e=ft;break;case n.PAGE_DOWN:t.preventDefault(),e=-ft*r;break;case n.PAGE_UP:t.preventDefault(),e=ft*r;break;case n.HOME:t.preventDefault(),t.stopPropagation(),M(dt);break;case n.END:t.preventDefault(),t.stopPropagation(),M(ht)}e&&(e=lt?-e:e,(t.metaKey||t.ctrlKey||t.altKey)&&(e*=o),t.preventDefault(),t.stopPropagation(),M(Y.$viewValue+e))}}function M(t){i.$evalAsync(function(){R(t)})}function j(){x(),i.mouseActive=!0,it.removeClass("md-focused"),h(function(){i.mouseActive=!1},100)}function O(){i.mouseActive===!1&&it.addClass("md-focused")}function A(){it.removeClass("md-focused"),f.removeClass("md-active"),C()}function R(t){Y.$setViewValue(I(L(t)))}function P(){isNaN(Y.$viewValue)&&(Y.$viewValue=Y.$modelValue),Y.$viewValue=I(Y.$viewValue);var t=q(Y.$viewValue);i.modelValue=Y.$viewValue,it.attr("aria-valuenow",Y.$viewValue),k(t),Z.text(Y.$viewValue)}function I(t,n,i){if(e.isNumber(t))return n=e.isNumber(n)?n:dt,i=e.isNumber(i)?i:ht,Math.max(n,Math.min(i,t))}function L(t){if(e.isNumber(t)){var n=Math.round((t-dt)/ft)*ft+dt;return n=Math.round(n*Math.pow(10,pt))/Math.pow(10,pt),K&&K.fitInputWidthToTextLength&&a.debounce(function(){K.fitInputWidthToTextLength(n.toString().length)},100)(),n}}function k(t){t=V(t);var e=100*t+"%",n=lt?100*(1-t)+"%":e;at?Q.css("bottom",e):a.bidiProperty(Q,"left","right",e),et.css(at?"height":"width",n),f.toggleClass(lt?"md-max":"md-min",0===t),f.toggleClass(lt?"md-min":"md-max",1===t)}function D(t){if(!X()){f.addClass("md-active"),f[0].focus(),T();var e=W(z(at?t.srcEvent.clientY:t.srcEvent.clientX)),n=I(L(e));i.$apply(function(){R(n),k(q(n))})}}function N(t){if(!X()){f.removeClass("md-dragging");var e=W(z(at?t.srcEvent.clientY:t.srcEvent.clientX)),n=I(L(e));i.$apply(function(){R(n),P()})}}function F(t){X()||(yt=!0,t.stopPropagation(),f.addClass("md-dragging"),U(t))}function $(t){yt&&(t.stopPropagation(),U(t))}function G(t){yt&&(t.stopPropagation(),yt=!1)}function U(t){st?H(at?t.srcEvent.clientY:t.srcEvent.clientX):B(at?t.srcEvent.clientY:t.srcEvent.clientX)}function B(t){i.$evalAsync(function(){R(W(z(t)))})}function H(t){var e=W(z(t)),n=I(L(e));k(z(t)),Z.text(n)}function V(t){return Math.max(0,Math.min(t||0,1))}function z(t){var e=at?vt.top:vt.left,n=at?vt.height:vt.width,i=(t-e)/n;return!at&&a.isRtl(p)&&(i=1-i),Math.max(0,Math.min(1,at?1-i:i))}function W(t){var e=lt?1-t:t;return dt+e*(ht-dt)}function q(t){var e=(t-dt)/(ht-dt);return lt?1-e:e}l(f);var Y=m[0]||{$setViewValue:function(t){this.$viewValue=t,this.$viewChangeListeners.forEach(function(t){t()})},$parsers:[],$formatters:[],$viewChangeListeners:[]},K=m[1],X=(e.element(a.getClosest(f,"_md-slider-container",!0)),p.ngDisabled?e.bind(null,c(p.ngDisabled),i.$parent):function(){return f[0].hasAttribute("disabled")}),J=e.element(f[0].querySelector(".md-thumb")),Z=e.element(f[0].querySelector(".md-thumb-text")),Q=J.parent(),tt=e.element(f[0].querySelector(".md-track-container")),et=e.element(f[0].querySelector(".md-track-fill")),nt=e.element(f[0].querySelector(".md-track-ticks")),it=e.element(f[0].getElementsByClassName("md-slider-wrapper")),rt=(e.element(f[0].getElementsByClassName("md-slider-content")),a.throttle(T,5e3)),ot=3,at=e.isDefined(p.mdVertical),st=e.isDefined(p.mdDiscrete),lt=e.isDefined(p.mdInvert);e.isDefined(p.min)?p.$observe("min",v):v(0),e.isDefined(p.max)?p.$observe("max",y):y(100),e.isDefined(p.step)?p.$observe("step",_):_(1),e.isDefined(p.round)?p.$observe("round",b):b(ot);var ut=e.noop;p.ngDisabled&&(ut=i.$parent.$watch(p.ngDisabled,E)),u.register(it,"drag",{horizontal:!at}),i.mouseActive=!1,it.on("keydown",S).on("mousedown",j).on("focus",O).on("blur",A).on("$md.pressdown",D).on("$md.pressup",N).on("$md.dragstart",F).on("$md.drag",$).on("$md.dragend",G),setTimeout(g,0);var ct=t.throttle(g);e.element(n).on("resize",ct),i.$on("$destroy",function(){e.element(n).off("resize",ct)}),Y.$render=P,Y.$viewChangeListeners.push(P),Y.$formatters.push(I),Y.$formatters.push(L);var dt,ht,ft,pt,mt,gt,vt={};T();var yt=!1}return{scope:{},require:["?ngModel","?^mdSliderContainer"],template:'<div class="md-slider-wrapper"><div class="md-slider-content"><div class="md-track-container"><div class="md-track"></div><div class="md-track md-track-fill"></div><div class="md-track-ticks"></div></div><div class="md-thumb-container"><div class="md-thumb"></div><div class="md-focus-thumb"></div><div class="md-focus-ring"></div><div class="md-sign"><span class="md-thumb-text"></span></div><div class="md-disabled-thumb"></div></div></div></div>',compile:f}}i.$inject=["$$rAF","$window","$mdAria","$mdUtil","$mdConstant","$mdTheming","$mdGesture","$parse","$log","$timeout"],e.module("material.components.slider",["material.core"]).directive("mdSlider",i).directive("mdSliderContainer",t);var r=10,o=4}(),function(){function t(t,e,i,r){function o(r){function o(t,e){e.addClass("md-sticky-clone");var n={element:t,clone:e};return m.items.push(n),i.nextTick(function(){f.prepend(n.clone)}),p(),function(){m.items.forEach(function(e,n){e.element[0]===t[0]&&(m.items.splice(n,1),e.clone.remove())}),p()}}function s(){m.items.forEach(l),m.items=m.items.sort(function(t,e){return t.top<e.top?-1:1});for(var t,e=f.prop("scrollTop"),n=m.items.length-1;n>=0;n--)if(e>m.items[n].top){t=m.items[n];break}c(t)}function l(t){var e=t.element[0];for(t.top=0,t.left=0,t.right=0;e&&e!==f[0];)t.top+=e.offsetTop,t.left+=e.offsetLeft,e.offsetParent&&(t.right+=e.offsetParent.offsetWidth-e.offsetWidth-e.offsetLeft),e=e.offsetParent;t.height=t.element.prop("offsetHeight");var r=i.floatingScrollbars()?"0":n;i.bidi(t.clone,"margin-left",t.left,r),i.bidi(t.clone,"margin-right",r,t.right)}function u(){var t=f.prop("scrollTop"),e=t>(u.prevScrollTop||0);if(u.prevScrollTop=t,0===t)return void c(null);if(e){if(m.next&&m.next.top<=t)return void c(m.next);if(m.current&&m.next&&m.next.top-t<=m.next.height)return void h(m.current,t+(m.next.top-m.next.height-t))}if(!e){if(m.current&&m.prev&&t<m.current.top)return void c(m.prev);if(m.next&&m.current&&t>=m.next.top-m.current.height)return void h(m.current,t+(m.next.top-t-m.current.height))}m.current&&h(m.current,t)}function c(t){if(m.current!==t){m.current&&(h(m.current,null),d(m.current,null)),t&&d(t,"active"),m.current=t;var e=m.items.indexOf(t);m.next=m.items[e+1],m.prev=m.items[e-1],d(m.next,"next"),d(m.prev,"prev")}}function d(t,e){t&&t.state!==e&&(t.state&&(t.clone.attr("sticky-prev-state",t.state),t.element.attr("sticky-prev-state",t.state)),t.clone.attr("sticky-state",e),t.element.attr("sticky-state",e),t.state=e)}function h(e,r){e&&(null===r||r===n?e.translateY&&(e.translateY=null,e.clone.css(t.CSS.TRANSFORM,"")):(e.translateY=r,i.bidi(e.clone,t.CSS.TRANSFORM,"translate3d("+e.left+"px,"+r+"px,0)","translateY("+r+"px)")))}var f=r.$element,p=e.throttle(s);a(f),f.on("$scrollstart",p),f.on("$scroll",u);var m;return m={prev:null,current:null,next:null,items:[],add:o,refreshElements:s}}function a(t){function n(){+i.now()-o>a?(r=!1,t.triggerHandler("$scrollend")):(t.triggerHandler("$scroll"),e.throttle(n))}var r,o,a=200;t.on("scroll touchmove",function(){r||(r=!0,e.throttle(n),t.triggerHandler("$scrollstart")),t.triggerHandler("$scroll"),o=+i.now()})}var s=i.checkStickySupport();return function(t,e,n){var i=e.controller("mdContent");if(i)if(s)e.css({position:s,top:0,"z-index":2});else{var a=i.$element.data("$$sticky");a||(a=o(i),i.$element.data("$$sticky",a));var l=n||r(e.clone())(t),u=a.add(e,l);t.$on("$destroy",u)}}}t.$inject=["$mdConstant","$$rAF","$mdUtil","$compile"],e.module("material.components.sticky",["material.core","material.components.content"]).factory("$mdSticky",t)}(),function(){function t(t,n,i,r,o){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="md-subheader _md">  <div class="md-subheader-inner">    <div class="md-subheader-content"></div>  </div></div>',link:function(a,s,l,u,c){function d(t){return e.element(t[0].querySelector(".md-subheader-content"))}i(s),s.addClass("_md"),r.prefixer().removeAttribute(s,"ng-repeat");var h=s[0].outerHTML;l.$set("role","heading"),o.expect(s,"aria-level","2"),c(a,function(t){d(s).append(t)}),s.hasClass("md-no-sticky")||c(a,function(e){var i=n('<div class="md-subheader-wrapper" aria-hidden="true">'+h+"</div>")(a);r.nextTick(function(){d(i).append(e)}),t(a,s,i)})}}}t.$inject=["$mdSticky","$compile","$mdTheming","$mdUtil","$mdAria"],e.module("material.components.subheader",["material.core","material.components.sticky"]).directive("mdSubheader",t)}(),function(){function t(t){function e(t){function e(e,r,o){var a=t(o[n]);r.on(i,function(t){var n=t.currentTarget;e.$applyAsync(function(){a(e,{$event:t,$target:{current:n}})})})}return{restrict:"A",link:e}}e.$inject=["$parse"];var n="md"+t,i="$md."+t.toLowerCase();return e}e.module("material.components.swipe",["material.core"]).directive("mdSwipeLeft",t("SwipeLeft")).directive("mdSwipeRight",t("SwipeRight")).directive("mdSwipeUp",t("SwipeUp")).directive("mdSwipeDown",t("SwipeDown"))}(),function(){function t(t,n,i,r,o,a,s){function l(t,l){var c=u.compile(t,l).post;return t.addClass("md-dragging"),function(t,l,u,d){function h(e){v&&v(t)||(e.stopPropagation(),l.addClass("md-dragging"),E={width:y.prop("offsetWidth")})}function f(t){if(E){t.stopPropagation(),t.srcEvent&&t.srcEvent.preventDefault();var e=t.pointer.distanceX/E.width,n=g.$viewValue?1+e:e;n=Math.max(0,Math.min(1,n)),y.css(i.CSS.TRANSFORM,"translate3d("+100*n+"%,0,0)"),E.translate=n}}function p(e){if(E){e.stopPropagation(),l.removeClass("md-dragging"),y.css(i.CSS.TRANSFORM,"");var n=g.$viewValue?E.translate<.5:E.translate>.5;n&&m(!g.$viewValue),E=null,t.skipToggle=!0,s(function(){t.skipToggle=!1},1)}}function m(e){t.$apply(function(){g.$setViewValue(e),g.$render()})}var g=(d[0],d[1]||n.fakeNgModel()),v=(d[2],null);null!=u.disabled?v=function(){return!0}:u.ngDisabled&&(v=r(u.ngDisabled));var y=e.element(l[0].querySelector(".md-thumb-container")),_=e.element(l[0].querySelector(".md-container")),b=e.element(l[0].querySelector(".md-label"));o(function(){l.removeClass("md-dragging")}),c(t,l,u,d),v&&t.$watch(v,function(t){l.attr("tabindex",t?-1:0)}),u.$observe("mdInvert",function(t){var e=n.parseAttributeBoolean(t);e?l.prepend(b):l.prepend(_),l.toggleClass("md-inverted",e)}),a.register(_,"drag"),_.on("$md.dragstart",h).on("$md.drag",f).on("$md.dragend",p);var E}}var u=t[0];return{restrict:"E",priority:i.BEFORE_NG_ARIA,transclude:!0,template:'<div class="md-container"><div class="md-bar"></div><div class="md-thumb-container"><div class="md-thumb" md-ink-ripple md-ink-ripple-checkbox></div></div></div><div ng-transclude class="md-label"></div>',require:["^?mdInputContainer","?ngModel","?^form"],compile:l}}t.$inject=["mdCheckboxDirective","$mdUtil","$mdConstant","$parse","$$rAF","$mdGesture","$timeout"],e.module("material.components.switch",["material.core","material.components.checkbox"]).directive("mdSwitch",t)}(),function(){e.module("material.components.tabs",["material.core","material.components.icon"])}(),function(){function t(){function t(t,e){var i,r,o=t.canvas,a=n(t);for(i=0;i<a.length;i++)if(a[i]>=e){r=a[i];break}return Math.max(0,r-o.clientWidth)}function e(t,e){var r,o,a=t.canvas,s=i(t)-a.clientWidth,l=n(t);for(r=0;r<l.length,l[r]<=e+a.clientWidth;r++)o=l[r];return Math.min(s,o)}function n(t){var e,n,i=0,r=[];for(e=0;e<t.tabs.length;e++)n=t.tabs[e],r.push(i),i+=n.offsetWidth;return r}function i(t){var e,n,i=0;for(e=0;e<t.tabs.length;e++)n=t.tabs[e],i+=n.offsetWidth;return i}return{decreasePageOffset:t,increasePageOffset:e,getTabOffsets:n,getTotalTabsWidth:i}}e.module("material.components.tabs").service("MdTabsPaginationService",t)}(),function(){function t(){function t(t,i,r,o){if(o){var a=o.getTabElementIndex(i),s=n(i,"md-tab-body").remove(),l=n(i,"md-tab-label").remove(),u=o.insertTab({scope:t,parent:t.$parent,index:a,element:i,template:s.html(),label:l.html()},a);t.select=t.select||e.noop,t.deselect=t.deselect||e.noop,t.$watch("active",function(t){t&&o.select(u.getIndex(),!0)}),t.$watch("disabled",function(){o.refreshIndex()}),t.$watch(function(){return o.getTabElementIndex(i)},function(t){u.index=t,o.updateTabOrder()}),t.$on("$destroy",function(){o.removeTab(u)})}}function n(t,n){for(var i=t[0].children,r=0,o=i.length;r<o;r++){var a=i[r];if(a.tagName===n.toUpperCase())return e.element(a)}return e.element()}return{require:"^?mdTabs",terminal:!0,compile:function(i,r){var o=n(i,"md-tab-label"),a=n(i,"md-tab-body");if(0===o.length&&(o=e.element("<md-tab-label></md-tab-label>"),r.label?o.text(r.label):o.append(i.contents()),0===a.length)){var s=i.contents().detach();a=e.element("<md-tab-body></md-tab-body>"),a.append(s)}return i.append(o),a.html()&&i.append(a),t},scope:{active:"=?mdActive",disabled:"=?ngDisabled",select:"&?mdOnSelect",deselect:"&?mdOnDeselect",tabClass:"@mdTabClass"}}}e.module("material.components.tabs").directive("mdTab",t)}(),function(){function t(){return{require:"^?mdTabs",link:function(t,e,n,i){i&&i.attachRipple(t,e)}}}e.module("material.components.tabs").directive("mdTabItem",t)}(),function(){function t(){return{terminal:!0}}e.module("material.components.tabs").directive("mdTabLabel",t)}(),function(){function t(t){return{restrict:"A",compile:function(e,n){var i=t(n.mdTabScroll,null,!0);return function(t,e){e.on("wheel",function(e){t.$apply(function(){i(t,{$event:e})})})}}}}t.$inject=["$parse"],e.module("material.components.tabs").directive("mdTabScroll",t)}(),function(){function t(t,i,r,o,a,s,l,u,c,d,h,f,p){function m(){b("stretchTabs",C),J("focusIndex",O,mt.selectedIndex||0),J("offsetLeft",j,0),J("hasContent",M,!1),J("maxTabWidth",w,tt()),J("shouldPaginate",S,!1),E("noInkBar",$),E("dynamicHeight",G),E("noPagination"),E("swipeContent"),E("noDisconnect"),E("autoselect"),E("noSelectClick"),E("centerTabs",T),E("enableDisconnect"),mt.scope=t,mt.parent=t.$parent,mt.tabs=[],mt.lastSelectedIndex=null,mt.hasFocus=!1,mt.styleTabItemFocus=!1,mt.shouldCenterTabs=Y(),mt.tabContentPrefix="tab-content-",mt.navigationHint="Use the left and right arrow keys to navigate between tabs",g()}function g(){mt.selectedIndex=mt.selectedIndex||0,v(),_(),y(),d(i),s.nextTick(function(){lt(),rt(),ut(),mt.tabs[mt.selectedIndex]&&mt.tabs[mt.selectedIndex].scope.select(),_t=!0,Z()})}function v(){var t=u.$mdTabsTemplate,n=e.element(i[0].querySelector("md-tab-data"));n.html(t),c(n.contents())(mt.parent),delete u.$mdTabsTemplate}function y(){e.element(r).on("resize",F),t.$on("$destroy",x)}function _(){t.$watch("$mdTabsCtrl.selectedIndex",A)}function b(t,e){var n=u.$normalize("md-"+t);e&&J(t,e),u.$observe(n,function(e){mt[t]=e})}function E(t,e){function i(e){mt[t]="false"!==e}var r=u.$normalize("md-"+t);e&&J(t,e,n),u.hasOwnProperty(r)&&i(u[r]),u.$observe(r,i)}function x(){yt=!0,e.element(r).off("resize",F)}function C(){var t=H();e.element(t.wrapper).toggleClass("md-stretch-tabs",q()),ut()}function T(){mt.shouldCenterTabs=Y()}function w(t,n){if(t!==n){var i=H();e.forEach(i.tabs,function(e){e.style.maxWidth=t+"px"}),e.forEach(i.dummies,function(e){e.style.maxWidth=t+"px"}),s.nextTick(mt.updateInkBarStyles)}}function S(t,e){t!==e&&(mt.maxTabWidth=tt(),mt.shouldCenterTabs=Y(),s.nextTick(function(){mt.maxTabWidth=tt(),rt(mt.selectedIndex)}))}function M(t){i[t?"removeClass":"addClass"]("md-no-tab-content")}function j(n){var i=(mt.shouldCenterTabs||pt()?"":"-")+n+"px";i=i.replace("--",""),e.element(H().paging).css(o.CSS.TRANSFORM,"translate("+i+", 0)"),t.$broadcast("$mdTabsPaginationChanged")}function O(t,e){t!==e&&H().tabs[t]&&(rt(),it())}function A(e,n){e!==n&&(mt.selectedIndex=X(e),mt.lastSelectedIndex=n,mt.updateInkBarStyles(),lt(),rt(e),t.$broadcast("$mdTabsChanged"),mt.tabs[n]&&mt.tabs[n].scope.deselect(),mt.tabs[e]&&mt.tabs[e].scope.select())}function R(t){var e=i[0].getElementsByTagName("md-tab");return Array.prototype.indexOf.call(e,t[0])}function P(){P.watcher||(P.watcher=t.$watch(function(){s.nextTick(function(){P.watcher&&i.prop("offsetParent")&&(P.watcher(),P.watcher=null,F())},!1)}))}function I(t){switch(t.keyCode){case o.KEY_CODE.LEFT_ARROW:t.preventDefault(),nt(-1,!0);break;case o.KEY_CODE.RIGHT_ARROW:t.preventDefault(),nt(1,!0);break;case o.KEY_CODE.SPACE:case o.KEY_CODE.ENTER:t.preventDefault(),gt||L(mt.focusIndex);break;case o.KEY_CODE.TAB:mt.focusIndex!==mt.selectedIndex&&(mt.focusIndex=mt.selectedIndex)}}function L(t,e){gt||(mt.focusIndex=mt.selectedIndex=t),e&&mt.noSelectClick||s.nextTick(function(){mt.tabs[t].element.triggerHandler("click")},!1)}function k(t){mt.shouldPaginate&&(t.preventDefault(),t.deltaY?mt.offsetLeft=dt(mt.offsetLeft+t.deltaY):t.deltaX&&(mt.offsetLeft=dt(mt.offsetLeft+t.deltaX)))}function D(){if(mt.canPageForward()){var t=p.increasePageOffset(H(),mt.offsetLeft);mt.offsetLeft=dt(t)}}function N(){if(mt.canPageBack()){var t=p.decreasePageOffset(H(),mt.offsetLeft);mt.offsetLeft=dt(t)}}function F(){mt.lastSelectedIndex=mt.selectedIndex,mt.offsetLeft=dt(mt.offsetLeft),s.nextTick(function(){mt.updateInkBarStyles(),Z()})}function $(t){e.element(H().inkBar).toggleClass("ng-hide",t)}function G(t){i.toggleClass("md-dynamic-height",t)}function U(t){if(!yt){var e=mt.selectedIndex,n=mt.tabs.splice(t.getIndex(),1)[0];st(),mt.selectedIndex===e&&(n.scope.deselect(),mt.tabs[mt.selectedIndex]&&mt.tabs[mt.selectedIndex].scope.select()),s.nextTick(function(){Z(),mt.offsetLeft=dt(mt.offsetLeft)})}}function B(t,n){var i=_t,r={getIndex:function(){return mt.tabs.indexOf(o)},isActive:function(){return this.getIndex()===mt.selectedIndex},isLeft:function(){return this.getIndex()<mt.selectedIndex},isRight:function(){return this.getIndex()>mt.selectedIndex},shouldRender:function(){return!mt.noDisconnect||this.isActive()},hasFocus:function(){return mt.styleTabItemFocus&&mt.hasFocus&&this.getIndex()===mt.focusIndex},id:s.nextUid(),hasContent:!(!t.template||!t.template.trim())},o=e.extend(r,t);return e.isDefined(n)?mt.tabs.splice(n,0,o):mt.tabs.push(o),ot(),at(),s.nextTick(function(){Z(),ft(o),i&&mt.autoselect&&s.nextTick(function(){s.nextTick(function(){L(mt.tabs.indexOf(o))})})}),o}function H(){var t={},e=i[0];return t.wrapper=e.querySelector("md-tabs-wrapper"),t.canvas=t.wrapper.querySelector("md-tabs-canvas"),
t.paging=t.canvas.querySelector("md-pagination-wrapper"),t.inkBar=t.paging.querySelector("md-ink-bar"),t.nextButton=e.querySelector("md-next-button"),t.prevButton=e.querySelector("md-prev-button"),t.contents=e.querySelectorAll("md-tabs-content-wrapper > md-tab-content"),t.tabs=t.paging.querySelectorAll("md-tab-item"),t.dummies=t.canvas.querySelectorAll("md-dummy-tab"),t}function V(){return mt.offsetLeft>0}function z(){var t=H(),e=t.tabs[t.tabs.length-1];return pt()?mt.offsetLeft<t.paging.offsetWidth-t.canvas.offsetWidth:e&&e.offsetLeft+e.offsetWidth>t.canvas.clientWidth+mt.offsetLeft}function W(){var t=mt.tabs[mt.focusIndex];return t&&t.id?"tab-item-"+t.id:null}function q(){switch(mt.stretchTabs){case"always":return!0;case"never":return!1;default:return!mt.shouldPaginate&&r.matchMedia("(max-width: 600px)").matches}}function Y(){return mt.centerTabs&&!mt.shouldPaginate}function K(){var t;if(mt.noPagination||!_t)return!1;var r=i.prop("clientWidth");return e.forEach(H().tabs,function(t){r-=t.offsetWidth}),t=r<0,s.msie&&(t?H().paging.style.width="999999px":H().paging.style.width=n),t}function X(t){if(t===-1)return-1;var e,n,i=Math.max(mt.tabs.length-t,t);for(e=0;e<=i;e++){if(n=mt.tabs[t+e],n&&n.scope.disabled!==!0)return n.getIndex();if(n=mt.tabs[t-e],n&&n.scope.disabled!==!0)return n.getIndex()}return t}function J(t,e,n){Object.defineProperty(mt,t,{get:function(){return n},set:function(t){var i=n;n=t,e&&e(t,i)}})}function Z(){mt.maxTabWidth=tt(),mt.shouldPaginate=K()}function Q(t){var n=0;return e.forEach(t,function(t){n+=Math.max(t.offsetWidth,t.getBoundingClientRect().width)}),Math.ceil(n)}function tt(){var t=H(),e=t.canvas.clientWidth,n=264;return Math.max(0,Math.min(e-1,n))}function et(){var t=mt.tabs[mt.selectedIndex],e=mt.tabs[mt.focusIndex];mt.tabs=mt.tabs.sort(function(t,e){return t.index-e.index}),mt.selectedIndex=mt.tabs.indexOf(t),mt.focusIndex=mt.tabs.indexOf(e)}function nt(t,e){var n,i=e?"focusIndex":"selectedIndex",r=mt[i];for(n=r+t;mt.tabs[n]&&mt.tabs[n].scope.disabled;n+=t);n=(r+t+mt.tabs.length)%mt.tabs.length,mt.tabs[n]&&(mt[i]=n)}function it(){mt.styleTabItemFocus="keyboard"===h.getLastInteractionType();var t=H().tabs[mt.focusIndex];t&&t.focus()}function rt(t){var n=H();if(e.isNumber(t)||(t=mt.focusIndex),n.tabs[t]&&!mt.shouldCenterTabs){var i=n.tabs[t],r=i.offsetLeft,o=i.offsetWidth+r,a=32;if(0===t)return void(mt.offsetLeft=0);if(pt()){var s=Q(Array.prototype.slice.call(n.tabs,0,t)),l=Q(Array.prototype.slice.call(n.tabs,0,t+1));mt.offsetLeft=Math.min(mt.offsetLeft,dt(s)),mt.offsetLeft=Math.max(mt.offsetLeft,dt(l-n.canvas.clientWidth))}else mt.offsetLeft=Math.max(mt.offsetLeft,dt(o-n.canvas.clientWidth+a)),mt.offsetLeft=Math.min(mt.offsetLeft,dt(r))}}function ot(){vt.forEach(function(t){s.nextTick(t)}),vt=[]}function at(){var t,e=!1;for(t=0;t<mt.tabs.length;t++)if(mt.tabs[t].hasContent){e=!0;break}mt.hasContent=e}function st(){mt.selectedIndex=X(mt.selectedIndex),mt.focusIndex=X(mt.focusIndex)}function lt(){if(!mt.dynamicHeight)return i.css("height","");if(!mt.tabs.length)return vt.push(lt);var t=H(),e=t.contents[mt.selectedIndex],r=e?e.offsetHeight:0,o=t.wrapper.offsetHeight,a=r+o,u=i.prop("clientHeight");if(u!==a){"bottom"===i.attr("md-align-tabs")&&(u-=o,a-=o,i.attr("md-border-bottom")!==n&&++u),gt=!0;var c={height:u+"px"},d={height:a+"px"};i.css(c),l(i,{from:c,to:d,easing:"cubic-bezier(0.35, 0, 0.25, 1)",duration:.5}).start().done(function(){i.css({transition:"none",height:""}),s.nextTick(function(){i.css("transition","")}),gt=!1})}}function ut(t,n){if(!mt.noInkBar){var r=H();if(!r.tabs[mt.selectedIndex])return void e.element(r.inkBar).css({left:"auto",right:"auto"});if(!mt.tabs.length)return void vt.push(mt.updateInkBarStyles);if(!i.prop("offsetParent"))return void P();var o=mt.selectedIndex,a=r.paging.offsetWidth,s=r.tabs[o],l=s.offsetLeft,u=a-l-s.offsetWidth;if(mt.shouldCenterTabs){var c=Q(r.tabs);a>c&&t!==a&&n!==c&&f(ut,0,!0,a,c)}ct(),e.element(r.inkBar).css({left:l+"px",right:u+"px"})}}function ct(){var t=H(),n=mt.selectedIndex,i=mt.lastSelectedIndex,r=e.element(t.inkBar);e.isNumber(i)&&r.toggleClass("md-left",n<i).toggleClass("md-right",n>i)}function dt(t){var e=H();if(!e.tabs.length||!mt.shouldPaginate)return 0;var n=e.tabs[e.tabs.length-1],i=n.offsetLeft+n.offsetWidth;return pt()?(t=Math.min(e.paging.offsetWidth-e.canvas.clientWidth,t),t=Math.max(0,t)):(t=Math.max(0,t),t=Math.min(i-e.canvas.clientWidth,t)),t}function ht(t,n){var i=H(),r={colorElement:e.element(i.inkBar)};a.attach(t,n,r)}function ft(t){if(t.hasContent){var n=i[0].querySelectorAll('[md-tab-id="'+t.id+'"]');e.element(n).attr("aria-controls",mt.tabContentPrefix+t.id)}}function pt(){return s.isRtl(u)}var mt=this,gt=!1,vt=[],yt=!1,_t=!1;mt.$onInit=m,mt.updatePagination=s.debounce(Z,100),mt.redirectFocus=it,mt.attachRipple=ht,mt.insertTab=B,mt.removeTab=U,mt.select=L,mt.scroll=k,mt.nextPage=D,mt.previousPage=N,mt.keydown=I,mt.canPageForward=z,mt.canPageBack=V,mt.refreshIndex=st,mt.incrementIndex=nt,mt.getTabElementIndex=R,mt.updateInkBarStyles=s.debounce(ut,100),mt.updateTabOrder=s.debounce(et,100),mt.getFocusedTabId=W,1===e.version.major&&e.version.minor<=4&&this.$onInit()}t.$inject=["$scope","$element","$window","$mdConstant","$mdTabInkRipple","$mdUtil","$animateCss","$attrs","$compile","$mdTheming","$mdInteraction","$timeout","MdTabsPaginationService"],e.module("material.components.tabs").controller("MdTabsController",t)}(),function(){function t(t){return{scope:{navigationHint:"@?mdNavigationHint",selectedIndex:"=?mdSelected"},template:function(e,n){return n.$mdTabsTemplate=e.html(),'<md-tabs-wrapper> <md-tab-data></md-tab-data> <md-prev-button tabindex="-1" role="button" aria-label="Previous Page" aria-disabled="{{!$mdTabsCtrl.canPageBack()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageBack() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.previousPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-prev-button> <md-next-button tabindex="-1" role="button" aria-label="Next Page" aria-disabled="{{!$mdTabsCtrl.canPageForward()}}" ng-class="{ \'md-disabled\': !$mdTabsCtrl.canPageForward() }" ng-if="$mdTabsCtrl.shouldPaginate" ng-click="$mdTabsCtrl.nextPage()"> <md-icon md-svg-src="'+t.mdTabsArrow+'"></md-icon> </md-next-button> <md-tabs-canvas tabindex="{{ $mdTabsCtrl.hasFocus ? -1 : 0 }}" ng-focus="$mdTabsCtrl.redirectFocus()" ng-class="{ \'md-paginated\': $mdTabsCtrl.shouldPaginate, \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" ng-keydown="$mdTabsCtrl.keydown($event)"> <md-pagination-wrapper ng-class="{ \'md-center-tabs\': $mdTabsCtrl.shouldCenterTabs }" md-tab-scroll="$mdTabsCtrl.scroll($event)" role="tablist" aria-label="{{::$mdTabsCtrl.navigationHint}}"><md-tab-item tabindex="{{ tab.isActive() ? 0 : -1 }}" class="md-tab {{::tab.scope.tabClass}}" ng-repeat="tab in $mdTabsCtrl.tabs" role="tab" id="tab-item-{{::tab.id}}" md-tab-id="{{::tab.id}}" aria-selected="{{tab.isActive()}}" aria-disabled="{{tab.scope.disabled || \'false\'}}" ng-click="$mdTabsCtrl.select(tab.getIndex())" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-class="{ \'md-active\':    tab.isActive(), \'md-focused\':   tab.hasFocus(), \'md-disabled\':  tab.scope.disabled }" ng-disabled="tab.scope.disabled" md-swipe-left="$mdTabsCtrl.nextPage()" md-swipe-right="$mdTabsCtrl.previousPage()" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-tab-item> <md-ink-bar></md-ink-bar> </md-pagination-wrapper> <md-tabs-dummy-wrapper aria-hidden="true" class="md-visually-hidden md-dummy-wrapper"> <md-dummy-tab class="md-tab" tabindex="-1" ng-focus="$mdTabsCtrl.hasFocus = true" ng-blur="$mdTabsCtrl.hasFocus = false" ng-repeat="tab in $mdTabsCtrl.tabs" md-tabs-template="::tab.label" md-scope="::tab.parent"></md-dummy-tab> </md-tabs-dummy-wrapper> </md-tabs-canvas> </md-tabs-wrapper> <md-tabs-content-wrapper ng-show="$mdTabsCtrl.hasContent && $mdTabsCtrl.selectedIndex >= 0" class="_md"> <md-tab-content id="{{:: $mdTabsCtrl.tabContentPrefix + tab.id}}" class="_md" role="tabpanel" aria-labelledby="tab-item-{{::tab.id}}" md-swipe-left="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(1)" md-swipe-right="$mdTabsCtrl.swipeContent && $mdTabsCtrl.incrementIndex(-1)" ng-if="tab.hasContent" ng-repeat="(index, tab) in $mdTabsCtrl.tabs" ng-class="{ \'md-no-transition\': $mdTabsCtrl.lastSelectedIndex == null, \'md-active\':        tab.isActive(), \'md-left\':          tab.isLeft(), \'md-right\':         tab.isRight(), \'md-no-scroll\':     $mdTabsCtrl.dynamicHeight }"> <div md-tabs-template="::tab.template" md-connected-if="tab.isActive()" md-scope="::tab.parent" ng-if="$mdTabsCtrl.enableDisconnect || tab.shouldRender()"></div> </md-tab-content> </md-tabs-content-wrapper>'},controller:"MdTabsController",controllerAs:"$mdTabsCtrl",bindToController:!0}}t.$inject=["$$mdSvgRegistry"],e.module("material.components.tabs").directive("mdTabs",t)}(),function(){function t(t,e){return{require:"^?mdTabs",link:function(n,i,r,o){if(o){var a,s,l=function(){o.updatePagination(),o.updateInkBarStyles()};if("MutationObserver"in e){var u={childList:!0,subtree:!0,characterData:!0};a=new MutationObserver(l),a.observe(i[0],u),s=a.disconnect.bind(a)}else{var c=t.debounce(l,15,null,!1);i.on("DOMSubtreeModified",c),s=i.off.bind(i,"DOMSubtreeModified",c)}n.$on("$destroy",function(){s()})}}}}t.$inject=["$mdUtil","$window"],e.module("material.components.tabs").directive("mdTabsDummyWrapper",t)}(),function(){function t(t,e){function n(n,i,r,o){function a(){n.$watch("connected",function(t){t===!1?s():l()}),n.$on("$destroy",l)}function s(){o.enableDisconnect&&e.disconnectScope(u)}function l(){o.enableDisconnect&&e.reconnectScope(u)}if(o){var u=o.enableDisconnect?n.compileScope.$new():n.compileScope;return i.html(n.template),t(i.contents())(u),e.nextTick(a)}}return{restrict:"A",link:n,scope:{template:"=mdTabsTemplate",connected:"=?mdConnectedIf",compileScope:"=mdScope"},require:"^?mdTabs"}}t.$inject=["$compile","$mdUtil"],e.module("material.components.tabs").directive("mdTabsTemplate",t)}(),function(){function t(t){return{restrict:"E",link:function(e,n){n.addClass("_md"),e.$on("$destroy",function(){t.destroy()})}}}function i(t){function i(t){a=t}function r(t,e,n){this.$onInit=function(){var i=this;i.highlightAction&&(e.highlightClasses=["md-highlight",i.highlightClass]),i.action&&!i.actionKey&&n.warn("Toasts with actions should define an actionKey for accessibility.","Details: https://material.angularjs.org/latest/api/service/$mdToast#mdtoast-simple"),i.actionKey&&!i.actionHint&&(i.actionHint='Press Control-"'+i.actionKey+'" to '),i.dismissHint||(i.dismissHint="Press Escape to dismiss."),e.$watch(function(){return a},function(){i.content=a}),this.resolve=function(){t.hide(s)}}}function o(t,i,r,o,l,u){function c(e,s,l){a=l.textContent||l.content;var u=!o("gt-sm");return s=r.extractElementByName(s,"md-toast",!0),l.element=s,l.onSwipe=function(t,e){var n=t.type.replace("$md.",""),o=n.replace("swipe","");"down"===o&&l.position.indexOf("top")!==-1&&!u||"up"===o&&(l.position.indexOf("bottom")!==-1||u)||("left"!==o&&"right"!==o||!u)&&(s.addClass("md-"+n),r.nextTick(i.cancel))},l.openClass=h(l.position),s.addClass(l.toastClass),l.parent.addClass(l.openClass),r.hasComputedStyle(l.parent,"position","static")&&l.parent.css("position","relative"),f(e.toast&&e.toast.actionKey?e.toast.actionKey:n),s.on(m,l.onSwipe),s.addClass(u?"md-bottom":l.position.split(" ").map(function(t){return"md-"+t}).join(" ")),l.parent&&l.parent.addClass("md-toast-animating"),t.enter(s,l.parent).then(function(){l.parent&&l.parent.removeClass("md-toast-animating")})}function d(e,n,i){return e.toast&&e.toast.actionKey&&p(),n.off(m,i.onSwipe),i.parent&&i.parent.addClass("md-toast-animating"),i.openClass&&i.parent.removeClass(i.openClass),(i.$destroy===!0?u.when(n.remove()):t.leave(n)).then(function(){i.parent&&i.parent.removeClass("md-toast-animating"),r.hasComputedStyle(i.parent,"position","static")&&i.parent.css("position","")})}function h(t){return o("gt-xs")?"md-toast-open-"+(t.indexOf("top")>-1?"top":"bottom"):"md-toast-open-bottom"}function f(t){var e=function(e){"Escape"===e.key&&i.hide(!1),t&&e.key===t&&e.ctrlKey&&i.hide(s)};l.on("keydown",e)}function p(){l.off("keydown")}var m="$md.swipeleft $md.swiperight $md.swipeup $md.swipedown";return{onShow:c,onRemove:d,toastClass:"",position:"bottom left",themable:!0,hideDelay:3e3,autoWrap:!0,transformTemplate:function(t,n){var i=n.autoWrap&&t&&!/md-toast-content/g.test(t);if(i){var r=document.createElement("md-template");r.innerHTML=t;for(var o=0;o<r.children.length;o++)if("MD-TOAST"===r.children[o].nodeName){var a=e.element('<div class="md-toast-content">');a.append(e.element(r.children[o].childNodes)),r.children[o].appendChild(a[0])}return r.innerHTML}return t||""}}}r.$inject=["$mdToast","$scope","$log"],o.$inject=["$animate","$mdToast","$mdUtil","$mdMedia","$document","$q"];var a,s="ok",l=t("$mdToast").setDefaults({methods:["position","hideDelay","capsule","parent","position","toastClass"],options:o}).addPreset("simple",{argOption:"textContent",methods:["textContent","content","action","actionKey","actionHint","highlightAction","highlightClass","theme","parent","dismissHint"],options:["$mdToast","$mdTheming",function(t,e){return{template:'<md-toast md-theme="{{ toast.theme }}" ng-class="{\'md-capsule\': toast.capsule}">  <div class="md-toast-content" aria-live="polite" aria-relevant="all">    <span class="md-toast-text">      {{ toast.content }}    </span>    <span class="md-visually-hidden">{{ toast.dismissHint }}</span>    <span class="md-visually-hidden" ng-if="toast.action && toast.actionKey">      {{ toast.actionHint }}    </span>    <md-button class="md-action" ng-if="toast.action" ng-click="toast.resolve()"                ng-class="highlightClasses">      {{ toast.action }}    </md-button>  </div></md-toast>',controller:r,theme:e.defaultTheme(),controllerAs:"toast",bindToController:!0}}]}).addMethod("updateTextContent",i).addMethod("updateContent",i);return l}t.$inject=["$mdToast"],i.$inject=["$$interimElementProvider"],e.module("material.components.toast",["material.core","material.components.button"]).directive("mdToast",t).provider("$mdToast",i)}(),function(){function t(t,n,i,r,o,a){var s=e.bind(null,i.supplant,"translate3d(0,{0}px,0)");return{template:"",restrict:"E",link:function(l,u,c){function d(){function r(t){var e=i.getSiblings(u,"md-content");!g&&e.length&&d(null,e[0]),t=l.$eval(t),t===!1?v():v=f()}function d(t,e){e&&u.parent()[0]===e.parent()[0]&&(g&&g.off("scroll",E),g=e,v=f())}function h(t){var e=t?t.target.scrollTop:_;x(),y=Math.min(m/b,Math.max(0,y+e-_)),u.css(n.CSS.TRANSFORM,s([-y*b])),g.css(n.CSS.TRANSFORM,s([(m-y)*b])),_=e,i.nextTick(function(){var t=u.hasClass("md-whiteframe-z1");t&&!y?o.removeClass(u,"md-whiteframe-z1"):!t&&y&&o.addClass(u,"md-whiteframe-z1")})}function f(){return g?(g.on("scroll",E),g.attr("scroll-shrink","true"),a(p),function(){g.off("scroll",E),g.attr("scroll-shrink","false"),p()}):e.noop}function p(){m=u.prop("offsetHeight");var t=-m*b+"px";g.css({"margin-top":t,"margin-bottom":t}),h()}var m,g,v=e.noop,y=0,_=0,b=c.mdShrinkSpeedFactor||.5,E=t.throttle(h),x=i.debounce(p,5e3);l.$on("$mdContentLoaded",d),c.$observe("mdScrollShrink",r),c.ngShow&&l.$watch(c.ngShow,p),c.ngHide&&l.$watch(c.ngHide,p),l.$on("$destroy",v)}u.addClass("_md"),r(u),i.nextTick(function(){u.addClass("_md-toolbar-transitions")},!1),e.isDefined(c.mdScrollShrink)&&d()}}}t.$inject=["$$rAF","$mdConstant","$mdUtil","$mdTheming","$animate","$timeout"],e.module("material.components.toolbar",["material.core","material.components.content"]).directive("mdToolbar",t)}(),function(){function n(t,n,i,r,o,a,s,l){function u(u,g,v){function y(){u.mdZIndex=u.mdZIndex||h,u.mdDelay=u.mdDelay||f,m[u.mdDirection]||(u.mdDirection=p)}function _(t){var e=t||o(g.text().trim())(u.$parent);(!L.attr("aria-label")&&!L.attr("aria-labelledby")||L.attr("md-labeled-by-tooltip"))&&(L.attr("aria-label",e),L.attr("md-labeled-by-tooltip")||L.attr("md-labeled-by-tooltip",I))}function b(){y(),A&&A.panelEl&&A.panelEl.removeClass(M),M="md-origin-"+u.mdDirection,j=m[u.mdDirection],O=s.newPanelPosition().relativeTo(L).addPanelPosition(j.x,j.y),A&&A.panelEl&&(A.panelEl.addClass(M),A.updatePosition(O))}function E(){function e(t){return t.some(function(t){return"disabled"===t.attributeName&&L[0].disabled}),!1}function i(){C(!1)}function o(){N=document.activeElement===L[0]}function s(t){"focus"===t.type&&N?N=!1:u.mdVisible||(L.on(d,h),C(!0),"touchstart"===t.type&&L.one("touchend",function(){a.nextTick(function(){r.one("touchend",h)},!1)}))}function h(){R=u.hasOwnProperty("mdAutohide")?u.mdAutohide:v.hasOwnProperty("mdAutohide"),(R||D||r[0].activeElement!==L[0])&&(P&&(t.cancel(P),C.queued=!1,P=null),L.off(d,h),L.triggerHandler("blur"),C(!1)),D=!1}function f(){D=!0}function p(){l.deregister("scroll",i,!0),l.deregister("blur",o),l.deregister("resize",k),L.off(c,s).off(d,h).off("mousedown",f),h(),m&&m.disconnect()}if(L[0]&&"MutationObserver"in n){var m=new MutationObserver(function(t){e(t)&&a.nextTick(function(){C(!1)})});m.observe(L[0],{attributes:!0})}N=!1,l.register("scroll",i,!0),l.register("blur",o),l.register("resize",k),u.$on("$destroy",p),L.on("mousedown",f),L.on(c,s)}function x(){function t(){u.$destroy()}if(g[0]&&"MutationObserver"in n){var e=new MutationObserver(function(t){t.forEach(function(t){"md-visible"!==t.attributeName||u.visibleWatcher||(u.visibleWatcher=u.$watch("mdVisible",T))})});e.observe(g[0],{attributes:!0}),v.hasOwnProperty("mdVisible")&&(u.visibleWatcher=u.$watch("mdVisible",T))}else u.visibleWatcher=u.$watch("mdVisible",T);u.$watch("mdDirection",b),g.one("$destroy",t),L.one("$destroy",t),u.$on("$destroy",function(){C(!1),A&&A.destroy(),e&&e.disconnect(),g.remove()}),g.text().indexOf(o.startSymbol())>-1&&u.$watch(function(){return g.text().trim()},_)}function C(e){C.queued&&C.value===!!e||!C.queued&&u.mdVisible===!!e||(C.value=!!e,C.queued||(e?(C.queued=!0,P=t(function(){u.mdVisible=C.value,C.queued=!1,P=null,u.visibleWatcher||T(u.mdVisible)},u.mdDelay)):a.nextTick(function(){u.mdVisible=!1,u.visibleWatcher||T(!1)})))}function T(t){t?w():S()}function w(){if(!g[0].textContent.trim())throw new Error("Text for the tooltip has not been provided. Please include text within the mdTooltip element.");if(!A){var t=e.element(document.body),n=s.newPanelAnimation().openFrom(L).closeTo(L).withAnimation({open:"md-show",close:"md-hide"}),i={id:I,attachTo:t,contentElement:g,propagateContainerEvents:!0,panelClass:"md-tooltip",animation:n,position:O,zIndex:u.mdZIndex,focusOnOpen:!1,onDomAdded:function(){A.panelEl.addClass(M)}};A=s.create(i)}A.open().then(function(){A.panelEl.attr("role","tooltip")})}function S(){A&&A.close()}var M,j,O,A,R,P,I="md-tooltip-"+a.nextUid(),L=a.getParentWithPointerEvents(g),k=i.throttle(b),D=!1,N=null;y(),_(),g.detach(),b(),E(),x()}var c="focus touchstart mouseenter",d="blur touchcancel mouseleave",h=100,f=0,p="bottom",m={top:{x:s.xPosition.CENTER,y:s.yPosition.ABOVE},right:{x:s.xPosition.OFFSET_END,y:s.yPosition.CENTER},bottom:{x:s.xPosition.CENTER,y:s.yPosition.BELOW},left:{x:s.xPosition.OFFSET_START,y:s.yPosition.CENTER}};return{restrict:"E",priority:210,scope:{mdZIndex:"=?mdZIndex",mdDelay:"=?mdDelay",mdVisible:"=?mdVisible",mdAutohide:"=?mdAutohide",mdDirection:"@?mdDirection"},link:u}}function i(){function n(t){o[t.type]&&o[t.type].forEach(function(e){e.call(this,t)},this)}function i(e,i,r){var s=o[e]=o[e]||[];s.length||(r?t.addEventListener(e,n,!0):a.on(e,n)),s.indexOf(i)===-1&&s.push(i)}function r(e,i,r){var s=o[e],l=s?s.indexOf(i):-1;l>-1&&(s.splice(l,1),0===s.length&&(r?t.removeEventListener(e,n,!0):a.off(e,n)))}var o={},a=e.element(t);return{register:i,deregister:r}}n.$inject=["$timeout","$window","$$rAF","$document","$interpolate","$mdUtil","$mdPanel","$$mdTooltipRegistry"],e.module("material.components.tooltip",["material.core","material.components.panel"]).directive("mdTooltip",n).service("$$mdTooltipRegistry",i)}(),function(){function t(){return{restrict:"AE",controller:n}}function n(t){t.addClass("md-truncate")}n.$inject=["$element"],e.module("material.components.truncate",["material.core"]).directive("mdTruncate",t)}(),function(){function t(){return{controller:i,template:n,compile:function(t,e){t.addClass("md-virtual-repeat-container").addClass(e.hasOwnProperty("mdOrientHorizontal")?"md-orient-horizontal":"md-orient-vertical")}}}function n(t){return'<div class="md-virtual-repeat-scroller" role="presentation"><div class="md-virtual-repeat-sizer" role="presentation"></div><div class="md-virtual-repeat-offsetter" role="presentation">'+t[0].innerHTML+"</div></div>"}function i(t,n,i,r,o,a,s,l,u){this.$rootScope=o,this.$scope=s,this.$element=l,this.$attrs=u,this.size=0,this.scrollSize=0,this.scrollOffset=0,this.horizontal=this.$attrs.hasOwnProperty("mdOrientHorizontal"),this.repeater=null,this.autoShrink=this.$attrs.hasOwnProperty("mdAutoShrink"),this.autoShrinkMin=parseInt(this.$attrs.mdAutoShrinkMin,10)||0,this.originalSize=null,this.offsetSize=parseInt(this.$attrs.mdOffsetSize,10)||0,this.oldElementSize=null,this.maxElementPixels=i.ELEMENT_MAX_PIXELS,this.ltr=!n.isRtl(this.$attrs),this.$attrs.mdTopIndex?(this.bindTopIndex=r(this.$attrs.mdTopIndex),this.topIndex=this.bindTopIndex(this.$scope),e.isDefined(this.topIndex)||(this.topIndex=0,this.bindTopIndex.assign(this.$scope,0)),this.$scope.$watch(this.bindTopIndex,e.bind(this,function(t){t!==this.topIndex&&this.scrollToIndex(t)}))):this.topIndex=0,this.scroller=l[0].querySelector(".md-virtual-repeat-scroller"),this.sizer=this.scroller.querySelector(".md-virtual-repeat-sizer"),this.offsetter=this.scroller.querySelector(".md-virtual-repeat-offsetter");var c=e.bind(this,this.updateSize);t(e.bind(this,function(){c();var t=n.debounce(c,10,null,!1),i=e.element(a);this.size||t(),i.on("resize",t),s.$on("$destroy",function(){i.off("resize",t)}),s.$emit("$md-resize-enable"),s.$on("$md-resize",c)}))}function r(t){return{controller:o,priority:1e3,require:["mdVirtualRepeat","^^mdVirtualRepeatContainer"],restrict:"A",terminal:!0,transclude:"element",compile:function(e,n){var i=n.mdVirtualRepeat,r=i.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/),o=r[1],a=t(r[2]),s=n.mdExtraName&&t(n.mdExtraName);return function(t,e,n,i,r){i[0].link_(i[1],r,o,a,s)}}}}function o(t,n,i,r,o,a,s,l){this.$scope=t,this.$element=n,this.$attrs=i,this.$browser=r,this.$document=o,this.$mdUtil=l,this.$rootScope=a,this.$$rAF=s,this.onDemand=l.parseAttributeBoolean(i.mdOnDemand),this.browserCheckUrlChange=r.$$checkUrlChange,this.newStartIndex=0,this.newEndIndex=0,this.newVisibleEnd=0,this.startIndex=0,this.endIndex=0,this.itemSize=t.$eval(i.mdItemSize)||null,this.isFirstRender=!0,this.isVirtualRepeatUpdating_=!1,this.itemsLength=0,this.unwatchItemSize_=e.noop,this.blocks={},this.pooledBlocks=[],t.$on("$destroy",e.bind(this,this.cleanupBlocks_))}function a(t){if(!e.isFunction(t.getItemAtIndex)||!e.isFunction(t.getLength))throw Error("When md-on-demand is enabled, the Object passed to md-virtual-repeat must implement functions getItemAtIndex() and getLength().");this.model=t}function s(t){return{restrict:"A",link:function(t,e,n){var i=t.$eval(n.mdForceHeight)||null;i&&e&&(e[0].style.height=i)}}}i.$inject=["$$rAF","$mdUtil","$mdConstant","$parse","$rootScope","$window","$scope","$element","$attrs"],o.$inject=["$scope","$element","$attrs","$browser","$document","$rootScope","$$rAF","$mdUtil"],r.$inject=["$parse"],e.module("material.components.virtualRepeat",["material.core","material.components.showHide"]).directive("mdVirtualRepeatContainer",t).directive("mdVirtualRepeat",r).directive("mdForceHeight",s);var l=3;i.prototype.register=function(t){this.repeater=t,e.element(this.scroller).on("scroll wheel touchmove touchend",e.bind(this,this.handleScroll_))},i.prototype.isHorizontal=function(){return this.horizontal},i.prototype.getSize=function(){return this.size},i.prototype.setSize_=function(t){var e=this.getDimensionName_();this.size=t,this.$element[0].style[e]=t+"px"},i.prototype.unsetSize_=function(){this.$element[0].style[this.getDimensionName_()]=this.oldElementSize,this.oldElementSize=null},i.prototype.updateSize=function(){if(!this.originalSize){var t=this.isHorizontal()?this.$element[0].clientWidth:this.$element[0].clientHeight;t&&(this.size=t),this.handleScroll_(),this.repeater&&this.repeater.containerUpdated()}},i.prototype.getScrollSize=function(){return this.scrollSize},i.prototype.getDimensionName_=function(){return this.isHorizontal()?"width":"height"},i.prototype.sizeScroller_=function(t){var e=this.getDimensionName_(),n=this.isHorizontal()?"height":"width";if(this.sizer.innerHTML="",t<this.maxElementPixels)this.sizer.style[e]=t+"px";else{this.sizer.style[e]="auto",this.sizer.style[n]="auto";var i=Math.floor(t/this.maxElementPixels),r=document.createElement("div");r.style[e]=this.maxElementPixels+"px",r.style[n]="1px";for(var o=0;o<i;o++)this.sizer.appendChild(r.cloneNode(!1));r.style[e]=t-i*this.maxElementPixels+"px",this.sizer.appendChild(r)}},i.prototype.autoShrink_=function(t){var e=Math.max(t,this.autoShrinkMin*this.repeater.getItemSize());if(this.autoShrink&&e!==this.size){null===this.oldElementSize&&(this.oldElementSize=this.$element[0].style[this.getDimensionName_()]);var n=this.originalSize||this.size;if(!n||e<n)this.originalSize||(this.originalSize=this.size),this.setSize_(e);else if(null!==this.originalSize){this.unsetSize_();var i=this.originalSize;this.originalSize=null,i||this.updateSize(),this.setSize_(i||this.size)}this.repeater.containerUpdated()}},i.prototype.setScrollSize=function(t){var e=t+this.offsetSize;this.scrollSize!==e&&(this.sizeScroller_(e),this.autoShrink_(e),this.scrollSize=e)},i.prototype.getScrollOffset=function(){return this.scrollOffset},i.prototype.scrollTo=function(t){this.scroller[this.isHorizontal()?"scrollLeft":"scrollTop"]=t,this.handleScroll_()},i.prototype.scrollToIndex=function(t){var e=this.repeater.getItemSize(),n=this.repeater.itemsLength;t>n&&(t=n-1),this.scrollTo(e*t)},i.prototype.resetScroll=function(){this.scrollTo(0)},i.prototype.handleScroll_=function(){this.ltr||this.maxSize||(this.scroller.scrollLeft=this.scrollSize,this.maxSize=this.scroller.scrollLeft);var t=this.isHorizontal()?this.ltr?this.scroller.scrollLeft:this.maxSize-this.scroller.scrollLeft:this.scroller.scrollTop;if(!(this.scrollSize<this.size)&&(t>this.scrollSize-this.size&&(t=this.scrollSize-this.size),t!==this.scrollOffset)){var e=this.repeater.getItemSize();if(e){var n=Math.max(0,Math.floor(t/e)-l),i=(this.isHorizontal()?"translateX(":"translateY(")+(!this.isHorizontal()||this.ltr?n*e:-(n*e))+"px)";if(this.scrollOffset=t,this.offsetter.style.webkitTransform=i,this.offsetter.style.transform=i,this.bindTopIndex){var r=Math.floor(t/e);r!==this.topIndex&&r<this.repeater.getItemCount()&&(this.topIndex=r,this.bindTopIndex.assign(this.$scope,r),this.$rootScope.$$phase||this.$scope.$digest())}this.repeater.containerUpdated()}}},o.Block,o.prototype.link_=function(t,n,i,r,o){this.container=t,this.transclude=n,this.repeatName=i,this.rawRepeatListExpression=r,this.extraName=o,this.sized=!1,this.repeatListExpression=e.bind(this,this.repeatListExpression_),this.container.register(this)},o.prototype.cleanupBlocks_=function(){e.forEach(this.pooledBlocks,function(t){t.element.remove()})},o.prototype.readItemSize_=function(){if(!this.itemSize){this.items=this.repeatListExpression(this.$scope),this.parentNode=this.$element[0].parentNode;var t=this.getBlock_(0);t.element[0].parentNode||this.parentNode.appendChild(t.element[0]),this.itemSize=t.element[0][this.container.isHorizontal()?"offsetWidth":"offsetHeight"]||null,this.blocks[0]=t,this.poolBlock_(0),this.itemSize&&this.containerUpdated()}},o.prototype.repeatListExpression_=function(t){var e=this.rawRepeatListExpression(t);if(this.onDemand&&e){var n=new a(e);return n.$$includeIndexes(this.newStartIndex,this.newVisibleEnd),n}return e},o.prototype.containerUpdated=function(){return this.itemSize?(this.sized||(this.items=this.repeatListExpression(this.$scope)),this.sized||(this.unwatchItemSize_(),this.sized=!0,this.$scope.$watchCollection(this.repeatListExpression,e.bind(this,function(t,e){this.isVirtualRepeatUpdating_||this.virtualRepeatUpdate_(t,e)}))),this.updateIndexes_(),void((this.newStartIndex!==this.startIndex||this.newEndIndex!==this.endIndex||this.container.getScrollOffset()>this.container.getScrollSize())&&(this.items instanceof a&&this.items.$$includeIndexes(this.newStartIndex,this.newEndIndex),this.virtualRepeatUpdate_(this.items,this.items)))):(this.unwatchItemSize_&&this.unwatchItemSize_!==e.noop&&this.unwatchItemSize_(),this.unwatchItemSize_=this.$scope.$watchCollection(this.repeatListExpression,e.bind(this,function(t){t&&t.length&&this.readItemSize_()})),void(this.$rootScope.$$phase||this.$scope.$digest()))},o.prototype.getItemSize=function(){return this.itemSize},o.prototype.getItemCount=function(){return this.itemsLength},o.prototype.virtualRepeatUpdate_=function(t,n){this.isVirtualRepeatUpdating_=!0;var i=t&&t.length||0,r=!1;if(this.items&&i<this.items.length&&0!==this.container.getScrollOffset()){this.items=t;var o=this.container.getScrollOffset();this.container.resetScroll(),this.container.scrollTo(o)}i!==this.itemsLength&&(r=!0,this.itemsLength=i),this.items=t,(t!==n||r)&&this.updateIndexes_(),this.parentNode=this.$element[0].parentNode,r&&this.container.setScrollSize(i*this.itemSize),Object.keys(this.blocks).forEach(function(t){var e=parseInt(t,10);(e<this.newStartIndex||e>=this.newEndIndex)&&this.poolBlock_(e)},this),this.$browser.$$checkUrlChange=e.noop;var a,s,l=[],u=[];for(a=this.newStartIndex;a<this.newEndIndex&&null==this.blocks[a];a++)s=this.getBlock_(a),this.updateBlock_(s,a),l.push(s);for(;null!=this.blocks[a];a++)this.updateBlock_(this.blocks[a],a);for(var c=a-1;a<this.newEndIndex;a++)s=this.getBlock_(a),this.updateBlock_(s,a),u.push(s);if(l.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(l),this.$element[0].nextSibling),u.length&&this.parentNode.insertBefore(this.domFragmentFromBlocks_(u),this.blocks[c]&&this.blocks[c].element[0].nextSibling),this.$browser.$$checkUrlChange=this.browserCheckUrlChange,this.startIndex=this.newStartIndex,this.endIndex=this.newEndIndex,this.isFirstRender){this.isFirstRender=!1;var d=this.$attrs.mdStartIndex?this.$scope.$eval(this.$attrs.mdStartIndex):this.container.topIndex;this.$mdUtil.nextTick(function(){this.container.scrollToIndex(d)}.bind(this))}this.isVirtualRepeatUpdating_=!1},o.prototype.getBlock_=function(t){if(this.pooledBlocks.length)return this.pooledBlocks.pop();var n;return this.transclude(e.bind(this,function(e,i){n={element:e,"new":!0,scope:i},this.updateScope_(i,t),this.parentNode.appendChild(e[0])})),n},o.prototype.updateBlock_=function(t,e){this.blocks[e]=t,(t["new"]||t.scope.$index!==e||t.scope[this.repeatName]!==this.items[e])&&(t["new"]=!1,this.updateScope_(t.scope,e),this.$rootScope.$$phase||t.scope.$digest())},o.prototype.updateScope_=function(t,e){t.$index=e,t[this.repeatName]=this.items&&this.items[e],this.extraName&&(t[this.extraName(this.$scope)]=this.items[e])},o.prototype.poolBlock_=function(t){this.pooledBlocks.push(this.blocks[t]),this.parentNode.removeChild(this.blocks[t].element[0]),delete this.blocks[t]},o.prototype.domFragmentFromBlocks_=function(t){var e=this.$document[0].createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element[0])}),e},o.prototype.updateIndexes_=function(){var t=this.items?this.items.length:0,e=Math.ceil(this.container.getSize()/this.itemSize);this.newStartIndex=Math.max(0,Math.min(t-e,Math.floor(this.container.getScrollOffset()/this.itemSize))),this.newVisibleEnd=this.newStartIndex+e+l,this.newEndIndex=Math.min(t,this.newVisibleEnd),this.newStartIndex=Math.max(0,this.newStartIndex-l)},a.prototype.$$includeIndexes=function(t,e){for(var n=t;n<e;n++)this.hasOwnProperty(n)||(this[n]=this.model.getItemAtIndex(n));this.length=this.model.getLength()},s.$inject=["$mdUtil"];
}(),function(){function t(t){function e(e,a,s){var l="";s.$observe("mdWhiteframe",function(e){e=parseInt(e,10)||o,e!=n&&(e>r||e<i)&&(t.warn("md-whiteframe attribute value is invalid. It should be a number between "+i+" and "+r,a[0]),e=o);var u=e==n?"":"md-whiteframe-"+e+"dp";s.$updateClass(u,l),l=u})}var n=-1,i=1,r=24,o=4;return{link:e}}t.$inject=["$log"],e.module("material.components.whiteframe",["material.core"]).directive("mdWhiteframe",t)}(),function(){e.module("material.core").constant("$MD_THEME_CSS",'md-autocomplete.md-THEME_NAME-theme{background:"{{background-hue-1}}"}md-autocomplete.md-THEME_NAME-theme[disabled]:not([md-floating-label]){background:"{{background-hue-2}}"}md-autocomplete.md-THEME_NAME-theme button md-icon path{fill:"{{background-600}}"}md-autocomplete.md-THEME_NAME-theme button:after{background:"{{background-600-0.3}}"}md-autocomplete.md-THEME_NAME-theme input{color:"{{foreground-1}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused .md-input{border-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-accent md-input-container.md-input-focused md-icon{color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-container{background-color:"{{accent-100}}"}md-autocomplete.md-THEME_NAME-theme.md-accent md-progress-linear .md-bar{background-color:"{{accent-color}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused .md-input{border-color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused label,md-autocomplete.md-THEME_NAME-theme.md-warn md-input-container.md-input-focused md-icon{color:"{{warn-A700}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-container{background-color:"{{warn-100}}"}md-autocomplete.md-THEME_NAME-theme.md-warn md-progress-linear .md-bar{background-color:"{{warn-color}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme,.md-autocomplete-suggestions-container.md-THEME_NAME-theme{background:"{{background-hue-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme .md-autocomplete-suggestion,.md-autocomplete-suggestions-container.md-THEME_NAME-theme .md-autocomplete-suggestion{color:"{{foreground-1}}"}.md-autocomplete-standard-list-container.md-THEME_NAME-theme .md-autocomplete-suggestion.selected,.md-autocomplete-standard-list-container.md-THEME_NAME-theme .md-autocomplete-suggestion:hover,.md-autocomplete-suggestions-container.md-THEME_NAME-theme .md-autocomplete-suggestion.selected,.md-autocomplete-suggestions-container.md-THEME_NAME-theme .md-autocomplete-suggestion:hover{background:"{{background-500-0.18}}"}md-backdrop{background-color:"{{background-900-0.0}}"}md-backdrop.md-opaque.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-bottom-sheet.md-THEME_NAME-theme{background-color:"{{background-color}}";border-top-color:"{{background-hue-3}}"}md-bottom-sheet.md-THEME_NAME-theme.md-list md-list-item{color:"{{foreground-1}}"}md-bottom-sheet.md-THEME_NAME-theme .md-subheader{background-color:"{{background-color}}";color:"{{foreground-1}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme:not([disabled]):hover{background-color:"{{background-500-0.2}}"}.md-button.md-THEME_NAME-theme:not([disabled]).md-icon-button:hover{background-color:transparent}.md-button.md-THEME_NAME-theme.md-fab md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab,.md-button.md-THEME_NAME-theme.md-primary.md-raised{color:"{{primary-contrast}}";background-color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]) md-icon{color:"{{primary-contrast}}"}.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-primary.md-raised:not([disabled]):hover{background-color:"{{primary-600}}"}.md-button.md-THEME_NAME-theme.md-primary:not([disabled]) md-icon{color:"{{primary-color}}"}.md-button.md-THEME_NAME-theme.md-fab{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]) .md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-fab:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-raised{color:"{{background-900}}";background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]) md-icon{color:"{{background-900}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]):hover{background-color:"{{background-50}}"}.md-button.md-THEME_NAME-theme.md-raised:not([disabled]).md-focused{background-color:"{{background-200}}"}.md-button.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab,.md-button.md-THEME_NAME-theme.md-warn.md-raised{color:"{{warn-contrast}}";background-color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]) md-icon{color:"{{warn-contrast}}"}.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-warn.md-raised:not([disabled]):hover{background-color:"{{warn-600}}"}.md-button.md-THEME_NAME-theme.md-warn:not([disabled]) md-icon{color:"{{warn-color}}"}.md-button.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab,.md-button.md-THEME_NAME-theme.md-accent.md-raised{color:"{{accent-contrast}}";background-color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]) md-icon,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]) md-icon{color:"{{accent-contrast}}"}.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-fab:not([disabled]):hover,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]).md-focused,.md-button.md-THEME_NAME-theme.md-accent.md-raised:not([disabled]):hover{background-color:"{{accent-A700}}"}.md-button.md-THEME_NAME-theme.md-accent:not([disabled]) md-icon{color:"{{accent-color}}"}.md-button.md-THEME_NAME-theme.md-accent[disabled],.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled],.md-button.md-THEME_NAME-theme.md-warn[disabled],.md-button.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}";cursor:default}.md-button.md-THEME_NAME-theme.md-accent[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-fab[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-raised[disabled] md-icon,.md-button.md-THEME_NAME-theme.md-warn[disabled] md-icon,.md-button.md-THEME_NAME-theme[disabled] md-icon{color:"{{foreground-3}}"}.md-button.md-THEME_NAME-theme.md-fab[disabled],.md-button.md-THEME_NAME-theme.md-raised[disabled]{background-color:"{{foreground-4}}"}.md-button.md-THEME_NAME-theme[disabled]{background-color:transparent}._md a.md-THEME_NAME-theme:not(.md-button).md-primary{color:"{{primary-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-primary:hover{color:"{{primary-700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent{color:"{{accent-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-accent:hover{color:"{{accent-A700}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn{color:"{{warn-color}}"}._md a.md-THEME_NAME-theme:not(.md-button).md-warn:hover{color:"{{warn-700}}"}md-card.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-hue-1}}";border-radius:2px}md-card.md-THEME_NAME-theme .md-card-image{border-radius:2px 2px 0 0}md-card.md-THEME_NAME-theme md-card-header md-card-avatar md-icon{color:"{{background-color}}";background-color:"{{foreground-3}}"}md-card.md-THEME_NAME-theme md-card-header md-card-header-text .md-subhead,md-card.md-THEME_NAME-theme md-card-title md-card-title-text:not(:only-child) .md-subhead{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme .md-ripple{color:"{{accent-A700}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme.md-checked.md-focused .md-container:before{background-color:"{{accent-color-0.26}}"}md-checkbox.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon{background-color:"{{accent-color-0.87}}"}md-checkbox.md-THEME_NAME-theme.md-checked .md-icon:after{border-color:"{{accent-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ripple{color:"{{primary-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ripple{color:"{{background-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon{background-color:"{{primary-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked.md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-icon:after{border-color:"{{primary-contrast-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-primary .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ripple{color:"{{warn-600}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn .md-ink-ripple{color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon{background-color:"{{warn-color-0.87}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked.md-focused:not([disabled]) .md-container:before{background-color:"{{warn-color-0.26}}"}md-checkbox.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled]:not(.md-checked) .md-icon{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon{background-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled].md-checked .md-icon:after{border-color:"{{background-200}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-icon:after{border-color:"{{foreground-3}}"}md-checkbox.md-THEME_NAME-theme[disabled] .md-label{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips{box-shadow:0 1px "{{foreground-4}}"}md-chips.md-THEME_NAME-theme .md-chips.md-focused{box-shadow:0 2px "{{primary-color}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input{color:"{{foreground-1}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-webkit-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-ms-input-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-ms-input-placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::placeholder{color:"{{foreground-3}}"}md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input:-moz-placeholder,md-chips.md-THEME_NAME-theme .md-chips .md-chip-input-container input::-moz-placeholder{color:"{{foreground-3}}";opacity:1}md-chips.md-THEME_NAME-theme md-chip{background:"{{background-300}}";color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip md-icon{color:"{{background-700}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused{background:"{{primary-color}}";color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip.md-focused md-icon{color:"{{primary-contrast}}"}md-chips.md-THEME_NAME-theme md-chip._md-chip-editing{background:transparent;color:"{{background-800}}"}md-chips.md-THEME_NAME-theme md-chip-remove .md-button md-icon path{fill:"{{background-500}}"}.md-contact-suggestion span.md-contact-email{color:"{{background-400}}"}md-content.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-default}}"}.md-THEME_NAME-theme .md-calendar{background:"{{background-hue-1}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar tr:last-child td{border-bottom-color:"{{background-hue-2}}"}.md-THEME_NAME-theme .md-calendar-day-header{background:"{{background-500-0.32}}";color:"{{foreground-1-0.87}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today .md-calendar-date-selection-indicator{border:1px solid "{{primary-500}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-date-today.md-calendar-date-disabled{color:"{{primary-500-0.6}}"}.md-calendar-date.md-focus .md-THEME_NAME-theme .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date-selection-indicator:hover{background:"{{background-500-0.32}}"}.md-THEME_NAME-theme .md-calendar-date.md-calendar-selected-date .md-calendar-date-selection-indicator,.md-THEME_NAME-theme .md-calendar-date.md-focus.md-calendar-selected-date .md-calendar-date-selection-indicator{background:"{{primary-500}}";color:"{{primary-500-contrast}}";border-color:transparent}.md-THEME_NAME-theme .md-calendar-date-disabled,.md-THEME_NAME-theme .md-calendar-month-label-disabled{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-calendar-month-label md-icon,.md-THEME_NAME-theme .md-datepicker-input{color:"{{foreground-1}}"}.md-THEME_NAME-theme .md-datepicker-input::-webkit-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-ms-input-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-ms-input-placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input::placeholder{color:"{{foreground-3}}"}.md-THEME_NAME-theme .md-datepicker-input:-moz-placeholder,.md-THEME_NAME-theme .md-datepicker-input::-moz-placeholder{color:"{{foreground-3}}";opacity:1}.md-THEME_NAME-theme .md-datepicker-input-container{border-bottom-color:"{{foreground-4}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-invalid,.md-warn .md-THEME_NAME-theme .md-datepicker-input-container.md-datepicker-focused{border-bottom-color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar-pane{border-color:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-triangle-button .md-datepicker-expand-triangle{border-top-color:"{{foreground-2}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{primary-color}}"}.md-accent .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon,.md-THEME_NAME-theme .md-datepicker-open.md-accent .md-datepicker-calendar-icon{color:"{{accent-color}}"}.md-THEME_NAME-theme .md-datepicker-open.md-warn .md-datepicker-calendar-icon,.md-warn .md-THEME_NAME-theme .md-datepicker-open .md-datepicker-calendar-icon{color:"{{warn-A700}}"}.md-THEME_NAME-theme .md-datepicker-calendar{background:"{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-input-mask-opaque{box-shadow:0 0 0 9999px "{{background-hue-1}}"}.md-THEME_NAME-theme .md-datepicker-open .md-datepicker-input-container{background:"{{background-hue-1}}"}md-dialog.md-THEME_NAME-theme{border-radius:4px;background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-dialog.md-THEME_NAME-theme.md-content-overflow .md-actions,md-dialog.md-THEME_NAME-theme.md-content-overflow md-dialog-actions,md-divider.md-THEME_NAME-theme{border-top-color:"{{foreground-4}}"}.layout-gt-lg-row>md-divider.md-THEME_NAME-theme,.layout-gt-md-row>md-divider.md-THEME_NAME-theme,.layout-gt-sm-row>md-divider.md-THEME_NAME-theme,.layout-gt-xs-row>md-divider.md-THEME_NAME-theme,.layout-lg-row>md-divider.md-THEME_NAME-theme,.layout-md-row>md-divider.md-THEME_NAME-theme,.layout-row>md-divider.md-THEME_NAME-theme,.layout-sm-row>md-divider.md-THEME_NAME-theme,.layout-xl-row>md-divider.md-THEME_NAME-theme,.layout-xs-row>md-divider.md-THEME_NAME-theme{border-right-color:"{{foreground-4}}"}md-icon.md-THEME_NAME-theme{color:"{{foreground-2}}"}md-icon.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}md-icon.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}md-icon.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-input-container.md-THEME_NAME-theme .md-input{color:"{{foreground-1}}";border-color:"{{foreground-4}}"}md-input-container.md-THEME_NAME-theme .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input:-ms-input-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input::placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme .md-input::-moz-placeholder{color:"{{foreground-2}}";opacity:1}md-input-container.md-THEME_NAME-theme>md-icon{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme .md-placeholder,md-input-container.md-THEME_NAME-theme label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme label.md-required:after{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-focused):not(.md-input-invalid) label.md-required:after{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation,md-input-container.md-THEME_NAME-theme .md-input-messages-animation{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme .md-input-message-animation .md-char-counter,md-input-container.md-THEME_NAME-theme .md-input-messages-animation .md-char-counter{color:"{{foreground-1}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-webkit-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-ms-input-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-ms-input-placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::placeholder{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme.md-input-focused .md-input:-moz-placeholder,md-input-container.md-THEME_NAME-theme.md-input-focused .md-input::-moz-placeholder{color:"{{foreground-2}}";opacity:1}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-has-value label{color:"{{foreground-2}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused .md-input,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-resized .md-input{border-color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused md-icon{color:"{{primary-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent .md-input{border-color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-accent md-icon{color:"{{accent-color}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn label,md-input-container.md-THEME_NAME-theme:not(.md-input-invalid).md-input-focused.md-warn md-icon{color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input{border-color:"{{warn-A700}}"}md-input-container.md-THEME_NAME-theme.md-input-invalid .md-char-counter,md-input-container.md-THEME_NAME-theme.md-input-invalid .md-input-message-animation,md-input-container.md-THEME_NAME-theme.md-input-invalid label{color:"{{warn-A700}}"}[disabled] md-input-container.md-THEME_NAME-theme .md-input,md-input-container.md-THEME_NAME-theme .md-input[disabled]{border-bottom-color:transparent;color:"{{foreground-3}}";background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text h4,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h3,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text h4{color:"{{foreground-1}}"}md-list.md-THEME_NAME-theme md-list-item.md-2-line .md-list-item-text p,md-list.md-THEME_NAME-theme md-list-item.md-3-line .md-list-item-text p{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme .md-proxy-focus.md-focused div.md-no-style{background-color:"{{background-100}}"}md-list.md-THEME_NAME-theme md-list-item .md-avatar-icon{background-color:"{{foreground-3}}";color:"{{background-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon{color:"{{foreground-2}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight{color:"{{primary-color}}"}md-list.md-THEME_NAME-theme md-list-item>md-icon.md-highlight.md-accent{color:"{{accent-color}}"}md-menu-content.md-THEME_NAME-theme{background-color:"{{background-hue-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item{color:"{{foreground-1}}"}md-menu-content.md-THEME_NAME-theme md-menu-item md-icon{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled],md-menu-content.md-THEME_NAME-theme md-menu-item .md-button[disabled] md-icon{color:"{{foreground-3}}"}md-menu-content.md-THEME_NAME-theme md-menu-divider{background-color:"{{foreground-4}}"}md-menu-bar.md-THEME_NAME-theme>button.md-button{color:"{{foreground-1}}";border-radius:2px}md-menu-bar.md-THEME_NAME-theme md-menu>button{color:"{{foreground-1}}"}md-menu-bar.md-THEME_NAME-theme md-menu.md-open>button,md-menu-bar.md-THEME_NAME-theme md-menu>button:focus{outline:none;background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme.md-open:not(.md-keyboard-mode) md-menu:hover>button{background-color:"{{ background-500-0.18}}"}md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:focus,md-menu-bar.md-THEME_NAME-theme:not(.md-keyboard-mode):not(.md-open) md-menu button:hover{background:transparent}md-menu-content.md-THEME_NAME-theme .md-menu>.md-button:after{color:"{{foreground-2}}"}md-menu-content.md-THEME_NAME-theme .md-menu.md-open>.md-button{background-color:"{{ background-500-0.18}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar{background-color:"{{background-hue-1}}";color:"{{foreground-1}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler{background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme.md-menu-toolbar md-toolbar-filler md-icon{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme .md-nav-bar{background-color:transparent;border-color:"{{foreground-4}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button.md-unselected{color:"{{foreground-2}}"}md-nav-bar.md-THEME_NAME-theme .md-button._md-nav-button[disabled]{color:"{{foreground-3}}"}md-nav-bar.md-THEME_NAME-theme md-nav-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar{background-color:"{{accent-color}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-accent>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar{background-color:"{{warn-color}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-warn>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar{background-color:"{{primary-color}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-active,md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-nav-bar.md-THEME_NAME-theme.md-primary>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{primary-color}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{primary-100}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{primary-contrast}}"}md-toolbar>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{accent-A100}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar md-nav-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button{color:"{{warn-100}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-active,md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-nav-bar.md-THEME_NAME-theme>.md-nav-bar .md-button._md-nav-button.md-focused{background:"{{warn-contrast-0.1}}"}._md-panel-backdrop.md-THEME_NAME-theme{background-color:"{{background-900-1.0}}"}md-progress-circular.md-THEME_NAME-theme path{stroke:"{{primary-color}}"}md-progress-circular.md-THEME_NAME-theme.md-warn path{stroke:"{{warn-color}}"}md-progress-circular.md-THEME_NAME-theme.md-accent path{stroke:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme .md-container{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme .md-bar{background-color:"{{primary-color}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-container{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme.md-warn .md-bar{background-color:"{{warn-color}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-container{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme.md-accent .md-bar{background-color:"{{accent-color}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-bar1{background-color:"{{primary-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-primary .md-dashed:before{background:radial-gradient("{{primary-100}}" 0,"{{primary-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-bar1{background-color:"{{warn-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-warn .md-dashed:before{background:radial-gradient("{{warn-100}}" 0,"{{warn-100}}" 16%,transparent 42%)}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-bar1{background-color:"{{accent-100}}"}md-progress-linear.md-THEME_NAME-theme[md-mode=buffer].md-accent .md-dashed:before{background:radial-gradient("{{accent-100}}" 0,"{{accent-100}}" 16%,transparent 42%)}md-radio-button.md-THEME_NAME-theme .md-off{border-color:"{{foreground-2}}"}md-radio-button.md-THEME_NAME-theme .md-on{background-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-off{border-color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme.md-checked .md-ink-ripple{color:"{{accent-color-0.87}}"}md-radio-button.md-THEME_NAME-theme .md-container .md-ripple{color:"{{accent-A700}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-on{background-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-off{border-color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-checked .md-ink-ripple{color:"{{primary-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-primary .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-primary .md-container .md-ripple{color:"{{primary-600}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-on,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-on{background-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-off,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-off{border-color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn.md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-checked .md-ink-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-checked .md-ink-ripple{color:"{{warn-color-0.87}}"}md-radio-button.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-button.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]).md-warn .md-container .md-ripple,md-radio-group.md-THEME_NAME-theme:not([disabled]) .md-warn .md-container .md-ripple{color:"{{warn-600}}"}md-radio-button.md-THEME_NAME-theme[disabled],md-radio-group.md-THEME_NAME-theme[disabled]{color:"{{foreground-3}}"}md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-button.md-THEME_NAME-theme[disabled] .md-container .md-on,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-off,md-radio-group.md-THEME_NAME-theme[disabled] .md-container .md-on{border-color:"{{foreground-3}}"}md-radio-group.md-THEME_NAME-theme .md-checked .md-ink-ripple{color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme .md-checked:not([disabled]).md-primary .md-ink-ripple,md-radio-group.md-THEME_NAME-theme.md-primary .md-checked:not([disabled]) .md-ink-ripple{color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused.ng-empty>md-radio-button:first-child .md-container:before{background-color:"{{foreground-3-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked .md-container:before{background-color:"{{accent-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-primary .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-primary .md-checked .md-container:before{background-color:"{{primary-color-0.26}}"}md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty) .md-checked.md-warn .md-container:before,md-radio-group.md-THEME_NAME-theme.md-focused:not(:empty).md-warn .md-checked .md-container:before{background-color:"{{warn-color-0.26}}"}md-input-container md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-input-container:not(.md-input-focused):not(.md-input-invalid) md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{foreground-3}}"}md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value,md-input-container.md-input-focused:not(.md-input-has-value) md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{primary-color}}"}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-input-container.md-input-invalid md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value{border-color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-accent .md-select-value span{color:"{{accent-color}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value{border-color:"{{warn-A700}}"}md-input-container:not(.md-input-invalid).md-input-focused.md-warn .md-select-value span{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-value{border-bottom-color:transparent;background-image:linear-gradient(90deg,"{{foreground-3}}" 0,"{{foreground-3}}" 33%,transparent 0);background-image:-ms-linear-gradient(left,transparent 0,"{{foreground-3}}" 100%)}md-select.md-THEME_NAME-theme .md-select-value{border-bottom-color:"{{foreground-4}}"}md-select.md-THEME_NAME-theme .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-value span:first-child:after{color:"{{warn-A700}}"}md-select.md-THEME_NAME-theme.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched .md-select-value{color:"{{warn-A700}}"!important;border-bottom-color:"{{warn-A700}}"!important}md-select.md-THEME_NAME-theme.ng-invalid.ng-touched.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value{border-bottom-color:"{{primary-color}}";color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus .md-select-value.md-select-placeholder{color:"{{ foreground-1 }}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-no-underline .md-select-value{border-bottom-color:transparent!important}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-accent .md-select-value{border-bottom-color:"{{accent-color}}"}md-select.md-THEME_NAME-theme:not([disabled]):focus.md-warn .md-select-value{border-bottom-color:"{{warn-color}}"}md-select.md-THEME_NAME-theme[disabled] .md-select-icon,md-select.md-THEME_NAME-theme[disabled] .md-select-value,md-select.md-THEME_NAME-theme[disabled] .md-select-value.md-select-placeholder{color:"{{foreground-3}}"}md-select.md-THEME_NAME-theme .md-select-icon{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-optgroup{color:"{{foreground-2}}"}md-select-menu.md-THEME_NAME-theme md-content md-option{color:"{{foreground-1}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[disabled] .md-text{color:"{{foreground-3}}"}md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]).md-focused,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):focus,md-select-menu.md-THEME_NAME-theme md-content md-option:not([disabled]):hover{background-color:"{{background-500-0.18}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected]{color:"{{primary-500}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-focused,md-select-menu.md-THEME_NAME-theme md-content md-option[selected]:focus{color:"{{primary-600}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent{color:"{{accent-color}}"}md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent.md-focused,md-select-menu.md-THEME_NAME-theme md-content md-option[selected].md-accent:focus{color:"{{accent-A700}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ripple{color:"{{primary-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ripple{color:"{{background-600}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-ink-ripple{color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-ink-ripple{color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme:not(.md-checked) .md-icon{border-color:"{{foreground-2}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon{background-color:"{{primary-color-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected].md-focused .md-container:before{background-color:"{{primary-color-0.26}}"}.md-checkbox-enabled.md-THEME_NAME-theme[selected] .md-icon:after{border-color:"{{primary-contrast-0.87}}"}.md-checkbox-enabled.md-THEME_NAME-theme .md-indeterminate[disabled] .md-container{color:"{{foreground-3}}"}.md-checkbox-enabled.md-THEME_NAME-theme md-option .md-text{color:"{{foreground-1}}"}md-sidenav.md-THEME_NAME-theme,md-sidenav.md-THEME_NAME-theme md-content{background-color:"{{background-hue-1}}"}md-slider.md-THEME_NAME-theme .md-track{background-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme .md-track-ticks{color:"{{background-contrast}}"}md-slider.md-THEME_NAME-theme .md-focus-ring{background-color:"{{accent-A200-0.2}}"}md-slider.md-THEME_NAME-theme .md-disabled-thumb{border-color:"{{background-color}}";background-color:"{{background-color}}"}md-slider.md-THEME_NAME-theme.md-min .md-thumb:after{background-color:"{{background-color}}";border-color:"{{foreground-3}}"}md-slider.md-THEME_NAME-theme.md-min .md-focus-ring{background-color:"{{foreground-3-0.38}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-thumb:after{background-color:"{{background-contrast}}";border-color:transparent}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme.md-min[md-discrete][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme .md-track.md-track-fill{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb:after{border-color:"{{accent-color}}";background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign{background-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-sign:after{border-top-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{accent-color}}"}md-slider.md-THEME_NAME-theme .md-thumb-text{color:"{{accent-contrast}}"}md-slider.md-THEME_NAME-theme.md-warn .md-focus-ring{background-color:"{{warn-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-warn .md-track.md-track-fill{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb:after{border-color:"{{warn-color}}";background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign{background-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-sign:after{border-top-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{warn-color}}"}md-slider.md-THEME_NAME-theme.md-warn .md-thumb-text{color:"{{warn-contrast}}"}md-slider.md-THEME_NAME-theme.md-primary .md-focus-ring{background-color:"{{primary-200-0.38}}"}md-slider.md-THEME_NAME-theme.md-primary .md-track.md-track-fill{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb:after{border-color:"{{primary-color}}";background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign{background-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-sign:after{border-top-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary[md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{primary-color}}"}md-slider.md-THEME_NAME-theme.md-primary .md-thumb-text{color:"{{primary-contrast}}"}md-slider.md-THEME_NAME-theme[disabled] .md-thumb:after{border-color:transparent}md-slider.md-THEME_NAME-theme[disabled]:not(.md-min) .md-thumb:after,md-slider.md-THEME_NAME-theme[disabled][md-discrete] .md-thumb:after{background-color:"{{foreground-3}}";border-color:transparent}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign{background-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-sign:after{border-top-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly][md-vertical] .md-sign:after{border-top-color:transparent;border-left-color:"{{background-400}}"}md-slider.md-THEME_NAME-theme[disabled][readonly] .md-disabled-thumb{border-color:transparent;background-color:transparent}md-slider-container[disabled]>:first-child:not(md-slider),md-slider-container[disabled]>:last-child:not(md-slider){color:"{{foreground-3}}"}.md-subheader.md-THEME_NAME-theme{color:"{{ foreground-2-0.23 }}";background-color:"{{background-default}}"}.md-subheader.md-THEME_NAME-theme.md-primary{color:"{{primary-color}}"}.md-subheader.md-THEME_NAME-theme.md-accent{color:"{{accent-color}}"}.md-subheader.md-THEME_NAME-theme.md-warn{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme .md-ink-ripple{color:"{{background-500}}"}md-switch.md-THEME_NAME-theme .md-thumb{background-color:"{{background-50}}"}md-switch.md-THEME_NAME-theme .md-bar{background-color:"{{background-500}}"}md-switch.md-THEME_NAME-theme.md-focused:not(.md-checked) .md-thumb:before,md-switch.md-THEME_NAME-theme.md-focused[disabled] .md-thumb:before{background-color:"{{foreground-4}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-ink-ripple{color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-thumb{background-color:"{{accent-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]) .md-bar{background-color:"{{accent-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-focused .md-thumb:before{background-color:"{{accent-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-ink-ripple{color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-thumb{background-color:"{{primary-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary .md-bar{background-color:"{{primary-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-primary.md-focused .md-thumb:before{background-color:"{{primary-color-0.26}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-ink-ripple{color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-thumb{background-color:"{{warn-color}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn .md-bar{background-color:"{{warn-color-0.5}}"}md-switch.md-THEME_NAME-theme.md-checked:not([disabled]).md-warn.md-focused .md-thumb:before{background-color:"{{warn-color-0.26}}"}md-switch.md-THEME_NAME-theme[disabled] .md-thumb{background-color:"{{background-400}}"}md-switch.md-THEME_NAME-theme[disabled] .md-bar{background-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme md-tabs-wrapper{background-color:transparent;border-color:"{{foreground-4}}"}md-tabs.md-THEME_NAME-theme .md-paginator md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme md-ink-bar{color:"{{accent-color}}";background:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme .md-tab{color:"{{foreground-2}}"}md-tabs.md-THEME_NAME-theme .md-tab[disabled],md-tabs.md-THEME_NAME-theme .md-tab[disabled] md-icon{color:"{{foreground-3}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-active,md-tabs.md-THEME_NAME-theme .md-tab.md-active md-icon,md-tabs.md-THEME_NAME-theme .md-tab.md-focused,md-tabs.md-THEME_NAME-theme .md-tab.md-focused md-icon{color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme .md-tab.md-focused{background:"{{primary-color-0.1}}"}md-tabs.md-THEME_NAME-theme .md-tab .md-ripple-container{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper{background-color:"{{accent-color}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-accent>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper{background-color:"{{primary-color}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-tabs.md-THEME_NAME-theme.md-primary>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper{background-color:"{{warn-color}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-tabs.md-THEME_NAME-theme.md-warn>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{primary-color}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{primary-100}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{primary-contrast}}"}md-toolbar>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{primary-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{accent-color}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{accent-A100}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{accent-contrast}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{accent-contrast-0.1}}"}md-toolbar.md-accent>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-ink-bar{color:"{{primary-600-1}}";background:"{{primary-600-1}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper{background-color:"{{warn-color}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]),md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]) md-icon{color:"{{warn-100}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-active md-icon,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused,md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused md-icon{color:"{{warn-contrast}}"}md-toolbar.md-warn>md-tabs.md-THEME_NAME-theme>md-tabs-wrapper>md-tabs-canvas>md-pagination-wrapper>md-tab-item:not([disabled]).md-focused{background:"{{warn-contrast-0.1}}"}md-toast.md-THEME_NAME-theme .md-toast-content{background-color:#323232;color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button{color:"{{background-50}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight{color:"{{accent-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-primary{color:"{{primary-color}}"}md-toast.md-THEME_NAME-theme .md-toast-content .md-button.md-highlight.md-warn{color:"{{warn-color}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar){background-color:"{{primary-color}}";color:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon{color:"{{primary-contrast}}";fill:"{{primary-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) .md-button[disabled] md-icon{color:"{{primary-contrast-0.26}}";fill:"{{primary-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent{background-color:"{{accent-color}}";color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-ink-ripple{color:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent md-icon{color:"{{accent-contrast}}";fill:"{{accent-contrast}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-accent .md-button[disabled] md-icon{color:"{{accent-contrast-0.26}}";fill:"{{accent-contrast-0.26}}"}md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar).md-warn{background-color:"{{warn-color}}";color:"{{warn-contrast}}"}.md-panel.md-tooltip.md-THEME_NAME-theme{color:"{{background-700-contrast}}";background-color:"{{background-700}}"}body.md-THEME_NAME-theme,html.md-THEME_NAME-theme{color:"{{foreground-1}}";background-color:"{{background-color}}"}');
}()}(window,window.angular),window.ngMaterial={version:{full:"1.1.26"}},function(t,e){"use strict";function n(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&a.test("."+t)}function i(t,i){if(!n(i))throw o("badmember",'Dotted member path "@{0}" is invalid.',i);for(var r=i.split("."),a=0,s=r.length;a<s&&e.isDefined(t);a++){var l=r[a];t=null!==t?t[l]:void 0}return t}function r(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var i in t)!t.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=t[i]);return n}var o=e.$$minErr("$resource"),a=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=/^https?:\/\/[^\/]*/,n=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(t){return d(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function h(t,e){this.template=t,this.defaults=g({},n.defaults,e),this.urlParams={}}function f(t,e,c,d){function x(t,n){var r={};return n=g({},e,n),m(n,function(e,n){b(e)&&(e=e(t)),r[n]=e&&e.charAt&&"@"===e.charAt(0)?i(t,e.substr(1)):e}),r}function C(t){return t.resource}function T(t){r(t||{},this)}var w=new h(t,d);return c=g({},n.defaults.actions,c),T.prototype.toJSON=function(){var t=g({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},m(c,function(t,e){var n=/^(POST|PUT|PATCH)$/i.test(t.method),i=t.timeout,c=_(t.cancellable)?t.cancellable:w.defaults.cancellable;i&&!E(i)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete t.timeout,i=null),T[e]=function(s,d,h,f){var _,E,S,M={};switch(arguments.length){case 4:S=f,E=h;case 3:case 2:if(!b(d)){M=s,_=d,E=h;break}if(b(s)){E=s,S=d;break}E=d,S=h;case 1:b(s)?E=s:n?_=s:M=s;break;case 0:break;default:throw o("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var j,O,A=this instanceof T,R=A?_:t.isArray?[]:new T(_),P={},I=t.interceptor&&t.interceptor.response||C,L=t.interceptor&&t.interceptor.responseError||void 0;m(t,function(t,e){switch(e){default:P[e]=v(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!A&&c&&(j=l.defer(),P.timeout=j.promise,i&&(O=u(j.resolve,i))),n&&(P.data=_),w.setUrlParams(P,g({},x(_,t.params||{}),M),t.url);var k=a(P).then(function(n){var i=n.data;if(i){if(y(i)!==!!t.isArray)throw o("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,t.isArray?"array":"object",y(i)?"array":"object",P.method,P.url);if(t.isArray)R.length=0,m(i,function(t){"object"==typeof t?R.push(new T(t)):R.push(t)});else{var a=R.$promise;r(i,R),R.$promise=a}}return n.resource=R,n},function(t){return(S||p)(t),l.reject(t)});return k["finally"](function(){R.$resolved=!0,!A&&c&&(R.$cancelRequest=p,u.cancel(O),j=O=P.timeout=null)}),k=k.then(function(t){var e=I(t);return(E||p)(e,t.headers,t.status,t.statusText),e},L),A?k:(R.$promise=k,R.$resolved=!1,c&&(R.$cancelRequest=j.resolve),R)},T.prototype["$"+e]=function(t,n,i){b(t)&&(i=n,n=t,t={});var r=T[e].call(this,t,this,n,i);return r.$promise||r}}),T.bind=function(n){var i=g({},e,n);return f(t,i,c,d)},T}var p=e.noop,m=e.forEach,g=e.extend,v=e.copy,y=e.isArray,_=e.isDefined,b=e.isFunction,E=e.isNumber;return h.prototype={setUrlParams:function(e,n,i){var r,a,s=this,l=i||s.template,u="",h=s.urlParams={};m(l.split(/\W/),function(t){if("hasOwnProperty"===t)throw o("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(l)&&(h[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(t,function(t){return u=t,""}),n=n||{},m(s.urlParams,function(t,e){r=n.hasOwnProperty(e)?n[e]:s.defaults[e],_(r)&&null!==r?(a=t.isQueryParamValue?d(r,!0):c(r),l=l.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):l=l.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),e.url=u+l.replace(/\/\\\./,"/."),m(n,function(t,n){s.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},f}]})}(window,window.angular),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),i=function(){var i=t.preferredLanguage();angular.isString(i)?t.use(i):n.put(e,t.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](i):i():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n,i=null,r=!1,o=!1;n={sanitize:function(t,e){return"text"===e&&(t=s(t)),t},escape:function(t,e){return"text"===e&&(t=a(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=u(t,s)),t},escapeParameters:function(t,e){return"params"===e&&(t=u(t,a)),t},sce:function(t,e,n){return"text"===e?t=l(t):"params"===e&&"filter"!==n&&(t=u(t,a)),t},sceParameters:function(t,e){return"params"===e&&(t=u(t,l)),t}},n.escaped=n.escapeParameters,this.addStrategy=function(t,e){return n[t]=e,this},this.removeStrategy=function(t){return delete n[t],this},this.useStrategy=function(t){return r=!0,i=t,this},this.$get=["$injector","$log",function(a,s){var l={},u=function(t,e,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,e,i);else if(angular.isFunction(n[r]))t=n[r](t,e,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=a.get(n[r])}catch(o){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}t=l[n[r]](t,e,i)}}),t},c=function(){r||o||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),o=!0)};return a.has("$sanitize")&&(t=a.get("$sanitize")),a.has("$sce")&&(e=a.get("$sce")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,n,r){if(i||c(),n||null===n||(n=i),!n)return t;r||(r="service");var o=angular.isArray(n)?n:[n];return u(t,e,r,o)}}}];var a=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},s=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},l=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return e.trustAsHtml(t)},u=function(t,e,n){if(angular.isDate(t))return t;if(angular.isObject(t)){var i=angular.isArray(t)?[]:{};if(n){if(n.indexOf(t)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(t),angular.forEach(t,function(t,r){angular.isFunction(t)||(i[r]=u(t,e,n))}),n.splice(-1,1),i}return angular.isNumber(t)?t:t===!0||t===!1?t:angular.isUndefined(t)||null===t?t:e(t)}}function n(t,e,n,i){"use strict";var r,o,a,s,l,u,c,d,h,f,p,m,g,v,y,_,b={},E=[],x=t,C=[],T="translate-cloak",w=!1,S=!1,M=".",j=!1,O=!1,A=0,R=!0,P="default",I={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return e}return n.join("-")},"iso639-1":function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n[0].toLowerCase()}},L="2.18.3",k=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var t,n,r=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(t=0;t<r.languages.length;t++)if(n=r.languages[t],n&&n.length)return n;for(t=0;t<o.length;t++)if(n=r[o[t]],n&&n.length)return n;return null};k.displayName="angular-translate/service: getFirstBrowserLanguage";var D=function(){var t=k()||"";return I[P]&&(t=I[P](t)),t};D.displayName="angular-translate/service: getLocale";var N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},F=function(){return this.toString().replace(/^\s+|\s+$/g,"")},$=function(t){return angular.isString(t)?t.toLowerCase():t},G=function(t){if(t){for(var e=[],n=$(t),i=0,r=E.length;i<r;i++)e.push($(E[i]));if(i=N(e,n),i>-1)return E[i];if(o){var a;for(var s in o)if(o.hasOwnProperty(s)){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&$(s)===$(t);if("*"===s.slice(-1)&&(l=$(s.slice(0,-1))===$(t.slice(0,s.length-1))),(u||l)&&(a=o[s],N(e,$(a))>-1))return a}}var c=t.split("_");return c.length>1&&N(e,$(c[0]))>-1?c[0]:void 0}},U=function(t,e){if(!t&&!e)return b;if(t&&!e){if(angular.isString(t))return b[t]}else angular.isObject(b[t])||(b[t]={}),angular.extend(b[t],B(e));return this};this.translations=U,this.cloakClassName=function(t){return t?(T=t,this):T},this.nestedObjectDelimeter=function(t){return t?(M=t,this):M};var B=function(t,e,n,i){var r,o,a,s;e||(e=[]),n||(n={});for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s=t[r],angular.isObject(s)?B(s,e.concat(r),n,r):(o=e.length?""+e.join(M)+M+r:r,e.length&&r===i&&(a=""+e.join(M),n[a]="@:"+o),n[o]=s));return n};B.displayName="flatObject",this.addInterpolation=function(t){return C.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return t?(H(t),this):r};var H=function(t){return t&&(r=t),r};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(g=t,this):g},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return V(t),this};var V=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(r)&&N(a,r)<0&&a.push(r),this):s?a[0]:a};this.use=function(t){if(t){if(!b[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l},this.resolveClientLocale=function(){return D()};var z=function(t){return t?(x=t,this):d?d+x:x};this.storageKey=z,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,m=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(d=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return h=t,this},this.usePostCompiling=function(t){return w=!!t,this},this.forceAsyncReload=function(t){return S=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},P=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():D();return r=E.length?G(e)||e:e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(E=t,e&&(o=e),this):E},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?A:(A=t,this)},this.statefulFilter=function(t){return void 0===t?R:(R=t,this)},this.postProcess=function(t){return _=t?t:void 0,this},this.keepContent=function(t){return O=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,i){var o,d,P,I=e.get(f||"$translateDefaultInterpolation"),k=!1,$={},W={},q=function(t,e,n,s,u,h){!l&&r&&(l=r);var f=u&&u!==l?G(u)||u:l;if(u&&ct(u),angular.isArray(t)){var p=function(t){for(var r={},o=[],a=function(t){var o=i.defer(),a=function(e){r[t]=e,o.resolve([t,e])};return q(t,e,n,s,u,h).then(a,a),o.promise},l=0,c=t.length;l<c;l++)o.push(a(t[l]));return i.all(o).then(function(){return r})};return p(t)}var m=i.defer();if(!t)throw new TypeError("translationId must be a not empty string");t=F.apply(t);var g=function(){var t=W[f]||W[r];if(d=0,c&&!t){var e=o.get(x);if(t=W[e],a&&a.length){var n=N(a,e);d=0===n?1:0,N(a,r)<0&&a.push(r)}}return t}();if(g){var v=function(){u||(f=l),at(t,e,n,s,f,h).then(m.resolve,m.reject)};v.displayName="promiseResolved",g["finally"](v)["catch"](angular.noop)}else at(t,e,n,s,f,h).then(m.resolve,m.reject);return m.promise},Y=function(t){return g&&(t=[g,t].join(" ")),v&&(t=[t,v].join(" ")),t},K=function(t){l=t,c&&o.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:t}),I.setLocale(l);var e=function(t,e){$[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach($,e),n.$emit("$translateChangeEnd",{language:t})},X=function(t){if(!t)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:t}),k=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},m,{key:t,$http:angular.extend({},{cache:o},m.$http)}),s=function(e){var i={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(i,B(t))}):angular.extend(i,B(e)),k=!1,r.resolve({key:t,table:i}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),r.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(a).then(s,l),r.promise};if(c&&(o=e.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(C.length){var J=function(t){var n=e.get(t);n.setLocale(r||l),$[n.getInterpolationIdentifier()]=n};J.displayName="interpolationFactoryAdder",angular.forEach(C,J)}var Z=function(t){var e=i.defer();if(Object.prototype.hasOwnProperty.call(b,t))e.resolve(b[t]);else if(W[t]){var n=function(t){U(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",W[t].then(n,e.reject)}else e.reject();return e.promise},Q=function(t,e,n,r,o){var a=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,e)&&null!==i[e]){r.setLocale(t);var s=i[e];if("@:"===s.substr(0,2))Q(t,s.substr(2),n,r,o).then(a.resolve,a.reject);else{var u=r.interpolate(i[e],n,"service",o,e);u=ut(e,i[e],u,n,t),a.resolve(u)}r.setLocale(l)}else a.reject()};return s.displayName="fallbackTranslationResolver",Z(t).then(s,a.reject),a.promise},tt=function(t,e,n,i,r){var o,a=b[t];if(a&&Object.prototype.hasOwnProperty.call(a,e)&&null!==a[e]){if(i.setLocale(t),o=i.interpolate(a[e],n,"filter",r,e),o=ut(e,a[e],o,n,t,r),!angular.isString(o)&&angular.isFunction(o.$$unwrapTrustedValue)){var s=o.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return tt(t,s.substr(2),n,i,r)}else if("@:"===o.substr(0,2))return tt(t,o.substr(2),n,i,r);i.setLocale(l)}return o},et=function(t,n,i,r){return h?e.get(h)(t,l,n,i,r):t},nt=function(t,e,n,r,o,s){var l=i.defer();if(t<a.length){var u=a[t];Q(u,e,n,r,s).then(function(t){l.resolve(t)},function(){return nt(t+1,e,n,r,o,s).then(l.resolve,l.reject)})}else if(o)l.resolve(o);else{var c=et(e,n,o);h&&c?l.resolve(c):l.reject(Y(e))}return l.promise},it=function(t,e,n,i,r){var o;if(t<a.length){var s=a[t];o=tt(s,e,n,i,r),o||""===o||(o=it(t+1,e,n,i))}return o},rt=function(t,e,n,i,r){return nt(P>0?P:d,t,e,n,i,r)},ot=function(t,e,n,i){return it(P>0?P:d,t,e,n,i)},at=function(t,e,n,r,o,s){var l=i.defer(),u=o?b[o]:b,c=n?$[n]:I;if(u&&Object.prototype.hasOwnProperty.call(u,t)&&null!==u[t]){var d=u[t];if("@:"===d.substr(0,2))q(d.substr(2),e,n,r,o,s).then(l.resolve,l.reject);else{var f=c.interpolate(d,e,"service",s,t);f=ut(t,d,f,e,o),l.resolve(f)}}else{var p;h&&!k&&(p=et(t,e,r)),o&&a&&a.length?rt(t,e,c,r,s).then(function(t){l.resolve(t)},function(t){l.reject(Y(t))}):h&&!k&&p?r?l.resolve(r):l.resolve(p):r?l.resolve(r):l.reject(Y(t))}return l.promise},st=function(t,e,n,i,r){var o,s=i?b[i]:b,l=I;if($&&Object.prototype.hasOwnProperty.call($,n)&&(l=$[n]),s&&Object.prototype.hasOwnProperty.call(s,t)&&null!==s[t]){var u=s[t];"@:"===u.substr(0,2)?o=st(u.substr(2),e,n,i,r):(o=l.interpolate(u,e,"filter",r,t),o=ut(t,u,o,e,i,r))}else{var c;h&&!k&&(c=et(t,e,r)),i&&a&&a.length?(d=0,o=ot(t,e,l,r)):o=h&&!k&&c?c:Y(t)}return o},lt=function(t){u===t&&(u=void 0),W[t]=void 0},ut=function(t,n,i,r,o,a){var s=_;return s&&("string"==typeof s&&(s=e.get(s)),s)?s(t,n,i,r,o,a):i},ct=function(t){b[t]||!p||W[t]||(W[t]=X(t).then(function(t){return U(t.key,t.table),t}))};q.preferredLanguage=function(t){return t&&H(t),r},q.cloakClassName=function(){return T},q.nestedObjectDelimeter=function(){return M},q.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(V(t),p&&a&&a.length)for(var e=0,n=a.length;e<n;e++)W[a[e]]||(W[a[e]]=X(a[e]));q.use(q.use())}return s?a[0]:a},q.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=N(a,t);e>-1&&(P=e)}else P=0},q.proposedLanguage=function(){return u},q.storage=function(){return o},q.negotiateLocale=G,q.use=function(t){if(!t)return l;var e=i.defer();e.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:t});var r=G(t);return E.length>0&&!r?i.reject(t):(r&&(t=r),u=t,!S&&b[t]||!p||W[t]?W[t]?W[t].then(function(t){return u===t.key&&K(t.key),e.resolve(t.key),t},function(t){return!l&&a&&a.length>0&&a[0]!==t?q.use(a[0]).then(e.resolve,e.reject):e.reject(t)}):(e.resolve(t),K(t)):(W[t]=X(t).then(function(n){return U(n.key,n.table),e.resolve(n.key),u===t&&K(n.key),n},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),i.reject(t)}),W[t]["finally"](function(){lt(t)})["catch"](angular.noop)),e.promise)},q.resolveClientLocale=function(){return D()},q.storageKey=function(){return z()},q.isPostCompilingEnabled=function(){return w},q.isForceAsyncReloadEnabled=function(){return S},q.isKeepContent=function(){return O},q.refresh=function(t){function e(t){var e=X(t);return W[t]=e,e.then(function(e){b[t]={},U(t,e.table),o[t]=!0},angular.noop),e}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:t});var r=i.defer(),o={};if(r.promise.then(function(){for(var t in b)b.hasOwnProperty(t)&&(t in o||delete b[t]);l&&K(l)},angular.noop)["finally"](function(){n.$emit("$translateRefreshEnd",{language:t})}),t)b[t]?e(t).then(r.resolve,r.reject):r.reject();else{var s=a&&a.slice()||[];l&&s.indexOf(l)===-1&&s.push(l),i.all(s.map(e)).then(r.resolve,r.reject)}return r.promise},q.instant=function(t,e,n,i,o){var s=i&&i!==l?G(i)||i:l;if(null===t||angular.isUndefined(t))return t;if(i&&ct(i),angular.isArray(t)){for(var u={},c=0,d=t.length;c<d;c++)u[t[c]]=q.instant(t[c],e,n,i,o);return u}if(angular.isString(t)&&t.length<1)return t;t&&(t=F.apply(t));var f,p=[];r&&p.push(r),s&&p.push(s),a&&a.length&&(p=p.concat(a));for(var m=0,y=p.length;m<y;m++){var _=p[m];if(b[_]&&"undefined"!=typeof b[_][t]&&(f=st(t,e,n,s,o)),"undefined"!=typeof f)break}if(!f&&""!==f)if(g||v)f=Y(t);else{f=I.interpolate(t,e,"filter",o);var E;h&&!k&&(E=et(t,e,o)),h&&!k&&E&&(f=E)}return f},q.versionInfo=function(){return L},q.loaderCache=function(){return y},q.directivePriority=function(){return A},q.statefulFilter=function(){return R},q.isReady=function(){return j};var dt=i.defer();dt.promise.then(function(){j=!0}),q.onReady=function(t){var e=i.defer();return angular.isFunction(t)&&e.promise.then(t),j?e.resolve():dt.promise.then(e.resolve),e.promise},q.getAvailableLanguageKeys=function(){return E.length>0?E:null},q.getTranslationTable=function(t){return t=t||q.use(),t&&b[t]?angular.copy(b[t]):null};var ht=n.$on("$translateReady",function(){dt.resolve(),ht(),ht=null}),ft=n.$on("$translateChangeEnd",function(){dt.resolve(),ft(),ft=null});if(p){if(angular.equals(b,{})&&q.use()&&q.use(q.use()),a&&a.length)for(var pt=function(t){return U(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},mt=0,gt=a.length;mt<gt;mt++){var vt=a[mt];!S&&b[vt]||(W[vt]=X(vt).then(pt))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function i(t,e){"use strict";var n,i={},r="default";return i.setLocale=function(t){n=t},i.getInterpolationIdentifier=function(){return r},i.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},i.interpolate=function(n,i,r,o,a){i=i||{},i=e.sanitize(i,"params",o,r);var s;return angular.isNumber(n)?s=""+n:angular.isString(n)?(s=t(n)(i),s=e.sanitize(s,"text",o,r)):s="",s},i}function r(t,e,n,i,r){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")},s=function(t){return angular.isString(t)?t.toLowerCase():t};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(l,u){var c=u.translateValues?u.translateValues:void 0,d=u.translateInterpolation?u.translateInterpolation:void 0,h=u.translateSanitizeStrategy?u.translateSanitizeStrategy:void 0,f=l[0].outerHTML.match(/translate-value-+/i),p="^(.*)("+e.startSymbol()+".*"+e.endSymbol()+")(.*)",m="^(.*)"+e.startSymbol()+"(.*)"+e.endSymbol()+"(.*)";return function(l,g,v){l.interpolateParams={},l.preText="",l.postText="",l.translateNamespace=o(l);var y={},_=function(t,e,n){if(e.translateValues&&angular.extend(t,i(e.translateValues)(l.$parent)),f)for(var r in n)if(Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var o=s(r.substr(14,1))+r.substr(15);t[o]=n[r]}},b=function(t){if(angular.isFunction(b._unwatchOld)&&(b._unwatchOld(),b._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var n=a.apply(g.text()).replace(/\n/g," "),i=n.match(p);if(angular.isArray(i)){l.preText=i[1],l.postText=i[3],y.translate=e(i[2])(l.$parent);var r=n.match(m);angular.isArray(r)&&r[2]&&r[2].length&&(b._unwatchOld=l.$watch(r[2],function(t){y.translate=t,S()}))}else y.translate=n?n:void 0}else y.translate=t;S()},E=function(t){v.$observe(t,function(e){y[t]=e,S()})};_(l.interpolateParams,v,u);var x=!0;v.$observe("translate",function(t){"undefined"==typeof t?b(""):""===t&&x||(y.translate=t,S()),x=!1});for(var C in v)v.hasOwnProperty(C)&&"translateAttr"===C.substr(0,13)&&C.length>13&&E(C);if(v.$observe("translateDefault",function(t){l.defaultText=t,S()}),h&&v.$observe("translateSanitizeStrategy",function(t){l.sanitizeStrategy=i(t)(l.$parent),S()}),c&&v.$observe("translateValues",function(t){t&&l.$parent.$watch(function(){angular.extend(l.interpolateParams,i(t)(l.$parent))})}),f){var T=function(t){v.$observe(t,function(e){var n=s(t.substr(14,1))+t.substr(15);l.interpolateParams[n]=e})};for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&T(w)}var S=function(){for(var t in y)y.hasOwnProperty(t)&&void 0!==y[t]&&M(t,y[t],l,l.interpolateParams,l.defaultText,l.translateNamespace)},M=function(e,n,i,r,o,a){n?(a&&"."===n.charAt(0)&&(n=a+n),t(n,r,d,o,i.translateLanguage,i.sanitizeStrategy).then(function(t){j(t,i,!0,e)},function(t){j(t,i,!1,e)})):j(n,i,!1,e)},j=function(e,i,r,o){if(r||"undefined"!=typeof i.defaultText&&(e=i.defaultText),"translate"===o){(r||!r&&!t.isKeepContent()&&"undefined"==typeof v.translateKeepContent)&&g.empty().append(i.preText+e+i.postText);var a=t.isPostCompilingEnabled(),s="undefined"!=typeof u.translateCompile,l=s&&"false"!==u.translateCompile;(a&&!s||l)&&n(g.contents())(i)}else{var c=v.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),g.attr(c,e)}};(c||f||v.translateDefault)&&l.$watch("interpolateParams",S,!0),l.$on("translateLanguageChanged",S);var O=r.$on("$translateChangeSuccess",S);g.text().length?b(v.translate?v.translate:""):v.translate&&b(v.translate),S(),l.$on("$destroy",O)}}}}function o(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?o(t.$parent):void 0}function a(t,e){"use strict";return{restrict:"A",priority:t.directivePriority(),link:function(n,i,r){var o,a,l,u={},c=function(){angular.forEach(o,function(e,o){e&&(u[o]=!0,n.translateNamespace&&"."===e.charAt(0)&&(e=n.translateNamespace+e),t(e,a,r.translateInterpolation,void 0,n.translateLanguage,l).then(function(t){i.attr(o,t)},function(t){i.attr(o,t)}))}),angular.forEach(u,function(t,e){o[e]||(i.removeAttr(e),delete u[e])})};s(n,r.translateAttr,function(t){o=t},c),s(n,r.translateValues,function(t){a=t},c),s(n,r.translateSanitizeStrategy,function(t){l=t},c),r.translateValues&&n.$watch(r.translateValues,c,!0),n.$on("translateLanguageChanged",c);var d=e.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",d)}}}function s(t,e,n,i){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),i()},!0),n(t.$eval(e)))}function l(t,e){"use strict";return{compile:function(n){var i=function(e){e.addClass(t.cloakClassName())},r=function(e){e.removeClass(t.cloakClassName())};return i(n),function(n,o,a){var s=r.bind(this,o),l=i.bind(this,o);a.translateCloak&&a.translateCloak.length?(a.$observe("translateCloak",function(e){t(e).then(s,l)}),e.$on("$translateChangeSuccess",function(){t(a.translateCloak).then(s,l)})):t.onReady(s)}}}}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=c(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function c(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?c(t.$parent):void 0}function d(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(t,e,n){n.$observe("translateLanguage",function(e){t.translateLanguage=e}),t.$watch("translateLanguage",function(){t.$broadcast("translateLanguageChanged")})}}}}function h(t,e){"use strict";var n=function(n,i,r,o){if(!angular.isObject(i)){var a=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};i=t(i)(a)}return e.instant(n,i,r,o)};return e.statefulFilter()&&(n.$stateful=!0),n}function f(t){"use strict";return t("translations")}return t.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$translate","$rootScope"],h.$inject=["$parse","$translate"],f.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",a),a.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",u),u.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",d),d.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",h),h.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",f),f.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var i=function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var r=[i.prefix,n.key,i.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[r]&&(r=n.fileMap[r]),e(angular.extend({url:r,method:"GET"},n.$http)).then(function(t){return t.data},function(){return t.reject(n.key)})},r=[],o=n.files.length,a=0;a<o;a++)r.push(i({prefix:n.files[a].prefix,key:n.key,suffix:n.files[a].suffix}));return t.all(r).then(function(t){for(var e=t.length,n={},i=0;i<e;i++)for(var r in t[i])n[r]=t[i][r];return n})}}return t.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e;if(1===angular.version.major&&angular.version.minor>=4){var n=t.get("$cookies");e={get:function(t){return n.get(t)},put:function(t,e){n.put(t,e)}}}else{var i=t.get("$cookieStore");e={get:function(t){return i.get(t)},put:function(t,e){i.put(t,e)}}}var r={get:function(t){return e.get(t)},set:function(t,n){e.put(t,n)},put:function(t,n){e.put(t,n)}};return r}return t.$inject=["$injector"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";var n=function(){var e;return{get:function(n){return e||(e=t.localStorage.getItem(n)),e},set:function(n,i){e=i,t.localStorage.setItem(n,i)},put:function(n,i){e=i,t.localStorage.setItem(n,i)}}}(),i="localStorage"in t;if(i){var r="pascalprecht.translate.storageTest";try{null!==t.localStorage?(t.localStorage.setItem(r,"foo"),t.localStorage.removeItem(r),i=!0):i=!1}catch(o){i=!1}}var a=i?n:e;return a}return t.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",t),
t.displayName="$translateLocalStorageFactory","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(this,function(){function t(t){"use strict";return function(e){t.warn("Translation for "+e+" doesn't exist")}}return t.$inject=["$log"],angular.module("pascalprecht.translate").factory("$translateMissingTranslationHandlerLog",t),t.displayName="$translateMissingTranslationHandlerLog","pascalprecht.translate"}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return H(new(H(function(){},{prototype:t})),e)}function r(t){return B(arguments,function(e){e!==t&&B(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return B(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in t&&t[i]===e)return i;return-1}function l(t,e,n,i){var r,l=o(n,i),u={},c=[];for(var d in l)if(l[d]&&l[d].params&&(r=a(l[d].params),r.length))for(var h in r)s(c,r[h])>=0||(c.push(r[h]),u[r[h]]=t[r[h]]);return H({},u,e)}function u(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return B(t,function(t){n[t]=e[t]}),n}function d(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return B(n,function(n){n in t&&(e[n]=t[n])}),e}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in t)s(n,i)==-1&&(e[i]=t[i]);return e}function f(t,e){var n=U(t),i=n?[]:{};return B(t,function(t,r){e(t,r)&&(i[n?i.length:r]=t)}),i}function p(t,e){var n=U(t)?[]:{};return B(t,function(t,i){n[i]=e(t,i)}),n}function m(t,e){var i=1,o=2,l={},u=[],c=l,d=H(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(t,n){if(y[n]!==o){if(v.push(n),y[n]===i)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=i,$(t))g.push(n,[function(){return e.get(t)}],u);else{var r=e.annotate(t);B(r,function(t){t!==n&&l.hasOwnProperty(t)&&f(l[t],t)}),g.push(n,t,r)}v.pop(),y[n]=o}}function p(t){return G(t)&&t.then&&t.$$promises}if(!G(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],y={};return B(l,f),l=v=y=null,function(i,o,a){function s(){--b||(E||r(_,o.$$values),v.$$values=_,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(_))}function l(t){v.$$failure=t,f.reject(t)}function u(n,r,o){function u(t){d.reject(t),l(t)}function c(){if(!N(v.$$failure))try{d.resolve(e.invoke(r,a,_)),d.promise.then(function(t){_[n]=t,s()},u)}catch(t){u(t)}}var d=t.defer(),h=0;B(o,function(t){y.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(h++,y[t].then(function(e){_[t]=e,--h||c()},u))}),h||c(),y[n]=d.promise}if(p(i)&&a===n&&(a=o,o=i,i=null),i){if(!G(i))throw new Error("'locals' must be an object")}else i=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var f=t.defer(),v=f.promise,y=v.$$promises={},_=H({},i),b=1+g.length/3,E=!1;if(N(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&r(_,h(o.$$inheritedValues,m)),H(y,o.$$promises),o.$$values?(E=r(_,h(o.$$values,m)),v.$$inheritedValues=h(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=h(o.$$inheritedValues,m)),o.then(s,l));for(var x=0,C=g.length;x<C;x+=3)i.hasOwnProperty(g[x])?s():u(g[x],g[x+1],g[x+2]);return v}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function g(t,e,n){this.fromConfig=function(t,e,n){return N(t.template)?this.fromString(t.template,e):N(t.templateUrl)?this.fromUrl(t.templateUrl,e):N(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return F(t)?t(e):t},this.fromUrl=function(n,i){return F(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function v(t,e,r){function o(e,n,i,r){if(g.push(e),p[e])return p[e];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(m[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return m[e]=new W.Param(e,n,i,r),m[e]}function a(t,e,n,i){var r=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:o=o.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return o+r[0]+e+r[1]}function s(r,o){var a,s,l,u,c;return a=r[2]||r[3],c=e.params[a],l=t.substring(h,r.index),s=o?r[4]:r[4]||("*"==r[1]?".*":null),s&&(u=W.type(s)||i(W.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}e=H({params:{}},G(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",h=0,f=this.segments=[],p=r?r.params:{},m=this.params=r?r.params.$$new():new W.ParamSet,g=[];this.source=t;for(var v,y,_;(l=u.exec(t))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),f.push(v.segment),h=u.lastIndex;_=t.substring(h);var b=_.indexOf("?");if(b>=0){var E=this.sourceSearch=_.substring(b);if(_=_.substring(0,b),this.sourcePath=t.substring(0,h+b),E.length>0)for(h=0;l=c.exec(E);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),h=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";d+=a(_)+(e.strict===!1?"/?":"")+"$",f.push(_),this.regexp=new RegExp(d,e.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function y(t){H(this,t)}function _(){function t(t){return null!=t?t.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):t}function r(t){return null!=t?t.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):t}function o(){return{strict:m,caseInsensitive:h}}function l(t){return F(t)||U(t)&&F(t[t.length-1])}function u(){for(;x.length;){var t=x.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],d.invoke(t.def))}}function c(t){H(this,t||{})}W=this;var d,h=!1,m=!0,g=!1,b={},E=!0,x=[],C={string:{encode:t,decode:r,is:function(t){return null==t||!N(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return N(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};_.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(t.value)},this.caseInsensitive=function(t){return N(t)&&(h=t),h},this.strictMode=function(t){return N(t)&&(m=t),m},this.defaultSquashPolicy=function(t){if(!N(t))return g;if(t!==!0&&t!==!1&&!$(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return g=t,t},this.compile=function(t,e){return new v(t,H(o(),e))},this.isMatcher=function(t){if(!G(t))return!1;var e=!0;return B(v.prototype,function(n,i){F(n)&&(e=e&&N(t[i])&&F(t[i]))}),e},this.type=function(t,e,n){if(!N(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new y(H({name:t},e)),n&&(x.push({name:t,def:n}),E||u()),this},B(C,function(t,e){b[e]=new y(H({name:e},t))}),b=i(b,{}),this.$get=["$injector",function(t){return d=t,E=!1,u(),B(C,function(t,e){b[e]||(b[e]=new y(t))}),this}],this.Param=function(t,i,r,o){function u(t){var e=G(t)?a(t):[],n=s(e,"value")===-1&&s(e,"type")===-1&&s(e,"squash")===-1&&s(e,"array")===-1;return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function c(n,i,r){if(n.type&&i)throw new Error("Param '"+t+"' has two type configurations.");return i?i:n.type?e.isString(n.type)?b[n.type]:n.type instanceof y?n.type:new y(n.type):"config"===r?b.any:b.string}function h(){var e={array:"search"===o&&"auto"},n=t.match(/\[\]$/)?{array:!0}:{};return H(e,n,r).array}function m(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!N(n)||null==n)return g;if(n===!0||$(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,i,r){var o,a,l=[{from:"",to:i||e?n:""},{from:null,to:i||e?n:""}];return o=U(t.replace)?t.replace:[],$(r)&&o.push({from:r,to:n}),a=p(o,function(t){return t.from}),f(l,function(t){return s(a,t.from)===-1}).concat(o)}function _(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var t=d.invoke(r.$$fn);if(null!==t&&t!==n&&!C.type.is(t))throw new Error("Default value ("+t+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return t}function E(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(f(C.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),N(t)?C.type.$normalize(t):_()}function x(){return"{Param:"+t+" "+i+" squash: '"+S+"' optional: "+w+"}"}var C=this;r=u(r),i=c(r,i,o);var T=h();i=T?i.$asArray(T,"search"===o):i,"string"!==i.name||T||"path"!==o||r.value!==n||(r.value="");var w=r.value!==n,S=m(r,w),M=v(r,T,w,S);H(this,{id:t,type:i,location:o,array:T,squash:S,replace:M,isOptional:w,value:E,dynamic:n,config:r,toString:x})},c.prototype={$$new:function(){return i(this,H(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,i=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),B(e,function(e){B(a(e),function(e){s(t,e)===-1&&s(i,e)===-1&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return B(n.$$keys(),function(i){e[i]=n[i].value(t&&t[i])}),e},$$equals:function(t,e){var n=!0,i=this;return B(i.$$keys(),function(r){var o=t&&t[r],a=e&&e[r];i[r].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var i,r,o,a,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],o=t[l[i]],o!==n&&null!==o||!r.isOptional);i++){if(a=r.type.$normalize(o),!r.type.is(a))return!1;if(s=r.type.encode(a),e.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function b(t,i){function r(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!N(i)||i}function s(i,r,o,a,s){function h(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function f(t){function e(t){var e=t(o,i);return!!e&&($(e)&&i.replace().url(e),!0)}if(!t||!t.defaultPrevented){m&&i.url()===m;m=n;var r,a=u.length;for(r=0;r<a;r++)if(e(u[r]))return;c&&e(c)}}function p(){return l=l||r.$on("$locationChangeSuccess",f)}var m,g=a.baseHref(),v=i.url();return d||p(),{sync:function(){f()},listen:function(){return p()},update:function(t){return t?void(v=i.url()):void(i.url()!==v&&(i.url(v),i.replace()))},push:function(t,e,r){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),i.url(o),m=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,o){if(!n.validates(r))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(r);if(o=o||{},a||null===l||(l="#"+t.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=h(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=i.port();return c=80===c||443===c?"":":"+c,[i.protocol(),"://",i.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(t){if(!F(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if($(t)){var e=t;t=function(){return e}}else if(!F(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=$(e);if($(t)&&(t=i.compile(t)),!s&&!F(e)&&!U(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=i.compile(e),e=["$match",function(t){return n.format(t)}]),H(function(n,i){return a(n,e,t.exec(i.path(),i.search()))},{prefix:$(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),H(function(n,i){return a(n,e,t.exec(i.path()))},{prefix:r(t)})}},u={matcher:i.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),d=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function E(t,r){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function h(t,e){if(!t)return n;var i=$(t),r=i?t:t.name,a=o(r);if(a){if(!e)throw new Error("No reference point given for path '"+r+"'");e=h(e);for(var s=r.split("."),l=0,u=s.length,c=e;l<u;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),r=c.name+(c.name&&s?".":"")+s}var d=w[r];return!d||!i&&(i||d!==t&&d.self!==t)?n:d}function f(t,e){S[t]||(S[t]=[]),S[t].push(e)}function m(t){for(var e=S[t]||[];e.length;)g(e.shift())}function g(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!$(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):$(e.parent)?e.parent:G(e.parent)&&$(e.parent.name)?e.parent.name:"";if(r&&!w[r])return f(r,e.self);for(var o in j)F(j[o])&&(e[o]=j[o](e,j.$delegates[o]));return w[n]=e,!e[M]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){T.$current.navigable==e&&u(t,n)||T.transitionTo(e,t,{inherit:!0,location:!1})}]),m(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=T.$current.name.split("."),i=0,r=e.length;i<r;i++)"*"===e[i]&&(n[i]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}function _(t,e){return $(t)&&!N(e)?j[t]:F(e)&&$(t)?(j[t]&&!j.$delegates[t]&&(j.$delegates[t]=j[t]),j[t]=e,this):this}function b(t,e){return G(t)?e=t:e.name=t,g(e),this}function E(t,r,o,s,d,f,m,g,_){function b(e,n,i,o){var a=t.$broadcast("$stateNotFound",e,n,i);if(a.defaultPrevented)return m.update(),O;if(!a.retry)return null;if(o.$retry)return m.update(),A;var s=T.transition=r.when(a.retry);return s.then(function(){return s!==T.transition?S:(e.options.$retry=!0,T.transitionTo(e.to,e.toParams,e.options))},function(){return O}),m.update(),s}function E(t,n,i,a,l,u){function h(){var n=[];return B(t.views,function(i,r){var a=i.resolve&&i.resolve!==t.resolve?i.resolve:{};a.$template=[function(){return o.load(r,{view:i,locals:l.globals,params:f,notify:u.notify})||""}],n.push(d.resolve(a,l.globals,l.resolve,t).then(function(n){if(F(i.controllerProvider)||U(i.controllerProvider)){var o=e.extend({},a,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,o)}else n.$$controller=i.controller;n.$$state=t,n.$$controllerAs=i.controllerAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var f=i?n:c(t.params.$$keys(),n),p={$stateParams:f};l.resolve=d.resolve(t.resolve,p,l.resolve,t);var m=[l.resolve.then(function(t){l.globals=t})];return a&&m.push(a),r.all(m).then(h).then(function(t){return l})}var S=r.reject(new Error("transition superseded")),j=r.reject(new Error("transition prevented")),O=r.reject(new Error("transition aborted")),A=r.reject(new Error("transition failed"));return C.locals={resolve:null,globals:{$stateParams:{}}},T={params:{},current:C.self,$current:C,transition:null},T.reload=function(t){return T.transitionTo(T.current,f,{reload:t||!0,inherit:!1,notify:!0})},T.go=function(t,e,n){return T.transitionTo(t,e,H({inherit:!0,relative:T.$current},n))},T.transitionTo=function(e,n,o){n=n||{},o=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=T.$current,d=T.params,p=u.path,g=h(e,o.relative),v=n["#"];if(!N(g)){var y={to:e,toParams:n,options:o},_=b(y,u.self,d,o);if(_)return _;if(e=y.to,n=y.toParams,o=y.options,g=h(e,o.relative),!N(g)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(g[M])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(f,n||{},T.$current,g)),!g.params.$$validates(n))return A;n=g.params.$$values(n),e=g;var w=e.path,O=0,R=w[O],P=C.locals,I=[];if(o.reload){if($(o.reload)||G(o.reload)){if(G(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var L=o.reload===!0?p[0]:h(o.reload);if(o.reload&&!L)throw new Error("No such reload state '"+($(o.reload)?o.reload:o.reload.name)+"'");for(;R&&R===p[O]&&R!==L;)P=I[O]=R.locals,O++,R=w[O]}}else for(;R&&R===p[O]&&R.ownParams.$$equals(n,d);)P=I[O]=R.locals,O++,R=w[O];if(x(e,n,u,d,P,o))return v&&(n["#"]=v),T.params=n,V(T.params,f),V(c(e.params.$$keys(),f),e.locals.globals.$stateParams),o.location&&e.navigable&&e.navigable.url&&(m.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),T.transition=null,r.when(T.current);if(n=c(e.params.$$keys(),n||{}),v&&(n["#"]=v),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,d,o).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,d),null==T.transition&&m.update(),j;for(var k=r.when(P),D=O;D<w.length;D++,R=w[D])P=I[D]=i(P),k=E(R,n,R===e,k,P,o);var F=T.transition=k.then(function(){var i,r,a;if(T.transition!==F)return S;for(i=p.length-1;i>=O;i--)a=p[i],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=O;i<w.length;i++)r=w[i],r.locals=I[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return T.transition!==F?S:(T.$current=e,T.current=e.self,T.params=n,V(T.params,f),T.transition=null,o.location&&e.navigable&&m.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,d),m.update(!0),T.current)},function(i){return T.transition!==F?S:(T.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,u.self,d,i),a.defaultPrevented||m.update(),r.reject(i))});return F},T.is=function(t,e,i){i=H({relative:T.$current},i||{});var r=h(t,i.relative);return N(r)?T.$current===r&&(!e||u(r.params.$$values(e),f)):n},T.includes=function(t,e,i){if(i=H({relative:T.$current},i||{}),$(t)&&v(t)){if(!y(t))return!1;t=T.$current.name}var r=h(t,i.relative);return N(r)?!!N(T.$current.includes[r.name])&&(!e||u(r.params.$$values(e),f,a(e))):n},T.href=function(t,e,i){i=H({lossy:!0,inherit:!0,absolute:!1,relative:T.$current},i||{});var r=h(t,i.relative);if(!N(r))return null;i.inherit&&(e=l(f,e||{},T.$current,r));var o=r&&i.lossy?r.navigable:r;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(r.params.$$keys().concat("#"),e||{}),{absolute:i.absolute}):null},T.get=function(t,e){if(0===arguments.length)return p(a(w),function(t){return w[t].self});var n=h(t,e||T.$current);return n&&n.self?n.self:null},T}function x(t,e,n,i,r,o){function a(t,e,n){function i(e){return"search"!=t.params[e].location}var r=t.params.$$keys().filter(i),o=d.apply({},[t.params].concat(r)),a=new W.ParamSet(o);return a.$$equals(e,n)}if(!o.reload&&t===n&&(r===n.locals||t.self.reloadOnSearch===!1&&a(n,i,e)))return!0}var C,T,w={},S={},M="abstract",j={parent:function(t){if(N(t.parent)&&t.parent)return h(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?h(e[1]):C},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=i(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if($(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||C).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new W.ParamSet;return B(t.params||{},function(t,n){e[n]||(e[n]=new W.Param(n,null,t,"config"))}),e},params:function(t){var e=d(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?H(t.parent.params.$$new(),e):new W.ParamSet},views:function(t){var e={};return B(N(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),e[i]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?H({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};C=g({name:"",url:"^",views:null,"abstract":!0}),C.navigable=null,this.decorator=_,this.state=b,this.$get=E,E.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function x(){function t(t,e){return{load:function(t,n){var i,r={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=H(r,n),n.view&&(i=e.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function C(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function T(t,n,i,r){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,n){function i(t){return 1===q&&Y>=4?!!u.enabled(t):1===q&&Y>=2?!!u.enabled():!!l}var r={enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}};if(t.noanimation)return r;if(u)return{enter:function(t,n,o){i(t)?e.version.minor>2?u.enter(t,null,n).then(o):u.enter(t,null,n,o):r.enter(t,n,o)},leave:function(t,n){i(t)?e.version.minor>2?u.leave(t).then(n):u.leave(t,n):r.leave(t,n)}};if(l){var o=l&&l(n,t);return{enter:function(t,e,n){o.enter(t,null,e),n()},leave:function(t,e){o.leave(t),e()}}}return r}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){function t(){e&&e.remove(),n&&n.$destroy()}var e=d,n=f;n&&(n._willBeDestroyed=!0),h?(v.leave(h,function(){t(),d=null}),d=h):(t(),d=null),h=null,f=null}function c(a){var c,d=S(n,l,o,r),y=d&&t.$current&&t.$current.locals[d];if((a||y!==p)&&!n._willBeDestroyed){c=n.$new(),p=t.$current.locals[d],c.$emit("$viewContentLoading",d);var _=s(c,function(t){v.enter(t,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(g)&&!g||n.$eval(g))&&i(t)}),u()});h=_,f=c,f.$emit("$viewContentLoaded",d),f.$eval(m)}}var d,h,f,p,m=l.onload||"",g=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),c(!0)}}};return c}function w(t,e,n,i){return{restrict:"ECA",priority:-400,compile:function(r){var o=r.html();return function(r,a,s){var l=n.$current,u=S(r,s,a,i),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var d=t(a.contents());if(c.$$controller){c.$scope=r,c.$element=a;var h=e(c.$$controller,c);c.$$controllerAs&&(r[c.$$controllerAs]=h),a.data("$ngControllerController",h),a.children().data("$ngControllerController",h)}d(r)}}}}}function S(t,e,n,i){var r=i(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(o?o.state.name:"")}function M(t,e){var n,i=t.match(/^\s*({[^}]*})\s*$/);if(i&&(t=e+"("+i[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function j(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function O(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function A(t,e,n,i,r){return function(o){var a=o.which||o.button,s=r();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var l=n(function(){e.go(s.state,s.params,s.options)});o.preventDefault();var u=i.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function R(t,e){return{relative:j(t)||e.$current,inherit:!0}}function P(t,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,o,a){var s=M(o.uiSref,t.current.name),l={state:s.state,href:null,params:null},u=O(r),c=a[1]||a[0];l.options=H(R(r,t),o.uiSrefOpts?i.$eval(o.uiSrefOpts):{});var d=function(n){n&&(l.params=e.copy(n)),l.href=t.href(s.state,l.params,l.options),c&&c.$$addStateInfo(s.state,l.params),null!==l.href&&o.$set(u.attr,l.href)};s.paramExpr&&(i.$watch(s.paramExpr,function(t){t!==l.params&&d(t)},!0),l.params=e.copy(i.$eval(s.paramExpr))),d(),u.clickable&&r.bind("click",A(r,t,n,u,function(){return l}))}}}function I(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,o){function a(e){d.state=e[0],d.params=e[1],d.options=e[2],d.href=t.href(d.state,d.params,d.options),l&&l.$$addStateInfo(d.state,d.params),d.href&&r.$set(s.attr,d.href)}var s=O(i),l=o[1]||o[0],u=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],c="["+u.map(function(t){return t||"null"}).join(", ")+"]",d={state:null,params:null,options:null,href:null};n.$watch(c,a,!0),a(n.$eval(c)),s.clickable&&i.bind("click",A(i,t,e,s,function(){return d}))}}}function L(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,i,r,o){function a(e,n,r){var o=t.get(e,j(i)),a=s(e,n);m.push({state:o||{name:e},params:n,hash:a}),g[a]=r}function s(t,n){if(!$(t))throw new Error("state should be a string");return G(n)?t+z(n):(n=e.$eval(n),G(n)?t+z(n):t)}function l(){for(var t=0;t<m.length;t++)d(m[t].state,m[t].params)?u(i,g[m[t].hash]):c(i,g[m[t].hash]),h(m[t].state,m[t].params)?u(i,f):c(i,f)}function u(t,e){o(function(){t.addClass(e)})}function c(t,e){t.removeClass(e)}function d(e,n){return t.includes(e.name,n)}function h(e,n){return t.is(e.name,n)}var f,p,m=[],g={};f=n(r.uiSrefActiveEq||"",!1)(e);try{p=e.$eval(r.uiSrefActive)}catch(v){}p=p||n(r.uiSrefActive||"",!1)(e),G(p)&&B(p,function(n,i){if($(n)){var r=M(n,t.current.name);a(r.state,e.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(t,e){G(p)&&m.length>0||(a(t,e,p),l())},e.$on("$stateChangeSuccess",l),l()}]}}function k(t){var e=function(e,n){return t.is(e,n)};return e.$stateful=!0,e}function D(t){var e=function(e,n,i){return t.includes(e,n,i)};return e.$stateful=!0,e}var N=e.isDefined,F=e.isFunction,$=e.isString,G=e.isObject,U=e.isArray,B=e.forEach,H=e.extend,V=e.copy,z=e.toJson;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",g);var W;v.prototype.concat=function(t,e){var n={caseInsensitive:W.caseInsensitive(),strict:W.strictMode(),squash:W.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,H(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var i=e(t).split(/-(?!\\)/),r=p(i,e);return p(r,n).reverse()}var i=this.regexp.exec(t);if(!i)return null;e=e||{};var r,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,h;for(r=0;r<u;r++){for(a=s[r],d=this.params[a],h=i[r+1],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);h&&d.array===!0&&(h=n(h)),N(h)&&(h=d.type.decode(h)),c[a]=d.value(h)}for(;r<l;r++){for(a=s[r],c[a]=this.params[a].value(e[a]),d=this.params[a],h=e[a],o=0;o<d.replace.length;o++)d.replace[o].from===h&&(h=d.replace[o].to);N(h)&&(h=d.type.decode(h)),c[a]=d.value(h)}return c},v.prototype.parameters=function(t){return N(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,l=i.length,u=n[0];for(o=0;o<l;o++){var c=o<s,d=i[o],h=r[d],f=h.value(t[d]),m=h.isOptional&&h.type.equals(h.value(),f),g=!!m&&h.squash,v=h.type.encode(f);if(c){var y=n[o+1],_=o+1===s;if(g===!1)null!=v&&(u+=U(v)?p(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(g===!0){var b=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(b)[1]}else $(g)&&(u+=g+y);_&&h.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||m&&g!==!1)continue;if(U(v)||(v=[v]),0===v.length)continue;v=p(v,encodeURIComponent).join("&"+d+"="),u+=(a?"&":"?")+(d+"="+v),a=!0}}return u},y.prototype.is=function(t,e){return!0},y.prototype.encode=function(t,e){return t},y.prototype.decode=function(t,e){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function i(t,e){function i(t,e){return function(){return t[e].apply(t,arguments)}}function r(t){return U(t)?t:N(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){if(U(n)&&0===n.length)return n;n=r(n);var i=p(n,t);return e===!0?0===f(i,a).length:o(i)}}function l(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}this.encode=s(i(t,"encode")),this.decode=s(i(t,"decode")),this.is=s(i(t,"is"),!0),this.equals=l(i(t,"equals")),this.pattern=t.pattern,this.$normalize=s(i(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new i(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",_),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",b),E.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").factory("$stateParams",function(){return{}}).provider("$state",E),
x.$inject=[],e.module("ui.router.state").provider("$view",x),e.module("ui.router.state").provider("$uiViewScroll",C);var q=e.version.major,Y=e.version.minor;T.$inject=["$state","$injector","$uiViewScroll","$interpolate"],w.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",T),e.module("ui.router.state").directive("uiView",w),P.$inject=["$state","$timeout"],I.$inject=["$state","$timeout"],L.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",P).directive("uiSrefActive",L).directive("uiSrefActiveEq",L).directive("uiState",I),k.$inject=["$state"],D.$inject=["$state"],e.module("ui.router.state").filter("isState",k).filter("includedByState",D)}(window,window.angular),function(){var t,e,n,i,r={}.hasOwnProperty,o=[].slice;t={LF:"\n",NULL:"\0"},n=function(){function e(t,e,n){this.command=t,this.headers=null!=e?e:{},this.body=null!=n?n:""}var n;return e.prototype.toString=function(){var n,i,o,a,s;n=[this.command],o=this.headers["content-length"]===!1,o&&delete this.headers["content-length"],s=this.headers;for(i in s)r.call(s,i)&&(a=s[i],n.push(""+i+":"+a));return this.body&&!o&&n.push("content-length:"+e.sizeOfUTF8(this.body)),n.push(t.LF+this.body),n.join(t.LF)},e.sizeOfUTF8=function(t){return t?encodeURI(t).match(/%..|./g).length:0},n=function(n){var i,r,o,a,s,l,u,c,d,h,f,p,m,g,v,y,_;for(a=n.search(RegExp(""+t.LF+t.LF)),s=n.substring(0,a).split(t.LF),o=s.shift(),l={},p=function(t){return t.replace(/^\s+|\s+$/g,"")},y=s.reverse(),m=0,v=y.length;m<v;m++)h=y[m],c=h.indexOf(":"),l[p(h.substring(0,c))]=p(h.substring(c+1));if(i="",f=a+2,l["content-length"])d=parseInt(l["content-length"]),i=(""+n).substring(f,f+d);else for(r=null,u=g=f,_=n.length;(f<=_?g<_:g>_)&&(r=n.charAt(u),r!==t.NULL);u=f<=_?++g:--g)i+=r;return new e(o,l,i)},e.unmarshall=function(e){var i,r,o,a;return r=e.split(RegExp(""+t.NULL+t.LF+"*")),a={frames:[],partial:""},a.frames=function(){var t,e,o,a;for(o=r.slice(0,-1),a=[],t=0,e=o.length;t<e;t++)i=o[t],a.push(n(i));return a}(),o=r.slice(-1)[0],o===t.LF||o.search(RegExp(""+t.NULL+t.LF+"*$"))!==-1?a.frames.push(n(o)):a.partial=o,a},e.marshall=function(n,i,r){var o;return o=new e(n,i,r),o.toString()+t.NULL},e}(),e=function(){function e(t){this.ws=t,this.ws.binaryType="arraybuffer",this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}var r;return e.prototype.debug=function(t){var e;return"undefined"!=typeof window&&null!==window&&null!=(e=window.console)?e.log(t):void 0},r=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(t,e,i){var r;for(r=n.marshall(t,e,i),"function"==typeof this.debug&&this.debug(">>> "+r);;){if(!(r.length>this.maxWebSocketFrameSize))return this.ws.send(r);this.ws.send(r.substring(0,this.maxWebSocketFrameSize)),r=r.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+r.length)}},e.prototype._setupHeartbeat=function(e){var n,o,a,s,l,u;if((l=e.version)===i.VERSIONS.V1_1||l===i.VERSIONS.V1_2)return u=function(){var t,n,i,r;for(i=e["heart-beat"].split(","),r=[],t=0,n=i.length;t<n;t++)s=i[t],r.push(parseInt(s));return r}(),o=u[0],n=u[1],0!==this.heartbeat.outgoing&&0!==n&&(a=Math.max(this.heartbeat.outgoing,n),"function"==typeof this.debug&&this.debug("send PING every "+a+"ms"),this.pinger=i.setInterval(a,function(e){return function(){return e.ws.send(t.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}}(this))),0!==this.heartbeat.incoming&&0!==o?(a=Math.max(this.heartbeat.incoming,o),"function"==typeof this.debug&&this.debug("check PONG every "+a+"ms"),this.ponger=i.setInterval(a,function(t){return function(){var e;if(e=r()-t.serverActivity,e>2*a)return"function"==typeof t.debug&&t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close()}}(this))):void 0},e.prototype._parseConnect=function(){var t,e,n,i;switch(t=1<=arguments.length?o.call(arguments,0):[],i={},t.length){case 2:i=t[0],e=t[1];break;case 3:t[1]instanceof Function?(i=t[0],e=t[1],n=t[2]):(i.login=t[0],i.passcode=t[1],e=t[2]);break;case 4:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3];break;default:i.login=t[0],i.passcode=t[1],e=t[2],n=t[3],i.host=t[4]}return[i,e,n]},e.prototype.connect=function(){var e,a,s,l;return e=1<=arguments.length?o.call(arguments,0):[],l=this._parseConnect.apply(this,e),s=l[0],this.connectCallback=l[1],a=l[2],"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws.onmessage=function(e){return function(i){var o,s,l,u,c,d,h,f,p,m,g,v,y;if(u="undefined"!=typeof ArrayBuffer&&i.data instanceof ArrayBuffer?(o=new Uint8Array(i.data),"function"==typeof e.debug?e.debug("--- got data length: "+o.length):void 0,function(){var t,e,n;for(n=[],t=0,e=o.length;t<e;t++)s=o[t],n.push(String.fromCharCode(s));return n}().join("")):i.data,e.serverActivity=r(),u===t.LF)return void("function"==typeof e.debug&&e.debug("<<< PONG"));for("function"==typeof e.debug&&e.debug("<<< "+u),p=n.unmarshall(e.partialData+u),e.partialData=p.partial,v=p.frames,y=[],m=0,g=v.length;m<g;m++)switch(c=v[m],c.command){case"CONNECTED":"function"==typeof e.debug&&e.debug("connected to server "+c.headers.server),e.connected=!0,e._setupHeartbeat(c.headers),y.push("function"==typeof e.connectCallback?e.connectCallback(c):void 0);break;case"MESSAGE":f=c.headers.subscription,h=e.subscriptions[f]||e.onreceive,h?(l=e,d=c.headers["message-id"],c.ack=function(t){return null==t&&(t={}),l.ack(d,f,t)},c.nack=function(t){return null==t&&(t={}),l.nack(d,f,t)},y.push(h(c))):y.push("function"==typeof e.debug?e.debug("Unhandled received MESSAGE: "+c):void 0);break;case"RECEIPT":y.push("function"==typeof e.onreceipt?e.onreceipt(c):void 0);break;case"ERROR":y.push("function"==typeof a?a(c):void 0);break;default:y.push("function"==typeof e.debug?e.debug("Unhandled frame: "+c):void 0)}return y}}(this),this.ws.onclose=function(t){return function(){var e;return e="Whoops! Lost connection to "+t.ws.url,"function"==typeof t.debug&&t.debug(e),t._cleanUp(),"function"==typeof a?a(e):void 0}}(this),this.ws.onopen=function(t){return function(){return"function"==typeof t.debug&&t.debug("Web Socket Opened..."),s["accept-version"]=i.VERSIONS.supportedVersions(),s["heart-beat"]=[t.heartbeat.outgoing,t.heartbeat.incoming].join(","),t._transmit("CONNECT",s)}}(this)},e.prototype.disconnect=function(t,e){return null==e&&(e={}),this._transmit("DISCONNECT",e),this.ws.onclose=null,this.ws.close(),this._cleanUp(),"function"==typeof t?t():void 0},e.prototype._cleanUp=function(){if(this.connected=!1,this.pinger&&i.clearInterval(this.pinger),this.ponger)return i.clearInterval(this.ponger)},e.prototype.send=function(t,e,n){return null==e&&(e={}),null==n&&(n=""),e.destination=t,this._transmit("SEND",e,n)},e.prototype.subscribe=function(t,e,n){var i;return null==n&&(n={}),n.id||(n.id="sub-"+this.counter++),n.destination=t,this.subscriptions[n.id]=e,this._transmit("SUBSCRIBE",n),i=this,{id:n.id,unsubscribe:function(){return i.unsubscribe(n.id)}}},e.prototype.unsubscribe=function(t){return delete this.subscriptions[t],this._transmit("UNSUBSCRIBE",{id:t})},e.prototype.begin=function(t){var e,n;return n=t||"tx-"+this.counter++,this._transmit("BEGIN",{transaction:n}),e=this,{id:n,commit:function(){return e.commit(n)},abort:function(){return e.abort(n)}}},e.prototype.commit=function(t){return this._transmit("COMMIT",{transaction:t})},e.prototype.abort=function(t){return this._transmit("ABORT",{transaction:t})},e.prototype.ack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("ACK",n)},e.prototype.nack=function(t,e,n){return null==n&&(n={}),n["message-id"]=t,n.subscription=e,this._transmit("NACK",n)},e}(),i={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.1,1.0"}},client:function(t,n){var r,o;return null==n&&(n=["v10.stomp","v11.stomp"]),r=i.WebSocketClass||WebSocket,o=new r(t,n),new e(o)},over:function(t){return new e(t)},Frame:n},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=i),"undefined"!=typeof window&&null!==window?(i.setInterval=function(t,e){return window.setInterval(e,t)},i.clearInterval=function(t){return window.clearInterval(t)},window.Stomp=i):exports||(self.Stomp=i)}.call(this),function(){function t(t){var e=t.__resizeTriggers__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function e(t){return t.offsetWidth!=t.__resizeLast__.width||t.offsetHeight!=t.__resizeLast__.height}function n(n){var i=this;t(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=a(function(){e(i)&&(i.__resizeLast__.width=i.offsetWidth,i.__resizeLast__.height=i.offsetHeight,i.__resizeListeners__.forEach(function(t){t.call(i,n)}))})}function i(){if(!o){var t=(y?y:"")+".resize-triggers { "+(_?_:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),o=!0}}var r=document.attachEvent,o=!1;if(!r){var a=function(){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}(),s=function(){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}(),l=!1,u="animation",c="",d="animationstart",h="Webkit Moz O ms".split(" "),f="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),p="",m=document.createElement("fakeelement");if(void 0!==m.style.animationName&&(l=!0),l===!1)for(var g=0;g<h.length;g++)if(void 0!==m.style[h[g]+"AnimationName"]){p=h[g],u=p+"Animation",c="-"+p.toLowerCase()+"-",d=f[g],l=!0;break}var v="resizeanim",y="@"+c+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",_=c+"animation: 1ms "+v+"; "}window.addResizeListener=function(e,o){r?e.attachEvent("onresize",o):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),i(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),t(e),e.addEventListener("scroll",n,!0),d&&e.__resizeTriggers__.addEventListener(d,function(n){n.animationName==v&&t(e)})),e.__resizeListeners__.push(o))},window.removeResizeListener=function(t,e){r?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",n),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?module.exports=e(require("angular")):e(t.angular)}(this,function(t){"use strict";return t.module("gridster",[]).constant("gridsterConfig",{columns:6,pushing:!0,floating:!0,swapping:!1,width:"auto",colWidth:"auto",rowHeight:"match",margins:[10,10],outerMargin:!0,sparse:!1,isMobile:!1,mobileBreakPoint:600,mobileModeEnabled:!0,minColumns:1,minRows:1,maxRows:100,defaultSizeX:2,defaultSizeY:1,minSizeX:1,maxSizeX:null,minSizeY:1,maxSizeY:null,saveGridItemCalculatedHeightInMobile:!1,resizable:{enabled:!0,handles:["s","e","n","w","se","ne","sw","nw"]},draggable:{enabled:!0,scrollSensitivity:20,scrollSpeed:15}}).controller("GridsterCtrl",["gridsterConfig","$timeout",function(e,n){var i=this;t.extend(this,e),this.resizable=t.extend({},e.resizable||{}),this.draggable=t.extend({},e.draggable||{});var r=!1;this.layoutChanged=function(){r||(r=!0,n(function(){r=!1,i.loaded&&i.floatItemsUp(),i.updateHeight(i.movingItem?i.movingItem.sizeY:0)},30))},this.grid=[],this.allItems=[],this.destroy=function(){this.grid&&(this.grid=[]),this.$element=null,this.allItems&&(this.allItems.length=0,this.allItems=null)},this.setOptions=function(e){if(e)if(e=t.extend({},e),e.draggable&&(t.extend(this.draggable,e.draggable),delete e.draggable),e.resizable&&(t.extend(this.resizable,e.resizable),delete e.resizable),t.extend(this,e),this.margins&&2===this.margins.length)for(var n=0,i=this.margins.length;n<i;++n)this.margins[n]=parseInt(this.margins[n],10),isNaN(this.margins[n])&&(this.margins[n]=0);else this.margins=[0,0]},this.canItemOccupy=function(t,e,n){return e>-1&&n>-1&&t.sizeX+n<=this.columns&&t.sizeY+e<=this.maxRows},this.autoSetItemPosition=function(t){for(var e=0;e<this.maxRows;++e)for(var n=0;n<this.columns;++n){var i=this.getItems(e,n,t.sizeX,t.sizeY,t);if(0===i.length&&this.canItemOccupy(t,e,n))return void this.putItem(t,e,n)}throw new Error("Unable to place item!")},this.getItems=function(t,e,n,i,r){var o=[];n&&i||(n=i=1),!r||r instanceof Array||(r=[r]);var a;if(this.sparse===!1)for(var s=0;s<i;++s)for(var l=0;l<n;++l)a=this.getItem(t+s,e+l,r),!a||r&&r.indexOf(a)!==-1||o.indexOf(a)!==-1||o.push(a);else for(var u=t+i-1,c=e+n-1,d=0;d<this.allItems.length;++d)a=this.allItems[d],!a||r&&r.indexOf(a)!==-1||o.indexOf(a)!==-1||!this.intersect(a,e,c,t,u)||o.push(a);return o},this.getBoundingBox=function(t){if(0===t.length)return null;if(1===t.length)return{row:t[0].row,col:t[0].col,sizeY:t[0].sizeY,sizeX:t[0].sizeX};for(var e=0,n=0,i=9999,r=9999,o=0,a=t.length;o<a;++o){var s=t[o];i=Math.min(s.row,i),r=Math.min(s.col,r),e=Math.max(s.row+s.sizeY,e),n=Math.max(s.col+s.sizeX,n)}return{row:i,col:r,sizeY:e-i,sizeX:n-r}},this.intersect=function(t,e,n,i,r){return e<=t.col+t.sizeX-1&&n>=t.col&&i<=t.row+t.sizeY-1&&r>=t.row},this.removeItem=function(t){for(var e,n=0,i=this.grid.length;n<i;++n){var r=this.grid[n];if(r&&(e=r.indexOf(t),e!==-1)){r[e]=null;break}}this.sparse&&(e=this.allItems.indexOf(t),e!==-1&&this.allItems.splice(e,1)),this.layoutChanged()},this.getItem=function(t,e,n){!n||n instanceof Array||(n=[n]);for(var i=1;t>-1;){for(var r=1,o=e;o>-1;){var a=this.grid[t];if(a){var s=a[o];if(s&&(!n||n.indexOf(s)===-1)&&s.sizeX>=r&&s.sizeY>=i)return s}++r,--o}--t,++i}return null},this.putItems=function(t){for(var e=0,n=t.length;e<n;++e)this.putItem(t[e])},this.putItem=function(t,e,n,i){if(("undefined"==typeof e||null===e)&&(e=t.row,n=t.col,"undefined"==typeof e||null===e))return void this.autoSetItemPosition(t);if(this.canItemOccupy(t,e,n)||(n=Math.min(this.columns-t.sizeX,Math.max(0,n)),e=Math.min(this.maxRows-t.sizeY,Math.max(0,e))),null!==t.oldRow&&"undefined"!=typeof t.oldRow){var r=t.oldRow===e&&t.oldColumn===n,o=this.grid[e]&&this.grid[e][n]===t;if(r&&o)return t.row=e,void(t.col=n);var a=this.grid[t.oldRow];a&&a[t.oldColumn]===t&&delete a[t.oldColumn]}t.oldRow=t.row=e,t.oldColumn=t.col=n,this.moveOverlappingItems(t,i),this.grid[e]||(this.grid[e]=[]),this.grid[e][n]=t,this.sparse&&this.allItems.indexOf(t)===-1&&this.allItems.push(t),this.movingItem===t&&this.floatItemUp(t),this.layoutChanged()},this.swapItems=function(t,e){this.grid[t.row][t.col]=e,this.grid[e.row][e.col]=t;var n=t.row,i=t.col;t.row=e.row,t.col=e.col,e.row=n,e.col=i},this.moveOverlappingItems=function(t,e){e?e.indexOf(t)===-1&&(e=e.slice(0),e.push(t)):e=[t];var n=this.getItems(t.row,t.col,t.sizeX,t.sizeY,e);this.moveItemsDown(n,t.row+t.sizeY,e)},this.moveItemsDown=function(t,e,n){if(t&&0!==t.length){t.sort(function(t,e){return t.row-e.row}),n=n?n.slice(0):[];var i,r,o,a={};for(r=0,o=t.length;r<o;++r){i=t[r];var s=a[i.col];("undefined"==typeof s||i.row<s)&&(a[i.col]=i.row)}for(r=0,o=t.length;r<o;++r){i=t[r];var l=e-a[i.col];this.moveItemDown(i,i.row+l,n),n.push(i)}}},this.moveItemDown=function(t,e,n){if(!(t.row>=e)){for(;t.row<e;)++t.row,this.moveOverlappingItems(t,n);this.putItem(t,t.row,t.col,n)}},this.floatItemsUp=function(){if(this.floating!==!1)for(var t=0,e=this.grid.length;t<e;++t){var n=this.grid[t];if(n)for(var i=0,r=n.length;i<r;++i){var o=n[i];o&&this.floatItemUp(o)}}},this.floatItemUp=function(t){if(this.floating!==!1){for(var e=t.col,n=t.sizeY,i=t.sizeX,r=null,o=null,a=t.row-1;a>-1;){var s=this.getItems(a,e,i,n,t);if(0!==s.length)break;r=a,o=e,--a}null!==r&&this.putItem(t,r,o)}},this.updateHeight=function(t){var e=this.minRows;t=t||0;for(var n=this.grid.length;n>=0;--n){var i=this.grid[n];if(i)for(var r=0,o=i.length;r<o;++r)i[r]&&(e=Math.max(e,n+t+i[r].sizeY))}this.gridHeight=this.maxRows-e>0?Math.min(this.maxRows,e):Math.max(this.maxRows,e)},this.pixelsToRows=function(t,e){return this.outerMargin||(t+=this.margins[0]/2),e===!0?Math.ceil(t/this.curRowHeight):e===!1?Math.floor(t/this.curRowHeight):Math.round(t/this.curRowHeight)},this.pixelsToColumns=function(t,e){return this.outerMargin||(t+=this.margins[1]/2),e===!0?Math.ceil(t/this.curColWidth):e===!1?Math.floor(t/this.curColWidth):Math.round(t/this.curColWidth)}}]).directive("gridsterPreview",function(){return{replace:!0,scope:!0,require:"^gridster",template:'<div ng-style="previewStyle()" class="gridster-item gridster-preview-holder"></div>',link:function(t,e,n,i){t.previewStyle=function(){return i.movingItem?{display:"block",height:i.movingItem.sizeY*i.curRowHeight-i.margins[0]+"px",width:i.movingItem.sizeX*i.curColWidth-i.margins[1]+"px",top:i.movingItem.row*i.curRowHeight+(i.outerMargin?i.margins[0]:0)+"px",left:i.movingItem.col*i.curColWidth+(i.outerMargin?i.margins[1]:0)+"px"}:{display:"none"}}}}}).directive("gridster",["$timeout","$window","$rootScope","gridsterDebounce",function(e,n,i,r){return{scope:!0,restrict:"EAC",controller:"GridsterCtrl",controllerAs:"gridster",compile:function(o){return o.prepend('<div ng-if="gridster.movingItem" gridster-preview></div>'),function(o,a,s,l){function u(){a.css("height",l.gridHeight*l.curRowHeight+(l.outerMargin?l.margins[0]:-l.margins[0])+"px")}function c(t){if(l.setOptions(t),d(a[0])){"auto"===l.width?l.curWidth=a[0].offsetWidth||parseInt(a.css("width"),10):l.curWidth=l.width,"auto"===l.colWidth?l.curColWidth=(l.curWidth+(l.outerMargin?-l.margins[1]:l.margins[1]))/l.columns:l.curColWidth=l.colWidth,l.curRowHeight=l.rowHeight,"string"==typeof l.rowHeight&&("match"===l.rowHeight?l.curRowHeight=Math.round(l.curColWidth):l.rowHeight.indexOf("*")!==-1?l.curRowHeight=Math.round(l.curColWidth*l.rowHeight.replace("*","").replace(" ","")):l.rowHeight.indexOf("/")!==-1&&(l.curRowHeight=Math.round(l.curColWidth/l.rowHeight.replace("/","").replace(" ","")))),l.isMobile=l.mobileModeEnabled&&l.curWidth<=l.mobileBreakPoint;for(var e=0,n=l.grid.length;e<n;++e){var i=l.grid[e];if(i)for(var r=0,o=i.length;r<o;++r)if(i[r]){var s=i[r];s.setElementPosition(),s.setElementSizeY(),s.setElementSizeX()}}u()}}l.loaded=!1,l.$element=a,o.gridster=l,a.addClass("gridster");var d=function(t){return"hidden"!==t.style.visibility&&"none"!==t.style.display};o.$watch(function(){return l.gridHeight},u),o.$watch(function(){return l.movingItem},function(){l.updateHeight(l.movingItem?l.movingItem.sizeY:0)});var h=s.gridster;h?o.$parent.$watch(h,function(t){c(t)},!0):c({}),o.$watch(function(){return l.loaded},function(){l.loaded?(a.addClass("gridster-loaded"),i.$broadcast("gridster-loaded",l)):a.removeClass("gridster-loaded")}),o.$watch(function(){return l.isMobile},function(){l.isMobile?a.addClass("gridster-mobile").removeClass("gridster-desktop"):a.removeClass("gridster-mobile").addClass("gridster-desktop"),i.$broadcast("gridster-mobile-changed",l)}),o.$watch(function(){return l.draggable},function(){i.$broadcast("gridster-draggable-changed",l)},!0),o.$watch(function(){return l.resizable},function(){i.$broadcast("gridster-resizable-changed",l)},!0);var f=a[0].offsetWidth||parseInt(a.css("width"),10),p=function(){var t=a[0].offsetWidth||parseInt(a.css("width"),10);t&&t!==f&&!l.movingItem&&(f=t,l.loaded&&a.removeClass("gridster-loaded"),c(),l.loaded&&a.addClass("gridster-loaded"),i.$broadcast("gridster-resized",[t,a[0].offsetHeight],l))},m=r(function(){p(),e(function(){o.$apply()})},100);o.$watch(function(){return d(a[0])},m),"function"==typeof window.addResizeListener?window.addResizeListener(a[0],m):o.$watch(function(){return a[0].offsetWidth||parseInt(a.css("width"),10)},p);var g=t.element(n);g.on("resize",m),o.$on("$destroy",function(){l.destroy(),g.off("resize",m),"function"==typeof window.removeResizeListener&&window.removeResizeListener(a[0],m)}),e(function(){o.$watch("gridster.floating",function(){l.floatItemsUp()}),l.loaded=!0},100)}}}}]).controller("GridsterItemCtrl",function(){this.$element=null,this.gridster=null,this.row=null,this.col=null,this.sizeX=null,this.sizeY=null,this.minSizeX=0,this.minSizeY=0,this.maxSizeX=null,this.maxSizeY=null,this.init=function(t,e){this.$element=t,this.gridster=e,this.sizeX=e.defaultSizeX,this.sizeY=e.defaultSizeY},this.destroy=function(){this.gridster=null,this.$element=null},this.toJSON=function(){return{row:this.row,col:this.col,sizeY:this.sizeY,sizeX:this.sizeX}},this.isMoving=function(){return this.gridster.movingItem===this},this.setPosition=function(t,e){this.gridster.putItem(this,t,e),this.isMoving()||this.setElementPosition()},this.setSize=function(t,e,n){t=t.toUpperCase();var i="size"+t,r="Size"+t;if(""!==e){e=parseInt(e,10),(isNaN(e)||0===e)&&(e=this.gridster["default"+r]);var o="X"===t?this.gridster.columns:this.gridster.maxRows;this["max"+r]&&(o=Math.min(this["max"+r],o)),this.gridster["max"+r]&&(o=Math.min(this.gridster["max"+r],o)),"X"===t&&this.cols?o-=this.cols:"Y"===t&&this.rows&&(o-=this.rows);var a=0;this["min"+r]&&(a=Math.max(this["min"+r],a)),this.gridster["min"+r]&&(a=Math.max(this.gridster["min"+r],a)),e=Math.max(Math.min(e,o),a);var s=this[i]!==e||this["old"+r]&&this["old"+r]!==e;return this["old"+r]=this[i]=e,this.isMoving()||this["setElement"+r](),!n&&s&&(this.gridster.moveOverlappingItems(this),this.gridster.layoutChanged()),s}},this.setSizeY=function(t,e){return this.setSize("Y",t,e)},this.setSizeX=function(t,e){return this.setSize("X",t,e)},this.setElementPosition=function(){this.gridster.isMobile?this.$element.css({marginLeft:this.gridster.margins[0]+"px",marginRight:this.gridster.margins[0]+"px",marginTop:this.gridster.margins[1]+"px",marginBottom:this.gridster.margins[1]+"px",top:"",left:""}):this.$element.css({margin:0,top:this.row*this.gridster.curRowHeight+(this.gridster.outerMargin?this.gridster.margins[0]:0)+"px",left:this.col*this.gridster.curColWidth+(this.gridster.outerMargin?this.gridster.margins[1]:0)+"px"})},this.setElementSizeY=function(){this.gridster.isMobile&&!this.gridster.saveGridItemCalculatedHeightInMobile?this.$element.css("height",""):this.$element.css("height",this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]+"px")},this.setElementSizeX=function(){this.gridster.isMobile?this.$element.css("width",""):this.$element.css("width",this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]+"px")},this.getElementSizeX=function(){return this.sizeX*this.gridster.curColWidth-this.gridster.margins[1]},this.getElementSizeY=function(){return this.sizeY*this.gridster.curRowHeight-this.gridster.margins[0]}}).factory("GridsterTouch",[function(){return function(t,e,n,i){var r,o,a={},s=function(t){if(Object.keys)return Object.keys(t).length;var e,n=0;for(e in t)++n;return n},l=function(t){for(var e=0,n=0,i=navigator.userAgent.match(/\bMSIE\b/),r=t;null!=r;r=r.offsetParent)i&&(!document.documentMode||document.documentMode<8)&&"relative"===r.currentStyle.position&&r.offsetParent&&"relative"===r.offsetParent.currentStyle.position&&r.offsetLeft===r.offsetParent.offsetLeft?n+=r.offsetTop:(e+=r.offsetLeft,n+=r.offsetTop);return{x:e,y:n}},u=l(t),c=!1,d=function(r){if("mousemove"!==r.type||0!==s(a)){for(var o=!0,h=r.changedTouches?r.changedTouches:[r],f=0;f<h.length;++f){var p=h[f],m="undefined"!=typeof p.identifier?p.identifier:"undefined"!=typeof p.pointerId?p.pointerId:1;if("undefined"==typeof p.pageX)if(p.pageX=p.offsetX+u.x,p.pageY=p.offsetY+u.y,p.srcElement.offsetParent===t&&document.documentMode&&8===document.documentMode&&"mousedown"===p.type)p.pageX+=p.srcElement.offsetLeft,p.pageY+=p.srcElement.offsetTop;else if(p.srcElement!==t&&!document.documentMode||document.documentMode<8){for(var g=-2,v=-2,y=p.srcElement;null!==y;y=y.parentNode)g+=y.scrollLeft?y.scrollLeft:0,v+=y.scrollTop?y.scrollTop:0;p.pageX=p.clientX+g,p.pageY=p.clientY+v}var _=p.pageX,b=p.pageY;r.type.match(/(start|down)$/i)?(u=l(t),a[m]&&(i&&i({target:r.target,which:r.which,pointerId:m,pageX:_,pageY:b}),delete a[m]),e&&o&&(o=e({target:r.target,which:r.which,pointerId:m,pageX:_,pageY:b})),a[m]={x:_,y:b},t.msSetPointerCapture&&o?t.msSetPointerCapture(m):"mousedown"===r.type&&1===s(a)&&(c?t.setCapture(!0):(document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",d,!1)))):r.type.match(/move$/i)?!a[m]||a[m].x===_&&a[m].y===b||(n&&o&&(o=n({target:r.target,which:r.which,pointerId:m,pageX:_,pageY:b})),a[m].x=_,a[m].y=b):a[m]&&r.type.match(/(up|end|cancel)$/i)&&(i&&o&&(o=i({target:r.target,which:r.which,pointerId:m,pageX:_,pageY:b})),delete a[m],t.msReleasePointerCapture?t.msReleasePointerCapture(m):"mouseup"===r.type&&0===s(a)&&(c?t.releaseCapture():(document.removeEventListener("mousemove",d,!1),document.removeEventListener("mouseup",d,!1))))}o&&(r.preventDefault&&r.preventDefault(),r.preventManipulation&&r.preventManipulation(),r.preventMouseEvent&&r.preventMouseEvent())}};return this.enable=function(){window.navigator.msPointerEnabled?(t.addEventListener("MSPointerDown",d,!1),t.addEventListener("MSPointerMove",d,!1),t.addEventListener("MSPointerUp",d,!1),t.addEventListener("MSPointerCancel",d,!1),"undefined"!=typeof t.style.msContentZooming&&(r=t.style.msContentZooming,t.style.msContentZooming="none"),"undefined"!=typeof t.style.msTouchAction&&(o=t.style.msTouchAction,t.style.msTouchAction="none")):t.addEventListener?(t.addEventListener("touchstart",d,!1),t.addEventListener("touchmove",d,!1),t.addEventListener("touchend",d,!1),t.addEventListener("touchcancel",d,!1),t.addEventListener("mousedown",d,!1),t.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(c=!0,t.addEventListener("mousemove",d,!1),t.addEventListener("mouseup",d,!1))):t.attachEvent&&t.setCapture&&(c=!0,t.attachEvent("onmousedown",function(){return d(window.event),window.event.returnValue=!1,!1}),t.attachEvent("onmousemove",function(){return d(window.event),window.event.returnValue=!1,!1}),t.attachEvent("onmouseup",function(){return d(window.event),window.event.returnValue=!1,!1}))},this.disable=function(){window.navigator.msPointerEnabled?(t.removeEventListener("MSPointerDown",d,!1),t.removeEventListener("MSPointerMove",d,!1),t.removeEventListener("MSPointerUp",d,!1),t.removeEventListener("MSPointerCancel",d,!1),r&&(t.style.msContentZooming=r),o&&(t.style.msTouchAction=o)):t.removeEventListener?(t.removeEventListener("touchstart",d,!1),t.removeEventListener("touchmove",d,!1),t.removeEventListener("touchend",d,!1),t.removeEventListener("touchcancel",d,!1),t.removeEventListener("mousedown",d,!1),t.setCapture&&!window.navigator.userAgent.match(/\bGecko\b/)&&(c=!0,t.removeEventListener("mousemove",d,!1),t.removeEventListener("mouseup",d,!1))):t.detachEvent&&t.setCapture&&(c=!0,t.detachEvent("onmousedown"),t.detachEvent("onmousemove"),t.detachEvent("onmouseup"))},this}}]).factory("GridsterDraggable",["$document","$window","GridsterTouch",function(e,n,i){function r(r,o,a,s,l){function u(t){r.addClass("gridster-item-moving"),a.movingItem=s,a.updateHeight(s.sizeY),o.$apply(function(){a.draggable&&a.draggable.start&&a.draggable.start(t,r,l,s)})}function c(t){var e=s.row,i=s.col,u=a.draggable&&a.draggable.drag,c=a.draggable.scrollSensitivity,d=a.draggable.scrollSpeed,h=Math.min(a.pixelsToRows(g),a.maxRows-1),f=Math.min(a.pixelsToColumns(m),a.columns-1),p=a.getItems(h,f,s.sizeX,s.sizeY,s),v=0!==p.length;if(a.swapping===!0&&v){var y=a.getBoundingBox(p),_=y.sizeX===s.sizeX&&y.sizeY===s.sizeY,b=y.row===e,E=y.col===i,x=y.row===h&&y.col===f,C=b||E;if(_&&1===p.length){if(x)a.swapItems(s,p[0]);else if(C)return}else if(y.sizeX<=s.sizeX&&y.sizeY<=s.sizeY&&C)for(var T=s.row<=h?s.row:h+s.sizeY,w=s.col<=f?s.col:f+s.sizeX,S=T-y.row,M=w-y.col,j=0,A=p.length;j<A;++j){var R=p[j],P=a.getItems(R.row+S,R.col+M,R.sizeX,R.sizeY,s);0===P.length&&a.putItem(R,R.row+S,R.col+M)}}a.pushing===!1&&v||(s.row=h,s.col=f),t.pageY-O.body.scrollTop<c?O.body.scrollTop=O.body.scrollTop-d:n.innerHeight-(t.pageY-O.body.scrollTop)<c&&(O.body.scrollTop=O.body.scrollTop+d),t.pageX-O.body.scrollLeft<c?O.body.scrollLeft=O.body.scrollLeft-d:n.innerWidth-(t.pageX-O.body.scrollLeft)<c&&(O.body.scrollLeft=O.body.scrollLeft+d),(u||e!==s.row||i!==s.col)&&o.$apply(function(){u&&a.draggable.drag(t,r,l,s)})}function d(t){r.removeClass("gridster-item-moving");var e=Math.min(a.pixelsToRows(g),a.maxRows-1),n=Math.min(a.pixelsToColumns(m),a.columns-1);a.pushing===!1&&0!==a.getItems(e,n,s.sizeX,s.sizeY,s).length||(s.row=e,s.col=n),a.movingItem=null,s.setPosition(s.row,s.col),o.$apply(function(){a.draggable&&a.draggable.stop&&a.draggable.stop(t,r,l,s)})}function h(e){if(A.indexOf(e.target.nodeName.toLowerCase())!==-1)return!1;var n=t.element(e.target);if(n.hasClass("gridster-item-resizable-handler"))return!1;if(n.attr("onclick")||n.attr("ng-click"))return!1;if(n.closest&&n.closest(".gridster-no-drag").length)return!1;if(a.draggable&&a.draggable.handle){var i=t.element(r[0].querySelectorAll(a.draggable.handle)),o=!1;t:for(var l=0,c=i.length;l<c;++l){var d=i[l];if(d===e.target){o=!0;break}for(var h=e.target,f=0;f<20;++f){var p=h.parentNode;if(p===r[0]||!p)break;if(p===d){o=!0;break t}h=p}}if(!o)return!1}switch(e.which){case 1:break;case 2:case 3:return}return C=e.pageX,T=e.pageY,m=parseInt(r.css("left"),10),g=parseInt(r.css("top"),10),v=r[0].offsetWidth,y=r[0].offsetHeight,_=s.col,b=s.row,u(e),!0}function f(t){if(!r.hasClass("gridster-item-moving")||r.hasClass("gridster-item-resizing"))return!1;var e=a.curWidth-1,n=a.curRowHeight*a.maxRows-1;E=t.pageX,x=t.pageY;var i=E-C+w,o=x-T+S;w=S=0,C=E,T=x;var s=i,l=o;return m+s<j?(i=j-m,w=s-i):m+v+s>e&&(i=e-m-v,w=s-i),g+l<M?(o=M-g,S=l-o):g+y+l>n&&(o=n-g-y,S=l-o),m+=i,g+=o,r.css({top:g+"px",left:m+"px"}),c(t),!0}function p(t){return!(!r.hasClass("gridster-item-moving")||r.hasClass("gridster-item-resizing"))&&(w=S=0,d(t),!0)}var m,g,v,y,_,b,E=0,x=0,C=0,T=0,w=0,S=0,M=0,j=0,O=e[0],A=["select","option","input","textarea","button"],R=null,P=null;this.enable=function(){if(R!==!0){if(R=!0,P)return void P.enable();P=new i(r[0],h,f,p),P.enable()}},this.disable=function(){R!==!1&&(R=!1,P&&P.disable())},this.toggle=function(t){t?this.enable():this.disable()},this.destroy=function(){this.disable()}}return r}]).factory("GridsterResizable",["GridsterTouch",function(e){function n(n,i,r,o,a){function s(s){function l(t){n.addClass("gridster-item-moving"),n.addClass("gridster-item-resizing"),r.movingItem=o,o.setElementSizeX(),o.setElementSizeY(),o.setElementPosition(),r.updateHeight(1),i.$apply(function(){r.resizable&&r.resizable.start&&r.resizable.start(t,n,a,o)})}function u(t){var e=o.row,l=o.col,u=o.sizeX,c=o.sizeY,d=r.resizable&&r.resizable.resize,h=o.col;["w","nw","sw"].indexOf(s)!==-1&&(h=r.pixelsToColumns(p,!1));var f=o.row;["n","ne","nw"].indexOf(s)!==-1&&(f=r.pixelsToRows(m,!1));var y=o.sizeX;["n","s"].indexOf(s)===-1&&(y=r.pixelsToColumns(g,!0));var _=o.sizeY;["e","w"].indexOf(s)===-1&&(_=r.pixelsToRows(v,!0));var b=f>-1&&h>-1&&y+h<=r.columns&&_+f<=r.maxRows;!b||r.pushing===!1&&0!==r.getItems(f,h,y,_,o).length||(o.row=f,o.col=h,o.sizeX=y,o.sizeY=_);var E=o.row!==e||o.col!==l||o.sizeX!==u||o.sizeY!==c;
(d||E)&&i.$apply(function(){d&&r.resizable.resize(t,n,a,o)})}function c(t){n.removeClass("gridster-item-moving"),n.removeClass("gridster-item-resizing"),r.movingItem=null,o.setPosition(o.row,o.col),o.setSizeY(o.sizeY),o.setSizeX(o.sizeX),i.$apply(function(){r.resizable&&r.resizable.stop&&r.resizable.stop(t,n,a,o)})}function d(t){switch(t.which){case 1:break;case 2:case 3:return}return b=r.draggable.enabled,b&&(r.draggable.enabled=!1,i.$broadcast("gridster-draggable-changed",r)),w=t.pageX,S=t.pageY,p=parseInt(n.css("left"),10),m=parseInt(n.css("top"),10),g=n[0].offsetWidth,v=n[0].offsetHeight,y=o.sizeX,_=o.sizeY,l(t),!0}function h(t){var e=r.curWidth-1;C=t.pageX,T=t.pageY;var i=C-w+M,o=T-S+j;M=j=0,w=C,S=T;var a=o,s=i;return x.indexOf("n")>=0&&(v-a<P()?(o=v-P(),j=a-o):m+a<O&&(o=O-m,j=a-o),m+=o,v-=o),x.indexOf("s")>=0&&(v+a<P()?(o=P()-v,j=a-o):m+v+a>A&&(o=A-m-v,j=a-o),v+=o),x.indexOf("w")>=0&&(g-s<I()?(i=g-I(),M=s-i):p+s<R&&(i=R-p,M=s-i),p+=i,g-=i),x.indexOf("e")>=0&&(g+s<I()?(i=I()-g,M=s-i):p+g+s>e&&(i=e-p-g,M=s-i),g+=i),n.css({top:m+"px",left:p+"px",width:g+"px",height:v+"px"}),u(t),!0}function f(t){return r.draggable.enabled!==b&&(r.draggable.enabled=b,i.$broadcast("gridster-draggable-changed",r)),M=j=0,c(t),!0}var p,m,g,v,y,_,b,E,x=s,C=0,T=0,w=0,S=0,M=0,j=0,O=0,A=9999,R=0,P=function(){return(o.minSizeY?o.minSizeY:1)*r.curRowHeight-r.margins[0]},I=function(){return(o.minSizeX?o.minSizeX:1)*r.curColWidth-r.margins[1]},L=null;this.enable=function(){L||(L=t.element('<div class="gridster-item-resizable-handler handle-'+x+'"></div>'),n.append(L)),E=new e(L[0],d,h,f),E.enable()},this.disable=function(){L&&(L.remove(),L=null),E.disable(),E=void 0},this.destroy=function(){this.disable()}}var l=[],u=r.resizable.handles;"string"==typeof u&&(u=r.resizable.handles.split(","));for(var c=!1,d=0,h=u.length;d<h;d++)l.push(new s(u[d]));this.enable=function(){if(!c){for(var t=0,e=l.length;t<e;t++)l[t].enable();c=!0}},this.disable=function(){if(c){for(var t=0,e=l.length;t<e;t++)l[t].disable();c=!1}},this.toggle=function(t){t?this.enable():this.disable()},this.destroy=function(){for(var t=0,e=l.length;t<e;t++)l[t].destroy()}}return n}]).factory("gridsterDebounce",function(){return function(t,e,n){var i;return function(){var r=this,o=arguments,a=function(){i=null,n||t.apply(r,o)},s=n&&!i;clearTimeout(i),i=setTimeout(a,e),s&&t.apply(r,o)}}}).directive("gridsterItem",["$parse","GridsterDraggable","GridsterResizable","gridsterDebounce",function(t,e,n,i){return{scope:!0,restrict:"EA",controller:"GridsterItemCtrl",controllerAs:"gridsterItem",require:["^gridster","gridsterItem"],link:function(r,o,a,s){function l(){p.setPosition(p.row,p.col),v.row&&v.row.assign&&v.row.assign(r,p.row),v.col&&v.col.assign&&v.col.assign(r,p.col)}function u(){var t=p.setSizeX(p.sizeX,!0);t&&v.sizeX&&v.sizeX.assign&&v.sizeX.assign(r,p.sizeX);var e=p.setSizeY(p.sizeY,!0);e&&v.sizeY&&v.sizeY.assign&&v.sizeY.assign(r,p.sizeY),(t||e)&&(p.gridster.moveOverlappingItems(p),f.layoutChanged(),r.$broadcast("gridster-item-resized",p))}function c(){var t=document.createElement("div"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in e)if(void 0!==t.style[n])return e[n]}var d,h=a.gridsterItem,f=s[0],p=s[1];if(r.gridster=f,h){var m=t(h);d=m(r)||{},!d&&m.assign&&(d={row:p.row,col:p.col,sizeX:p.sizeX,sizeY:p.sizeY,minSizeX:0,minSizeY:0,maxSizeX:null,maxSizeY:null},m.assign(r,d))}else d=a;p.init(o,f),o.addClass("gridster-item");for(var g=["minSizeX","maxSizeX","minSizeY","maxSizeY","sizeX","sizeY","row","col"],v={},y=[],_=function(e){var n;if("string"==typeof d[e])n=d[e];else if("string"==typeof d[e.toLowerCase()])n=d[e.toLowerCase()];else{if(!h)return;n=h+"."+e}y.push('"'+e+'":'+n),v[e]=t(n);var i=v[e](r);"number"==typeof i&&(p[e]=i)},b=0,E=g.length;b<E;++b)_(g[b]);var x="{"+y.join(",")+"}";r.$watchCollection(x,function(t,e){for(var n in t){var i=t[n],r=e[n];r!==i&&(i=parseInt(i,10),isNaN(i)||(p[n]=i))}}),r.$watch(function(){return p.row+","+p.col},l),r.$watch(function(){return p.sizeY+","+p.sizeX+","+p.minSizeX+","+p.maxSizeX+","+p.minSizeY+","+p.maxSizeY},u);var C=new e(o,r,f,p,d),T=new n(o,r,f,p,d),w=function(){T.toggle(!f.isMobile&&f.resizable&&f.resizable.enabled)};w();var S=function(){C.toggle(!f.isMobile&&f.draggable&&f.draggable.enabled)};S(),r.$on("gridster-draggable-changed",S),r.$on("gridster-resizable-changed",w),r.$on("gridster-resized",w),r.$on("gridster-mobile-changed",function(){w(),S()});var M=i(function(){r.$apply(function(){r.$broadcast("gridster-item-transition-end",p)})},50);return o.on(c(),M),r.$broadcast("gridster-item-initialized",p),r.$on("$destroy",function(){try{T.destroy(),C.destroy()}catch(t){}try{f.removeItem(p)}catch(t){}try{p.destroy()}catch(t){}})}}}]).directive("gridsterNoDrag",function(){return{restrict:"A",link:function(t,e){e.addClass("gridster-no-drag")}}})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Chart=t()}}(function(){return function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(t,e,n){},{}],2:[function(t,e,n){function i(t){if(t){var e=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,o=/(\w+)/,a=[0,0,0],s=1,l=t.match(e);if(l){l=l[1];for(var u=0;u<a.length;u++)a[u]=parseInt(l[u]+l[u],16)}else if(l=t.match(n)){l=l[1];for(var u=0;u<a.length;u++)a[u]=parseInt(l.slice(2*u,2*u+2),16)}else if(l=t.match(i)){for(var u=0;u<a.length;u++)a[u]=parseInt(l[u+1]);s=parseFloat(l[4])}else if(l=t.match(r)){for(var u=0;u<a.length;u++)a[u]=Math.round(2.55*parseFloat(l[u+1]));s=parseFloat(l[4])}else if(l=t.match(o)){if("transparent"==l[1])return[0,0,0,0];if(a=b[l[1]],!a)return}for(var u=0;u<a.length;u++)a[u]=y(a[u],0,255);return s=s||0==s?y(s,0,1):1,a[3]=s,a}}function r(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),r=y(parseInt(n[1]),0,360),o=y(parseFloat(n[2]),0,100),a=y(parseFloat(n[3]),0,100),s=y(isNaN(i)?1:i,0,1);return[r,o,a,s]}}}function o(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),r=y(parseInt(n[1]),0,360),o=y(parseFloat(n[2]),0,100),a=y(parseFloat(n[3]),0,100),s=y(isNaN(i)?1:i,0,1);return[r,o,a,s]}}}function a(t){var e=i(t);return e&&e.slice(0,3)}function s(t){var e=r(t);return e&&e.slice(0,3)}function l(t){var e=i(t);return e?e[3]:(e=r(t))?e[3]:(e=o(t))?e[3]:void 0}function u(t){return"#"+_(t[0])+_(t[1])+_(t[2])}function c(t,e){return e<1||t[3]&&t[3]<1?d(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function d(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function h(t,e){if(e<1||t[3]&&t[3]<1)return f(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"}function f(t,e){var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return"rgba("+n+"%, "+i+"%, "+r+"%, "+(e||t[3]||1)+")"}function p(t,e){return e<1||t[3]&&t[3]<1?m(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function m(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function v(t){return E[t.slice(0,3)]}function y(t,e,n){return Math.min(Math.max(e,t),n)}function _(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var b=t(6);e.exports={getRgba:i,getHsla:r,getRgb:a,getHsl:s,getHwb:o,getAlpha:l,hexString:u,rgbString:c,rgbaString:d,percentString:h,percentaString:f,hslString:p,hslaString:m,hwbString:g,keyword:v};var E={};for(var x in b)E[b[x]]=x},{6:6}],3:[function(t,e,n){var i=t(5),r=t(2),o=function(t){if(t instanceof o)return t;if(!(this instanceof o))return new o(t);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;if("string"==typeof t)if(e=r.getRgba(t))this.setValues("rgb",e);else if(e=r.getHsla(t))this.setValues("hsl",e);else{if(!(e=r.getHwb(t)))throw new Error('Unable to parse color from string "'+t+'"');this.setValues("hwb",e)}else if("object"==typeof t)if(e=t,void 0!==e.r||void 0!==e.red)this.setValues("rgb",e);else if(void 0!==e.l||void 0!==e.lightness)this.setValues("hsl",e);else if(void 0!==e.v||void 0!==e.value)this.setValues("hsv",e);else if(void 0!==e.w||void 0!==e.whiteness)this.setValues("hwb",e);else{if(void 0===e.c&&void 0===e.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(t));this.setValues("cmyk",e)}};o.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,r=void 0===e?.5:e,o=2*r-1,a=n.alpha()-i.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new o,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],e={}.toString.call(t),"[object Array]"===e?r[a]=t.slice(0):"[object Number]"===e?r[a]=t:console.error("unexpected color value:",t));return n}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},o.prototype.setValues=function(t,e){var n,r=this.values,o=this.spaces,a=this.maxes,s=1;if("alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[o[t][0]]){var l=o[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;var u;for(n=0;n<t.length;n++)u=Math.max(0,Math.min(a[t][n],r[t][n])),r[t][n]=Math.round(u);for(var c in o)c!==t&&(r[c]=i[t][c](r[t]));return!0},o.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},o.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=o),e.exports=o},{2:2,5:5}],4:[function(t,e,n){function i(t){var e,n,i,r=t[0]/255,o=t[1]/255,a=t[2]/255,s=Math.min(r,o,a),l=Math.max(r,o,a),u=l-s;return l==s?e=0:r==l?e=(o-a)/u:o==l?e=2+(a-r)/u:a==l&&(e=4+(r-o)/u),e=Math.min(60*e,360),e<0&&(e+=360),i=(s+l)/2,n=l==s?0:i<=.5?u/(l+s):u/(2-l-s),[e,100*n,100*i]}function o(t){var e,n,i,r=t[0],o=t[1],a=t[2],s=Math.min(r,o,a),l=Math.max(r,o,a),u=l-s;return n=0==l?0:u/l*1e3/10,l==s?e=0:r==l?e=(o-a)/u:o==l?e=2+(a-r)/u:a==l&&(e=4+(r-o)/u),e=Math.min(60*e,360),e<0&&(e+=360),i=l/255*1e3/10,[e,n,i]}function a(t){var e=t[0],n=t[1],r=t[2],o=i(t)[0],a=1/255*Math.min(e,Math.min(n,r)),r=1-1/255*Math.max(e,Math.max(n,r));return[o,100*a,100*r]}function s(t){var e,n,i,r,o=t[0]/255,a=t[1]/255,s=t[2]/255;return r=Math.min(1-o,1-a,1-s),e=(1-o-r)/(1-r)||0,n=(1-a-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*e,100*n,100*i,100*r]}function l(t){return J[JSON.stringify(t)]}function u(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var r=.4124*e+.3576*n+.1805*i,o=.2126*e+.7152*n+.0722*i,a=.0193*e+.1192*n+.9505*i;return[100*r,100*o,100*a]}function c(t){var e,n,i,r=u(t),o=r[0],a=r[1],s=r[2];return o/=95.047,a/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*a-16,n=500*(o-a),i=200*(a-s),[e,n,i]}function d(t){return F(c(t))}function h(t){var e,n,i,r,o,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return o=255*l,[o,o,o];n=l<.5?l*(1+s):l+s-l*s,e=2*l-n,r=[0,0,0];for(var u=0;u<3;u++)i=a+1/3*-(u-1),i<0&&i++,i>1&&i--,o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,r[u]=255*o;return r}function f(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,r*=o<=1?o:2-o,n=(o+r)/2,e=2*r/(o+r),[i,100*e,100*n])}function p(t){return a(h(t))}function m(t){return s(h(t))}function v(t){return l(h(t))}function y(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o)),i=255*i;switch(r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function _(t){var e,n,i=t[0],r=t[1]/100,o=t[2]/100;return n=(2-r)*o,e=r*o,e/=n<=1?n:2-n,e=e||0,n/=2,[i,100*e,100*n]}function E(t){return a(y(t))}function x(t){return s(y(t))}function C(t){return l(y(t))}function T(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),e=Math.floor(6*a),n=1-l,i=6*a-e,0!=(1&e)&&(i=1-i),o=s+i*(n-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function w(t){return i(T(t))}function S(t){return o(T(t))}function M(t){return s(T(t))}function j(t){return l(T(t))}function O(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100,s=t[3]/100;return e=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,o*(1-s)+s),i=1-Math.min(1,a*(1-s)+s),[255*e,255*n,255*i]}function A(t){return i(O(t))}function R(t){return o(O(t))}function P(t){return a(O(t))}function I(t){return l(O(t))}function L(t){var e,n,i,r=t[0]/100,o=t[1]/100,a=t[2]/100;return e=3.2406*r+o*-1.5372+a*-.4986,n=r*-.9689+1.8758*o+.0415*a,i=.0557*r+o*-.204+1.057*a,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i=12.92*i,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*e,255*n,255*i]}function k(t){var e,n,i,r=t[0],o=t[1],a=t[2];return r/=95.047,o/=100,a/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,e=116*o-16,n=500*(r-o),i=200*(o-a),[e,n,i]}function D(t){return F(k(t))}function N(t){var e,n,i,r,o=t[0],a=t[1],s=t[2];return o<=8?(n=100*o/903.3,r=7.787*(n/100)+16/116):(n=100*Math.pow((o+16)/116,3),r=Math.pow(n/100,1/3)),e=e/95.047<=.008856?e=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3),[e,n,i]}function F(t){var e,n,i,r=t[0],o=t[1],a=t[2];return e=Math.atan2(a,o),n=360*e/2/Math.PI,n<0&&(n+=360),i=Math.sqrt(o*o+a*a),[r,i,n]}function $(t){return L(N(t))}function G(t){var e,n,i,r=t[0],o=t[1],a=t[2];return i=a/360*2*Math.PI,e=o*Math.cos(i),n=o*Math.sin(i),[r,e,n]}function U(t){return N(G(t))}function B(t){return $(G(t))}function H(t){return X[t]}function V(t){return i(H(t))}function z(t){return o(H(t))}function W(t){return a(H(t))}function q(t){return s(H(t))}function Y(t){return c(H(t))}function K(t){return u(H(t))}e.exports={rgb2hsl:i,rgb2hsv:o,rgb2hwb:a,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:u,rgb2lab:c,rgb2lch:d,hsl2rgb:h,hsl2hsv:f,hsl2hwb:p,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:_,hsv2hwb:E,hsv2cmyk:x,hsv2keyword:C,hwb2rgb:T,hwb2hsl:w,hwb2hsv:S,hwb2cmyk:M,hwb2keyword:j,cmyk2rgb:O,cmyk2hsl:A,cmyk2hsv:R,cmyk2hwb:P,cmyk2keyword:I,keyword2rgb:H,keyword2hsl:V,keyword2hsv:z,keyword2hwb:W,keyword2cmyk:q,keyword2lab:Y,keyword2xyz:K,xyz2rgb:L,xyz2lab:k,xyz2lch:D,lab2xyz:N,lab2rgb:$,lab2lch:F,lch2lab:G,lch2xyz:U,lch2rgb:B};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},J={};for(var Z in X)J[JSON.stringify(X[Z])]=Z},{}],5:[function(t,e,n){var i=t(4),r=function(){return new u};for(var o in i){r[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(o);var a=/(\w+)2(\w+)/.exec(o),s=a[1],l=a[2];r[s]=r[s]||{},r[s][l]=r[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(o)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=r[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),e.exports=r},{4:4}],6:[function(t,e,n){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(t,e,n){var i=t(28)();t(26)(i),t(42)(i),t(22)(i),t(31)(i),t(25)(i),t(21)(i),t(23)(i),t(24)(i),t(29)(i),t(33)(i),t(34)(i),t(32)(i),t(35)(i),t(30)(i),t(27)(i),t(36)(i),t(37)(i),t(38)(i),t(39)(i),t(40)(i),t(45)(i),t(43)(i),t(44)(i),t(46)(i),t(47)(i),t(48)(i),t(15)(i),t(16)(i),t(17)(i),t(18)(i),t(19)(i),t(20)(i),t(8)(i),t(9)(i),t(10)(i),t(11)(i),t(12)(i),t(13)(i),t(14)(i),window.Chart=e.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,42:42,43:43,44:44,45:45,46:46,47:47,48:48,8:8,9:9}],8:[function(t,e,n){"use strict";e.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},{}],9:[function(t,e,n){"use strict";e.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},{}],10:[function(t,e,n){"use strict";e.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},{}],12:[function(t,e,n){"use strict";e.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},{}],13:[function(t,e,n){"use strict";e.exports=function(t){t.Radar=function(e,n){return n.type="radar",new t(e,n)}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t){var e={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}};t.defaults.scatter=e,t.controllers.scatter=t.controllers.line,t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},t.controllers.bar=t.DatasetController.extend({dataElementType:t.elements.Rectangle,initialize:function(e,n){t.DatasetController.prototype.initialize.call(this,e,n);var i=this,r=i.getMeta(),o=i.getDataset();r.stack=o.stack,r.bar=!0},getStackCount:function(){var t=this,n=t.getMeta(),i=t.getScaleForId(n.yAxisID),r=[];return e.each(t.chart.data.datasets,function(e,n){var o=t.chart.getDatasetMeta(n);o.bar&&t.chart.isDatasetVisible(n)&&(i.options.stacked===!1||i.options.stacked===!0&&r.indexOf(o.stack)===-1||void 0===i.options.stacked&&(void 0===o.stack||r.indexOf(o.stack)===-1))&&r.push(o.stack)},t),r.length},update:function(t){var n=this;e.each(n.getMeta().data,function(e,i){n.updateElement(e,i,t)},n)},updateElement:function(t,n,i){var r=this,o=r.getMeta(),a=r.getScaleForId(o.xAxisID),s=r.getScaleForId(o.yAxisID),l=s.getBasePixel(),u=r.chart.options.elements.rectangle,c=t.custom||{},d=r.getDataset();t._xScale=a,t._yScale=s,t._datasetIndex=r.index,t._index=n;var h=r.getRuler(n);t._model={x:r.calculateBarX(n,r.index,h),y:i?l:r.calculateBarY(n,r.index),label:r.chart.data.labels[n],datasetLabel:d.label,horizontal:!1,base:i?l:r.calculateBarBase(r.index,n),width:r.calculateBarWidth(h),backgroundColor:c.backgroundColor?c.backgroundColor:e.getValueAtIndexOrDefault(d.backgroundColor,n,u.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:u.borderSkipped,borderColor:c.borderColor?c.borderColor:e.getValueAtIndexOrDefault(d.borderColor,n,u.borderColor),borderWidth:c.borderWidth?c.borderWidth:e.getValueAtIndexOrDefault(d.borderWidth,n,u.borderWidth)},t.pivot()},calculateBarBase:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=r.getBaseValue(),a=o;if(r.options.stacked===!0||void 0===r.options.stacked&&void 0!==i.stack){
for(var s=n.chart,l=s.data.datasets,u=Number(l[t].data[e]),c=0;c<t;c++){var d=l[c],h=s.getDatasetMeta(c);if(h.bar&&h.yAxisID===r.id&&s.isDatasetVisible(c)&&i.stack===h.stack){var f=Number(d.data[e]);o+=u<0?Math.min(f,a):Math.max(f,a)}}return r.getPixelForValue(o)}return r.getBasePixel()},getRuler:function(){var t=this,e=t.getMeta(),n=t.getScaleForId(e.xAxisID),i=t.getStackCount(),r=n.width/n.ticks.length,o=r*n.options.categoryPercentage,a=(r-r*n.options.categoryPercentage)/2,s=o/i,l=s*n.options.barPercentage,u=s-s*n.options.barPercentage;return{stackCount:i,tickWidth:r,categoryWidth:o,categorySpacing:a,fullBarWidth:s,barWidth:l,barSpacing:u}},calculateBarWidth:function(t){var e=this,n=e.getMeta(),i=e.getScaleForId(n.xAxisID);return i.options.barThickness?i.options.barThickness:t.barWidth},getStackIndex:function(t){var e,n,i=this,r=i.chart.getDatasetMeta(t),o=i.getScaleForId(r.yAxisID),a=[r.stack];for(n=0;n<t;++n)e=this.chart.getDatasetMeta(n),e.bar&&this.chart.isDatasetVisible(n)&&(o.options.stacked===!1||o.options.stacked===!0&&a.indexOf(e.stack)===-1||void 0===o.options.stacked&&(void 0===e.stack||a.indexOf(e.stack)===-1))&&a.push(e.stack);return a.length-1},calculateBarX:function(t,e,n){var i=this,r=i.getMeta(),o=i.getScaleForId(r.xAxisID),a=i.getStackIndex(e),s=o.getPixelForValue(null,t,e,i.chart.isCombo);return s-=i.chart.isCombo?n.tickWidth/2:0,s+n.barWidth/2+n.categorySpacing+n.barWidth*a+n.barSpacing/2+n.barSpacing*a},calculateBarY:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),o=Number(n.getDataset().data[t]);if(r.options.stacked||void 0===r.options.stacked&&void 0!==i.stack){for(var a=r.getBaseValue(),s=a,l=a,u=0;u<e;u++){var c=n.chart.data.datasets[u],d=n.chart.getDatasetMeta(u);if(d.bar&&d.yAxisID===r.id&&n.chart.isDatasetVisible(u)&&i.stack===d.stack){var h=Number(c.data[t]);h<0?l+=h||0:s+=h||0}}return o<0?r.getPixelForValue(l+o):r.getPixelForValue(s+o)}return r.getPixelForValue(o)},draw:function(e){var n,i,r=this,o=e||1,a=r.getMeta().data,s=r.getDataset();for(t.canvasHelpers.clipArea(r.chart.chart.ctx,r.chart.chartArea),n=0,i=a.length;n<i;++n){var l=s.data[n];null===l||void 0===l||isNaN(l)||a[n].transition(o).draw()}t.canvasHelpers.unclipArea(r.chart.chart.ctx)},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,e.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:e.getValueAtIndexOrDefault(n.hoverBorderColor,i,e.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:e.getValueAtIndexOrDefault(n.hoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:e.getValueAtIndexOrDefault(n.backgroundColor,i,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:e.getValueAtIndexOrDefault(n.borderColor,i,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:e.getValueAtIndexOrDefault(n.borderWidth,i,a.borderWidth)}}),t.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n+": "+t.xLabel}}}},t.controllers.horizontalBar=t.controllers.bar.extend({getStackCount:function(){var t=this,n=t.getMeta(),i=t.getScaleForId(n.xAxisID),r=[];return e.each(t.chart.data.datasets,function(e,n){var o=t.chart.getDatasetMeta(n);o.bar&&t.chart.isDatasetVisible(n)&&(i.options.stacked===!1||i.options.stacked===!0&&r.indexOf(o.stack)===-1||void 0===i.options.stacked&&(void 0===o.stack||r.indexOf(o.stack)===-1))&&r.push(o.stack)},t),r.length},updateElement:function(t,n,i){var r=this,o=r.getMeta(),a=r.getScaleForId(o.xAxisID),s=r.getScaleForId(o.yAxisID),l=a.getBasePixel(),u=t.custom||{},c=r.getDataset(),d=r.chart.options.elements.rectangle;t._xScale=a,t._yScale=s,t._datasetIndex=r.index,t._index=n;var h=r.getRuler(n);t._model={x:i?l:r.calculateBarX(n,r.index),y:r.calculateBarY(n,r.index,h),label:r.chart.data.labels[n],datasetLabel:c.label,horizontal:!0,base:i?l:r.calculateBarBase(r.index,n),height:r.calculateBarHeight(h),backgroundColor:u.backgroundColor?u.backgroundColor:e.getValueAtIndexOrDefault(c.backgroundColor,n,d.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:d.borderSkipped,borderColor:u.borderColor?u.borderColor:e.getValueAtIndexOrDefault(c.borderColor,n,d.borderColor),borderWidth:u.borderWidth?u.borderWidth:e.getValueAtIndexOrDefault(c.borderWidth,n,d.borderWidth)},t.pivot()},calculateBarBase:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=r.getBaseValue(),a=o;if(r.options.stacked||void 0===r.options.stacked&&void 0!==i.stack){for(var s=n.chart,l=s.data.datasets,u=Number(l[t].data[e]),c=0;c<t;c++){var d=l[c],h=s.getDatasetMeta(c);if(h.bar&&h.xAxisID===r.id&&s.isDatasetVisible(c)&&i.stack===h.stack){var f=Number(d.data[e]);o+=u<0?Math.min(f,a):Math.max(f,a)}}return r.getPixelForValue(o)}return r.getBasePixel()},getRuler:function(){var t=this,e=t.getMeta(),n=t.getScaleForId(e.yAxisID),i=t.getStackCount(),r=n.height/n.ticks.length,o=r*n.options.categoryPercentage,a=(r-r*n.options.categoryPercentage)/2,s=o/i,l=s*n.options.barPercentage,u=s-s*n.options.barPercentage;return{stackCount:i,tickHeight:r,categoryHeight:o,categorySpacing:a,fullBarHeight:s,barHeight:l,barSpacing:u}},calculateBarHeight:function(t){var e=this,n=e.getMeta(),i=e.getScaleForId(n.yAxisID);return i.options.barThickness?i.options.barThickness:t.barHeight},getStackIndex:function(t){var e,n,i=this,r=i.chart.getDatasetMeta(t),o=i.getScaleForId(r.xAxisID),a=[r.stack];for(n=0;n<t;++n)e=this.chart.getDatasetMeta(n),e.bar&&this.chart.isDatasetVisible(n)&&(o.options.stacked===!1||o.options.stacked===!0&&a.indexOf(e.stack)===-1||void 0===o.options.stacked&&(void 0===e.stack||a.indexOf(e.stack)===-1))&&a.push(e.stack);return a.length-1},calculateBarX:function(t,e){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),o=Number(n.getDataset().data[t]);if(r.options.stacked||void 0===r.options.stacked&&void 0!==i.stack){for(var a=r.getBaseValue(),s=a,l=a,u=0;u<e;u++){var c=n.chart.data.datasets[u],d=n.chart.getDatasetMeta(u);if(d.bar&&d.xAxisID===r.id&&n.chart.isDatasetVisible(u)&&i.stack===d.stack){var h=Number(c.data[t]);h<0?l+=h||0:s+=h||0}}return o<0?r.getPixelForValue(l+o):r.getPixelForValue(s+o)}return r.getPixelForValue(o)},calculateBarY:function(t,e,n){var i=this,r=i.getMeta(),o=i.getScaleForId(r.yAxisID),a=i.getStackIndex(e),s=o.getPixelForValue(null,t,e,i.chart.isCombo);return s-=i.chart.isCombo?n.tickHeight/2:0,s+n.barHeight/2+n.categorySpacing+n.barHeight*a+n.barSpacing/2+n.barSpacing*a}})}},{}],16:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}},t.controllers.bubble=t.DatasetController.extend({dataElementType:t.elements.Point,update:function(t){var n=this,i=n.getMeta(),r=i.data;e.each(r,function(e,i){n.updateElement(e,i,t)})},updateElement:function(n,i,r){var o=this,a=o.getMeta(),s=o.getScaleForId(a.xAxisID),l=o.getScaleForId(a.yAxisID),u=n.custom||{},c=o.getDataset(),d=c.data[i],h=o.chart.options.elements.point,f=o.index;e.extend(n,{_xScale:s,_yScale:l,_datasetIndex:f,_index:i,_model:{x:r?s.getPixelForDecimal(.5):s.getPixelForValue("object"==typeof d?d:NaN,i,f,o.chart.isCombo),y:r?l.getBasePixel():l.getPixelForValue(d,i,f),radius:r?0:u.radius?u.radius:o.getRadius(d),hitRadius:u.hitRadius?u.hitRadius:e.getValueAtIndexOrDefault(c.hitRadius,i,h.hitRadius)}}),t.DatasetController.prototype.removeHoverStyle.call(o,n,h);var p=n._model;p.skip=u.skip?u.skip:isNaN(p.x)||isNaN(p.y),n.pivot()},getRadius:function(t){return t.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;t.DatasetController.prototype.setHoverStyle.call(i,n);var r=i.chart.data.datasets[n._datasetIndex],o=n._index,a=n.custom||{},s=n._model;s.radius=a.hoverRadius?a.hoverRadius:e.getValueAtIndexOrDefault(r.hoverRadius,o,i.chart.options.elements.point.hoverRadius)+i.getRadius(r.data[o])},removeHoverStyle:function(e){var n=this;t.DatasetController.prototype.removeHoverStyle.call(n,e,n.chart.options.elements.point);var i=n.chart.data.datasets[e._datasetIndex].data[e._index],r=e.custom||{},o=e._model;o.radius=r.radius?r.radius:n.getRadius(i)}})}},{}],17:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[r],l=s&&s.custom||{},u=e.getValueAtIndexOrDefault,c=t.options.elements.arc,d=l.backgroundColor?l.backgroundColor:u(a.backgroundColor,r,c.backgroundColor),h=l.borderColor?l.borderColor:u(a.borderColor,r,c.borderColor),f=l.borderWidth?l.borderWidth:u(a.borderWidth,r,c.borderWidth);return{text:i,fillStyle:d,strokeStyle:h,lineWidth:f,hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)r=a.getDatasetMeta(n),r.data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,n){var i=n.labels[t.index],r=": "+n.datasets[t.datasetIndex].data[t.index];return e.isArray(i)?(i=i.slice(),i[0]+=r):i+=r,i}}}},n.pie=e.clone(n.doughnut),e.extend(n.pie,{cutoutPercentage:0}),t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var n=this,i=n.chart,r=i.chartArea,o=i.options,a=o.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,u=Math.min(s,l),c={x:0,y:0},d=n.getMeta(),h=o.cutoutPercentage,f=o.circumference;if(f<2*Math.PI){var p=o.rotation%(2*Math.PI);p+=2*Math.PI*(p>=Math.PI?-1:p<-Math.PI?1:0);var m=p+f,g={x:Math.cos(p),y:Math.sin(p)},v={x:Math.cos(m),y:Math.sin(m)},y=p<=0&&0<=m||p<=2*Math.PI&&2*Math.PI<=m,_=p<=.5*Math.PI&&.5*Math.PI<=m||p<=2.5*Math.PI&&2.5*Math.PI<=m,b=p<=-Math.PI&&-Math.PI<=m||p<=Math.PI&&Math.PI<=m,E=p<=.5*-Math.PI&&.5*-Math.PI<=m||p<=1.5*Math.PI&&1.5*Math.PI<=m,x=h/100,C={x:b?-1:Math.min(g.x*(g.x<0?1:x),v.x*(v.x<0?1:x)),y:E?-1:Math.min(g.y*(g.y<0?1:x),v.y*(v.y<0?1:x))},T={x:y?1:Math.max(g.x*(g.x>0?1:x),v.x*(v.x>0?1:x)),y:_?1:Math.max(g.y*(g.y>0?1:x),v.y*(v.y>0?1:x))},w={width:.5*(T.x-C.x),height:.5*(T.y-C.y)};u=Math.min(s/w.width,l/w.height),c={x:(T.x+C.x)*-.5,y:(T.y+C.y)*-.5}}i.borderWidth=n.getMaxBorderWidth(d.data),i.outerRadius=Math.max((u-i.borderWidth)/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:0,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=c.x*i.outerRadius,i.offsetY=c.y*i.outerRadius,d.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=Math.max(n.outerRadius-i.radiusLength,0),e.each(d.data,function(e,i){n.updateElement(e,i,t)})},updateElement:function(t,n,i){var r=this,o=r.chart,a=o.chartArea,s=o.options,l=s.animation,u=(a.left+a.right)/2,c=(a.top+a.bottom)/2,d=s.rotation,h=s.rotation,f=r.getDataset(),p=i&&l.animateRotate?0:t.hidden?0:r.calculateCircumference(f.data[n])*(s.circumference/(2*Math.PI)),m=i&&l.animateScale?0:r.innerRadius,g=i&&l.animateScale?0:r.outerRadius,v=e.getValueAtIndexOrDefault;e.extend(t,{_datasetIndex:r.index,_index:n,_model:{x:u+o.offsetX,y:c+o.offsetY,startAngle:d,endAngle:h,circumference:p,outerRadius:g,innerRadius:m,label:v(f.label,n,o.data.labels[n])}});var y=t._model;this.removeHoverStyle(t),i&&l.animateRotate||(0===n?y.startAngle=s.rotation:y.startAngle=r.getMeta().data[n-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,n=this.getDataset(),i=this.getMeta(),r=0;return e.each(i.data,function(e,i){t=n.data[i],isNaN(t)||e.hidden||(r+=Math.abs(t))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,r=this.index,o=t.length,a=0;a<o;a++)e=t[a]._model?t[a]._model.borderWidth:0,n=t[a]._chart?t[a]._chart.config.data.datasets[r].hoverBorderWidth:0,i=e>i?e:i,i=n>i?n:i;return i}})}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return n.getValueOrDefault(t.showLine,e.showLines)}var n=t.helpers;t.defaults.line={showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},t.controllers.line=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,update:function(t){var i,r,o,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],c=a.chart.options,d=c.elements.line,h=a.getScaleForId(s.yAxisID),f=a.getDataset(),p=e(f,c);for(p&&(o=l.custom||{},void 0!==f.tension&&void 0===f.lineTension&&(f.lineTension=f.tension),l._scale=h,l._datasetIndex=a.index,l._children=u,l._model={spanGaps:f.spanGaps?f.spanGaps:c.spanGaps,tension:o.tension?o.tension:n.getValueOrDefault(f.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:f.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:f.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:f.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:f.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:f.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:f.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:f.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==f.fill?f.fill:d.fill,steppedLine:o.steppedLine?o.steppedLine:n.getValueOrDefault(f.steppedLine,d.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:n.getValueOrDefault(f.cubicInterpolationMode,d.cubicInterpolationMode),scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},l.pivot()),i=0,r=u.length;i<r;++i)a.updateElement(u[i],i,t);for(p&&0!==l._model.tension&&a.updateBezierControlPoints(),i=0,r=u.length;i<r;++i)u[i].pivot()},getPointBackgroundColor:function(t,e){var i=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=t.custom||{};return o.backgroundColor?i=o.backgroundColor:r.pointBackgroundColor?i=n.getValueAtIndexOrDefault(r.pointBackgroundColor,e,i):r.backgroundColor&&(i=r.backgroundColor),i},getPointBorderColor:function(t,e){var i=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=t.custom||{};return o.borderColor?i=o.borderColor:r.pointBorderColor?i=n.getValueAtIndexOrDefault(r.pointBorderColor,e,i):r.borderColor&&(i=r.borderColor),i},getPointBorderWidth:function(t,e){var i=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=t.custom||{};return isNaN(o.borderWidth)?isNaN(r.pointBorderWidth)?isNaN(r.borderWidth)||(i=r.borderWidth):i=n.getValueAtIndexOrDefault(r.pointBorderWidth,e,i):i=o.borderWidth,i},updateElement:function(t,e,i){var r,o,a=this,s=a.getMeta(),l=t.custom||{},u=a.getDataset(),c=a.index,d=u.data[e],h=a.getScaleForId(s.yAxisID),f=a.getScaleForId(s.xAxisID),p=a.chart.options.elements.point,m=a.chart.data.labels||[],g=1===m.length||1===u.data.length||a.chart.isCombo;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),r=f.getPixelForValue("object"==typeof d?d:NaN,e,c,g),o=i?h.getBasePixel():a.calculatePointY(d,e,c),t._xScale=f,t._yScale=h,t._datasetIndex=c,t._index=e,t._model={x:r,y:o,skip:l.skip||isNaN(r)||isNaN(o),radius:l.radius||n.getValueAtIndexOrDefault(u.pointRadius,e,p.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(u.pointStyle,e,p.pointStyle),backgroundColor:a.getPointBackgroundColor(t,e),borderColor:a.getPointBorderColor(t,e),borderWidth:a.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(u.pointHitRadius,e,p.hitRadius)}},calculatePointY:function(t,e,n){var i,r,o,a=this,s=a.chart,l=a.getMeta(),u=a.getScaleForId(l.yAxisID),c=0,d=0;if(u.options.stacked){for(i=0;i<n;i++)if(r=s.data.datasets[i],o=s.getDatasetMeta(i),"line"===o.type&&o.yAxisID===u.id&&s.isDatasetVisible(i)){var h=Number(u.getRightValue(r.data[e]));h<0?d+=h||0:c+=h||0}var f=Number(u.getRightValue(t));return f<0?u.getPixelForValue(d+f):u.getPixelForValue(c+f)}return u.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,i,r,o,a,s=this,l=s.getMeta(),u=s.chart.chartArea,c=l.data||[];if(l.dataset._model.spanGaps&&(c=c.filter(function(t){return!t._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)n.splineCurveMonotone(c);else for(e=0,i=c.length;e<i;++e)r=c[e],o=r._model,a=n.splineCurve(n.previousItem(c,e)._model,o,n.nextItem(c,e)._model,l.dataset._model.tension),o.controlPointPreviousX=a.previous.x,o.controlPointPreviousY=a.previous.y,o.controlPointNextX=a.next.x,o.controlPointNextY=a.next.y;if(s.chart.options.elements.line.capBezierPoints)for(e=0,i=c.length;e<i;++e)o=c[e]._model,o.controlPointPreviousX=t(o.controlPointPreviousX,u.left,u.right),o.controlPointPreviousY=t(o.controlPointPreviousY,u.top,u.bottom),o.controlPointNextX=t(o.controlPointNextX,u.left,u.right),o.controlPointNextY=t(o.controlPointNextY,u.top,u.bottom)},draw:function(n){var i,r,o=this,a=o.getMeta(),s=a.data||[],l=n||1;for(i=0,r=s.length;i<r;++i)s[i].transition(l);for(t.canvasHelpers.clipArea(o.chart.chart.ctx,o.chart.chartArea),e(o.getDataset(),o.chart.options)&&a.dataset.transition(l).draw(),t.canvasHelpers.unclipArea(o.chart.chart.ctx),i=0,r=s.length;i<r;++i)s[i].draw(o.chart.chartArea)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],i=t._index,r=t.custom||{},o=t._model;o.radius=r.hoverRadius||n.getValueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||n.getValueAtIndexOrDefault(e.pointHoverBackgroundColor,i,n.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||n.getValueAtIndexOrDefault(e.pointHoverBorderColor,i,n.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||n.getValueAtIndexOrDefault(e.pointHoverBorderWidth,i,o.borderWidth)},removeHoverStyle:function(t){var e=this,i=e.chart.data.datasets[t._datasetIndex],r=t._index,o=t.custom||{},a=t._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),a.radius=o.radius||n.getValueAtIndexOrDefault(i.pointRadius,r,e.chart.options.elements.point.radius),a.backgroundColor=e.getPointBackgroundColor(t,r),a.borderColor=e.getPointBorderColor(t,r),a.borderWidth=e.getPointBorderWidth(t,r)}})}},{}],19:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0,ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,aspectRatio:1,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,r=n.labels;if(i.length)for(var o=0;o<i[0].data.length;++o)e.push('<li><span style="background-color:'+i[0].backgroundColor[o]+'"></span>'),r[o]&&e.push(r[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var n=t.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var o=t.getDatasetMeta(0),a=n.datasets[0],s=o.data[r],l=s.custom||{},u=e.getValueAtIndexOrDefault,c=t.options.elements.arc,d=l.backgroundColor?l.backgroundColor:u(a.backgroundColor,r,c.backgroundColor),h=l.borderColor?l.borderColor:u(a.borderColor,r,c.borderColor),f=l.borderWidth?l.borderWidth:u(a.borderWidth,r,c.borderWidth);return{text:i,fillStyle:d,strokeStyle:h,lineWidth:f,hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var n,i,r,o=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)r=a.getDatasetMeta(n),r.data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}},t.controllers.polarArea=t.DatasetController.extend({dataElementType:t.elements.Arc,linkScales:e.noop,update:function(t){var n=this,i=n.chart,r=i.chartArea,o=n.getMeta(),a=i.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(a.cutoutPercentage?i.outerRadius/100*a.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,o.count=n.countVisibleElements(),e.each(o.data,function(e,i){n.updateElement(e,i,t)})},updateElement:function(t,n,i){for(var r=this,o=r.chart,a=r.getDataset(),s=o.options,l=s.animation,u=o.scale,c=e.getValueAtIndexOrDefault,d=o.data.labels,h=r.calculateCircumference(a.data[n]),f=u.xCenter,p=u.yCenter,m=0,g=r.getMeta(),v=0;v<n;++v)isNaN(a.data[v])||g.data[v].hidden||++m;var y=s.startAngle,_=t.hidden?0:u.getDistanceFromCenterForValue(a.data[n]),b=y+h*m,E=b+(t.hidden?0:h),x=l.animateScale?0:u.getDistanceFromCenterForValue(a.data[n]);e.extend(t,{_datasetIndex:r.index,_index:n,_scale:u,_model:{x:f,y:p,innerRadius:0,outerRadius:i?x:_,startAngle:i&&l.animateRotate?y:b,endAngle:i&&l.animateRotate?y:E,label:c(d,n,d[n])}}),r.removeHoverStyle(t),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},countVisibleElements:function(){var t=this.getDataset(),n=this.getMeta(),i=0;return e.each(n.data,function(e,n){isNaN(t.data[n])||e.hidden||i++}),i},calculateCircumference:function(t){var e=this.getMeta().count;return e>0&&!isNaN(t)?2*Math.PI/e:0}})}},{}],20:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.radar={aspectRatio:1,scale:{type:"radialLinear"},elements:{line:{tension:0}}},t.controllers.radar=t.DatasetController.extend({datasetElementType:t.elements.Line,dataElementType:t.elements.Point,linkScales:e.noop,update:function(t){var n=this,i=n.getMeta(),r=i.dataset,o=i.data,a=r.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,u=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),e.extend(i.dataset,{_datasetIndex:n.index,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:e.getValueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle,scaleTop:u.top,scaleBottom:u.bottom,scaleZero:u.getBasePosition()}}),i.dataset.pivot(),e.each(o,function(e,i){n.updateElement(e,i,t)},n),n.updateBezierControlPoints()},updateElement:function(t,n,i){var r=this,o=t.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,u=s.getPointPositionForValue(n,a.data[n]);e.extend(t,{_datasetIndex:r.index,_index:n,_scale:s,_model:{x:i?s.xCenter:u.x,y:i?s.yCenter:u.y,tension:o.tension?o.tension:e.getValueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:o.radius?o.radius:e.getValueAtIndexOrDefault(a.pointRadius,n,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:e.getValueAtIndexOrDefault(a.pointBackgroundColor,n,l.backgroundColor),borderColor:o.borderColor?o.borderColor:e.getValueAtIndexOrDefault(a.pointBorderColor,n,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:e.getValueAtIndexOrDefault(a.pointBorderWidth,n,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:e.getValueAtIndexOrDefault(a.pointStyle,n,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:e.getValueAtIndexOrDefault(a.hitRadius,n,l.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,n=this.getMeta();e.each(n.data,function(i,r){var o=i._model,a=e.splineCurve(e.previousItem(n.data,r,!0)._model,o,e.nextItem(n.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(a.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(a.next.y,t.bottom),t.top),i.pivot()})},draw:function(t){var n=this.getMeta(),i=t||1;e.each(n.data,function(t){t.transition(i)}),n.dataset.transition(i).draw(),e.each(n.data,function(t){t.draw()})},setHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},r=t._index,o=t._model;o.radius=i.hoverRadius?i.hoverRadius:e.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:e.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,e.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor?i.hoverBorderColor:e.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,e.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:e.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(t){var n=this.chart.data.datasets[t._datasetIndex],i=t.custom||{},r=t._index,o=t._model,a=this.chart.options.elements.point;o.radius=i.radius?i.radius:e.getValueAtIndexOrDefault(n.radius,r,a.radius),o.backgroundColor=i.backgroundColor?i.backgroundColor:e.getValueAtIndexOrDefault(n.pointBackgroundColor,r,a.backgroundColor),o.borderColor=i.borderColor?i.borderColor:e.getValueAtIndexOrDefault(n.pointBorderColor,r,a.borderColor),o.borderWidth=i.borderWidth?i.borderWidth:e.getValueAtIndexOrDefault(n.pointBorderWidth,r,a.borderWidth)}})}},{}],21:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:e.noop,onComplete:e.noop},t.Animation=t.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var r=this;i||(t.animating=!0);for(var o=0;o<r.animations.length;++o)if(r.animations[o].chartInstance===t)return void(r.animations[o].animationObject=e);r.animations.push({chartInstance:t,animationObject:e}),1===r.animations.length&&r.requestAnimationFrame()},cancelAnimation:function(t){var n=e.findIndex(this.animations,function(e){return e.chartInstance===t});n!==-1&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1);for(var i=0;i<t.animations.length;)null===t.animations[i].animationObject.currentStep&&(t.animations[i].animationObject.currentStep=0),t.animations[i].animationObject.currentStep+=1+n,t.animations[i].animationObject.currentStep>t.animations[i].animationObject.numSteps&&(t.animations[i].animationObject.currentStep=t.animations[i].animationObject.numSteps),t.animations[i].animationObject.render(t.animations[i].chartInstance,t.animations[i].animationObject),t.animations[i].animationObject.onAnimationProgress&&t.animations[i].animationObject.onAnimationProgress.call&&t.animations[i].animationObject.onAnimationProgress.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].animationObject.currentStep===t.animations[i].animationObject.numSteps?(t.animations[i].animationObject.onAnimationComplete&&t.animations[i].animationObject.onAnimationComplete.call&&t.animations[i].animationObject.onAnimationComplete.call(t.animations[i].chartInstance,t.animations[i]),t.animations[i].chartInstance.animating=!1,t.animations.splice(i,1)):++i;var r=Date.now(),o=(r-e)/t.frameDuration;t.dropFrames+=o,t.animations.length>0&&t.requestAnimationFrame()}}}},{}],22:[function(t,e,n){"use strict";e.exports=function(t){var e=t.canvasHelpers={};e.drawPoint=function(e,n,i,r,o){var a,s,l,u,c,d;if("object"==typeof n&&(a=n.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return void e.drawImage(n,r-n.width/2,o-n.height/2);if(!(isNaN(i)||i<=0)){switch(n){default:e.beginPath(),e.arc(r,o,i,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),s=3*i/Math.sqrt(3),c=s*Math.sqrt(3)/2,e.moveTo(r-s/2,o+c/3),e.lineTo(r+s/2,o+c/3),e.lineTo(r,o-2*c/3),e.closePath(),e.fill();break;case"rect":d=1/Math.SQRT2*i,e.beginPath(),e.fillRect(r-d,o-d,2*d,2*d),e.strokeRect(r-d,o-d,2*d,2*d);break;case"rectRounded":var h=i/Math.SQRT2,f=r-h,p=o-h,m=Math.SQRT2*i;t.helpers.drawRoundedRectangle(e,f,p,m,m,i/2),e.fill();break;case"rectRot":d=1/Math.SQRT2*i,e.beginPath(),e.moveTo(r-d,o),e.lineTo(r,o+d),e.lineTo(r+d,o),e.lineTo(r,o-d),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(r,o+i),e.lineTo(r,o-i),e.moveTo(r-i,o),e.lineTo(r+i,o),e.closePath();break;case"crossRot":e.beginPath(),l=Math.cos(Math.PI/4)*i,u=Math.sin(Math.PI/4)*i,e.moveTo(r-l,o-u),e.lineTo(r+l,o+u),e.moveTo(r-l,o+u),e.lineTo(r+l,o-u),e.closePath();break;case"star":e.beginPath(),e.moveTo(r,o+i),e.lineTo(r,o-i),e.moveTo(r-i,o),e.lineTo(r+i,o),l=Math.cos(Math.PI/4)*i,u=Math.sin(Math.PI/4)*i,e.moveTo(r-l,o-u),e.lineTo(r+l,o+u),e.moveTo(r-l,o+u),e.lineTo(r+l,o-u),e.closePath();break;case"line":e.beginPath(),e.moveTo(r-i,o),e.lineTo(r+i,o),e.closePath();break;case"dash":e.beginPath(),e.moveTo(r,o),e.lineTo(r+i,o),e.closePath()}e.stroke()}},e.clipArea=function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},e.unclipArea=function(t){t.restore()}}},{}],23:[function(t,e,n){"use strict";e.exports=function(t){function e(e){e=e||{};var n=e.data=e.data||{};return n.datasets=n.datasets||[],n.labels=n.labels||[],e.options=i.configMerge(t.defaults.global,t.defaults[e.type],e.options||{}),e}function n(t){var e=t.options;e.scale?t.scale.options=e.scale:e.scales&&e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e){
t.scales[e.id].options=e}),t.tooltip._options=e.tooltips}var i=t.helpers,r=t.plugins,o=t.platform;t.types={},t.instances={},t.controllers={},t.Controller=function(n,r,a){var s=this;r=e(r);var l=o.acquireContext(n,r),u=l&&l.canvas,c=u&&u.height,d=u&&u.width;return a.ctx=l,a.canvas=u,a.config=r,a.width=d,a.height=c,a.aspectRatio=c?d/c:null,s.id=i.uid(),s.chart=a,s.config=r,s.options=r.options,s._bufferedRender=!1,t.instances[s.id]=s,Object.defineProperty(s,"data",{get:function(){return s.config.data}}),l&&u?(s.initialize(),s.update(),s):(console.error("Failed to create chart: can't acquire context from the given item"),s)},i.extend(t.Controller.prototype,{initialize:function(){var t=this;return r.notify(t,"beforeInit"),i.retinaScale(t.chart),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),r.notify(t,"afterInit"),t},clear:function(){return i.clear(this.chart),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,n=e.chart,o=e.options,a=n.canvas,s=o.maintainAspectRatio&&n.aspectRatio||null,l=Math.floor(i.getMaximumWidth(a)),u=Math.floor(s?l/s:i.getMaximumHeight(a));if((n.width!==l||n.height!==u)&&(a.width=n.width=l,a.height=n.height=u,a.style.width=l+"px",a.style.height=u+"px",i.retinaScale(n),!t)){var c={width:l,height:u};r.notify(e,"resize",[c]),e.options.onResize&&e.options.onResize(e,c),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;i.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),i.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildScales:function(){var e=this,n=e.options,r=e.scales={},o=[];n.scales&&(o=o.concat((n.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category"}}),(n.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear"}}))),n.scale&&o.push({options:n.scale,dtype:"radialLinear",isDefault:!0}),i.each(o,function(n){var o=n.options,a=i.getValueOrDefault(o.type,n.dtype),s=t.scaleService.getScaleConstructor(a);if(s){var l=new s({id:o.id,options:o,ctx:e.chart.ctx,chart:e});r[l.id]=l,n.isDefault&&(e.scale=l)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],r=[];if(i.each(e.data.datasets,function(i,o){var a=e.getDatasetMeta(o);a.type||(a.type=i.type||e.config.type),n.push(a.type),a.controller?a.controller.updateIndex(o):(a.controller=new t.controllers[a.type](e,o),r.push(a.controller))},e),n.length>1)for(var o=1;o<n.length;o++)if(n[o]!==n[o-1]){e.isCombo=!0;break}return r},resetElements:function(){var t=this;i.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t,e){var o=this;if(n(o),r.notify(o,"beforeUpdate")!==!1){o.tooltip._data=o.data;var a=o.buildOrUpdateControllers();i.each(o.data.datasets,function(t,e){o.getDatasetMeta(e).controller.buildOrUpdateElements()},o),o.updateLayout(),i.each(a,function(t){t.reset()}),o.updateDatasets(),r.notify(o,"afterUpdate"),o._bufferedRender?o._bufferedRequest={lazy:e,duration:t}:o.render(t,e)}},updateLayout:function(){var e=this;r.notify(e,"beforeLayout")!==!1&&(t.layoutService.update(this,this.chart.width,this.chart.height),r.notify(e,"afterScaleUpdate"),r.notify(e,"afterLayout"))},updateDatasets:function(){var t=this;if(r.notify(t,"beforeDatasetsUpdate")!==!1){for(var e=0,n=t.data.datasets.length;e<n;++e)t.getDatasetMeta(e).controller.update();r.notify(t,"afterDatasetsUpdate")}},render:function(e,n){var o=this;if(r.notify(o,"beforeRender")!==!1){var a=o.options.animation,s=function(){r.notify(o,"afterRender");var t=a&&a.onComplete;t&&t.call&&t.call(o)};if(a&&("undefined"!=typeof e&&0!==e||"undefined"==typeof e&&0!==a.duration)){var l=new t.Animation;l.numSteps=(e||a.duration)/16.66,l.easing=a.easing,l.render=function(t,e){var n=i.easingEffects[e.easing],r=e.currentStep/e.numSteps,o=n(r);t.draw(o,r,e.currentStep)},l.onAnimationProgress=a.onProgress,l.onAnimationComplete=s,t.animationService.addAnimation(o,l,e,n)}else o.draw(),s();return o}},draw:function(t){var e=this;e.clear(),void 0!==t&&null!==t||(t=1),r.notify(e,"beforeDraw",[t])!==!1&&(i.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e.tooltip.transition(t).draw(),r.notify(e,"afterDraw",[t]))},drawDatasets:function(t){var e=this;r.notify(e,"beforeDatasetsDraw",[t])!==!1&&(i.each(e.data.datasets,function(n,i){e.isDatasetVisible(i)&&e.getDatasetMeta(i).controller.draw(t)},e,!0),r.notify(e,"afterDatasetsDraw",[t]))},getElementAtEvent:function(e){return t.Interaction.modes.single(this,e)},getElementsAtEvent:function(e){return t.Interaction.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return t.Interaction.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,n,i){var r=t.Interaction.modes[n];return"function"==typeof r?r(this,e,i):[]},getDatasetAtEvent:function(e){return t.Interaction.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var e,n,a,s=this,l=s.chart.canvas;for(s.stop(),n=0,a=s.data.datasets.length;n<a;++n)e=s.getDatasetMeta(n),e.controller&&(e.controller.destroy(),e.controller=null);l&&(s.unbindEvents(),i.clear(s.chart),o.releaseContext(s.chart.ctx),s.chart.canvas=null,s.chart.ctx=null),r.notify(s,"destroy"),delete t.instances[s.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e.chart,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e),e.tooltip.initialize()},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};i.each(t.options.events,function(i){o.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},o.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,i.each(e,function(e,n){o.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,r,o,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,o=t.length;r<o;++r)i=t[r],i&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(r.notify(e,"beforeEvent",[t])!==!1){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);i|=n&&n.handleEvent(t),r.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o.duration,o.lazy):i&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},r=n.hover,o=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,r.mode,r),r.onHover&&r.onHover.call(e,t["native"],e.active),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,r.mode,!1),e.active.length&&r.mode&&e.updateHoverStyle(e.active,r.mode,!0),o=!i.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,o}})}},{}],24:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return t._chartjs?void t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),void r.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=r.apply(this,e);return i.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),o}})}))}function n(t,e){var n=t._chartjs;if(n){var i=n.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),i.length>0||(r.forEach(function(e){delete t[e]}),delete t._chartjs)}}var i=t.helpers,r=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},i.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null===e.xAxisID&&(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(t=0,e=r.length;t<e;++t)o[t]=o[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,i=t.getDataset(),r=i.data||(i.data=[]);t._data!==r&&(t._data&&n(t._data,t),e(r,t),t._data=r),t.resyncElements()},update:i.noop,draw:function(t){var e,n,i=t||1,r=this.getMeta().data;for(e=0,n=r.length;e<n;++e)r[e].transition(i).draw()},removeHoverStyle:function(t,e){var n=this.chart.data.datasets[t._datasetIndex],r=t._index,o=t.custom||{},a=i.getValueAtIndexOrDefault,s=t._model;s.backgroundColor=o.backgroundColor?o.backgroundColor:a(n.backgroundColor,r,e.backgroundColor),s.borderColor=o.borderColor?o.borderColor:a(n.borderColor,r,e.borderColor),s.borderWidth=o.borderWidth?o.borderWidth:a(n.borderWidth,r,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,r=t.custom||{},o=i.getValueAtIndexOrDefault,a=i.getHoverColor,s=t._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:o(e.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:o(e.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:o(e.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,r=n.length;r<i?e.data.splice(r,i-r):r>i&&t.insertElements(i,r-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=i.inherits}},{}],25:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.elements={},t.Element=function(t){e.extend(this,t),this.initialize.apply(this,arguments)},e.extend(t.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=e.clone(t._model)),t._start=e.clone(t._view),t},transition:function(t){var n=this;return n._view||(n._view=e.clone(n._model)),1===t?(n._view=n._model,n._start=null,n):(n._start||n.pivot(),e.each(n._model,function(i,r){if("_"===r[0]);else if(n._view.hasOwnProperty(r))if(i===n._view[r]);else if("string"==typeof i)try{var o=e.color(n._model[r]).mix(e.color(n._start[r]),t);n._view[r]=o.rgbString()}catch(a){n._view[r]=i}else if("number"==typeof i){var s=void 0!==n._start[r]&&isNaN(n._start[r])===!1?n._start[r]:0;n._view[r]=(n._model[r]-s)*t+s}else n._view[r]=i;else"number"!=typeof i||isNaN(n._view[r])?n._view[r]=i:n._view[r]=i*t},n),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return e.isNumber(this._model.x)&&e.isNumber(this._model.y)}}),t.Element.extend=e.inherits}},{}],26:[function(t,e,n){"use strict";var i=t(3);e.exports=function(t){function e(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}function n(t){return void 0!==t&&null!==t&&"none"!==t}function r(t,i,r){var o=document.defaultView,a=t.parentNode,s=o.getComputedStyle(t)[i],l=o.getComputedStyle(a)[i],u=n(s),c=n(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?e(s,t,r):d,c?e(l,a,r):d):"none"}var o=t.helpers={};o.each=function(t,e,n,i){var r,a;if(o.isArray(t))if(a=t.length,i)for(r=a-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if("object"==typeof t){var s=Object.keys(t);for(a=s.length,r=0;r<a;r++)e.call(n,t[s[r]],s[r])}},o.clone=function(t){var e={};return o.each(t,function(t,n){o.isArray(t)?e[n]=t.slice(0):"object"==typeof t&&null!==t?e[n]=o.clone(t):e[n]=t}),e},o.extend=function(t){for(var e=function(e,n){t[n]=e},n=1,i=arguments.length;n<i;n++)o.each(arguments[n],e);return t},o.configMerge=function(e){var n=o.clone(e);return o.each(Array.prototype.slice.call(arguments,1),function(e){o.each(e,function(e,i){var r=n.hasOwnProperty(i),a=r?n[i]:{};"scales"===i?n[i]=o.scaleMerge(a,e):"scale"===i?n[i]=o.configMerge(a,t.scaleService.getScaleDefaults(e.type),e):!r||"object"!=typeof a||o.isArray(a)||null===a||"object"!=typeof e||o.isArray(e)?n[i]=e:n[i]=o.configMerge(a,e)})}),n},o.scaleMerge=function(e,n){var i=o.clone(e);return o.each(n,function(e,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?o.each(e,function(e,r){var a=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear"),s=t.scaleService.getScaleDefaults(a);r>=i[n].length||!i[n][r].type?i[n].push(o.configMerge(s,e)):e.type&&e.type!==i[n][r].type?i[n][r]=o.configMerge(i[n][r],s,e):i[n][r]=o.configMerge(i[n][r],e)}):(i[n]=[],o.each(e,function(e){var r=o.getValueOrDefault(e.type,"xAxes"===n?"category":"linear");i[n].push(o.configMerge(t.scaleService.getScaleDefaults(r),e))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof e?i[n]=o.configMerge(i[n],e):i[n]=e}),i},o.getValueAtIndexOrDefault=function(t,e,n){return void 0===t||null===t?n:o.isArray(t)?e<t.length?t[e]:n:t},o.getValueOrDefault=function(t,e){return void 0===t?e:t},o.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},o.where=function(t,e){if(o.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return o.each(t,function(t){e(t)&&n.push(t)}),n},o.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,r=t.length;i<r;++i)if(e.call(n,t[i],i,t))return i;return-1},o.findNextWhere=function(t,e,n){void 0!==n&&null!==n||(n=-1);for(var i=n+1;i<t.length;i++){var r=t[i];if(e(r))return r}},o.findPreviousWhere=function(t,e,n){void 0!==n&&null!==n||(n=t.length);for(var i=n-1;i>=0;i--){var r=t[i];if(e(r))return r}},o.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=o.inherits,t&&o.extend(n.prototype,t),n.__super__=e.prototype,n},o.noop=function(){},o.uid=function(){var t=0;return function(){return t++}}(),o.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},o.almostEquals=function(t,e,n){return Math.abs(t-e)<n},o.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},o.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},o.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},o.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},o.log10=Math.log10?function(t){return Math.log10(t)}:function(t){return Math.log(t)/Math.LN10},o.toRadians=function(t){return t*(Math.PI/180)},o.toDegrees=function(t){return t*(180/Math.PI)},o.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},o.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},o.aliasPixel=function(t){return t%2===0?0:.5},o.splineCurve=function(t,e,n,i){var r=t.skip?e:t,o=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;var d=i*u,h=i*c;return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},o.EPSILON=Number.EPSILON||1e-14,o.splineCurveMonotone=function(t){var e,n,i,r,a=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),s=a.length;for(e=0;e<s;++e)if(i=a[e],!i.model.skip){if(n=e>0?a[e-1]:null,r=e<s-1?a[e+1]:null,r&&!r.model.skip){var l=r.model.x-i.model.x;i.deltaK=0!==l?(r.model.y-i.model.y)/l:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}var u,c,d,h;for(e=0;e<s-1;++e)i=a[e],r=a[e+1],i.model.skip||r.model.skip||(o.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(u=i.mK/i.deltaK,c=r.mK/i.deltaK,h=Math.pow(u,2)+Math.pow(c,2),h<=9||(d=3/Math.sqrt(h),i.mK=u*d*i.deltaK,r.mK=c*d*i.deltaK)));var f;for(e=0;e<s;++e)i=a[e],i.model.skip||(n=e>0?a[e-1]:null,r=e<s-1?a[e+1]:null,n&&!n.model.skip&&(f=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-f,i.model.controlPointPreviousY=i.model.y-f*i.mK),r&&!r.model.skip&&(f=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+f,i.model.controlPointNextY=i.model.y+f*i.mK))},o.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},o.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},o.niceNum=function(t,e){var n,i=Math.floor(o.log10(t)),r=t/Math.pow(10,i);return n=e?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10,n*Math.pow(10,i)};var a=o.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===(t/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((1*t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2===(t/=.5)?1:(n||(n=1*(.3*1.5)),i<Math.abs(1)?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-a.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?1*(7.5625*t*t):t<2/2.75?1*(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return t<.5?.5*a.easeInBounce(2*t):.5*a.easeOutBounce(2*t-1)+.5}};o.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),o.getRelativePosition=function(t,e){var n,i,r=t.originalEvent||t,a=t.currentTarget||t.srcElement,s=a.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var u=parseFloat(o.getStyle(a,"padding-left")),c=parseFloat(o.getStyle(a,"padding-top")),d=parseFloat(o.getStyle(a,"padding-right")),h=parseFloat(o.getStyle(a,"padding-bottom")),f=s.right-s.left-u-d,p=s.bottom-s.top-c-h;return n=Math.round((n-s.left-u)/f*a.width/e.currentDevicePixelRatio),i=Math.round((i-s.top-c)/p*a.height/e.currentDevicePixelRatio),{x:n,y:i}},o.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},o.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=o.noop},o.getConstraintWidth=function(t){return r(t,"max-width","clientWidth")},o.getConstraintHeight=function(t){return r(t,"max-height","clientHeight")},o.getMaximumWidth=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-left"),10),i=parseInt(o.getStyle(e,"padding-right"),10),r=e.clientWidth-n-i,a=o.getConstraintWidth(t);return isNaN(a)?r:Math.min(r,a)},o.getMaximumHeight=function(t){var e=t.parentNode,n=parseInt(o.getStyle(e,"padding-top"),10),i=parseInt(o.getStyle(e,"padding-bottom"),10),r=e.clientHeight-n-i,a=o.getConstraintHeight(t);return isNaN(a)?r:Math.min(r,a)},o.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},o.retinaScale=function(t){var e=t.currentDevicePixelRatio=window.devicePixelRatio||1;if(1!==e){var n=t.canvas,i=t.height,r=t.width;n.height=i*e,n.width=r*e,t.ctx.scale(e,e),n.style.height=i+"px",n.style.width=r+"px"}},o.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},o.fontString=function(t,e,n){return e+" "+t+"px "+n},o.longestText=function(t,e,n,i){i=i||{};var r=i.data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},a=i.garbageCollect=[],i.font=e),t.font=e;var s=0;o.each(n,function(e){void 0!==e&&null!==e&&o.isArray(e)!==!0?s=o.measureText(t,r,a,s,e):o.isArray(e)&&o.each(e,function(e){void 0===e||null===e||o.isArray(e)||(s=o.measureText(t,r,a,s,e))})});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete r[a[u]];a.splice(0,l)}return s},o.measureText=function(t,e,n,i,r){var o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i},o.numberOfLabelLines=function(t){var e=1;return o.each(t,function(t){o.isArray(t)&&t.length>e&&(e=t.length)}),e},o.drawRoundedRectangle=function(t,e,n,i,r,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+i-o,n),t.quadraticCurveTo(e+i,n,e+i,n+o),t.lineTo(e+i,n+r-o),t.quadraticCurveTo(e+i,n+r,e+i-o,n+r),t.lineTo(e+o,n+r),t.quadraticCurveTo(e,n+r,e,n+r-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()},o.color=function(e){return i?i(e instanceof CanvasGradient?t.defaults.global.defaultColor:e):(console.error("Color.js not found!"),e)},o.isArray=Array.isArray?function(t){return Array.isArray(t)}:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o.arrayEquals=function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!o.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},o.callCallback=function(t,e,n){t&&"function"==typeof t.call&&t.apply(n,e)},o.getHoverColor=function(t){return t instanceof CanvasPattern?t:o.color(t).saturate(.5).darken(.1).rgbString()}}},{3:3}],27:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return t["native"]?{x:t.x,y:t.y}:a.getRelativePosition(t,e)}function n(t,e){var n,i,r,o,a,s=t.data.datasets;for(i=0,o=s.length;i<o;++i)if(t.isDatasetVisible(i))for(n=t.getDatasetMeta(i),r=0,a=n.data.length;r<a;++r){var l=n.data[r];l._view.skip||e(l)}}function i(t,e){var i=[];return n(t,function(t){t.inRange(e.x,e.y)&&i.push(t)}),i}function r(t,e,i,r){var o=Number.POSITIVE_INFINITY,s=[];return r||(r=a.distanceBetweenPoints),n(t,function(t){if(!i||t.inRange(e.x,e.y)){var n=t.getCenterPoint(),a=r(e,n);a<o?(s=[t],o=a):a===o&&s.push(t)}}),s}function o(t,n,o){var a=e(n,t.chart),s=function(t,e){return Math.abs(t.x-e.x)},l=o.intersect?i(t,a):r(t,a,!1,s),u=[];return l.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var i=t.getDatasetMeta(n),r=i.data[l[0]._index];r&&!r._view.skip&&u.push(r)}}),u):[]}var a=t.helpers;t.Interaction={modes:{single:function(t,i){var r=e(i,t.chart),o=[];return n(t,function(t){if(t.inRange(r.x,r.y))return o.push(t),o}),o.slice(0,1)},label:o,index:o,dataset:function(t,n,o){var a=e(n,t.chart),s=o.intersect?i(t,a):r(t,a,!1);return s.length>0&&(s=t.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(t,e){return o(t,e,!0)},point:function(t,n){var r=e(n,t.chart);return i(t,r)},nearest:function(t,n,i){var o=e(n,t.chart),a=r(t,o,i.intersect);return a.length>1&&a.sort(function(t,e){var n=t.getArea(),i=e.getArea(),r=n-i;return 0===r&&(r=t._datasetIndex-e._datasetIndex),r}),a.slice(0,1)},x:function(t,i,r){var o=e(i,t.chart),a=[],s=!1;return n(t,function(t){t.inXRange(o.x)&&a.push(t),t.inRange(o.x,o.y)&&(s=!0)}),r.intersect&&!s&&(a=[]),a},y:function(t,i,r){var o=e(i,t.chart),a=[],s=!1;return n(t,function(t){t.inYRange(o.y)&&a.push(t),t.inRange(o.x,o.y)&&(s=!0)}),r.intersect&&!s&&(a=[]),a}}}}},{}],28:[function(t,e,n){"use strict";e.exports=function(){var t=function(e,n){return this.controller=new t.Controller(e,n,this),this.controller};return t.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}}},t.Chart=t,t}},{}],29:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),t.boxes.push(e)},removeBox:function(t,e){t.boxes&&t.boxes.splice(t.boxes.indexOf(e),1)},update:function(t,n,i){function r(t){var e,n=t.isHorizontal();n?(e=t.update(t.options.fullWidth?_:w,T),S-=e.height):(e=t.update(C,x),w-=e.width),M.push({horizontal:n,minSize:e,box:t})}function o(t){var n=e.findNextWhere(M,function(e){return e.box===t});if(n)if(t.isHorizontal()){var i={left:Math.max(P,j),right:Math.max(I,O),top:0,bottom:0};t.update(t.options.fullWidth?_:w,b/2,i)}else t.update(n.minSize.width,S)}function a(t){var n=e.findNextWhere(M,function(e){return e.box===t}),i={left:0,right:0,top:L,bottom:k};n&&t.update(n.minSize.width,S,i)}function s(t){t.isHorizontal()?(t.left=t.options.fullWidth?c:P,t.right=t.options.fullWidth?n-d:P+w,t.top=U,t.bottom=U+t.height,U=t.bottom):(t.left=G,t.right=G+t.width,t.top=L,t.bottom=L+S,G=t.right)}if(t){var l=t.options.layout,u=l?l.padding:null,c=0,d=0,h=0,f=0;isNaN(u)?(c=u.left||0,d=u.right||0,h=u.top||0,f=u.bottom||0):(c=u,d=u,h=u,f=u);var p=e.where(t.boxes,function(t){return"left"===t.options.position}),m=e.where(t.boxes,function(t){return"right"===t.options.position}),g=e.where(t.boxes,function(t){return"top"===t.options.position}),v=e.where(t.boxes,function(t){return"bottom"===t.options.position}),y=e.where(t.boxes,function(t){return"chartArea"===t.options.position});g.sort(function(t,e){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)}),v.sort(function(t,e){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)});var _=n-c-d,b=i-h-f,E=_/2,x=b/2,C=(n-E)/(p.length+m.length),T=(i-x)/(g.length+v.length),w=_,S=b,M=[];e.each(p.concat(m,g,v),r);var j=0,O=0,A=0,R=0;e.each(g.concat(v),function(t){if(t.getPadding){var e=t.getPadding();j=Math.max(j,e.left),O=Math.max(O,e.right)}}),e.each(p.concat(m),function(t){if(t.getPadding){var e=t.getPadding();A=Math.max(A,e.top),R=Math.max(R,e.bottom)}});var P=c,I=d,L=h,k=f;e.each(p.concat(m),o),e.each(p,function(t){P+=t.width}),e.each(m,function(t){I+=t.width}),e.each(g.concat(v),o),e.each(g,function(t){L+=t.height}),e.each(v,function(t){k+=t.height}),e.each(p.concat(m),a),P=c,I=d,L=h,k=f,e.each(p,function(t){P+=t.width}),e.each(m,function(t){I+=t.width}),e.each(g,function(t){L+=t.height}),e.each(v,function(t){k+=t.height});var D=Math.max(j-P,0);P+=D,I+=Math.max(O-I,0);var N=Math.max(A-L,0);L+=N,k+=Math.max(R-k,0);var F=i-L-k,$=n-P-I;$===w&&F===S||(e.each(p,function(t){t.height=F}),e.each(m,function(t){t.height=F}),e.each(g,function(t){t.options.fullWidth||(t.width=$)}),e.each(v,function(t){t.options.fullWidth||(t.width=$)}),S=F,w=$);var G=c+D,U=h+N;e.each(p.concat(g),s),G+=w,U+=S,e.each(m,s),e.each(v,s),t.chartArea={left:P,top:L,right:P+w,bottom:L+S},e.each(y,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(w,S)})}}}}},{}],30:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}function n(e,n){var i=new t.Legend({ctx:e.chart.ctx,options:n,chart:e});e.legend=i,t.layoutService.addBox(e,i)}var i=t.helpers,r=i.noop;t.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return i.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:i.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},t.Legend=t.Element.extend({initialize:function(t){i.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:r,update:function(t,e,n){var i=this;return i.beforeUpdate(),
i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:function(){var t=this,e=t.options.labels,n=e.generateLabels.call(t,t.chart);e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:r,beforeFit:r,fit:function(){var n=this,r=n.options,o=r.labels,a=r.display,s=n.ctx,l=t.defaults.global,u=i.getValueOrDefault,c=u(o.fontSize,l.defaultFontSize),d=u(o.fontStyle,l.defaultFontStyle),h=u(o.fontFamily,l.defaultFontFamily),f=i.fontString(c,d,h),p=n.legendHitBoxes=[],m=n.minSize,g=n.isHorizontal();if(g?(m.width=n.maxWidth,m.height=a?10:0):(m.width=a?10:0,m.height=n.maxHeight),a)if(s.font=f,g){var v=n.lineWidths=[0],y=n.legendItems.length?c+o.padding:0;s.textAlign="left",s.textBaseline="top",i.each(n.legendItems,function(t,i){var r=e(o,c),a=r+c/2+s.measureText(t.text).width;v[v.length-1]+a+o.padding>=n.width&&(y+=c+o.padding,v[v.length]=n.left),p[i]={left:0,top:0,width:a,height:c},v[v.length-1]+=a+o.padding}),m.height+=y}else{var _=o.padding,b=n.columnWidths=[],E=o.padding,x=0,C=0,T=c+_;i.each(n.legendItems,function(t,n){var i=e(o,c),r=i+c/2+s.measureText(t.text).width;C+T>m.height&&(E+=x+o.padding,b.push(x),x=0,C=0),x=Math.max(x,r),C+=T,p[n]={left:0,top:0,width:r,height:c}}),E+=x,b.push(x),m.width+=E}n.width=m.width,n.height=m.height},afterFit:r,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,r=n.options,o=r.labels,a=t.defaults.global,s=a.elements.line,l=n.width,u=n.lineWidths;if(r.display){var c,d=n.ctx,h=i.getValueOrDefault,f=h(o.fontColor,a.defaultFontColor),p=h(o.fontSize,a.defaultFontSize),m=h(o.fontStyle,a.defaultFontStyle),g=h(o.fontFamily,a.defaultFontFamily),v=i.fontString(p,m,g);d.textAlign="left",d.textBaseline="top",d.lineWidth=.5,d.strokeStyle=f,d.fillStyle=f,d.font=v;var y=e(o,p),_=n.legendHitBoxes,b=function(e,n,i){if(!(isNaN(y)||y<=0)){d.save(),d.fillStyle=h(i.fillStyle,a.defaultColor),d.lineCap=h(i.lineCap,s.borderCapStyle),d.lineDashOffset=h(i.lineDashOffset,s.borderDashOffset),d.lineJoin=h(i.lineJoin,s.borderJoinStyle),d.lineWidth=h(i.lineWidth,s.borderWidth),d.strokeStyle=h(i.strokeStyle,a.defaultColor);var o=0===h(i.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(h(i.lineDash,s.borderDash)),r.labels&&r.labels.usePointStyle){var l=p*Math.SQRT2/2,u=l/Math.SQRT2,c=e+u,f=n+u;t.canvasHelpers.drawPoint(d,i.pointStyle,l,c,f)}else o||d.strokeRect(e,n,y,p),d.fillRect(e,n,y,p);d.restore()}},E=function(t,e,n,i){d.fillText(n.text,y+p/2+t,e),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(y+p/2+t,e+p/2),d.lineTo(y+p/2+t+i,e+p/2),d.stroke())},x=n.isHorizontal();c=x?{x:n.left+(l-u[0])/2,y:n.top+o.padding,line:0}:{x:n.left+o.padding,y:n.top+o.padding,line:0};var C=p+o.padding;i.each(n.legendItems,function(t,e){var i=d.measureText(t.text).width,r=y+p/2+i,a=c.x,s=c.y;x?a+r>=l&&(s=c.y+=C,c.line++,a=c.x=n.left+(l-u[c.line])/2):s+C>n.bottom&&(a=c.x=a+n.columnWidths[c.line]+o.padding,s=c.y=n.top+o.padding,c.line++),b(a,s,t),_[e].left=a,_[e].top=s,E(a,s,t,i),x?c.x+=r+o.padding:c.y+=C})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,r=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var o=t.x,a=t.y;if(o>=e.left&&o<=e.right&&a>=e.top&&a<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(o>=u.left&&o<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===i){n.onClick.call(e,t["native"],e.legendItems[l]),r=!0;break}if("mousemove"===i){n.onHover.call(e,t["native"],e.legendItems[l]),r=!0;break}}}return r}}),t.plugins.register({beforeInit:function(t){var e=t.options.legend;e&&n(t,e)},beforeUpdate:function(e){var r=e.options.legend;r?(r=i.configMerge(t.defaults.global.legend,r),e.legend?e.legend.options=r:n(e,r)):(t.layoutService.removeBox(e,e.legend),delete e.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}})}},{}],31:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.defaults.global.plugins={},t.plugins={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,r,o,a,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if(r=l[i],o=r.plugin,s=o[e],"function"==typeof s&&(a=[t].concat(n||[]),a.push(r.options),s.apply(o,a)===!1))return!1;return!0},descriptors:function(n){var i=n._plugins||(n._plugins={});if(i.id===this._cacheId)return i.descriptors;var r=[],o=[],a=n&&n.config||{},s=t.defaults.global.plugins,l=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(t){var n=r.indexOf(t);if(n===-1){var i=t.id,a=l[i];a!==!1&&(a===!0&&(a=e.clone(s[i])),r.push(t),o.push({plugin:t,options:a||{}}))}}),i.descriptors=o,i.id=this._cacheId,o}},t.pluginService=t.plugins,t.PluginBase=e.inherits({})}},{}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e,n){return i.isArray(e)?i.longestText(t,n,e):t.measureText(e).width}function n(e){var n=i.getValueOrDefault,r=t.defaults.global,o=n(e.fontSize,r.defaultFontSize),a=n(e.fontStyle,r.defaultFontStyle),s=n(e.fontFamily,r.defaultFontFamily);return{size:o,style:a,family:s,font:i.fontString(o,a,s)}}var i=t.helpers;t.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:t.Ticks.formatters.values}},t.Scale=t.Element.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},beforeUpdate:function(){i.callCallback(this.options.beforeUpdate,[this])},update:function(t,e,n){var r=this;return r.beforeUpdate(),r.maxWidth=t,r.maxHeight=e,r.margins=i.extend({left:0,right:0,top:0,bottom:0},n),r.longestTextCache=r.longestTextCache||{},r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),r.buildTicks(),r.afterBuildTicks(),r.beforeTickToLabelConversion(),r.convertTicksToLabels(),r.afterTickToLabelConversion(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:function(){i.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){i.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){i.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){i.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:i.noop,afterDataLimits:function(){i.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){i.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:i.noop,afterBuildTicks:function(){i.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){i.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback)},afterTickToLabelConversion:function(){i.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){i.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,r=t.options.ticks,o=n(r);e.font=o.font;var a=r.minRotation||0;if(t.options.display&&t.isHorizontal())for(var s,l,u=i.longestText(e,o.font,t.ticks,t.longestTextCache),c=u,d=t.getPixelForTick(1)-t.getPixelForTick(0)-6;c>d&&a<r.maxRotation;){var h=i.toRadians(a);if(s=Math.cos(h),l=Math.sin(h),l*u>t.maxHeight){a--;break}a++,c=s*u}t.labelRotation=a},afterCalculateTickRotation:function(){i.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){i.callCallback(this.options.beforeFit,[this])},fit:function(){var t=this,r=t.minSize={width:0,height:0},o=t.options,a=o.ticks,s=o.scaleLabel,l=o.gridLines,u=o.display,c=t.isHorizontal(),d=n(a),h=1.5*n(s).size,f=o.gridLines.tickMarkLength;if(c?r.width=t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:r.width=u&&l.drawTicks?f:0,c?r.height=u&&l.drawTicks?f:0:r.height=t.maxHeight,s.display&&u&&(c?r.height+=h:r.width+=h),a.display&&u){var p=i.longestText(t.ctx,d.font,t.ticks,t.longestTextCache),m=i.numberOfLabelLines(t.ticks),g=.5*d.size;if(c){t.longestLabelWidth=p;var v=i.toRadians(t.labelRotation),y=Math.cos(v),_=Math.sin(v),b=_*p+d.size*m+g*m;r.height=Math.min(t.maxHeight,r.height+b),t.ctx.font=d.font;var E=t.ticks[0],x=e(t.ctx,E,d.font),C=t.ticks[t.ticks.length-1],T=e(t.ctx,C,d.font);0!==t.labelRotation?(t.paddingLeft="bottom"===o.position?y*x+3:y*g+3,t.paddingRight="bottom"===o.position?y*g+3:y*T+3):(t.paddingLeft=x/2+3,t.paddingRight=T/2+3)}else a.mirror?p=0:p+=t.options.ticks.padding,r.width+=p,t.paddingTop=d.size/2,t.paddingBottom=d.size/2}t.handleMargins(),t.width=r.width,t.height=r.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){i.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){return null===t||"undefined"==typeof t?NaN:"number"!=typeof t||isFinite(t)?"object"==typeof t?t instanceof Date||t.isValid?t:this.getRightValue(this.isHorizontal()?t.x:t.y):t:NaN},getLabelForIndex:i.noop,getPixelForValue:i.noop,getValueForPixel:i.noop,getPixelForTick:function(t,e){var n=this;if(n.isHorizontal()){var i=n.width-(n.paddingLeft+n.paddingRight),r=i/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),o=r*t+n.paddingLeft;e&&(o+=r/2);var a=n.left+Math.round(o);return a+=n.isFullWidth()?n.margins.left:0}var s=n.height-(n.paddingTop+n.paddingBottom);return n.top+t*(s/(n.ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=e.width-(e.paddingLeft+e.paddingRight),i=n*t+e.paddingLeft,r=e.left+Math.round(i);return r+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},draw:function(e){var r=this,o=r.options;if(o.display){var a,s,l=r.ctx,u=t.defaults.global,c=o.ticks,d=o.gridLines,h=o.scaleLabel,f=0!==r.labelRotation,p=c.autoSkip,m=r.isHorizontal();c.maxTicksLimit&&(s=c.maxTicksLimit);var g=i.getValueOrDefault(c.fontColor,u.defaultFontColor),v=n(c),y=d.drawTicks?d.tickMarkLength:0,_=i.getValueOrDefault(d.borderDash,u.borderDash),b=i.getValueOrDefault(d.borderDashOffset,u.borderDashOffset),E=i.getValueOrDefault(h.fontColor,u.defaultFontColor),x=n(h),C=i.toRadians(r.labelRotation),T=Math.cos(C),w=r.longestLabelWidth*T;l.fillStyle=g;var S=[];if(m){if(a=!1,f&&(w/=2),(w+c.autoSkipPadding)*r.ticks.length>r.width-(r.paddingLeft+r.paddingRight)&&(a=1+Math.floor((w+c.autoSkipPadding)*r.ticks.length/(r.width-(r.paddingLeft+r.paddingRight)))),s&&r.ticks.length>s)for(;!a||r.ticks.length/(a||1)>s;)a||(a=1),a+=1;p||(a=!1)}var M="right"===o.position?r.left:r.right-y,j="right"===o.position?r.left+y:r.right,O="bottom"===o.position?r.top:r.bottom-y,A="bottom"===o.position?r.top+y:r.bottom;if(i.each(r.ticks,function(t,n){if(void 0!==t&&null!==t){var s=r.ticks.length===n+1,l=a>1&&n%a>0||n%a===0&&n+a>=r.ticks.length;if((!l||s)&&void 0!==t&&null!==t){var u,h;n===("undefined"!=typeof r.zeroLineIndex?r.zeroLineIndex:0)?(u=d.zeroLineWidth,h=d.zeroLineColor):(u=i.getValueAtIndexOrDefault(d.lineWidth,n),h=i.getValueAtIndexOrDefault(d.color,n));var p,g,v,E,x,T,w,R,P,I,L="middle",k="middle";if(m){"bottom"===o.position?(k=f?"middle":"top",L=f?"right":"center",I=r.top+y):(k=f?"middle":"bottom",L=f?"left":"center",I=r.bottom-y);var D=r.getPixelForTick(n)+i.aliasPixel(u);P=r.getPixelForTick(n,d.offsetGridLines)+c.labelOffset,p=v=x=w=D,g=O,E=A,T=e.top,R=e.bottom}else{var N,F="left"===o.position,$=c.padding;c.mirror?(L=F?"left":"right",N=$):(L=F?"right":"left",N=y+$),P=F?r.right-N:r.left+N;var G=r.getPixelForTick(n);G+=i.aliasPixel(u),I=r.getPixelForTick(n,d.offsetGridLines),p=M,v=j,x=e.left,w=e.right,g=E=T=R=G}S.push({tx1:p,ty1:g,tx2:v,ty2:E,x1:x,y1:T,x2:w,y2:R,labelX:P,labelY:I,glWidth:u,glColor:h,glBorderDash:_,glBorderDashOffset:b,rotation:-1*C,label:t,textBaseline:k,textAlign:L})}}}),i.each(S,function(t){if(d.display&&(l.save(),l.lineWidth=t.glWidth,l.strokeStyle=t.glColor,l.setLineDash&&(l.setLineDash(t.glBorderDash),l.lineDashOffset=t.glBorderDashOffset),l.beginPath(),d.drawTicks&&(l.moveTo(t.tx1,t.ty1),l.lineTo(t.tx2,t.ty2)),d.drawOnChartArea&&(l.moveTo(t.x1,t.y1),l.lineTo(t.x2,t.y2)),l.stroke(),l.restore()),c.display){l.save(),l.translate(t.labelX,t.labelY),l.rotate(t.rotation),l.font=v.font,l.textBaseline=t.textBaseline,l.textAlign=t.textAlign;var e=t.label;if(i.isArray(e))for(var n=0,r=0;n<e.length;++n)l.fillText(""+e[n],0,r),r+=1.5*v.size;else l.fillText(e,0,0);l.restore()}}),h.display){var R,P,I=0;if(m)R=r.left+(r.right-r.left)/2,P="bottom"===o.position?r.bottom-x.size/2:r.top+x.size/2;else{var L="left"===o.position;R=L?r.left+x.size/2:r.right-x.size/2,P=r.top+(r.bottom-r.top)/2,I=L?-.5*Math.PI:.5*Math.PI}l.save(),l.translate(R,P),l.rotate(I),l.textAlign="center",l.textBaseline="middle",l.fillStyle=E,l.font=x.font,l.fillText(h.labelString,0,0),l.restore()}if(d.drawBorder){l.lineWidth=i.getValueAtIndexOrDefault(d.lineWidth,0),l.strokeStyle=i.getValueAtIndexOrDefault(d.color,0);var k=r.left,D=r.right,N=r.top,F=r.bottom,$=i.aliasPixel(l.lineWidth);m?(N=F="top"===o.position?r.bottom:r.top,N+=$,F+=$):(k=D="left"===o.position?r.right:r.left,k+=$,D+=$),l.beginPath(),l.moveTo(k,N),l.lineTo(D,F),l.stroke()}}}})}},{}],33:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.scaleService={constructors:{},defaults:{},registerScaleType:function(t,n,i){this.constructors[t]=n,this.defaults[t]=e.clone(i)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?e.scaleMerge(t.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(t,n){var i=this.defaults;i.hasOwnProperty(t)&&(i[t]=e.extend(i[t],n))},addScalesToLayout:function(n){e.each(n.scales,function(e){t.layoutService.addBox(n,e)})}}}},{}],34:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers;t.Ticks={generators:{linear:function(t,n){var i,r=[];if(t.stepSize&&t.stepSize>0)i=t.stepSize;else{var o=e.niceNum(n.max-n.min,!1);i=e.niceNum(o/(t.maxTicks-1),!0)}var a=Math.floor(n.min/i)*i,s=Math.ceil(n.max/i)*i;t.min&&t.max&&t.stepSize&&e.almostWhole((t.max-t.min)/t.stepSize,i/1e3)&&(a=t.min,s=t.max);var l=(s-a)/i;l=e.almostEquals(l,Math.round(l),i/1e3)?Math.round(l):Math.ceil(l),r.push(void 0!==t.min?t.min:a);for(var u=1;u<l;++u)r.push(a+u*i);return r.push(void 0!==t.max?t.max:s),r},logarithmic:function(t,n){var i,r,o=[],a=e.getValueOrDefault,s=a(t.min,Math.pow(10,Math.floor(e.log10(n.min)))),l=Math.floor(e.log10(n.max)),u=Math.ceil(n.max/Math.pow(10,l));0===s?(i=Math.floor(e.log10(n.minNotZero)),r=Math.floor(n.minNotZero/Math.pow(10,i)),o.push(s),s=r*Math.pow(10,i)):(i=Math.floor(e.log10(s)),r=Math.floor(s/Math.pow(10,i)));do o.push(s),++r,10===r&&(r=1,++i),s=r*Math.pow(10,i);while(i<l||i===l&&r<u);var c=a(t.max,s);return o.push(c),o}},formatters:{values:function(t){return e.isArray(t)?t:""+t},linear:function(t,n,i){var r=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(r)>1&&t!==Math.floor(t)&&(r=t-Math.floor(t));var o=e.log10(Math.abs(r)),a="";if(0!==t){var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),a=t.toFixed(s)}else a="0";return a},logarithmic:function(t,n,i){var r=t/Math.pow(10,Math.floor(e.log10(t)));return 0===t?"0":1===r||2===r||5===r||0===n||n===i.length-1?t.toExponential():""}}}}},{}],35:[function(t,e,n){"use strict";e.exports=function(t){function e(e,n){var i=new t.Title({ctx:e.chart.ctx,options:n,chart:e});e.titleBlock=i,t.layoutService.addBox(e,i)}var n=t.helpers;t.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var i=n.noop;t.Title=t.Element.extend({initialize:function(t){var e=this;n.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:i,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:i,beforeSetDimensions:i,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:i,beforeBuildLabels:i,buildLabels:i,afterBuildLabels:i,beforeFit:i,fit:function(){var e=this,i=n.getValueOrDefault,r=e.options,o=t.defaults.global,a=r.display,s=i(r.fontSize,o.defaultFontSize),l=e.minSize;e.isHorizontal()?(l.width=e.maxWidth,l.height=a?s+2*r.padding:0):(l.width=a?s+2*r.padding:0,l.height=e.maxHeight),e.width=l.width,e.height=l.height},afterFit:i,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var e=this,i=e.ctx,r=n.getValueOrDefault,o=e.options,a=t.defaults.global;if(o.display){var s,l,u,c=r(o.fontSize,a.defaultFontSize),d=r(o.fontStyle,a.defaultFontStyle),h=r(o.fontFamily,a.defaultFontFamily),f=n.fontString(c,d,h),p=0,m=e.top,g=e.left,v=e.bottom,y=e.right;i.fillStyle=r(o.fontColor,a.defaultFontColor),i.font=f,e.isHorizontal()?(s=g+(y-g)/2,l=m+(v-m)/2,u=y-g):(s="left"===o.position?g+c/2:y-c/2,l=m+(v-m)/2,u=v-m,p=Math.PI*("left"===o.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(p),i.textAlign="center",i.textBaseline="middle",i.fillText(o.text,0,0,u),i.restore()}}}),t.plugins.register({beforeInit:function(t){var n=t.options.title;n&&e(t,n)},beforeUpdate:function(i){var r=i.options.title;r?(r=n.configMerge(t.defaults.global.title,r),i.titleBlock?i.titleBlock.options=r:e(i,r)):(t.layoutService.removeBox(i,i.titleBlock),delete i.titleBlock)}})}},{}],36:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){var n=l.color(t);return n.alpha(e*n.alpha()).rgbaString()}function n(t,e){return e&&(l.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function i(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,r=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r,x:t._model.x,y:t._model.y}}function r(e){var n=t.defaults.global,i=l.getValueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:i(e.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:i(e.bodyFontStyle,n.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:i(e.bodyFontSize,n.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:i(e.titleFontFamily,n.defaultFontFamily),_titleFontStyle:i(e.titleFontStyle,n.defaultFontStyle),titleFontSize:i(e.titleFontSize,n.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:i(e.footerFontFamily,n.defaultFontFamily),_footerFontStyle:i(e.footerFontStyle,n.defaultFontStyle),footerFontSize:i(e.footerFontSize,n.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors}}function o(t,e){var n=t._chart.ctx,i=2*e.yPadding,r=0,o=e.body,a=o.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,u=e.footer.length,c=e.titleFontSize,d=e.bodyFontSize,h=e.footerFontSize;i+=s*c,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=a*d,i+=a?(a-1)*e.bodySpacing:0,i+=u?e.footerMarginTop:0,i+=u*h,i+=u?(u-1)*e.footerSpacing:0;var f=0,p=function(t){r=Math.max(r,n.measureText(t).width+f)};return n.font=l.fontString(c,e._titleFontStyle,e._titleFontFamily),l.each(e.title,p),n.font=l.fontString(d,e._bodyFontStyle,e._bodyFontFamily),l.each(e.beforeBody.concat(e.afterBody),p),f=e.displayColors?d+2:0,l.each(o,function(t){l.each(t.before,p),l.each(t.lines,p),l.each(t.after,p)}),f=0,n.font=l.fontString(h,e._footerFontStyle,e._footerFontFamily),l.each(e.footer,p),r+=2*e.xPadding,{width:r,height:i}}function a(t,e){var n=t._model,i=t._chart,r=t._chartInstance.chartArea,o="center",a="center";n.y<e.height?a="top":n.y>i.height-e.height&&(a="bottom");var s,l,u,c,d,h=(r.left+r.right)/2,f=(r.top+r.bottom)/2;"center"===a?(s=function(t){return t<=h},l=function(t){return t>h}):(s=function(t){return t<=e.width/2},l=function(t){return t>=i.width-e.width/2}),u=function(t){return t+e.width>i.width},c=function(t){return t-e.width<0},d=function(t){return t<=f?"top":"bottom"},s(n.x)?(o="left",u(n.x)&&(o="center",a=d(n.y))):l(n.x)&&(o="right",c(n.x)&&(o="center",a=d(n.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:o,yAlign:p.yAlign?p.yAlign:a}}function s(t,e,n){var i=t.x,r=t.y,o=t.caretSize,a=t.caretPadding,s=t.cornerRadius,l=n.xAlign,u=n.yAlign,c=o+a,d=s+a;return"right"===l?i-=e.width:"center"===l&&(i-=e.width/2),"top"===u?r+=c:r-="bottom"===u?e.height+c:e.height/2,"center"===u?"left"===l?i+=c:"right"===l&&(i-=c):"left"===l?i-=d:"right"===l&&(i+=d),{x:i,y:r}}var l=t.helpers;t.defaults.global.tooltips={enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,callbacks:{beforeTitle:l.noop,title:function(t,e){var n="",i=e.labels,r=i?i.length:0;if(t.length>0){var o=t[0];o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:l.noop,beforeBody:l.noop,beforeLabel:l.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n+": "+t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex),i=n.data[t.index],r=i._view;return{borderColor:r.borderColor,backgroundColor:r.backgroundColor}},afterLabel:l.noop,afterBody:l.noop,beforeFooter:l.noop,footer:l.noop,afterFooter:l.noop}},t.Tooltip=t.Element.extend({initialize:function(){this._model=r(this._options)},getTitle:function(){var t=this,e=t._options,i=e.callbacks,r=i.beforeTitle.apply(t,arguments),o=i.title.apply(t,arguments),a=i.afterTitle.apply(t,arguments),s=[];return s=n(s,r),s=n(s,o),s=n(s,a)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return l.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var i=this,r=i._options.callbacks,o=[];return l.each(t,function(t){var a={before:[],lines:[],after:[]};n(a.before,r.beforeLabel.call(i,t,e)),n(a.lines,r.label.call(i,t,e)),n(a.after,r.afterLabel.call(i,t,e)),o.push(a)}),o},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return l.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,i=e.beforeFooter.apply(t,arguments),r=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),a=[];return a=n(a,i),a=n(a,r),a=n(a,o)},update:function(e){var n,u,c=this,d=c._options,h=c._model,f=c._model=r(d),p=c._active,m=c._data,g=c._chartInstance,v={xAlign:h.xAlign,yAlign:h.yAlign},y={x:h.x,y:h.y},_={width:h.width,height:h.height},b={x:h.caretX,y:h.caretY};if(p.length){f.opacity=1;var E=[];b=t.Tooltip.positioners[d.position](p,c._eventPosition);var x=[];for(n=0,u=p.length;n<u;++n)x.push(i(p[n]));d.filter&&(x=x.filter(function(t){return d.filter(t,m)})),d.itemSort&&(x=x.sort(function(t,e){return d.itemSort(t,e,m)})),l.each(x,function(t){E.push(d.callbacks.labelColor.call(c,t,g))}),f.title=c.getTitle(x,m),f.beforeBody=c.getBeforeBody(x,m),f.body=c.getBody(x,m),f.afterBody=c.getAfterBody(x,m),f.footer=c.getFooter(x,m),f.x=Math.round(b.x),f.y=Math.round(b.y),f.caretPadding=l.getValueOrDefault(b.padding,2),f.labelColors=E,f.dataPoints=x,_=o(this,f),v=a(this,_),y=s(f,_,v)}else f.opacity=0;return f.xAlign=v.xAlign,f.yAlign=v.yAlign,f.x=y.x,f.y=y.y,f.width=_.width,f.height=_.height,f.caretX=b.x,f.caretY=b.y,c._model=f,e&&d.custom&&d.custom.call(c,f),c},drawCaret:function(t,n,i){var r,o,a,s,l,u,c=this._view,d=this._chart.ctx,h=c.caretSize,f=c.cornerRadius,p=c.xAlign,m=c.yAlign,g=t.x,v=t.y,y=n.width,_=n.height;"center"===m?("left"===p?(r=g,o=r-h,a=r):(r=g+y,o=r+h,a=r),l=v+_/2,s=l-h,u=l+h):("left"===p?(r=g+f,o=r+h,a=o+h):"right"===p?(r=g+y-f,o=r-h,a=o-h):(o=g+y/2,r=o-h,a=o+h),"top"===m?(s=v,l=s-h,u=s):(s=v+_,l=s+h,u=s)),d.fillStyle=e(c.backgroundColor,i),d.beginPath(),d.moveTo(r,s),d.lineTo(o,l),d.lineTo(a,u),d.closePath(),d.fill()},drawTitle:function(t,n,i,r){var o=n.title;if(o.length){i.textAlign=n._titleAlign,i.textBaseline="top";var a=n.titleFontSize,s=n.titleSpacing;i.fillStyle=e(n.titleFontColor,r),i.font=l.fontString(a,n._titleFontStyle,n._titleFontFamily);var u,c;for(u=0,c=o.length;u<c;++u)i.fillText(o[u],t.x,t.y),t.y+=a+s,u+1===o.length&&(t.y+=n.titleMarginBottom-s)}},drawBody:function(t,n,i,r){var o=n.bodyFontSize,a=n.bodySpacing,s=n.body;i.textAlign=n._bodyAlign,i.textBaseline="top";var u=e(n.bodyFontColor,r);i.fillStyle=u,i.font=l.fontString(o,n._bodyFontStyle,n._bodyFontFamily);var c=0,d=function(e){i.fillText(e,t.x+c,t.y),t.y+=o+a};l.each(n.beforeBody,d);var h=n.displayColors;c=h?o+2:0,l.each(s,function(a,s){l.each(a.before,d),l.each(a.lines,function(a){h&&(i.fillStyle=e(n.legendColorBackground,r),i.fillRect(t.x,t.y,o,o),i.strokeStyle=e(n.labelColors[s].borderColor,r),i.strokeRect(t.x,t.y,o,o),i.fillStyle=e(n.labelColors[s].backgroundColor,r),i.fillRect(t.x+1,t.y+1,o-2,o-2),i.fillStyle=u),d(a)}),l.each(a.after,d)}),c=0,l.each(n.afterBody,d),t.y-=a},drawFooter:function(t,n,i,r){var o=n.footer;o.length&&(t.y+=n.footerMarginTop,i.textAlign=n._footerAlign,i.textBaseline="top",i.fillStyle=e(n.footerFontColor,r),i.font=l.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),l.each(o,function(e){i.fillText(e,t.x,t.y),t.y+=n.footerFontSize+n.footerSpacing}))},drawBackground:function(t,n,i,r,o){i.fillStyle=e(n.backgroundColor,o),l.drawRoundedRectangle(i,t.x,t.y,r.width,r.height,n.cornerRadius),i.fill()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(this.drawBackground(i,e,t,n,r),this.drawCaret(i,n,r),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,r),this.drawBody(i,e,t,r),this.drawFooter(i,e,t,r))}},handleEvent:function(t){var e=this,n=e._options,i=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chartInstance.getElementsAtEventForMode(t,n.mode,n),i=!l.arrayEquals(e._active,e._lastActive),e._lastActive=e._active,n.enabled||n.custom){e._eventPosition={x:t.x,y:t.y};var r=e._model;e.update(!0),e.pivot(),i|=r.x!==e._model.x||r.y!==e._model.y}return i}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,n,i=0,r=0,o=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:Math.round(i/o),y:Math.round(r/o)}},nearest:function(t,e){var n,i,r,o=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(i=0,r=t.length;i<r;++i){var u=t[i];if(u&&u.hasValue()){var c=u.getCenterPoint(),d=l.distanceBetweenPoints(e,c);d<s&&(s=d,n=u)}}if(n){var h=n.tooltipPosition();o=h.x,a=h.y}return{x:o,y:a}}}}},{}],37:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;n.elements.arc={backgroundColor:n.defaultColor,borderColor:"#fff",borderWidth:2},t.elements.Arc=t.Element.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,n){var i=this._view;if(i){for(var r=e.getAngleFromPoint(i,{x:t,y:n}),o=r.angle,a=r.distance,s=i.startAngle,l=i.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var u=o>=s&&o<=l,c=a>=i.innerRadius&&a<=i.outerRadius;return u&&c}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})}},{}],38:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=t.defaults.global;t.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0},t.elements.Line=t.Element.extend({draw:function(){function t(t,e){var n=e._view;e._view.steppedLine===!0?(l.lineTo(n.x,t._view.y),l.lineTo(n.x,n.y)):0===e._view.tension?l.lineTo(n.x,n.y):l.bezierCurveTo(t._view.controlPointNextX,t._view.controlPointNextY,n.controlPointPreviousX,n.controlPointPreviousY,n.x,n.y)}var i=this,r=i._view,o=r.spanGaps,a=r.scaleZero,s=i._loop;s||("top"===r.fill?a=r.scaleTop:"bottom"===r.fill&&(a=r.scaleBottom));var l=i._chart.ctx;l.save();var u=i._children.slice(),c=-1;s&&u.length&&u.push(u[0]);var d,h,f,p;if(u.length&&r.fill){for(l.beginPath(),d=0;d<u.length;++d)h=u[d],f=e.previousItem(u,d),p=h._view,0===d?(s?l.moveTo(a.x,a.y):l.moveTo(p.x,a),p.skip||(c=d,l.lineTo(p.x,p.y))):(f=c===-1?f:u[c],p.skip?o||c!==d-1||(s?l.lineTo(a.x,a.y):l.lineTo(f._view.x,a)):(c!==d-1?o&&c!==-1?t(f,h):s?l.lineTo(p.x,p.y):(l.lineTo(p.x,a),
l.lineTo(p.x,p.y)):t(f,h),c=d));s||c===-1||l.lineTo(u[c]._view.x,a),l.fillStyle=r.backgroundColor||n.defaultColor,l.closePath(),l.fill()}var m=n.elements.line;for(l.lineCap=r.borderCapStyle||m.borderCapStyle,l.setLineDash&&l.setLineDash(r.borderDash||m.borderDash),l.lineDashOffset=r.borderDashOffset||m.borderDashOffset,l.lineJoin=r.borderJoinStyle||m.borderJoinStyle,l.lineWidth=r.borderWidth||m.borderWidth,l.strokeStyle=r.borderColor||n.defaultColor,l.beginPath(),c=-1,d=0;d<u.length;++d)h=u[d],f=e.previousItem(u,d),p=h._view,0===d?p.skip||(l.moveTo(p.x,p.y),c=d):(f=c===-1?f:u[c],p.skip||(c!==d-1&&!o||c===-1?l.moveTo(p.x,p.y):t(f,h),c=d));l.stroke(),l.restore()}})}},{}],39:[function(t,e,n){"use strict";e.exports=function(t){function e(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hitRadius,2)}function n(t){var e=this._view;return!!e&&Math.pow(t-e.y,2)<Math.pow(e.radius+e.hitRadius,2)}var i=t.helpers,r=t.defaults.global,o=r.defaultColor;r.elements.point={radius:3,pointStyle:"circle",backgroundColor:o,borderWidth:1,borderColor:o,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},t.elements.Point=t.Element.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:e,inXRange:e,inYRange:n,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(e){var n=this._view,a=this._model,s=this._chart.ctx,l=n.pointStyle,u=n.radius,c=n.x,d=n.y,h=t.helpers.color,f=1.01,p=0;n.skip||(s.strokeStyle=n.borderColor||o,s.lineWidth=i.getValueOrDefault(n.borderWidth,r.elements.point.borderWidth),s.fillStyle=n.backgroundColor||o,void 0!==e&&(a.x<e.left||e.right*f<a.x||a.y<e.top||e.bottom*f<a.y)&&(a.x<e.left?p=(c-a.x)/(e.left-a.x):e.right*f<a.x?p=(a.x-c)/(a.x-e.right):a.y<e.top?p=(d-a.y)/(e.top-a.y):e.bottom*f<a.y&&(p=(a.y-d)/(a.y-e.bottom)),p=Math.round(100*p)/100,s.strokeStyle=h(s.strokeStyle).alpha(p).rgbString(),s.fillStyle=h(s.fillStyle).alpha(p).rgbString()),t.canvasHelpers.drawPoint(s,l,u,c,d))}})}},{}],40:[function(t,e,n){"use strict";e.exports=function(t){function e(t){return void 0!==t._view.width}function n(t){var n,i,r,o,a=t._view;if(e(t)){var s=a.width/2;n=a.x-s,i=a.x+s,r=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;n=Math.min(a.x,a.base),i=Math.max(a.x,a.base),r=a.y-l,o=a.y+l}return{left:n,top:r,right:i,bottom:o}}var i=t.defaults.global;i.elements.rectangle={backgroundColor:i.defaultColor,borderWidth:0,borderColor:i.defaultColor,borderSkipped:"bottom"},t.elements.Rectangle=t.Element.extend({draw:function(){function t(t){return v[(_+t)%4]}var e,n,i,r,o,a,s,l=this._chart.ctx,u=this._view,c=u.borderWidth;if(u.horizontal?(e=u.base,n=u.x,i=u.y-u.height/2,r=u.y+u.height/2,o=n>e?1:-1,a=1,s=u.borderSkipped||"left"):(e=u.x-u.width/2,n=u.x+u.width/2,i=u.y,r=u.base,o=1,a=r>i?1:-1,s=u.borderSkipped||"bottom"),c){var d=Math.min(Math.abs(e-n),Math.abs(i-r));c=c>d?d:c;var h=c/2,f=e+("left"!==s?h*o:0),p=n+("right"!==s?-h*o:0),m=i+("top"!==s?h*a:0),g=r+("bottom"!==s?-h*a:0);f!==p&&(i=m,r=g),m!==g&&(e=f,n=p)}l.beginPath(),l.fillStyle=u.backgroundColor,l.strokeStyle=u.borderColor,l.lineWidth=c;var v=[[e,r],[e,i],[n,i],[n,r]],y=["bottom","left","top","right"],_=y.indexOf(s,0);_===-1&&(_=0);var b=t(0);l.moveTo(b[0],b[1]);for(var E=1;E<4;E++)b=t(E),l.lineTo(b[0],b[1]);l.fill(),c&&l.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var i=!1;if(this._view){var r=n(this);i=t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom}return i},inLabelRange:function(t,i){var r=this;if(!r._view)return!1;var o=!1,a=n(r);return o=e(r)?t>=a.left&&t<=a.right:i>=a.top&&i<=a.bottom},inXRange:function(t){var e=n(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=n(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,n,i=this._view;return e(this)?(t=i.x,n=(i.y+i.base)/2):(t=(i.x+i.base)/2,n=i.y),{x:t,y:n}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})}},{}],41:[function(t,e,n){"use strict";e.exports=function(t){function e(t,e){var n=l.getStyle(t,e),i=n&&n.match(/(\d+)px/);return i?Number(i[1]):void 0}function n(t,n){var i=t.style,r=t.getAttribute("height"),o=t.getAttribute("width");if(t._chartjs={initial:{height:r,width:o,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null===o||""===o){var a=e(t,"width");void 0!==a&&(t.width=a)}if(null===r||""===r)if(""===t.style.height)t.height=t.width/(n.options.aspectRatio||2);else{var s=e(t,"height");void 0!==a&&(t.height=s)}return t}function i(t,e,n,i,r){return{type:t,chart:e,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function r(t,e){var n=u[t.type]||t.type,r=l.getRelativePosition(t,e);return i(n,e,r.x,r.y,t)}function o(t){var e=document.createElement("iframe");return e.className="chartjs-hidden-iframe",e.style.cssText="display:block;overflow:hidden;border:0;margin:0;top:0;left:0;bottom:0;right:0;height:100%;width:100%;position:absolute;pointer-events:none;z-index:-1;",e.tabIndex=-1,l.addEvent(e,"load",function(){l.addEvent(e.contentWindow||e,"resize",t),t()}),e}function a(t,e,n){var r=t._chartjs={ticking:!1},a=function(){r.ticking||(r.ticking=!0,l.requestAnimFrame.call(window,function(){if(r.resizer)return r.ticking=!1,e(i("resize",n))}))};r.resizer=o(a),t.insertBefore(r.resizer,t.firstChild)}function s(t){if(t&&t._chartjs){var e=t._chartjs.resizer;e&&(e.parentNode.removeChild(e),t._chartjs.resizer=null),delete t._chartjs}}var l=t.helpers,u={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};return{acquireContext:function(t,e){if("string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t instanceof HTMLCanvasElement){var i=t.getContext&&t.getContext("2d");if(i instanceof CanvasRenderingContext2D)return n(t,e),i}return null},releaseContext:function(t){var e=t.canvas;if(e._chartjs){var n=e._chartjs.initial;["height","width"].forEach(function(t){var i=n[t];void 0===i||null===i?e.removeAttribute(t):e.setAttribute(t,i)}),l.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e._chartjs}},addEventListener:function(t,e,n){var i=t.chart.canvas;if("resize"===e)return void a(i.parentNode,n,t.chart);var o=n._chartjs||(n._chartjs={}),s=o.proxies||(o.proxies={}),u=s[t.id+"_"+e]=function(e){n(r(e,t.chart))};l.addEvent(i,e,u)},removeEventListener:function(t,e,n){var i=t.chart.canvas;if("resize"===e)return void s(i.parentNode,n);var r=n._chartjs||{},o=r.proxies||{},a=o[t.id+"_"+e];a&&l.removeEvent(i,e,a)}}}},{}],42:[function(t,e,n){"use strict";var i=t(41);e.exports=function(t){t.platform={acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},t.helpers.extend(t.platform,i(t))}},{41:41}],43:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"bottom"},i=t.Scale.extend({getLabels:function(){var t=this.chart.data;return(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1;var i;void 0!==t.options.ticks.min&&(i=e.indexOf(n,t.options.ticks.min),t.minIndex=i!==-1?i:t.minIndex),void 0!==t.options.ticks.max&&(i=e.indexOf(n,t.options.ticks.max),t.maxIndex=i!==-1?i:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,r=n.isHorizontal();return i.yLabels&&!r?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e,n,i){var r=this,o=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(void 0!==t&&isNaN(e)){var a=r.getLabels(),s=a.indexOf(t);e=s!==-1?s:e}if(r.isHorizontal()){var l=r.width/o,u=l*(e-r.minIndex);return(r.options.gridLines.offsetGridLines&&i||r.maxIndex===r.minIndex&&i)&&(u+=l/2),r.left+Math.round(u)}var c=r.height/o,d=c*(e-r.minIndex);return r.options.gridLines.offsetGridLines&&i&&(d+=c/2),r.top+Math.round(d)},getPixelForTick:function(t,e){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null,e)},getValueForPixel:function(t){var e,n=this,i=Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),r=n.isHorizontal(),o=(r?n.width:n.height)/i;return t-=r?n.left:n.top,n.options.gridLines.offsetGridLines&&(t-=o/2),e=t<=0?0:Math.round(t/o)},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",i,n)}},{}],44:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:t.Ticks.formatters.linear}},i=t.LinearScaleBase.extend({determineDataLimits:function(){function t(t){return s?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,i=n.options,r=n.chart,o=r.data,a=o.datasets,s=n.isHorizontal();n.min=null,n.max=null;var l=i.stacked;if(void 0===l&&e.each(a,function(e,n){if(!l){var i=r.getDatasetMeta(n);r.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(l=!0)}}),i.stacked||l){var u={};e.each(a,function(o,a){var s=r.getDatasetMeta(a),l=[s.type,void 0===i.stacked&&void 0===s.stack?a:"",s.stack].join(".");void 0===u[l]&&(u[l]={positiveValues:[],negativeValues:[]});var c=u[l].positiveValues,d=u[l].negativeValues;r.isDatasetVisible(a)&&t(s)&&e.each(o.data,function(t,e){var r=+n.getRightValue(t);isNaN(r)||s.data[e].hidden||(c[e]=c[e]||0,d[e]=d[e]||0,i.relativePoints?c[e]=100:r<0?d[e]+=r:c[e]+=r)})}),e.each(u,function(t){var i=t.positiveValues.concat(t.negativeValues),r=e.min(i),o=e.max(i);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?o:Math.max(n.max,o)})}else e.each(a,function(i,o){var a=r.getDatasetMeta(o);r.isDatasetVisible(o)&&t(a)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,r=i.options.ticks;if(i.isHorizontal())n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.width/50));else{var o=e.getValueOrDefault(r.fontSize,t.defaults.global.defaultFontSize);n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.height/(2*o)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e,n=this,i=n.start,r=+n.getRightValue(t),o=n.end-i;return n.isHorizontal()?(e=n.left+n.width/o*(r-i),Math.round(e)):(e=n.bottom-n.height/o*(r-i),Math.round(e))},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});t.scaleService.registerScaleType("linear",i,n)}},{}],45:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n=e.noop;t.LinearScaleBase=t.Scale.extend({handleTickRangeOptions:function(){var t=this,n=t.options,i=n.ticks;if(i.beginAtZero){var r=e.sign(t.min),o=e.sign(t.max);r<0&&o<0?t.max=0:r>0&&o>0&&(t.min=0)}void 0!==i.min?t.min=i.min:void 0!==i.suggestedMin&&(t.min=Math.min(t.min,i.suggestedMin)),void 0!==i.max?t.max=i.max:void 0!==i.suggestedMax&&(t.max=Math.max(t.max,i.suggestedMax)),t.min===t.max&&(t.max++,i.beginAtZero||t.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var n=this,i=n.options,r=i.ticks,o=n.getTickLimit();o=Math.max(2,o);var a={maxTicks:o,min:r.min,max:r.max,stepSize:e.getValueOrDefault(r.fixedStepSize,r.stepSize)},s=n.ticks=t.Ticks.generators.linear(a,n);n.handleDirectionalChanges(),n.max=e.max(s),n.min=e.min(s),r.reverse?(s.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),t.Scale.prototype.convertTicksToLabels.call(e)}})}},{}],46:[function(t,e,n){"use strict";e.exports=function(t){var e=t.helpers,n={position:"left",ticks:{callback:t.Ticks.formatters.logarithmic}},i=t.Scale.extend({determineDataLimits:function(){function t(t){return u?t.xAxisID===n.id:t.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,o=n.chart,a=o.data,s=a.datasets,l=e.getValueOrDefault,u=n.isHorizontal();n.min=null,n.max=null,n.minNotZero=null;var c=i.stacked;if(void 0===c&&e.each(s,function(e,n){if(!c){var i=o.getDatasetMeta(n);o.isDatasetVisible(n)&&t(i)&&void 0!==i.stack&&(c=!0)}}),i.stacked||c){var d={};e.each(s,function(r,a){var s=o.getDatasetMeta(a),l=[s.type,void 0===i.stacked&&void 0===s.stack?a:"",s.stack].join(".");o.isDatasetVisible(a)&&t(s)&&(void 0===d[l]&&(d[l]=[]),e.each(r.data,function(t,e){var r=d[l],o=+n.getRightValue(t);isNaN(o)||s.data[e].hidden||(r[e]=r[e]||0,i.relativePoints?r[e]=100:r[e]+=o)}))}),e.each(d,function(t){var i=e.min(t),r=e.max(t);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?r:Math.max(n.max,r)})}else e.each(s,function(i,r){var a=o.getDatasetMeta(r);o.isDatasetVisible(r)&&t(a)&&e.each(i.data,function(t,e){var i=+n.getRightValue(t);isNaN(i)||a.data[e].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i),0!==i&&(null===n.minNotZero||i<n.minNotZero)&&(n.minNotZero=i))})});n.min=l(r.min,n.min),n.max=l(r.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(e.log10(n.min))-1),n.max=Math.pow(10,Math.floor(e.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){var n=this,i=n.options,r=i.ticks,o={min:r.min,max:r.max},a=n.ticks=t.Ticks.generators.logarithmic(o,n);n.isHorizontal()||a.reverse(),n.max=e.max(a),n.min=e.min(a),r.reverse?(a.reverse(),n.start=n.max,n.end=n.min):(n.start=n.min,n.end=n.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),t.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},getPixelForValue:function(t){var n,i,r,o=this,a=o.start,s=+o.getRightValue(t),l=o.options,u=l.ticks;return o.isHorizontal()?(r=e.log10(o.end)-e.log10(a),0===s?i=o.left:(n=o.width,i=o.left+n/r*(e.log10(s)-e.log10(a)))):(n=o.height,0!==a||u.reverse?0===o.end&&u.reverse?(r=e.log10(o.start)-e.log10(o.minNotZero),i=s===o.end?o.top:s===o.minNotZero?o.top+.02*n:o.top+.02*n+.98*n/r*(e.log10(s)-e.log10(o.minNotZero))):(r=e.log10(o.end)-e.log10(a),n=o.height,i=o.bottom-n/r*(e.log10(s)-e.log10(a))):(r=e.log10(o.end)-e.log10(o.minNotZero),i=s===a?o.bottom:s===o.minNotZero?o.bottom-.02*n:o.bottom-.02*n-.98*n/r*(e.log10(s)-e.log10(o.minNotZero)))),i},getValueForPixel:function(t){var n,i,r=this,o=e.log10(r.end)-e.log10(r.start);return r.isHorizontal()?(i=r.width,n=r.start*Math.pow(10,(t-r.left)*o/i)):(i=r.height,n=Math.pow(10,(r.bottom-t)*o/i)/r.start),n}});t.scaleService.registerScaleType("logarithmic",i,n)}},{}],47:[function(t,e,n){"use strict";e.exports=function(t){function e(t){return t.options.lineArc?0:t.chart.data.labels.length}function n(t){var e=t.options.pointLabels,n=f.getValueOrDefault(e.fontSize,p.defaultFontSize),i=f.getValueOrDefault(e.fontStyle,p.defaultFontStyle),r=f.getValueOrDefault(e.fontFamily,p.defaultFontFamily),o=f.fontString(n,i,r);return{size:n,style:i,family:r,font:o}}function i(t,e,n){return f.isArray(n)?{w:f.longestText(t,t.font,n),h:n.length*e+1.5*(n.length-1)*e}:{w:t.measureText(n).width,h:e}}function r(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function o(t){var o,a,s,l=n(t),u=Math.min(t.height/2,t.width/2),c={l:t.width,r:0,t:t.height,b:0},d={};t.ctx.font=l.font,t._pointLabelSizes=[];var h=e(t);for(o=0;o<h;o++){s=t.getPointPosition(o,u),a=i(t.ctx,l.size,t.pointLabels[o]||""),t._pointLabelSizes[o]=a;var p=t.getIndexAngle(o),m=f.toDegrees(p)%360,g=r(m,s.x,a.w,0,180),v=r(m,s.y,a.h,90,270);g.start<c.l&&(c.l=g.start,d.l=p),g.end>c.r&&(c.r=g.end,d.r=p),v.start<c.t&&(c.t=v.start,d.t=p),v.end>c.b&&(c.b=v.end,d.b=p)}t.setReductions(u,c,d)}function a(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function s(t){return 0===t||180===t?"center":t<180?"left":"right"}function l(t,e,n,i){if(f.isArray(e))for(var r=n.y,o=1.5*i,a=0;a<e.length;++a)t.fillText(e[a],n.x,r),r+=o;else t.fillText(e,n.x,n.y)}function u(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function c(t){var i=t.ctx,r=f.getValueOrDefault,o=t.options,a=o.angleLines,c=o.pointLabels;i.lineWidth=a.lineWidth,i.strokeStyle=a.color;var d=t.getDistanceFromCenterForValue(o.reverse?t.min:t.max),h=n(t);i.textBaseline="top";for(var m=e(t)-1;m>=0;m--){if(a.display){var g=t.getPointPosition(m,d);i.beginPath(),i.moveTo(t.xCenter,t.yCenter),i.lineTo(g.x,g.y),i.stroke(),i.closePath()}var v=t.getPointPosition(m,d+5),y=r(c.fontColor,p.defaultFontColor);i.font=h.font,i.fillStyle=y;var _=t.getIndexAngle(m),b=f.toDegrees(_);i.textAlign=s(b),u(b,t._pointLabelSizes[m],v),l(i,t.pointLabels[m]||"",v,h.size)}}function d(t,n,i,r){var o=t.ctx;if(o.strokeStyle=f.getValueAtIndexOrDefault(n.color,r-1),o.lineWidth=f.getValueAtIndexOrDefault(n.lineWidth,r-1),t.options.lineArc)o.beginPath(),o.arc(t.xCenter,t.yCenter,i,0,2*Math.PI),o.closePath(),o.stroke();else{var a=e(t);if(0===a)return;o.beginPath();var s=t.getPointPosition(0,i);o.moveTo(s.x,s.y);for(var l=1;l<a;l++)s=t.getPointPosition(l,i),o.lineTo(s.x,s.y);o.closePath(),o.stroke()}}function h(t){return f.isNumber(t)?t:0}var f=t.helpers,p=t.defaults.global,m={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:t.Ticks.formatters.linear},pointLabels:{fontSize:10,callback:function(t){return t}}},g=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,n=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var i=f.min([t.height,t.width]),r=f.getValueOrDefault(n.fontSize,p.defaultFontSize);t.drawingArea=e.display?i/2-(r/2+n.backdropPaddingY):i/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;f.each(e.data.datasets,function(r,o){if(e.isDatasetVisible(o)){var a=e.getDatasetMeta(o);f.each(r.data,function(e,r){var o=+t.getRightValue(e);isNaN(o)||a.data[r].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=f.getValueOrDefault(t.fontSize,p.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.lineArc?a(this):o(this)},setReductions:function(t,e,n){var i=this,r=e.l/Math.sin(n.l),o=Math.max(e.r-i.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-i.height,0)/Math.cos(n.b);r=h(r),o=h(o),a=h(a),s=h(s),i.drawingArea=Math.min(Math.round(t-(r+o)/2),Math.round(t-(a+s)/2)),i.setCenterPoint(r,o,a,s)},setCenterPoint:function(t,e,n,i){var r=this,o=r.width-e-r.drawingArea,a=t+r.drawingArea,s=n+r.drawingArea,l=r.height-i-r.drawingArea;r.xCenter=Math.round((a+o)/2+r.left),r.yCenter=Math.round((s+l)/2+r.top)},getIndexAngle:function(t){var n=2*Math.PI/e(this),i=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,r=i*Math.PI*2/360;return t*n+r},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(i)*e)+n.xCenter,y:Math.round(Math.sin(i)*e)+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,n=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,i=e.ticks,r=f.getValueOrDefault;if(e.display){var o=t.ctx,a=r(i.fontSize,p.defaultFontSize),s=r(i.fontStyle,p.defaultFontStyle),l=r(i.fontFamily,p.defaultFontFamily),u=f.fontString(a,s,l);f.each(t.ticks,function(s,l){if(l>0||e.reverse){var c=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),h=t.yCenter-c;if(n.display&&0!==l&&d(t,n,c,l),i.display){var f=r(i.fontColor,p.defaultFontColor);if(o.font=u,i.showLabelBackdrop){var m=o.measureText(s).width;o.fillStyle=i.backdropColor,o.fillRect(t.xCenter-m/2-i.backdropPaddingX,h-a/2-i.backdropPaddingY,m+2*i.backdropPaddingX,a+2*i.backdropPaddingY)}o.textAlign="center",o.textBaseline="middle",o.fillStyle=f,o.fillText(s,t.xCenter,h)}}}),e.lineArc||c(t)}}});t.scaleService.registerScaleType("radialLinear",g,m)}},{}],48:[function(t,e,n){"use strict";var i=t(1);i="function"==typeof i?i:window.moment,e.exports=function(t){var e=t.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},r={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},o=t.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");t.Scale.prototype.initialize.call(this)},getLabelMoment:function(t,e){return null===t||null===e?null:"undefined"!=typeof this.labelMoments[t]?this.labelMoments[t][e]:null},getLabelDiff:function(t,e){var n=this;return null===t||null===e?null:(void 0===n.labelDiffs&&n.buildLabelDiffs(),"undefined"!=typeof n.labelDiffs[t]?n.labelDiffs[t][e]:null)},getMomentStartOf:function(t){var e=this;return"week"===e.options.time.unit&&e.options.time.isoWeekday!==!1?t.clone().startOf("isoWeek").isoWeekday(e.options.time.isoWeekday):t.clone().startOf(e.tickUnit)},determineDataLimits:function(){var t=this;t.labelMoments=[];var n=[];t.chart.data.labels&&t.chart.data.labels.length>0?(e.each(t.chart.data.labels,function(e){var i=t.parseTime(e);i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),n.push(i))},t),t.firstTick=i.min.call(t,n),t.lastTick=i.max.call(t,n)):(t.firstTick=null,t.lastTick=null),e.each(t.chart.data.datasets,function(r,o){var a=[],s=t.chart.isDatasetVisible(o);"object"==typeof r.data[0]&&null!==r.data[0]?e.each(r.data,function(e){var n=t.parseTime(t.getRightValue(e));n.isValid()&&(t.options.time.round&&n.startOf(t.options.time.round),a.push(n),s&&(t.firstTick=null!==t.firstTick?i.min(t.firstTick,n):n,t.lastTick=null!==t.lastTick?i.max(t.lastTick,n):n))},t):a=n,t.labelMoments.push(a)},t),t.options.time.min&&(t.firstTick=t.parseTime(t.options.time.min)),t.options.time.max&&(t.lastTick=t.parseTime(t.options.time.max)),t.firstTick=(t.firstTick||i()).clone(),t.lastTick=(t.lastTick||i()).clone()},buildLabelDiffs:function(){var t=this;t.labelDiffs=[];var n=[];t.chart.data.labels&&t.chart.data.labels.length>0&&e.each(t.chart.data.labels,function(e){var i=t.parseTime(e);i.isValid()&&(t.options.time.round&&i.startOf(t.options.time.round),n.push(i.diff(t.firstTick,t.tickUnit,!0)))},t),e.each(t.chart.data.datasets,function(i){var r=[];"object"==typeof i.data[0]&&null!==i.data[0]?e.each(i.data,function(e){var n=t.parseTime(t.getRightValue(e));n.isValid()&&(t.options.time.round&&n.startOf(t.options.time.round),r.push(n.diff(t.firstTick,t.tickUnit,!0)))},t):r=n,t.labelDiffs.push(r)},t)},buildTicks:function(){var i=this;i.ctx.save();var r=e.getValueOrDefault(i.options.ticks.fontSize,t.defaults.global.defaultFontSize),o=e.getValueOrDefault(i.options.ticks.fontStyle,t.defaults.global.defaultFontStyle),a=e.getValueOrDefault(i.options.ticks.fontFamily,t.defaults.global.defaultFontFamily),s=e.fontString(r,o,a);if(i.ctx.font=s,i.ticks=[],i.unitScale=1,i.scaleSizeInUnits=0,i.options.time.unit)i.tickUnit=i.options.time.unit||"day",i.displayFormat=i.options.time.displayFormats[i.tickUnit],i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,1);else{var l=i.isHorizontal()?i.width:i.height,u=i.tickFormatFunction(i.firstTick,0,[]),c=i.ctx.measureText(u).width,d=Math.cos(e.toRadians(i.options.ticks.maxRotation)),h=Math.sin(e.toRadians(i.options.ticks.maxRotation));c=c*d+r*h;var f=l/c;i.tickUnit=i.options.time.minUnit,i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0),i.displayFormat=i.options.time.displayFormats[i.tickUnit];for(var p=0,m=n.units[p];p<n.units.length;){if(i.unitScale=1,e.isArray(m.steps)&&Math.ceil(i.scaleSizeInUnits/f)<e.max(m.steps)){for(var g=0;g<m.steps.length;++g)if(m.steps[g]>=Math.ceil(i.scaleSizeInUnits/f)){i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,m.steps[g]);break}break}if(m.maxStep===!1||Math.ceil(i.scaleSizeInUnits/f)<m.maxStep){i.unitScale=e.getValueOrDefault(i.options.time.unitStepSize,Math.ceil(i.scaleSizeInUnits/f));break}++p,m=n.units[p],i.tickUnit=m.name;var v=i.firstTick.diff(i.getMomentStartOf(i.firstTick),i.tickUnit,!0),y=i.getMomentStartOf(i.lastTick.clone().add(1,i.tickUnit)).diff(i.lastTick,i.tickUnit,!0);i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)+v+y,i.displayFormat=i.options.time.displayFormats[m.name]}}var _;if(i.options.time.min?_=i.getMomentStartOf(i.firstTick):(i.firstTick=i.getMomentStartOf(i.firstTick),_=i.firstTick),!i.options.time.max){var b=i.getMomentStartOf(i.lastTick),E=b.diff(i.lastTick,i.tickUnit,!0);E<0?i.lastTick=i.getMomentStartOf(i.lastTick.add(1,i.tickUnit)):E>=0&&(i.lastTick=b),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0)}i.options.time.displayFormat&&(i.displayFormat=i.options.time.displayFormat),i.ticks.push(i.firstTick.clone());for(var x=i.unitScale;x<=i.scaleSizeInUnits;x+=i.unitScale){var C=_.clone().add(x,i.tickUnit);if(i.options.time.max&&C.diff(i.lastTick,i.tickUnit,!0)>=0)break;i.ticks.push(C)}var T=i.ticks[i.ticks.length-1].diff(i.lastTick,i.tickUnit);0===T&&0!==i.scaleSizeInUnits||(i.options.time.max?(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.ticks[0],i.tickUnit,!0)):(i.ticks.push(i.lastTick.clone()),i.scaleSizeInUnits=i.lastTick.diff(i.firstTick,i.tickUnit,!0))),i.ctx.restore(),i.labelDiffs=void 0},getLabelForIndex:function(t,e){var n=this,i=n.chart.data.labels&&t<n.chart.data.labels.length?n.chart.data.labels[t]:"",r=n.chart.data.datasets[e].data[t];return null!==r&&"object"==typeof r&&(i=n.getRightValue(r)),n.options.time.tooltipFormat&&(i=n.parseTime(i).format(n.options.time.tooltipFormat)),i},tickFormatFunction:function(t,n,i){var r=t.format(this.displayFormat),o=this.options.ticks,a=e.getValueOrDefault(o.callback,o.userCallback);return a?a(r,n,i):r},convertTicksToLabels:function(){var t=this;t.tickMoments=t.ticks,t.ticks=t.ticks.map(t.tickFormatFunction,t)},getPixelForValue:function(t,e,n){var i=this,r=null;if(void 0!==e&&void 0!==n&&(r=i.getLabelDiff(n,e)),null===r&&(t&&t.isValid||(t=i.parseTime(i.getRightValue(t))),t&&t.isValid&&t.isValid()&&(r=t.diff(i.firstTick,i.tickUnit,!0))),null!==r){var o=0!==r?r/i.scaleSizeInUnits:r;if(i.isHorizontal()){var a=i.width*o;return i.left+Math.round(a)}var s=i.height*o;return i.top+Math.round(s)}},getPixelForTick:function(t){return this.getPixelForValue(this.tickMoments[t],null,null)},getValueForPixel:function(t){var e=this,n=e.isHorizontal()?e.width:e.height,r=(t-(e.isHorizontal()?e.left:e.top))/n;return r*=e.scaleSizeInUnits,e.firstTick.clone().add(i.duration(r,e.tickUnit).asSeconds(),"seconds")},parseTime:function(t){var e=this;return"string"==typeof e.options.time.parser?i(t,e.options.time.parser):"function"==typeof e.options.time.parser?e.options.time.parser(t):"function"==typeof t.getMonth||"number"==typeof t?i(t):t.isValid&&t.isValid()?t:"string"!=typeof e.options.time.format&&e.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),e.options.time.format(t)):i(t,e.options.time.format)}});t.scaleService.registerScaleType("time",o,r)}},{1:1}]},{},[7])(7)}),this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i){n[(e+="_")+"constructor"]=i.constructor;for(var r in i)n.hasOwnProperty(r)&&"function"==typeof i[r]&&(n[e+r]=i[r])}return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var r=i[t];return r&&this.removeEventListener(t,e,n),r=i[t],r?r.push(e):i[t]=[e],e},e.on=function(t,e,n,i,r,o){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,r),i&&t.remove()},o)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var r=i[t];if(r)for(var o=0,a=r.length;o<a;o++)if(r[o]==e){1==a?delete i[t]:r.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!(e||i&&i[t]))return!0;t=new createjs.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());
try{t.target=this}catch(r){}if(t.bubbles&&this.parent){for(var o=this,a=[o];o.parent;)a.push(o=o.parent);var s,l=a.length;for(s=l-1;s>=0&&!t.propagationStopped;s--)a[s]._dispatchEvent(t,1+(0==s));for(s=1;s<l&&!t.propagationStopped;s++)a[s]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i=1==e?this._captureListeners:this._listeners;if(t&&i){var r=i[t.type];if(!r||!(n=r.length))return;try{t.currentTarget=this}catch(o){}try{t.eventPhase=e}catch(o){}t.removed=!1,r=r.slice();for(var a=0;a<n&&!t.immediatePropagationStopped;a++){var s=r[a];s.handleEvent?s.handleEvent(t):s(t),t.removed&&(this.off(t.type,s,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval};try{Object.defineProperties(t,{interval:{get:t.getInterval,set:t.setInterval},framerate:{get:t.getFPS,set:t.setFPS}})}catch(e){console.log(e)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=0,t._inited=!1},t.getMeasuredTickTime=function(e){var n=0,i=t._tickTimes;if(!i||i.length<1)return-1;e=Math.min(i.length,e||0|t.getFPS());for(var r=0;r<e;r++)n+=i[r];return n/e},t.getMeasuredFPS=function(e){var n=t._times;return!n||n.length<2?-1:(e=Math.min(n.length-1,e||0|t.getFPS()),1e3/((n[0]-n[e])/e))},t.setPaused=function(e){t.paused=e},t.getPaused=function(){return t.paused},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return t._timerId=n(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,n=t._getTime(),i=n-t._lastTime;if(t._lastTime=n,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=i),t.hasEventListener("tick")){var r=new createjs.Event("tick"),o=t.maxDelta;r.delta=o&&i>o?o:i,r.paused=e,r.time=n,r.runTime=n-t._pausedTime,t.dispatchEvent(r)}for(t._tickTimes.unshift(t._getTime()-n);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(n);t._times.length>100;)t._times.pop()};var n=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return(n&&n.call(performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,o,a,s,l,u,c){this.Event_constructor(t,e,n),this.stageX=i,this.stageY=r,this.rawX=null==l?i:l,this.rawY=null==u?r:u,this.nativeEvent=o,this.pointerID=a,this.primary=!!s,this.relatedTarget=c}var e=createjs.extend(t,createjs.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return this.pointerID!==-1};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(n){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,o){this.setValues(t,e,n,i,r,o)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,n,i,r,o){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==i?1:i,this.tx=r||0,this.ty=o||0,this},e.append=function(t,e,n,i,r,o){var a=this.a,s=this.b,l=this.c,u=this.d;return 1==t&&0==e&&0==n&&1==i||(this.a=a*t+l*e,this.b=s*t+u*e,this.c=a*n+l*i,this.d=s*n+u*i),this.tx=a*r+l*o+this.tx,this.ty=s*r+u*o+this.ty,this},e.prepend=function(t,e,n,i,r,o){var a=this.a,s=this.c,l=this.tx;return this.a=t*a+n*this.b,this.b=e*a+i*this.b,this.c=t*s+n*this.d,this.d=e*s+i*this.d,this.tx=t*l+n*this.ty+r,this.ty=e*l+i*this.ty+o,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,n,i,r,o,a,s,l,u){if(o%360)var c=o*t.DEG_TO_RAD,d=Math.cos(c),h=Math.sin(c);else d=1,h=0;return a||s?(a*=t.DEG_TO_RAD,s*=t.DEG_TO_RAD,this.append(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),e,n),this.append(d*i,h*i,-h*r,d*r,0,0)):this.append(d*i,h*i,-h*r,d*r,e,n),(l||u)&&(this.tx-=l*this.a+u*this.c,this.ty-=l*this.b+u*this.d),this},e.prependTransform=function(e,n,i,r,o,a,s,l,u){if(o%360)var c=o*t.DEG_TO_RAD,d=Math.cos(c),h=Math.sin(c);else d=1,h=0;return(l||u)&&(this.tx-=l,this.ty-=u),a||s?(a*=t.DEG_TO_RAD,s*=t.DEG_TO_RAD,this.prepend(d*i,h*i,-h*r,d*r,0,0),this.prepend(Math.cos(s),Math.sin(s),-Math.sin(a),Math.cos(a),e,n)):this.prepend(d*i,h*i,-h*r,d*r,e,n),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),i=Math.sin(e),r=this.a,o=this.b;return this.a=r*n+this.c*i,this.b=o*n+this.d*i,this.c=-r*i+this.c*n,this.d=-o*i+this.d*n,this},e.skew=function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,o=t*i-e*n;return this.a=i/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*r)/o,this.ty=-(t*this.ty-e*r)/o,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,n){return n=n||{},n.x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a),r=Math.abs(1-n/i);return r<1e-5?(e.rotation=i/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=i/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r){this.setValues(t,e,n,i,r)}var e=t.prototype;e.setValues=function(t,e,n,i,r){return this.visible=null==t||!!t,this.alpha=null==e?1:e,this.shadow=n,this.compositeOperation=i,this.matrix=r||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},e.append=function(t,e,n,i,r){return this.alpha*=e,this.shadow=n||this.shadow,this.compositeOperation=i||this.compositeOperation,this.visible=this.visible&&t,r&&this.matrix.appendMatrix(r),this},e.prepend=function(t,e,n,i,r){return this.alpha*=e,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||i,this.visible=this.visible&&t,r&&this.matrix.prependMatrix(r),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.setValues(t,e,n,i)}var e=t.prototype;e.setValues=function(t,e,n,i){return this.x=t||0,this.y=e||0,this.width=n||0,this.height=i||0,this},e.extend=function(t,e,n,i){return n=n||0,i=i||0,t+n>this.x+this.width&&(this.width=t+n-this.x),e+i>this.y+this.height&&(this.height=e+i-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,n,i){return this.x-=e,this.y-=t,this.width+=e+i,this.height+=t+n,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,n,i){return n=n||0,i=i||0,t>=this.x&&t+n<=this.x+this.width&&e>=this.y&&e+i<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var n=e.x,i=e.y,r=n+e.width,o=i+e.height;return this.x>n&&(n=this.x),this.y>i&&(i=this.y),this.x+this.width<r&&(r=this.x+this.width),this.y+this.height<o&&(o=this.y+this.height),r<=n||o<=i?null:new t(n,i,r-n,o-i)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,o,a){t.addEventListener&&(this.target=t,this.overLabel=null==n?"over":n,this.outLabel=null==e?"out":e,this.downLabel=null==i?"down":i,this.play=r,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),o&&(a&&(o.actionsEnabled=!1,o.gotoAndStop&&o.gotoAndStop(a)),t.hitArea=o))}var e=t.prototype;e.setEnabled=function(t){if(t!=this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}},e.getEnabled=function(){return this._enabled};try{Object.defineProperties(e,{enabled:{get:e.getEnabled,set:e.setEnabled}})}catch(n){}e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,n=this.target,i=t.type;"mousedown"==i?(this._isPressed=!0,e=this.downLabel):"pressup"==i?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==i?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(e):n.gotoAndStop&&n.gotoAndStop(e)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},createjs.ButtonHelper=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.color=t||"black",this.offsetX=e||0,this.offsetY=n||0,this.blur=i||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=createjs.extend(t,createjs.EventDispatcher);e.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(e,{animations:{get:e.getAnimations}})}catch(n){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var n=this.getFrame(t);return n?(e||new createjs.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,n,i,r;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(n=t.images.length)>0)for(r=this._images=[],e=0;e<n;e++){var o=t.images[e];if("string"==typeof o){var a=o;o=document.createElement("img"),o.src=a}r.push(o),o.getContext||o.naturalWidth||(this._loadCount++,this.complete=!1,function(t,e){o.onload=function(){t._handleImageLoad(e)}}(this,a),function(t,e){o.onerror=function(){t._handleImageError(e)}}(this,a))}if(null==t.frames);else if(Array.isArray(t.frames))for(this._frames=[],r=t.frames,e=0,n=r.length;e<n;e++){var s=r[e];this._frames.push({image:this._images[s[4]?s[4]:0],rect:new createjs.Rectangle(s[0],s[1],s[2],s[3]),regX:s[5]||0,regY:s[6]||0})}else i=t.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(i=t.animations)){this._data={};var l;for(l in i){var u={name:l},c=i[l];if("number"==typeof c)r=u.frames=[c];else if(Array.isArray(c))if(1==c.length)u.frames=[c[0]];else for(u.speed=c[3],u.next=c[2],r=u.frames=[],e=c[0];e<=c[1];e++)r.push(e);else{u.speed=c.speed,u.next=c.next;var d=c.frames;r=u.frames="number"==typeof d?[d]:d.slice(0)}u.next!==!0&&void 0!==u.next||(u.next=l),(u.next===!1||r.length<2&&u.next==l)&&(u.next=null),u.speed||(u.speed=1),this._animations.push(l),this._data[l]=u}}}},e._handleImageLoad=function(t){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._handleImageError=function(t){var e=new createjs.Event("error");e.src=t,this.dispatchEvent(e),0==--this._loadCount&&this.dispatchEvent("complete")},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,n=this._frameWidth,i=this._frameHeight,r=this._spacing,o=this._margin;t:for(var a=0,s=this._images;a<s.length;a++)for(var l=s[a],u=l.width,c=l.height,d=o;d<=c-o-i;){for(var h=o;h<=u-o-n;){if(e>=t)break t;e++,this._frames.push({image:l,rect:new createjs.Rectangle(h,d,n,i),regX:this._regX,regY:this._regY}),h+=n+r}d+=i+r}this._numFrames=e}},createjs.SpriteSheet=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,n=t;t.getRGB=function(t,e,n,i){return null!=t&&null==n&&(i=e,n=255&t,e=t>>8&255,t=t>>16&255),null==i?"rgb("+t+","+e+","+n+")":"rgba("+t+","+e+","+n+","+i+")"},t.getHSL=function(t,e,n,i){return null==i?"hsl("+t%360+","+e+"%,"+n+"%)":"hsla("+t%360+","+e+"%,"+n+"%,"+i+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._ctx=i.getContext("2d"),i.width=i.height=1),e.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(e,{instructions:{get:e.getInstructions}})}catch(r){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var n=this._instructions,i=this._storeIndex,r=n.length;i<r;i++)n[i].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,n=this._instructions,i=this._storeIndex,r=n.length;i<r;i++)(e=n[i]).path!==!1&&e.exec(t)},e.moveTo=function(t,e){return this.append(new n.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new n.LineTo(t,e))},e.arcTo=function(t,e,i,r,o){return this.append(new n.ArcTo(t,e,i,r,o))},e.arc=function(t,e,i,r,o,a){return this.append(new n.Arc(t,e,i,r,o,a))},e.quadraticCurveTo=function(t,e,i,r){return this.append(new n.QuadraticCurveTo(t,e,i,r))},e.bezierCurveTo=function(t,e,i,r,o,a){return this.append(new n.BezierCurveTo(t,e,i,r,o,a))},e.rect=function(t,e,i,r){return this.append(new n.Rect(t,e,i,r))},e.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new n.Fill(t):null)},e.beginLinearGradientFill=function(t,e,i,r,o,a){return this._setFill((new n.Fill).linearGradient(t,e,i,r,o,a))},e.beginRadialGradientFill=function(t,e,i,r,o,a,s,l){return this._setFill((new n.Fill).radialGradient(t,e,i,r,o,a,s,l))},e.beginBitmapFill=function(t,e,i){return this._setFill(new n.Fill(null,i).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,i,r,o){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(t,e,i,r,o),this._stroke&&(this._stroke.ignoreScale=o),this._strokeIgnoreScale=o,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new n.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,i,r,o,a){return this._setStroke((new n.Stroke).linearGradient(t,e,i,r,o,a))},e.beginRadialGradientStroke=function(t,e,i,r,o,a,s,l){return this._setStroke((new n.Stroke).radialGradient(t,e,i,r,o,a,s,l))},e.beginBitmapStroke=function(t,e){return this._setStroke((new n.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,n,i,r){return this.drawRoundRectComplex(t,e,n,i,r,r,r,r)},e.drawRoundRectComplex=function(t,e,i,r,o,a,s,l){return this.append(new n.RoundRect(t,e,i,r,o,a,s,l))},e.drawCircle=function(t,e,i){return this.append(new n.Circle(t,e,i))},e.drawEllipse=function(t,e,i,r){return this.append(new n.Ellipse(t,e,i,r))},e.drawPolyStar=function(t,e,i,r,o,a){return this.append(new n.PolyStar(t,e,i,r,o,a))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],i=[2,2,4,6,0],r=0,o=e.length,a=[],s=0,l=0,u=t.BASE_64;r<o;){var c=e.charAt(r),d=u[c],h=d>>3,f=n[h];if(!f||3&d)throw"bad path data (@"+r+"): "+c;var p=i[h];h||(s=l=0),a.length=0,r++;for(var m=(d>>2&1)+2,g=0;g<p;g++){var v=u[e.charAt(r)],y=v>>5?-1:1;v=(31&v)<<6|u[e.charAt(r+1)],3==m&&(v=v<<6|u[e.charAt(r+2)]),v=y*v/10,g%2?s=v+=s:l=v+=l,a[g]=v,r+=m}f.apply(this,a)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var n=this._instructions,i=this._activeInstructions,r=this._commitIndex;if(this._dirty&&i.length){n.length=r,n.push(t.beginCmd);var o=i.length,a=n.length;n.length=a+o;for(var s=0;s<o;s++)n[s+a]=i[s];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,n.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,n.push(this._strokeStyle)),n.push(this._stroke)),this._dirty=!1}e&&(i.length=0,this._commitIndex=n.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(n.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(n.ArcTo=function(t,e,n,i,r){this.x1=t,this.y1=e,this.x2=n,this.y2=i,this.radius=r}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(t,e,n,i,r,o){this.x=t,this.y=e,this.radius=n,this.startAngle=i,this.endAngle=r,this.anticlockwise=!!o}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(t,e,n,i){this.cpx=t,this.cpy=e,this.x=n,this.y=i}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(t,e,n,i,r,o){this.cp1x=t,this.cp1y=e,this.cp2x=n,this.cp2y=i,this.x=r,this.y=o}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(n.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},e=(n.Fill=function(t,e){this.style=t,this.matrix=e}).prototype,e.exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,n,i,r,o,a){for(var s=this.style=t._ctx.createLinearGradient(i,r,o,a),l=0,u=e.length;l<u;l++)s.addColorStop(n[l],e[l]);return s.props={colors:e,ratios:n,x0:i,y0:r,x1:o,y1:a,type:"linear"},this},e.radialGradient=function(e,n,i,r,o,a,s,l){for(var u=this.style=t._ctx.createRadialGradient(i,r,o,a,s,l),c=0,d=e.length;c<d;c++)u.addColorStop(n[c],e[c]);return u.props={colors:e,ratios:n,x0:i,y0:r,r0:o,x1:a,y1:s,r1:l,type:"radial"},this},e.bitmap=function(e,n){if(e.naturalWidth||e.getContext||e.readyState>=2){var i=this.style=t._ctx.createPattern(e,n||"");i.props={image:e,repetition:n,type:"bitmap"}}return this},e.path=!1,e=(n.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype,e.exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=n.Fill.prototype.linearGradient,e.radialGradient=n.Fill.prototype.radialGradient,e.bitmap=n.Fill.prototype.bitmap,e.path=!1,e=(n.StrokeStyle=function(t,e,n,i,r){this.width=t,this.caps=e,this.joints=n,this.miterLimit=i,this.ignoreScale=r}).prototype,e.exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit,e.ignoreScale=null!=this.ignoreScale&&this.ignoreScale},e.path=!1,(n.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(t,e,n,i,r,o,a,s){this.x=t,this.y=e,this.w=n,this.h=i,this.radiusTL=r,this.radiusTR=o,this.radiusBR=a,this.radiusBL=s}).prototype.exec=function(t){var e=(l<u?l:u)/2,n=0,i=0,r=0,o=0,a=this.x,s=this.y,l=this.w,u=this.h,c=this.radiusTL,d=this.radiusTR,h=this.radiusBR,f=this.radiusBL;c<0&&(c*=n=-1),c>e&&(c=e),d<0&&(d*=i=-1),d>e&&(d=e),h<0&&(h*=r=-1),h>e&&(h=e),f<0&&(f*=o=-1),f>e&&(f=e),t.moveTo(a+l-d,s),t.arcTo(a+l+d*i,s-d*i,a+l,s+d,d),t.lineTo(a+l,s+u-h),t.arcTo(a+l+h*r,s+u+h*r,a+l-h,s+u,h),t.lineTo(a+f,s+u),t.arcTo(a-f*o,s+u+f*o,a,s+u-f,f),t.lineTo(a,s+c),t.arcTo(a-c*n,s-c*n,a+c,s,c),t.closePath()},(n.Circle=function(t,e,n){this.x=t,this.y=e,this.radius=n}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(t,e,n,i){this.x=t,this.y=e,this.w=n,this.h=i}).prototype.exec=function(t){var e=this.x,n=this.y,i=this.w,r=this.h,o=.5522848,a=i/2*o,s=r/2*o,l=e+i,u=n+r,c=e+i/2,d=n+r/2;t.moveTo(e,d),t.bezierCurveTo(e,d-s,c-a,n,c,n),t.bezierCurveTo(c+a,n,l,d-s,l,d),t.bezierCurveTo(l,d+s,c+a,u,c,u),t.bezierCurveTo(c-a,u,e,d+s,e,d)},(n.PolyStar=function(t,e,n,i,r,o){this.x=t,this.y=e,this.radius=n,this.sides=i,this.pointSize=r,this.angle=o}).prototype.exec=function(t){var e=this.x,n=this.y,i=this.radius,r=(this.angle||0)/180*Math.PI,o=this.sides,a=1-(this.pointSize||0),s=Math.PI/o;t.moveTo(e+Math.cos(r)*i,n+Math.sin(r)*i);for(var l=0;l<o;l++)r+=s,1!=a&&t.lineTo(e+Math.cos(r)*i*a,n+Math.sin(r)*i*a),r+=s,t.lineTo(e+Math.cos(r)*i,n+Math.sin(r)*i);t.closePath()},t.beginCmd=new n.BeginPath,createjs.Graphics=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null}var e=createjs.extend(t,createjs.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1;var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(t._hitTestCanvas=n,t._hitTestContext=n.getContext("2d"),n.width=n.height=1),t._nextCacheID=1,e.getStage=function(){for(var t=this,e=createjs.Stage;t.parent;)t=t.parent;return t instanceof e?t:null};try{Object.defineProperties(e,{stage:{get:e.getStage}})}catch(i){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var n=this.cacheCanvas;if(e||!n)return!1;var i=this._cacheScale;return t.drawImage(n,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,n.width/i,n.height/i),!0},e.updateContext=function(e){var n=this,i=n.mask,r=n._props.matrix;i&&i.graphics&&!i.graphics.isEmpty()&&(i.getMatrix(r),e.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.graphics.drawAsPath(e),e.clip(),r.invert(),e.transform(r.a,r.b,r.c,r.d,r.tx,r.ty)),this.getMatrix(r);var o=r.tx,a=r.ty;t._snapToPixelEnabled&&n.snapToPixel&&(o=o+(o<0?-.5:.5)|0,a=a+(a<0?-.5:.5)|0),e.transform(r.a,r.b,r.c,r.d,o,a),e.globalAlpha*=n.alpha,n.compositeOperation&&(e.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(e,n.shadow)},e.cache=function(t,e,n,i,r){r=r||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=i,this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=r,this.updateCache()},e.updateCache=function(e){var n=this.cacheCanvas;if(!n)throw"cache() must be called before updateCache()";var i=this._cacheScale,r=this._cacheOffsetX*i,o=this._cacheOffsetY*i,a=this._cacheWidth,s=this._cacheHeight,l=n.getContext("2d"),u=this._getFilterBounds();r+=this._filterOffsetX=u.x,o+=this._filterOffsetY=u.y,a=Math.ceil(a*i)+u.width,s=Math.ceil(s*i)+u.height,a!=n.width||s!=n.height?(n.width=a,n.height=s):e||l.clearRect(0,0,a+1,s+1),l.save(),l.globalCompositeOperation=e,l.setTransform(i,0,0,i,-r,-o),this.draw(l,!0),this._applyFilters(),l.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),
this._cacheDataURL):null},e.localToGlobal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,n||new createjs.Point)},e.globalToLocal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,n||new createjs.Point)},e.localToLocal=function(t,e,n,i){return i=this.localToGlobal(t,e,i),n.globalToLocal(i.x,i.y,i)},e.setTransform=function(t,e,n,i,r,o,a,s,l){return this.x=t||0,this.y=e||0,this.scaleX=null==n?1:n,this.scaleY=null==i?1:i,this.rotation=r||0,this.skewX=o||0,this.skewY=a||0,this.regX=s||0,this.regY=l||0,this},e.getMatrix=function(t){var e=this,n=t&&t.identity()||new createjs.Matrix2D;return e.transformMatrix?n.copy(e.transformMatrix):n.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,n=this.getMatrix(t);e=e.parent;)n.prependMatrix(e.getMatrix(e._props.matrix));return n},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;var e=this,n=e.getMatrix(t.matrix);do t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&n.prependMatrix(e.getMatrix(e._props.matrix));while(e=e.parent);return t},e.hitTest=function(e,n){var i=t._hitTestContext;i.setTransform(1,0,0,1,-e,-n),this.draw(i);var r=this._testHit(i);return i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,2,2),r},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,n,i){null==t&&(this._bounds=t),this._bounds=(this._bounds||new createjs.Rectangle).setValues(t,e,n,i)},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var n=e.getImageData(0,0,1,1).data[3]>1}catch(i){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,i=this.cacheCanvas.height,r=0;r<t;r++)this.filters[r].applyFilter(e,0,0,n,i)},e._getFilterBounds=function(t){var e,n=this.filters,i=this._rectangle.setValues(0,0,0,0);if(!n||!(e=n.length))return i;for(var r=0;r<e;r++){var o=this.filters[r];o.getBounds&&o.getBounds(i)}return i},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,n){if(!t)return t;var i=t.x,r=t.y,o=t.width,a=t.height,s=this._props.matrix;s=n?s.identity():this.getMatrix(s),(i||r)&&s.appendTransform(0,0,1,1,0,0,0,-i,-r),e&&s.prependMatrix(e);var l=o*s.a,u=o*s.b,c=a*s.c,d=a*s.d,h=s.tx,f=s.ty,p=h,m=h,g=f,v=f;return(i=l+h)<p?p=i:i>m&&(m=i),(i=l+c+h)<p?p=i:i>m&&(m=i),(i=c+h)<p?p=i:i>m&&(m=i),(r=u+f)<g?g=r:r>v&&(v=r),(r=u+d+f)<g?g=r:r>v&&(v=r),(r=d+f)<g?g=r:r>v&&(v=r),t.setValues(p,g,m-p,v-g)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,n=0,i=e.length;n<i;n++)if(this.hasEventListener(e[n]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=createjs.extend(t,createjs.DisplayObject);e.getNumChildren=function(){return this.children.length};try{Object.defineProperties(e,{numChildren:{get:e.getNumChildren}})}catch(n){}e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var n=this.children.slice(),i=0,r=n.length;i<r;i++){var o=n[i];o.isVisible()&&(t.save(),o.updateContext(t),o.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var n=0;n<e;n++)this.addChild(arguments[n]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var n=arguments.length,i=arguments[n-1];if(i<0||i>this.children.length)return arguments[n-2];if(n>2){for(var r=0;r<n-1;r++)this.addChildAt(arguments[r],i+r);return arguments[n-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var n=!0,i=0;i<e;i++)n=n&&this.removeChild(arguments[i]);return n}return this.removeChildAt(createjs.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var n=[],i=0;i<e;i++)n[i]=arguments[i];n.sort(function(t,e){return e-t});for(var r=!0,i=0;i<e;i++)r=r&&this.removeChildAt(n[i]);return r}if(t<0||t>this.children.length-1)return!1;var o=this.children[t];return o&&(o.parent=null),this.children.splice(t,1),o.dispatchEvent("removed"),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)this.removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,n=0,i=e.length;n<i;n++)if(e[n].name==t)return e[n];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return createjs.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var n=this.children,i=n[t],r=n[e];i&&r&&(n[t]=r,n[e]=i)},e.swapChildren=function(t,e){for(var n,i,r=this.children,o=0,a=r.length;o<a&&(r[o]==t&&(n=o),r[o]==e&&(i=o),null==n||null==i);o++);o!=a&&(r[n]=e,r[i]=t)},e.setChildIndex=function(t,e){var n=this.children,i=n.length;if(!(t.parent!=this||e<0||e>=i)){for(var r=0;r<i&&n[r]!=t;r++);r!=i&&r!=e&&(n.splice(r,1),n.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,n){var i=[],r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,i,n>0,1==n),i},e.getObjectUnderPoint=function(t,e,n){var i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y,null,n>0,1==n)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var n=this._cloneProps(new t);return e&&this._cloneChildren(n),n},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var n=this.children[e];n.tickEnabled&&n._tick&&n._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,n=0,i=this.children.length;n<i;n++){var r=this.children[n].clone(!0);r.parent=t,e.push(r)}},e._getObjectsUnderPoint=function(e,n,i,r,o,a){if(a=a||0,!a&&!this._testMask(this,e,n))return null;var s,l=createjs.DisplayObject._hitTestContext;o=o||r&&this._hasMouseEventListener();for(var u=this.children,c=u.length,d=c-1;d>=0;d--){var h=u[d],f=h.hitArea;if(h.visible&&(f||h.isVisible())&&(!r||h.mouseEnabled)&&(f||this._testMask(h,e,n)))if(!f&&h instanceof t){var p=h._getObjectsUnderPoint(e,n,i,r,o,a+1);if(!i&&p)return r&&!this.mouseChildren?this:p}else{if(r&&!o&&!h._hasMouseEventListener())continue;var m=h.getConcatenatedDisplayProps(h._props);if(s=m.matrix,f&&(s.appendMatrix(f.getMatrix(f._props.matrix)),m.alpha=f.alpha),l.globalAlpha=m.alpha,l.setTransform(s.a,s.b,s.c,s.d,s.tx-e,s.ty-n),(f||h).draw(l),!this._testHit(l))continue;if(l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,2,2),!i)return r&&!this.mouseChildren?this:h;i.push(h)}}return null},e._testMask=function(t,e,n){var i=t.mask;if(!i||!i.graphics||i.graphics.isEmpty())return!0;var r=this._props.matrix,o=t.parent;r=o?o.getConcatenatedMatrix(r):r.identity(),r=i.getMatrix(i._props.matrix).prependMatrix(r);var a=createjs.DisplayObject._hitTestContext;return a.setTransform(r.a,r.b,r.c,r.d,r.tx-e,r.ty-n),i.graphics.drawAsPath(a),a.fillStyle="#000",a.fill(),!!this._testHit(a)&&(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!0)},e._getBounds=function(t,e){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,t,e);var i=this._props.matrix;i=e?i.identity():this.getMatrix(i),t&&i.prependMatrix(t);for(var r=this.children.length,o=null,a=0;a<r;a++){var s=this.children[a];s.visible&&(n=s._getBounds(i))&&(o?o.extend(n.x,n.y,n.width,n.height):o=n.clone())}return o},createjs.Container=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=createjs.extend(t,createjs.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(n){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(e?n.clearRect(e.x,e.y,e.width,e.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},e.tick=function(t){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var e=new createjs.Event("tick");if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var n,i=this.canvas.getContext("2d"),r=this.canvas.width,o=this.canvas.height;if(t){n=i.getImageData(0,0,r,o);var a=i.globalCompositeOperation;i.globalCompositeOperation="destination-over",i.fillStyle=t,i.fillRect(0,0,r,o)}var s=this.canvas.toDataURL(e||"image/png");return t&&(i.putImageData(n,0,0),i.globalCompositeOperation=a),s},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(t<=0)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,n,i=this._eventListeners;if(!t&&i){for(e in i)n=i[e],n.t.removeEventListener(e,n.f,!1);this._eventListeners=null}else if(t&&!i&&this.canvas){var r=window.addEventListener?window:document,o=this;i=this._eventListeners={},i.mouseup={t:r,f:function(t){o._handleMouseUp(t)}},i.mousemove={t:r,f:function(t){o._handleMouseMove(t)}},i.dblclick={t:this.canvas,f:function(t){o._handleDoubleClick(t)}},i.mousedown={t:this.canvas,f:function(t){o._handleMouseDown(t)}};for(e in i)n=i[e],n.t.addEventListener(e,n.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(n){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var i=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),r=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),o=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,a=parseInt(o.paddingLeft)+parseInt(o.borderLeftWidth),s=parseInt(o.paddingTop)+parseInt(o.borderTopWidth),l=parseInt(o.paddingRight)+parseInt(o.borderRightWidth),u=parseInt(o.paddingBottom)+parseInt(o.borderBottomWidth);return{left:e.left+i+a,right:e.right+i-l,top:e.top+r+s,bottom:e.bottom+r-u}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,n,i,r){if((!this._prevStage||void 0!==r)&&this.canvas){var o=this._nextStage,a=this._getPointerData(t),s=a.inBounds;this._updatePointerPosition(t,e,n,i),(s||a.inBounds||this.mouseMoveOutside)&&(t===-1&&a.inBounds==!s&&this._dispatchMouseEvent(this,s?"mouseleave":"mouseenter",!1,t,a,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,a,e),this._dispatchMouseEvent(a.target,"pressmove",!0,t,a,e)),o&&o._handlePointerMove(t,e,n,i,null)}},e._updatePointerPosition=function(t,e,n,i){var r=this._getElementRect(this.canvas);n-=r.left,i-=r.top;var o=this.canvas.width,a=this.canvas.height;n/=(r.right-r.left)/o,i/=(r.bottom-r.top)/a;var s=this._getPointerData(t);(s.inBounds=n>=0&&i>=0&&n<=o-1&&i<=a-1)?(s.x=n,s.y=i):this.mouseMoveOutside&&(s.x=n<0?0:n>o-1?o-1:n,s.y=i<0?0:i>a-1?a-1:i),s.posEvtObj=e,s.rawX=n,s.rawY=i,t!==this._primaryPointerID&&t!==-1||(this.mouseX=s.x,this.mouseY=s.y,this.mouseInBounds=s.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,n,i){var r=this._nextStage,o=this._getPointerData(t);if(!this._prevStage||void 0!==i){var a=null,s=o.target;i||!s&&!r||(a=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,o,e,a),o.down=!1),a==s&&this._dispatchMouseEvent(s,"click",!0,t,o,e),this._dispatchMouseEvent(s,"pressup",!0,t,o,e),n?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):o.target=null,r&&r._handlePointerUp(t,e,n,i||a&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,n,i,r){this.preventSelection&&e.preventDefault(),null!=this._primaryPointerID&&t!==-1||(this._primaryPointerID=t),null!=i&&this._updatePointerPosition(t,e,n,i);var o=null,a=this._nextStage,s=this._getPointerData(t);r||(o=s.target=this._getObjectsUnderPoint(s.x,s.y,null,!0)),s.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,s,e,o),s.down=!0),this._dispatchMouseEvent(o,"mousedown",!0,t,s,e),a&&a._handlePointerDown(t,e,n,i,r||o&&this)},e._testMouseOver=function(t,e,n){if(!this._prevStage||void 0!==e){var i=this._nextStage;if(!this._mouseOverIntervalID)return void(i&&i._testMouseOver(t,e,n));var r=this._getPointerData(-1);if(r&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var o,a,s,l=r.posEvtObj,u=n||l&&l.target==this.canvas,c=null,d=-1,h="";!e&&(t||this.mouseInBounds&&u)&&(c=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var f=this._mouseOverTarget||[],p=f[f.length-1],m=this._mouseOverTarget=[];for(o=c;o;)m.unshift(o),h||(h=o.cursor),o=o.parent;for(this.canvas.style.cursor=h,!e&&n&&(n.canvas.style.cursor=h),a=0,s=m.length;a<s&&m[a]==f[a];a++)d=a;for(p!=c&&this._dispatchMouseEvent(p,"mouseout",!0,-1,r,l,c),a=f.length-1;a>d;a--)this._dispatchMouseEvent(f[a],"rollout",!1,-1,r,l,c);for(a=m.length-1;a>d;a--)this._dispatchMouseEvent(m[a],"rollover",!1,-1,r,l,p);p!=c&&this._dispatchMouseEvent(c,"mouseover",!0,-1,r,l,p),i&&i._testMouseOver(t,e||c&&this,n||u&&this)}}},e._handleDoubleClick=function(t,e){var n=null,i=this._nextStage,r=this._getPointerData(-1);e||(n=this._getObjectsUnderPoint(r.x,r.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,r,t)),i&&i._handleDoubleClick(t,e||n&&this)},e._dispatchMouseEvent=function(t,e,n,i,r,o,a){if(t&&(n||t.hasEventListener(e))){var s=new createjs.MouseEvent(e,n,(!1),r.x,r.y,o,i,i===this._primaryPointerID||i===-1,r.rawX,r.rawY,a);t.dispatchEvent(s)}},createjs.Stage=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){function t(t){this.DisplayObject_constructor(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t,this.sourceRect=null}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e)||!this.image)return!0;var n=this.image,i=this.sourceRect;if(i){var r=i.x,o=i.y,a=r+i.width,s=o+i.height,l=0,u=0,c=n.width,d=n.height;r<0&&(l-=r,r=0),a>c&&(a=c),o<0&&(u-=o,o=0),s>d&&(s=d),t.drawImage(n,r,o,a-r,s-o,l,u,a-r,s-o)}else t.drawImage(n,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,n=this.sourceRect||e,i=e&&(e.naturalWidth||e.getContext||e.readyState>=2);return i?this._rectangle.setValues(0,0,n.width,n.height):null},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this._cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=e&&this.gotoAndPlay(e)}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var i=n.rect;return i.width&&i.height&&t.drawImage(n.image,i.x,i.y,i.width,i.height,-n.regX,-n.regY,i.width,i.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,n=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(n)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,n=this._animation,i=this.paused,r=this._currentFrame;if(n){var o=n.speed||1,a=this.currentAnimationFrame;if(e=n.frames.length,a+t*o>=e){var s=n.next;if(this._dispatchAnimationEnd(n,r,i,s,e-1))return;if(s)return this._goto(s,t-(e-a)/o);this.paused=!0,a=n.frames.length-1}else a+=t*o;this.currentAnimationFrame=a,this._currentFrame=n.frames[0|a]}else if(r=this._currentFrame+=t,e=this.spriteSheet.getNumFrames(),r>=e&&e>0&&!this._dispatchAnimationEnd(n,r,i,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();r=0|this._currentFrame,this.currentFrame!=r&&(this.currentFrame=r,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,n,i,r){var o=t?t.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=o,a.next=i,this.dispatchEvent(a)}var s=this._animation!=t||this._currentFrame!=e;return s||n||!this.paused||(this.currentAnimationFrame=r,s=!0),s},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var n=this.spriteSheet.getAnimation(t);n&&(this._animation=n,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},createjs.Sprite=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),this.graphics=t?t:new createjs.Graphics}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this.graphics.draw(t,this),!0)},e.clone=function(e){var n=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(n))},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=createjs.extend(t,createjs.DisplayObject),n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(t._workingContext=n.getContext("2d"),n.width=n.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var n=this.color||"#000";return this.outline?(t.strokeStyle=n,t.lineWidth=1*this.outline):t.fillStyle=n,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),i=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,r=i*t.H_OFFSETS[this.textAlign||"left"],o=this.lineHeight||this.getMeasuredLineHeight(),a=o*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(r,a,i,n.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t},e._drawText=function(e,n,i){var r=!!e;r||(e=t._workingContext,e.save(),this._prepContext(e));for(var o=this.lineHeight||this.getMeasuredLineHeight(),a=0,s=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),u=0,c=l.length;u<c;u++){var d=l[u],h=null;if(null!=this.lineWidth&&(h=e.measureText(d).width)>this.lineWidth){var f=d.split(/(\s)/);d=f[0],h=e.measureText(d).width;for(var p=1,m=f.length;p<m;p+=2){var g=e.measureText(f[p]+f[p+1]).width;h+g>this.lineWidth?(r&&this._drawTextLine(e,d,s*o),i&&i.push(d),h>a&&(a=h),d=f[p+1],h=e.measureText(d).width,s++):(d+=f[p]+f[p+1],h+=g)}}r&&this._drawTextLine(e,d,s*o),i&&i.push(d),n&&null==h&&(h=e.measureText(d).width),h>a&&(a=h),s++}return n&&(n.width=a,n.height=s*o),r||e.restore(),n},e._drawTextLine=function(t,e,n){this.outline?t.strokeText(e,0,n,this.maxWidth||65535):t.fillText(e,0,n,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var n=t._workingContext;n.save();var i=this._prepContext(n).measureText(e).width;return n.restore(),i},createjs.Text=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var e=createjs.extend(t,createjs.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateText(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var n,i=e.getAnimation(t);return i||(t!=(n=t.toUpperCase())||t!=(n=t.toLowerCase())||(n=null),n&&(i=e.getAnimation(n))),i&&i.frames[0]},e._getFrame=function(t,e){var n=this._getFrameIndex(t,e);return null==n?n:e.getFrame(n)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,n=0,i=0,r=this._oldProps,o=!1,a=this.spaceWidth,s=this.lineHeight,l=this.spriteSheet,u=t._spritePool,c=this.children,d=0,h=c.length;for(var f in r)r[f]!=this[f]&&(r[f]=this[f],o=!0);if(o){var p=!!this._getFrame(" ",l);p||a||(a=this._getSpaceWidth(l)),s||(s=this._getLineHeight(l));for(var m=0,g=this.text.length;m<g;m++){var v=this.text.charAt(m);if(" "!=v||p)if("\n"!=v&&"\r"!=v){var y=this._getFrameIndex(v,l);null!=y&&(d<h?e=c[d]:(c.push(e=u.length?u.pop():new createjs.Sprite),e.parent=this,h++),e.spriteSheet=l,e.gotoAndStop(y),e.x=n,e.y=i,d++,n+=e.getBounds().width+this.letterSpacing)}else"\r"==v&&"\n"==this.text.charAt(m+1)&&m++,n=0,i+=s;else n+=a}for(;h>d;)u.push(e=c.pop()),e.parent=null,h--;u.length>t.maxPoolSize&&(u.length=t.maxPoolSize)}},createjs.BitmapText=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function t(e,n,i,r){this.Container_constructor(),!t.inited&&t.init(),this.mode=e||t.INDEPENDENT,this.startPosition=n||0,this.loop=i,this.currentFrame=0,this.timeline=new createjs.Timeline(null,r,{paused:!0,position:n,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function e(){throw"MovieClipPlugin cannot be instantiated."}var n=createjs.extend(t,createjs.Container);t.INDEPENDENT="independent",t.SINGLE_FRAME="single",t.SYNCHED="synched",t.inited=!1,t.init=function(){t.inited||(e.install(),t.inited=!0)},n.getLabels=function(){return this.timeline.getLabels()},n.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},n.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(n,{labels:{get:n.getLabels},currentLabel:{get:n.getCurrentLabel},totalFrames:{get:n.getDuration},duration:{get:n.getDuration}})}catch(i){}n.initialize=t,n.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},n.draw=function(t,e){return!!this.DisplayObject_draw(t,e)||(this._updateTimeline(),this.Container_draw(t,e),!0)},n.play=function(){this.paused=!1},n.stop=function(){this.paused=!0},n.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},n.gotoAndStop=function(t){this.paused=!0,this._goto(t)},n.advance=function(e){var n=t.INDEPENDENT;if(this.mode==n){for(var i=this,r=i.framerate;(i=i.parent)&&null==r;)i.mode==n&&(r=i._framerate);this._framerate=r;var o=null!=r&&r!=-1&&null!=e?e/(1e3/r)+this._t:1,a=0|o;for(this._t=o-a;!this.paused&&a--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},n.clone=function(){throw"MovieClip cannot be cloned."},n.toString=function(){return"[MovieClip (name="+this.name+")]"},n._tick=function(t){this.advance(t&&t.delta),this.Container__tick(t)},n._goto=function(t){var e=this.timeline.resolve(t);null!=e&&(this._prevPos==-1&&(this._prevPos=NaN),this._prevPosition=e,this._t=0,this._updateTimeline())},n._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},n._updateTimeline=function(){var e=this.timeline,n=this.mode!=t.INDEPENDENT;e.loop=null==this.loop||this.loop;var i=n?this.startPosition+(this.mode==t.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition,r=n||!this.actionsEnabled?createjs.Tween.NONE:null;if(this.currentFrame=e._calcPosition(i),e.setPosition(i,r),this._prevPosition=e._prevPosition,this._prevPos!=e._prevPos){this.currentFrame=this._prevPos=e._prevPos;for(var o in this._managed)this._managed[o]=1;for(var a=e._tweens,s=0,l=a.length;s<l;s++){var u=a[s],c=u._target;if(c!=this&&!u.passive){var d=u._stepPosition;c instanceof createjs.DisplayObject?this._addManagedChild(c,d):this._setState(c.state,d)}}var h=this.children;for(s=h.length-1;s>=0;s--){var f=h[s].id;1==this._managed[f]&&(this.removeChildAt(s),delete this._managed[f])}}},n._setState=function(t,e){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n],r=i.t,o=i.p;for(var a in o)r[a]=o[a];this._addManagedChild(r,e)}},n._addManagedChild=function(e,n){e._off||(this.addChildAt(e,0),e instanceof t&&(e._synchOffset=n,e.mode==t.INDEPENDENT&&e.autoReset&&!this._managed[e.id]&&e._reset()),this._managed[e.id]=2)},n._getBounds=function(t,e){var n=this.DisplayObject_getBounds();return n||(this._updateTimeline(),this.frameBounds&&(n=this._rectangle.copy(this.frameBounds[this.currentFrame]))),n?this._transformBounds(n,t,e):this.Container__getBounds(t,e)},createjs.MovieClip=createjs.promote(t,"Container"),e.priority=100,e.install=function(){createjs.Tween.installPlugin(e,["startPosition"])},e.init=function(t,e,n){
return n},e.step=function(){},e.tween=function(e,n,i,r,o,a,s,l){return e.target instanceof t?1==a?o[n]:r[n]:i}}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.addFlippedFrames=function(e,n,i,r){if(n||i||r){var o=0;n&&t._flip(e,++o,!0,!1),i&&t._flip(e,++o,!1,!0),r&&t._flip(e,++o,!0,!0)}},t.extractFrame=function(e,n){isNaN(n)&&(n=e.getAnimation(n).frames[0]);var i=e.getFrame(n);if(!i)return null;var r=i.rect,o=t._workingCanvas;o.width=r.width,o.height=r.height,t._workingContext.drawImage(i.image,r.x,r.y,r.width,r.height,0,0,r.width,r.height);var a=document.createElement("img");return a.src=o.toDataURL("image/png"),a},t.mergeAlpha=function(t,e,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),n.width=Math.max(e.width,t.width),n.height=Math.max(e.height,t.height);var i=n.getContext("2d");return i.save(),i.drawImage(t,0,0),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),i.restore(),n},t._flip=function(e,n,i,r){for(var o=e._images,a=t._workingCanvas,s=t._workingContext,l=o.length/n,u=0;u<l;u++){var c=o[u];c.__tmp=u,s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,a.width+1,a.height+1),a.width=c.width,a.height=c.height,s.setTransform(i?-1:1,0,0,r?-1:1,i?c.width:0,r?c.height:0),s.drawImage(c,0,0);var d=document.createElement("img");d.src=a.toDataURL("image/png"),d.width=c.width,d.height=c.height,o.push(d)}var h=e._frames,f=h.length/n;for(u=0;u<f;u++){c=h[u];var p=c.rect.clone();d=o[c.image.__tmp+l*n];var m={image:d,rect:p,regX:c.regX,regY:c.regY};i&&(p.x=d.width-p.x-p.width,m.regX=p.width-c.regX),r&&(p.y=d.height-p.y-p.height,m.regY=p.height-c.regY),h.push(m)}var g="_"+(i?"h":"")+(r?"v":""),v=e._animations,y=e._data,_=v.length/n;for(u=0;u<_;u++){var b=v[u];c=y[b];var E={name:b+g,speed:c.speed,next:c.next,frames:[]};c.next&&(E.next+=g),h=c.frames;for(var x=0,C=h.length;x<C;x++)E.frames.push(h[x]+f*n);y[E.name]=E,v.push(E.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=t||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=createjs.extend(t,createjs.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,n,i,r,o){if(this._data)throw t.ERR_RUNNING;var a=n||e.bounds||e.nominalBounds;return!a&&e.getBounds&&(a=e.getBounds()),a?(i=i||1,this._frames.push({source:e,sourceRect:a,scale:i,funct:r,data:o,index:this._frames.length,height:a.height*i})-1):null},e.addAnimation=function(e,n,i,r){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:n,next:i,speed:r}},e.addMovieClip=function(e,n,i,r,o,a){if(this._data)throw t.ERR_RUNNING;var s=e.frameBounds,l=n||e.bounds||e.nominalBounds;if(!l&&e.getBounds&&(l=e.getBounds()),l||s){var u,c,d=this._frames.length,h=e.timeline.duration;for(u=0;u<h;u++){var f=s&&s[u]?s[u]:l;this.addFrame(e,f,i,this._setupMovieClipFrame,{i:u,f:r,d:o})}var p=e.timeline._labels,m=[];for(var g in p)m.push({index:p[g],label:g});if(m.length)for(m.sort(function(t,e){return t.index-e.index}),u=0,c=m.length;u<c;u++){for(var v=m[u].label,y=d+m[u].index,_=d+(u==c-1?h:m[u+1].index),b=[],E=y;E<_;E++)b.push(E);a&&!(v=a(v,e,y,_))||this.addAnimation(v,b,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,framerate:this.framerate,animations:this._animations};var i=this._frames.slice();if(i.sort(function(t,e){return t.height<=e.height?-1:1}),i[i.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var r=0,o=0,a=0;i.length;){var s=this._fillRow(i,r,a,n,e);if(s.w>o&&(o=s.w),r+=s.h,!s.h||!i.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");l.width=this._getSize(o,this.maxWidth),l.height=this._getSize(r,this.maxHeight),this._data.images[a]=l,s.h||(o=r=0,a++)}}},e._setupMovieClipFrame=function(t,e){var n=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=n,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var n=4;Math.pow(2,++n)<t;);return Math.min(e,Math.pow(2,n))},e._fillRow=function(e,n,i,r,o){var a=this.maxWidth,s=this.maxHeight;n+=o;for(var l=s-n,u=o,c=0,d=e.length-1;d>=0;d--){var h=e[d],f=this._scale*h.scale,p=h.sourceRect,m=h.source,g=Math.floor(f*p.x-o),v=Math.floor(f*p.y-o),y=Math.ceil(f*p.height+2*o),_=Math.ceil(f*p.width+2*o);if(_>a)throw t.ERR_DIMENSIONS;y>l||u+_>a||(h.img=i,h.rect=new createjs.Rectangle(u,n,_,y),c=c||y,e.splice(d,1),r[h.index]=[u,n,_,y,i,Math.round(-g+f*m.regX-o),Math.round(-v+f*m.regY-o)],u+=_)}return{w:u,h:c}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,n=!1;e>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var i=this;this._timerID=setTimeout(function(){i._run()},50-t)}var r=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var o=new createjs.Event("progress");o.progress=r,this.dispatchEvent(o)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,n=t.rect,i=t.sourceRect,r=this._data.images[t.img],o=r.getContext("2d");return t.funct&&t.funct(t.source,t.data),o.save(),o.beginPath(),o.rect(n.x,n.y,n.width,n.height),o.clip(),o.translate(Math.ceil(n.x-i.x*e),Math.ceil(n.y-i.y*e)),o.scale(e,e),t.source.draw(o),o.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),"string"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%",this.htmlElement=t,this._oldProps=null}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(t,e){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){var e=this.getStage();e&&e.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(t)},e._handleDrawEnd=function(t){var e=this.htmlElement;if(e){var n=e.style,i=this.getConcatenatedDisplayProps(this._props),r=i.matrix,o=i.visible?"visible":"hidden";if(o!=n.visibility&&(n.visibility=o),i.visible){var a=this._oldProps,s=a&&a.matrix,l=1e4;if(!s||!s.equals(r)){var u="matrix("+(r.a*l|0)/l+","+(r.b*l|0)/l+","+(r.c*l|0)/l+","+(r.d*l|0)/l+","+(r.tx+.5|0);n.transform=n.WebkitTransform=n.OTransform=n.msTransform=u+","+(r.ty+.5|0)+")",n.MozTransform=u+"px,"+(r.ty+.5|0)+"px)",a||(a=this._oldProps=new createjs.DisplayProps((!0),NaN)),a.matrix.copy(r)}a.alpha!=i.alpha&&(n.opacity=""+(i.alpha*l|0)/l,a.alpha=i.alpha)}}},createjs.DOMElement=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){}var e=t.prototype;e.getBounds=function(t){return t},e.applyFilter=function(t,e,n,i,r,o,a,s){o=o||t,null==a&&(a=e),null==s&&(s=n);try{var l=t.getImageData(e,n,i,r)}catch(u){return!1}return!!this._applyFilter(l)&&(o.putImageData(l,a,s),!0)},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(t){return!0},createjs.Filter=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){(isNaN(t)||t<0)&&(t=0),(isNaN(e)||e<0)&&(e=0),(isNaN(n)||n<1)&&(n=1),this.blurX=0|t,this.blurY=0|e,this.quality=0|n}var e=createjs.extend(t,createjs.Filter);t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(t){var e=0|this.blurX,n=0|this.blurY;if(e<=0&&n<=0)return t;var i=Math.pow(this.quality,.2);return(t||new createjs.Rectangle).pad(e*i+1,n*i+1,e*i+1,n*i+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var n=this.blurX>>1;if(isNaN(n)||n<0)return!1;var i=this.blurY>>1;if(isNaN(i)||i<0)return!1;if(0==n&&0==i)return!1;var r=this.quality;(isNaN(r)||r<1)&&(r=1),r|=0,r>3&&(r=3),r<1&&(r=1);var o=e.data,a=0,s=0,l=0,u=0,c=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,_=0,b=0,E=n+n+1|0,x=i+i+1|0,C=0|e.width,T=0|e.height,w=C-1|0,S=T-1|0,M=n+1|0,j=i+1|0,O={r:0,b:0,g:0,a:0},A=O;for(l=1;l<E;l++)A=A.n={r:0,b:0,g:0,a:0};A.n=O;var R={r:0,b:0,g:0,a:0},P=R;for(l=1;l<x;l++)P=P.n={r:0,b:0,g:0,a:0};P.n=R;for(var I=null,L=0|t.MUL_TABLE[n],k=0|t.SHG_TABLE[n],D=0|t.MUL_TABLE[i],N=0|t.SHG_TABLE[i];r-- >0;){h=d=0;var F=L,$=k;for(s=T;--s>-1;){for(f=M*(v=o[0|d]),p=M*(y=o[d+1|0]),m=M*(_=o[d+2|0]),g=M*(b=o[d+3|0]),A=O,l=M;--l>-1;)A.r=v,A.g=y,A.b=_,A.a=b,A=A.n;for(l=1;l<M;l++)u=d+((w<l?w:l)<<2)|0,f+=A.r=o[u],p+=A.g=o[u+1],m+=A.b=o[u+2],g+=A.a=o[u+3],A=A.n;for(I=O,a=0;a<C;a++)o[d++]=f*F>>>$,o[d++]=p*F>>>$,o[d++]=m*F>>>$,o[d++]=g*F>>>$,u=h+((u=a+n+1)<w?u:w)<<2,f-=I.r-(I.r=o[u]),p-=I.g-(I.g=o[u+1]),m-=I.b-(I.b=o[u+2]),g-=I.a-(I.a=o[u+3]),I=I.n;h+=C}for(F=D,$=N,a=0;a<C;a++){for(d=a<<2|0,f=j*(v=o[d])|0,p=j*(y=o[d+1|0])|0,m=j*(_=o[d+2|0])|0,g=j*(b=o[d+3|0])|0,P=R,l=0;l<j;l++)P.r=v,P.g=y,P.b=_,P.a=b,P=P.n;for(c=C,l=1;l<=i;l++)d=c+a<<2,f+=P.r=o[d],p+=P.g=o[d+1],m+=P.b=o[d+2],g+=P.a=o[d+3],P=P.n,l<S&&(c+=C);if(d=a,I=R,r>0)for(s=0;s<T;s++)u=d<<2,o[u+3]=b=g*F>>>$,b>0?(o[u]=f*F>>>$,o[u+1]=p*F>>>$,o[u+2]=m*F>>>$):o[u]=o[u+1]=o[u+2]=0,u=a+((u=s+j)<S?u:S)*C<<2,f-=I.r-(I.r=o[u]),p-=I.g-(I.g=o[u+1]),m-=I.b-(I.b=o[u+2]),g-=I.a-(I.a=o[u+3]),I=I.n,d+=C;else for(s=0;s<T;s++)u=d<<2,o[u+3]=b=g*F>>>$,b>0?(b=255/b,o[u]=(f*F>>>$)*b,o[u+1]=(p*F>>>$)*b,o[u+2]=(m*F>>>$)*b):o[u]=o[u+1]=o[u+2]=0,u=a+((u=s+j)<S?u:S)*C<<2,f-=I.r-(I.r=o[u]),p-=I.g-(I.g=o[u+1]),m-=I.b-(I.b=o[u+2]),g-=I.a-(I.a=o[u+3]),I=I.n,d+=C}}return!0},createjs.BlurFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.alphaMap=t,this._alphaMap=null,this._mapData=null}var e=createjs.extend(t,createjs.Filter);e.clone=function(){var e=new t(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,n=this._mapData,i=0,r=e.length;i<r;i+=4)e[i+3]=n[i]||0;return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,n=e;e instanceof HTMLCanvasElement?t=n.getContext("2d"):(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),n.width=e.width,n.height=e.height,t=n.getContext("2d"),t.drawImage(e,0,0));try{var i=t.getImageData(0,0,e.width,e.height)}catch(r){return!1}return this._mapData=i.data,!0},createjs.AlphaMapFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.mask=t}var e=createjs.extend(t,createjs.Filter);e.applyFilter=function(t,e,n,i,r,o,a,s){return!this.mask||(o=o||t,null==a&&(a=e),null==s&&(s=n),o.save(),t==o&&(o.globalCompositeOperation="destination-in",o.drawImage(this.mask,a,s),o.restore(),!0))},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i,r,o,a,s){this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=n?n:1,this.alphaMultiplier=null!=i?i:1,this.redOffset=r||0,this.greenOffset=o||0,this.blueOffset=a||0,this.alphaOffset=s||0}var e=createjs.extend(t,createjs.Filter);e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,n=e.length,i=0;i<n;i+=4)e[i]=e[i]*this.redMultiplier+this.redOffset,e[i+1]=e[i+1]*this.greenMultiplier+this.greenOffset,e[i+2]=e[i+2]*this.blueMultiplier+this.blueOffset,e[i+3]=e[i+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,i){this.setColor(t,e,n,i)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,e.setColor=function(t,e,n,i){return this.reset().adjustColor(t,e,n,i)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,n,i){return this.adjustHue(i),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(n)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustContrast=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,100);var n;return e<0?n=127+e/100*127:(n=e%1,n=0==n?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-n)+t.DELTA_INDEX[(e<<0)+1]*n,n=127*n+127),this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1]),this},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var e=1+(t>0?3*t/100:t/100),n=.3086,i=.6094,r=.082;return this._multiplyMatrix([n*(1-e)+e,i*(1-e),r*(1-e),0,0,n*(1-e),i*(1-e)+e,r*(1-e),0,0,n*(1-e),i*(1-e),r*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),n=Math.sin(t),i=.213,r=.715,o=.072;return this._multiplyMatrix([i+e*(1-i)+n*-i,r+e*-r+n*-r,o+e*-o+n*(1-o),0,0,i+e*-i+.143*n,r+e*(1-r)+.14*n,o+e*-o+n*-.283,0,0,i+e*-i+n*-(1-i),r+e*-r+n*r,o+e*(1-o)+n*o,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return e=this._fixMatrix(e),e.length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],n=0,i=t.LENGTH;n<i;n++)e[n]=this[n];return e},e.copy=function(e){for(var n=t.LENGTH,i=0;i<n;i++)this[i]=e[i];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){var e,n,i,r=[];for(e=0;e<5;e++){for(n=0;n<5;n++)r[n]=this[n+5*e];for(n=0;n<5;n++){var o=0;for(i=0;i<5;i++)o+=t[n+5*i]*r[i];this[n+5*e]=o}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},createjs.ColorMatrix=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.matrix=t}var e=createjs.extend(t,createjs.Filter);e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,n,i,r,o=t.data,a=o.length,s=this.matrix,l=s[0],u=s[1],c=s[2],d=s[3],h=s[4],f=s[5],p=s[6],m=s[7],g=s[8],v=s[9],y=s[10],_=s[11],b=s[12],E=s[13],x=s[14],C=s[15],T=s[16],w=s[17],S=s[18],M=s[19],j=0;j<a;j+=4)e=o[j],n=o[j+1],i=o[j+2],r=o[j+3],o[j]=e*l+n*u+i*c+r*d+h,o[j+1]=e*f+n*p+i*m+r*g+v,o[j+2]=e*y+n*_+i*b+r*E+x,o[j+3]=e*C+n*T+i*w+r*S+M;return!0},createjs.ColorMatrixFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,n,i){return!!(e&&e.canvas&&t.isSupported())&&(!!e.__touch||(e.__touch={pointers:{},multitouch:!n,preventDefault:!i,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0))},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var n=e.canvas,i=e.__touch.f=function(n){t._IOS_handleEvent(e,n)};n.addEventListener("touchstart",i,!1),n.addEventListener("touchmove",i,!1),n.addEventListener("touchend",i,!1),n.addEventListener("touchcancel",i,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var n=t.__touch.f;e.removeEventListener("touchstart",n,!1),e.removeEventListener("touchmove",n,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",n,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var n=e.changedTouches,i=e.type,r=0,o=n.length;r<o;r++){var a=n[r],s=a.identifier;a.target==t.canvas&&("touchstart"==i?this._handleStart(t,s,e,a.pageX,a.pageY):"touchmove"==i?this._handleMove(t,s,e,a.pageX,a.pageY):"touchend"!=i&&"touchcancel"!=i||this._handleEnd(t,s,e))}}},t._IE_enable=function(e){var n=e.canvas,i=e.__touch.f=function(n){t._IE_handleEvent(e,n)};void 0===window.navigator.pointerEnabled?(n.addEventListener("MSPointerDown",i,!1),window.addEventListener("MSPointerMove",i,!1),window.addEventListener("MSPointerUp",i,!1),window.addEventListener("MSPointerCancel",i,!1),e.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",i,!1),window.addEventListener("pointermove",i,!1),window.addEventListener("pointerup",i,!1),window.addEventListener("pointercancel",i,!1),e.__touch.preventDefault&&(n.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var n=e.type,i=e.pointerId,r=t.__touch.activeIDs;if("MSPointerDown"==n||"pointerdown"==n){if(e.srcElement!=t.canvas)return;r[i]=!0,this._handleStart(t,i,e,e.pageX,e.pageY)}else r[i]&&("MSPointerMove"==n||"pointermove"==n?this._handleMove(t,i,e,e.pageX,e.pageY):"MSPointerUp"!=n&&"MSPointerCancel"!=n&&"pointerup"!=n&&"pointercancel"!=n||(delete r[i],this._handleEnd(t,i,e)))}},t._handleStart=function(t,e,n,i,r){var o=t.__touch;if(o.multitouch||!o.count){var a=o.pointers;a[e]||(a[e]=!0,o.count++,t._handlePointerDown(e,n,i,r))}},t._handleMove=function(t,e,n,i,r){t.__touch.pointers[e]&&t._handlePointerMove(e,n,i,r)},t._handleEnd=function(t,e,n){var i=t.__touch,r=i.pointers;r[e]&&(i.count--,t._handlePointerUp(e,n,!0),delete r[e])},createjs.Touch=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.EaselJS=createjs.EaselJS||{};t.version="0.8.2",t.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"}(),!function(){"use strict";function t(e){return function(e,i){var r,o,a,s,l,u,c,d,h,f=1,p=e.length,m="";for(o=0;o<p;o++)if("string"==typeof e[o])m+=e[o];else if("object"==typeof e[o]){if((s=e[o]).keys)for(r=i[f],a=0;a<s.keys.length;a++){if(null==r)throw new Error(t('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));r=r[s.keys[a]]}else r=s.param_no?i[s.param_no]:i[f++];if(n.not_type.test(s.type)&&n.not_primitive.test(s.type)&&r instanceof Function&&(r=r()),n.numeric_arg.test(s.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(t("[sprintf] expecting number but found %T",r));switch(n.number.test(s.type)&&(d=0<=r),s.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s.width?parseInt(s.width):0);break;case"e":r=s.precision?parseFloat(r).toExponential(s.precision):parseFloat(r).toExponential();break;case"f":r=s.precision?parseFloat(r).toFixed(s.precision):parseFloat(r);break;case"g":r=s.precision?String(Number(r.toPrecision(s.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s.precision?r.substring(0,s.precision):r;break;case"t":r=String(!!r),r=s.precision?r.substring(0,s.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s.precision?r.substring(0,s.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s.precision?r.substring(0,s.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}n.json.test(s.type)?m+=r:(!n.number.test(s.type)||d&&!s.sign?h="":(h=d?"+":"-",r=r.toString().replace(n.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",c=s.width-(h+r).length,l=s.width&&0<c?u.repeat(c):"",m+=s.align?h+r+l:"0"===u?h+l+r:l+h+r)}return m}(function(t){if(i[t])return i[t];for(var e,r=t,o=[],a=0;r;){if(null!==(e=n.text.exec(r)))o.push(e[0]);else if(null!==(e=n.modulo.exec(r)))o.push("%");else{if(null===(e=n.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){a|=1;var s=[],l=e[2],u=[];if(null===(u=n.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=n.key_access.exec(l)))s.push(u[1]);else{if(null===(u=n.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}e[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}r=r.substring(e[0].length)}return i[t]=o}(e),arguments)}function e(e,n){return t.apply(null,[e].concat(n||[]))}var n={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/},i=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=t,exports.vsprintf=e),"undefined"!=typeof window&&(window.sprintf=t,window.vsprintf=e,"function"==typeof define&&define.amd&&define(function(){return{sprintf:t,vsprintf:e}}))}(),!function(){"use strict";angular.module("sprintf",[]).filter("sprintf",function(){return function(){return sprintf.apply(null,arguments)}}).filter("fmt",["$filter",function(t){return t("sprintf")}]).filter("vsprintf",function(){return function(t,e){return vsprintf(t,e)}}).filter("vfmt",["$filter",function(t){return t("vsprintf")}])}(),function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(e){}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,d=c.createObjectURL,h=c.revokeObjectURL,f=c,p=t.btoa,m=t.atob,g=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):d?d.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&h&&h.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof g||t instanceof v)){for(var r="",o=new v(t),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&m?n.push(m(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,e){var i=e?e.type||"":"",r=new n;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);var saveAs=saveAs||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(n){var i=e.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=0,d=500,h=function(e){var i=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?i():setTimeout(i,d)},f=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){l(o)}}},p=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t},m=function(e,l){e=p(e);var d,m,g,v=this,y=e.type,_=!1,b=function(){f(v,"writestart progress write writeend".split(" "))},E=function(){if(!_&&d||(d=n().createObjectURL(e)),m)m.location.href=d;else{var i=t.open(d,"_blank");void 0==i&&"undefined"!=typeof safari&&(t.location.href=d)}v.readyState=v.DONE,b(),h(d)},x=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},C={create:!0,exclusive:!1};return v.readyState=v.INIT,l||(l="download"),r?(d=n().createObjectURL(e),i.href=d,i.download=l,o(i),v.readyState=v.DONE,b(),void h(d)):(t.chrome&&y&&y!==u&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,u),_=!0),a&&"download"!==l&&(l+=".download"),(y===u||a)&&(m=t),s?(c+=e.size,void s(t.TEMPORARY,c,x(function(t){t.root.getDirectory("saved",C,x(function(t){var n=function(){t.getFile(l,C,x(function(t){t.createWriter(x(function(n){n.onwriteend=function(e){m.location.href=t.toURL(),v.readyState=v.DONE,f(v,"writeend",e),h(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=v["on"+t]}),n.write(e),v.abort=function(){n.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),E)}),E)};t.getFile(l,{create:!1},x(function(t){t.remove(),n()}),x(function(t){t.code===t.NOT_FOUND_ERR?n():E()}))}),E)}),E)):void E())},g=m.prototype,v=function(t,e){return new m(t,e)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e){return navigator.msSaveOrOpenBlob(p(t),e)}:(g.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{
var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(t,e){"use strict";t.exports=function(t,e,n){function i(t,i,r){try{e(t,i,r)}catch(o){n.handleErrors(o.message)}}return{saveAs:function(t,e,r){return n.isBlobInstance(t)||n.handleErrors("Data argument should be a blob instance"),n.isString(e)||n.handleErrors("Filename argument should be a string"),i(t,e,r)}}}},function(t,e){"use strict";t.exports=function(){return{handleErrors:function(t){throw new Error(t)},isString:function(t){return"string"==typeof t||t instanceof String},isUndefined:function(t){return"undefined"==typeof t},isBlobInstance:function(t){return t instanceof Blob}}}},function(t,e,n){"use strict";n(4),t.exports=function(t){return t.Blob}},function(t,e){!function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(e){}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},i=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},r=n.prototype,o=i.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,d=c.createObjectURL,h=c.revokeObjectURL,f=c,p=t.btoa,m=t.atob,g=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(i.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof i?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):d?d.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&h&&h.call(c,t)},r.append=function(t){var n=this.data;if(v&&(t instanceof g||t instanceof v)){for(var r="",o=new v(t),l=0,u=o.length;l<u;l++)r+=String.fromCharCode(o[l]);n.push(r)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(t))}else t instanceof i?"base64"===t.encoding&&m?n.push(m(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new i(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var r=arguments.length;return r<3&&(n=null),new i(this.data.slice(t,r>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,e){var i=e?e.type||"":"",r=new n;if(t)for(var o=0,a=t.length;o<a;o++)Uint8Array&&t[o]instanceof Uint8Array?r.append(t[o].buffer):r.append(t[o]);var s=r.getBlob(i);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var i=Object.getPrototypeOf||function(t){return t.__proto__};t.Blob.prototype=i(new t.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e,n){"use strict";t.exports=function(){return n(6).saveAs||function(){}}},function(t,e,n){var i,r=r||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},a=/constructor/i.test(t.HTMLElement)||t.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=4e4,d=function(t){var e=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};setTimeout(e,c)},h=function(t,e,n){e=[].concat(e);for(var i=e.length;i--;){var r=t["on"+e[i]];if("function"==typeof r)try{r.call(t,n||t)}catch(o){l(o)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},p=function(e,l,c){c||(e=f(e));var p,m=this,g=e.type,v=g===u,y=function(){h(m,"writestart progress write writeend".split(" "))},_=function(){if((s||v&&a)&&t.FileReader){var i=new FileReader;return i.onloadend=function(){var e=s?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=t.open(e,"_blank");n||(t.location.href=e),e=void 0,m.readyState=m.DONE,y()},i.readAsDataURL(e),void(m.readyState=m.INIT)}if(p||(p=n().createObjectURL(e)),v)t.location.href=p;else{var r=t.open(p,"_blank");r||(t.location.href=p)}m.readyState=m.DONE,y(),d(p)};return m.readyState=m.INIT,r?(p=n().createObjectURL(e),void setTimeout(function(){i.href=p,i.download=l,o(i),y(),d(p),m.readyState=m.DONE})):void _()},m=p.prototype,g=function(t,e,n){return new p(t,e||t.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=r:null!==n(7)&&null!==n(8)&&(i=function(){return r}.call(e,n,e,t),!(void 0!==i&&(t.exports=i)))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(e,{})}])}),function(){"use strict";function t(t){return t.valueOf()/M-.5+j}function e(t){return new Date((t+.5-j)*M)}function n(e){return t(e)-O}function i(t,e){return T(b(t)*E(A)-x(e)*b(A),E(t))}function r(t,e){return C(b(e)*E(A)+E(e)*b(A)*b(t))}function o(t,e,n){return T(b(t),E(t)*b(e)-x(n)*E(e))}function a(t,e,n){return C(b(e)*b(n)+E(e)*E(n)*E(t))}function s(t,e){return S*(280.16+360.9856235*t)-e}function l(t){return t<0&&(t=0),2967e-7/Math.tan(t+.00312536/(t+.08901179))}function u(t){return S*(357.5291+.98560028*t)}function c(t){var e=S*(1.9148*b(t)+.02*b(2*t)+3e-4*b(3*t)),n=102.9372*S;return t+e+n+_}function d(t){var e=u(t),n=c(e);return{dec:r(n,0),ra:i(n,0)}}function h(t,e){return Math.round(t-I-e/(2*_))}function f(t,e,n){return I+(t+e)/(2*_)+n}function p(t,e,n){return O+t+.0053*b(e)-.0069*b(2*n)}function m(t,e,n){return w((b(t)-b(e)*b(n))/(E(e)*E(n)))}function g(t,e,n,i,r,o,a){var s=m(t,n,i),l=f(s,e,r);return p(l,o,a)}function v(t){var e=S*(218.316+13.176396*t),n=S*(134.963+13.064993*t),o=S*(93.272+13.22935*t),a=e+6.289*S*b(n),s=5.128*S*b(o),l=385001-20905*E(n);return{ra:i(a,s),dec:r(a,s),dist:l}}function y(t,e){return new Date(t.valueOf()+e*M/24)}var _=Math.PI,b=Math.sin,E=Math.cos,x=Math.tan,C=Math.asin,T=Math.atan2,w=Math.acos,S=_/180,M=864e5,j=2440588,O=2451545,A=23.4397*S,R={};R.getPosition=function(t,e,i){var r=S*-i,l=S*e,u=n(t),c=d(u),h=s(u,r)-c.ra;return{azimuth:o(h,l,c.dec),altitude:a(h,l,c.dec)}};var P=R.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];R.addTime=function(t,e,n){P.push([t,e,n])};var I=9e-4;R.getTimes=function(t,i,o){var a,s,l,d,m,v=S*-o,y=S*i,_=n(t),b=h(_,v),E=f(0,v,b),x=u(E),C=c(x),T=r(C,0),w=p(E,x,C),M={solarNoon:e(w),nadir:e(w-.5)};for(a=0,s=P.length;a<s;a+=1)l=P[a],d=g(l[0]*S,v,y,T,b,x,C),m=w-(d-w),M[l[1]]=e(m),M[l[2]]=e(d);return M},R.getMoonPosition=function(t,e,i){var r=S*-i,u=S*e,c=n(t),d=v(c),h=s(c,r)-d.ra,f=a(h,u,d.dec),p=T(b(h),x(u)*E(d.dec)-b(d.dec)*E(h));return f+=l(f),{azimuth:o(h,u,d.dec),altitude:f,distance:d.dist,parallacticAngle:p}},R.getMoonIllumination=function(t){var e=n(t||new Date),i=d(e),r=v(e),o=149598e3,a=w(b(i.dec)*b(r.dec)+E(i.dec)*E(r.dec)*E(i.ra-r.ra)),s=T(o*b(a),r.dist-o*E(a)),l=T(E(i.dec)*b(i.ra-r.ra),b(i.dec)*E(r.dec)-E(i.dec)*b(r.dec)*E(i.ra-r.ra));return{fraction:(1+E(s))/2,phase:.5+.5*s*(l<0?-1:1)/Math.PI,angle:l}},R.getMoonTimes=function(t,e,n,i){var r=new Date(t);i?r.setUTCHours(0,0,0,0):r.setHours(0,0,0,0);for(var o,a,s,l,u,c,d,h,f,p,m,g,v,_=.133*S,b=R.getMoonPosition(r,e,n).altitude-_,E=1;E<=24&&(o=R.getMoonPosition(y(r,E),e,n).altitude-_,a=R.getMoonPosition(y(r,E+1),e,n).altitude-_,u=(b+a)/2-o,c=(a-b)/2,d=-c/(2*u),h=(u*d+c)*d+o,f=c*c-4*u*o,p=0,f>=0&&(v=Math.sqrt(f)/(2*Math.abs(u)),m=d-v,g=d+v,Math.abs(m)<=1&&p++,Math.abs(g)<=1&&p++,m<-1&&(m=g)),1===p?b<0?s=E+m:l=E+m:2===p&&(s=E+(h<0?g:m),l=E+(h<0?m:g)),!s||!l);E+=2)b=a;var x={};return s&&(x.rise=y(r,s)),l&&(x.set=y(r,l)),s||l||(x[h>0?"alwaysUp":"alwaysDown"]=!0),x},"object"==typeof exports&&"undefined"!=typeof module?module.exports=R:"function"==typeof define&&define.amd?define(R):window.SunCalc=R}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.adapter=t()}}(function(){return function(){function t(e,n,i){function r(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return r(n||t)},c,c.exports,t,e,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}return t}()({1:[function(t,e,n){"use strict";function i(t){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type}function r(t,e,n,i,r){var o=c.writeRtpDescription(t.kind,e);if(o+=c.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=c.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":r||"active"),o+="a=mid:"+t.mid+"\r\n",o+=t.rtpSender&&t.rtpReceiver?"a=sendrecv\r\n":t.rtpSender?"a=sendonly\r\n":t.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",t.rtpSender){var a=t.rtpSender._initialTrackId||t.rtpSender.track.id;t.rtpSender._initialTrackId=a;var s="msid:"+(i?i.id:"-")+" "+a+"\r\n";o+="a="+s,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+s,t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+s,o+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+c.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+c.localCName+"\r\n"),o}function o(t,e){var n=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(t){if(t&&(t.urls||t.url)){var i=t.urls||t.url;t.url&&!t.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var r="string"==typeof i;return r&&(i=[i]),i=i.filter(function(t){var i=0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1&&t.indexOf("turn:[")===-1&&!n;return i?(n=!0,!0):0===t.indexOf("stun:")&&e>=14393&&t.indexOf("?transport=udp")===-1}),delete t.url,t.urls=r?i[0]:i,!!i.length}})}function a(t,e){var n={codecs:[],headerExtensions:[],fecMechanisms:[]},i=function(t,e){t=parseInt(t,10);for(var n=0;n<e.length;n++)if(e[n].payloadType===t||e[n].preferredPayloadType===t)return e[n]},r=function(t,e,n,r){var o=i(t.parameters.apt,n),a=i(e.parameters.apt,r);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return t.codecs.forEach(function(i){for(var o=0;o<e.codecs.length;o++){var a=e.codecs[o];if(i.name.toLowerCase()===a.name.toLowerCase()&&i.clockRate===a.clockRate){if("rtx"===i.name.toLowerCase()&&i.parameters&&a.parameters.apt&&!r(i,a,t.codecs,e.codecs))continue;a=JSON.parse(JSON.stringify(a)),a.numChannels=Math.min(i.numChannels,a.numChannels),n.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(t){for(var e=0;e<i.rtcpFeedback.length;e++)if(i.rtcpFeedback[e].type===t.type&&i.rtcpFeedback[e].parameter===t.parameter)return!0;return!1});break}}}),t.headerExtensions.forEach(function(t){for(var i=0;i<e.headerExtensions.length;i++){var r=e.headerExtensions[i];if(t.uri===r.uri){n.headerExtensions.push(r);break}}}),n}function s(t,e,n){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[e][t].indexOf(n)!==-1}function l(t,e){var n=t.getRemoteCandidates().find(function(t){return e.foundation===t.foundation&&e.ip===t.ip&&e.port===t.port&&e.priority===t.priority&&e.protocol===t.protocol&&e.type===t.type});return n||t.addRemoteCandidate(e),!n}function u(t,e){var n=new Error(e);return n.name=t,n.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[t],n}var c=t("sdp");e.exports=function(t,e){function n(e,n){n.addTrack(e),n.dispatchEvent(new t.MediaStreamTrackEvent("addtrack",{track:e}))}function d(e,n){n.removeTrack(e),n.dispatchEvent(new t.MediaStreamTrackEvent("removetrack",{track:e}))}function h(e,n,i,r){var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=r,t.setTimeout(function(){e._dispatchEvent("track",o)})}var f=function(n){var i=this,r=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(t){i[t]=r[t].bind(r)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw u("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=o(n.iceServers||[],e),this._iceGatherers=[],n.iceCandidatePoolSize)for(var a=n.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new t.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=c.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(f.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(f.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),f.prototype.onicecandidate=null,f.prototype.onaddstream=null,f.prototype.ontrack=null,f.prototype.onremovestream=null,f.prototype.onsignalingstatechange=null,f.prototype.oniceconnectionstatechange=null,f.prototype.onconnectionstatechange=null,f.prototype.onicegatheringstatechange=null,f.prototype.onnegotiationneeded=null,f.prototype.ondatachannel=null,f.prototype._dispatchEvent=function(t,e){this._isClosed||(this.dispatchEvent(e),"function"==typeof this["on"+t]&&this["on"+t](e))},f.prototype._emitGatheringStateChange=function(){var t=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",t)},f.prototype.getConfiguration=function(){return this._config},f.prototype.getLocalStreams=function(){return this.localStreams},f.prototype.getRemoteStreams=function(){return this.remoteStreams},f.prototype._createTransceiver=function(t,e){var n=this.transceivers.length>0,i={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:t,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&n)i.iceTransport=this.transceivers[0].iceTransport,i.dtlsTransport=this.transceivers[0].dtlsTransport;else{var r=this._createIceAndDtlsTransports();i.iceTransport=r.iceTransport,i.dtlsTransport=r.dtlsTransport}return e||this.transceivers.push(i),i},f.prototype.addTrack=function(e,n){if(this._isClosed)throw u("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var i=this.transceivers.find(function(t){return t.track===e});if(i)throw u("InvalidAccessError","Track already exists.");for(var r,o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==e.kind||(r=this.transceivers[o]);return r||(r=this._createTransceiver(e.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(n)===-1&&this.localStreams.push(n),r.track=e,r.stream=n,r.rtpSender=new t.RTCRtpSender(e,r.dtlsTransport),r.rtpSender},f.prototype.addStream=function(t){var n=this;if(e>=15025)t.getTracks().forEach(function(e){n.addTrack(e,t)});else{var i=t.clone();t.getTracks().forEach(function(t,e){var n=i.getTracks()[e];t.addEventListener("enabled",function(t){n.enabled=t.enabled})}),i.getTracks().forEach(function(t){n.addTrack(t,i)})}},f.prototype.removeTrack=function(e){if(this._isClosed)throw u("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(e instanceof t.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find(function(t){return t.rtpSender===e});if(!n)throw u("InvalidAccessError","Sender was not created by this connection.");var i=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null;var r=this.transceivers.map(function(t){return t.stream});r.indexOf(i)===-1&&this.localStreams.indexOf(i)>-1&&this.localStreams.splice(this.localStreams.indexOf(i),1),this._maybeFireNegotiationNeeded()},f.prototype.removeStream=function(t){var e=this;t.getTracks().forEach(function(t){var n=e.getSenders().find(function(e){return e.track===t});n&&e.removeTrack(n)})},f.prototype.getSenders=function(){return this.transceivers.filter(function(t){return!!t.rtpSender}).map(function(t){return t.rtpSender})},f.prototype.getReceivers=function(){return this.transceivers.filter(function(t){return!!t.rtpReceiver}).map(function(t){return t.rtpReceiver})},f.prototype._createIceGatherer=function(e,n){var i=this;if(n&&e>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var r=new t.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[e].bufferedCandidateEvents=[],this.transceivers[e].bufferCandidates=function(t){var n=!t.candidate||0===Object.keys(t.candidate).length;r.state=n?"completed":"gathering",null!==i.transceivers[e].bufferedCandidateEvents&&i.transceivers[e].bufferedCandidateEvents.push(t)},r.addEventListener("localcandidate",this.transceivers[e].bufferCandidates),r},f.prototype._gather=function(e,n){var i=this,r=this.transceivers[n].iceGatherer;if(!r.onlocalcandidate){var o=this.transceivers[n].bufferedCandidateEvents;this.transceivers[n].bufferedCandidateEvents=null,r.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),r.onlocalcandidate=function(t){if(!(i.usingBundle&&n>0)){var o=new Event("icecandidate");o.candidate={sdpMid:e,sdpMLineIndex:n};var a=t.candidate,s=!a||0===Object.keys(a).length;if(s)"new"!==r.state&&"gathering"!==r.state||(r.state="completed");else{"new"===r.state&&(r.state="gathering"),a.component=1,a.ufrag=r.getLocalParameters().usernameFragment;var l=c.writeCandidate(a);o.candidate=Object.assign(o.candidate,c.parseCandidate(l)),o.candidate.candidate=l,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}}var u=c.getMediaSections(i._localDescription.sdp);s?u[o.candidate.sdpMLineIndex]+="a=end-of-candidates\r\n":u[o.candidate.sdpMLineIndex]+="a="+o.candidate.candidate+"\r\n",i._localDescription.sdp=c.getDescription(i._localDescription.sdp)+u.join("");var d=i.transceivers.every(function(t){return t.iceGatherer&&"completed"===t.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),s||i._dispatchEvent("icecandidate",o),d&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},t.setTimeout(function(){o.forEach(function(t){r.onlocalcandidate(t)})},0)}},f.prototype._createIceAndDtlsTransports=function(){var e=this,n=new t.RTCIceTransport(null);n.onicestatechange=function(){e._updateIceConnectionState(),e._updateConnectionState()};var i=new t.RTCDtlsTransport(n);return i.ondtlsstatechange=function(){e._updateConnectionState()},i.onerror=function(){Object.defineProperty(i,"state",{value:"failed",writable:!0}),e._updateConnectionState()},{iceTransport:n,dtlsTransport:i}},f.prototype._disposeIceAndDtlsTransports=function(t){var e=this.transceivers[t].iceGatherer;e&&(delete e.onlocalcandidate,delete this.transceivers[t].iceGatherer);var n=this.transceivers[t].iceTransport;n&&(delete n.onicestatechange,delete this.transceivers[t].iceTransport);var i=this.transceivers[t].dtlsTransport;i&&(delete i.ondtlsstatechange,delete i.onerror,delete this.transceivers[t].dtlsTransport)},f.prototype._transceive=function(t,n,i){var r=a(t.localCapabilities,t.remoteCapabilities);n&&t.rtpSender&&(r.encodings=t.sendEncodingParameters,r.rtcp={cname:c.localCName,compound:t.rtcpParameters.compound},t.recvEncodingParameters.length&&(r.rtcp.ssrc=t.recvEncodingParameters[0].ssrc),t.rtpSender.send(r)),i&&t.rtpReceiver&&r.codecs.length>0&&("video"===t.kind&&t.recvEncodingParameters&&e<15019&&t.recvEncodingParameters.forEach(function(t){delete t.rtx}),t.recvEncodingParameters.length?r.encodings=t.recvEncodingParameters:r.encodings=[{}],r.rtcp={compound:t.rtcpParameters.compound},t.rtcpParameters.cname&&(r.rtcp.cname=t.rtcpParameters.cname),t.sendEncodingParameters.length&&(r.rtcp.ssrc=t.sendEncodingParameters[0].ssrc),t.rtpReceiver.receive(r))},f.prototype.setLocalDescription=function(t){var e=this;if(["offer","answer"].indexOf(t.type)===-1)return Promise.reject(u("TypeError",'Unsupported type "'+t.type+'"'));if(!s("setLocalDescription",t.type,e.signalingState)||e._isClosed)return Promise.reject(u("InvalidStateError","Can not set local "+t.type+" in state "+e.signalingState));var n,i;if("offer"===t.type)n=c.splitSections(t.sdp),i=n.shift(),n.forEach(function(t,n){var i=c.parseRtpParameters(t);e.transceivers[n].localCapabilities=i}),e.transceivers.forEach(function(t,n){e._gather(t.mid,n)});else if("answer"===t.type){n=c.splitSections(e._remoteDescription.sdp),i=n.shift();var r=c.matchPrefix(i,"a=ice-lite").length>0;n.forEach(function(t,n){var o=e.transceivers[n],s=o.iceGatherer,l=o.iceTransport,u=o.dtlsTransport,d=o.localCapabilities,h=o.remoteCapabilities,f=c.isRejected(t)&&0===c.matchPrefix(t,"a=bundle-only").length;if(!f&&!o.rejected){var p=c.getIceParameters(t,i),m=c.getDtlsParameters(t,i);r&&(m.role="server"),e.usingBundle&&0!==n||(e._gather(o.mid,n),"new"===l.state&&l.start(s,p,r?"controlling":"controlled"),"new"===u.state&&u.start(m));var g=a(d,h);e._transceive(o,g.codecs.length>0,!1)}})}return e._localDescription={type:t.type,sdp:t.sdp},"offer"===t.type?e._updateSignalingState("have-local-offer"):e._updateSignalingState("stable"),Promise.resolve()},f.prototype.setRemoteDescription=function(i){var r=this;if(["offer","answer"].indexOf(i.type)===-1)return Promise.reject(u("TypeError",'Unsupported type "'+i.type+'"'));if(!s("setRemoteDescription",i.type,r.signalingState)||r._isClosed)return Promise.reject(u("InvalidStateError","Can not set remote "+i.type+" in state "+r.signalingState));var o={};r.remoteStreams.forEach(function(t){o[t.id]=t});var f=[],p=c.splitSections(i.sdp),m=p.shift(),g=c.matchPrefix(m,"a=ice-lite").length>0,v=c.matchPrefix(m,"a=group:BUNDLE ").length>0;r.usingBundle=v;var y=c.matchPrefix(m,"a=ice-options:")[0];return y?r.canTrickleIceCandidates=y.substr(14).split(" ").indexOf("trickle")>=0:r.canTrickleIceCandidates=!1,p.forEach(function(s,u){var h=c.splitLines(s),p=c.getKind(s),y=c.isRejected(s)&&0===c.matchPrefix(s,"a=bundle-only").length,_=h[0].substr(2).split(" ")[2],b=c.getDirection(s,m),E=c.parseMsid(s),x=c.getMid(s)||c.generateIdentifier();if(y||"application"===p&&("DTLS/SCTP"===_||"UDP/DTLS/SCTP"===_))return void(r.transceivers[u]={mid:x,kind:p,protocol:_,rejected:!0});!y&&r.transceivers[u]&&r.transceivers[u].rejected&&(r.transceivers[u]=r._createTransceiver(p,!0));var C,T,w,S,M,j,O,A,R,P,I,L=c.parseRtpParameters(s);y||(P=c.getIceParameters(s,m),I=c.getDtlsParameters(s,m),I.role="client"),O=c.parseRtpEncodingParameters(s);var k=c.parseRtcpParameters(s),D=c.matchPrefix(s,"a=end-of-candidates",m).length>0,N=c.matchPrefix(s,"a=candidate:").map(function(t){return c.parseCandidate(t)}).filter(function(t){return 1===t.component});if(("offer"===i.type||"answer"===i.type)&&!y&&v&&u>0&&r.transceivers[u]&&(r._disposeIceAndDtlsTransports(u),r.transceivers[u].iceGatherer=r.transceivers[0].iceGatherer,r.transceivers[u].iceTransport=r.transceivers[0].iceTransport,r.transceivers[u].dtlsTransport=r.transceivers[0].dtlsTransport,r.transceivers[u].rtpSender&&r.transceivers[u].rtpSender.setTransport(r.transceivers[0].dtlsTransport),r.transceivers[u].rtpReceiver&&r.transceivers[u].rtpReceiver.setTransport(r.transceivers[0].dtlsTransport)),"offer"!==i.type||y){if("answer"===i.type&&!y){C=r.transceivers[u],T=C.iceGatherer,w=C.iceTransport,S=C.dtlsTransport,M=C.rtpReceiver,j=C.sendEncodingParameters,A=C.localCapabilities,r.transceivers[u].recvEncodingParameters=O,r.transceivers[u].remoteCapabilities=L,r.transceivers[u].rtcpParameters=k,N.length&&"new"===w.state&&(!g&&!D||v&&0!==u?N.forEach(function(t){l(C.iceTransport,t)}):w.setRemoteCandidates(N)),v&&0!==u||("new"===w.state&&w.start(T,P,"controlling"),"new"===S.state&&S.start(I));var F=a(C.localCapabilities,C.remoteCapabilities),$=F.codecs.filter(function(t){return"rtx"===t.name.toLowerCase()}).length;!$&&C.sendEncodingParameters[0].rtx&&delete C.sendEncodingParameters[0].rtx,r._transceive(C,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!M||"sendrecv"!==b&&"sendonly"!==b?delete C.rtpReceiver:(R=M.track,E?(o[E.stream]||(o[E.stream]=new t.MediaStream),n(R,o[E.stream]),f.push([R,M,o[E.stream]])):(o["default"]||(o["default"]=new t.MediaStream),n(R,o["default"]),f.push([R,M,o["default"]])))}}else{C=r.transceivers[u]||r._createTransceiver(p),C.mid=x,C.iceGatherer||(C.iceGatherer=r._createIceGatherer(u,v)),N.length&&"new"===C.iceTransport.state&&(!D||v&&0!==u?N.forEach(function(t){l(C.iceTransport,t)}):C.iceTransport.setRemoteCandidates(N)),A=t.RTCRtpReceiver.getCapabilities(p),e<15019&&(A.codecs=A.codecs.filter(function(t){return"rtx"!==t.name})),j=C.sendEncodingParameters||[{ssrc:1001*(2*u+2)}];var G=!1;if("sendrecv"===b||"sendonly"===b){if(G=!C.rtpReceiver,M=C.rtpReceiver||new t.RTCRtpReceiver(C.dtlsTransport,p),G){var U;R=M.track,E&&"-"===E.stream||(E?(o[E.stream]||(o[E.stream]=new t.MediaStream,Object.defineProperty(o[E.stream],"id",{get:function(){return E.stream}})),Object.defineProperty(R,"id",{get:function(){return E.track}}),U=o[E.stream]):(o["default"]||(o["default"]=new t.MediaStream),U=o["default"])),U&&(n(R,U),C.associatedRemoteMediaStreams.push(U)),f.push([R,M,U])}}else C.rtpReceiver&&C.rtpReceiver.track&&(C.associatedRemoteMediaStreams.forEach(function(t){var e=t.getTracks().find(function(t){return t.id===C.rtpReceiver.track.id});e&&d(e,t)}),C.associatedRemoteMediaStreams=[]);C.localCapabilities=A,C.remoteCapabilities=L,C.rtpReceiver=M,C.rtcpParameters=k,C.sendEncodingParameters=j,C.recvEncodingParameters=O,r._transceive(r.transceivers[u],!1,G)}}),void 0===r._dtlsRole&&(r._dtlsRole="offer"===i.type?"active":"passive"),r._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?r._updateSignalingState("have-remote-offer"):r._updateSignalingState("stable"),Object.keys(o).forEach(function(e){var n=o[e];if(n.getTracks().length){if(r.remoteStreams.indexOf(n)===-1){r.remoteStreams.push(n);var i=new Event("addstream");i.stream=n,t.setTimeout(function(){r._dispatchEvent("addstream",i)})}f.forEach(function(t){var e=t[0],i=t[1];n.id===t[2].id&&h(r,e,i,[n])})}}),f.forEach(function(t){t[2]||h(r,t[0],t[1],[])}),t.setTimeout(function(){r&&r.transceivers&&r.transceivers.forEach(function(t){t.iceTransport&&"new"===t.iceTransport.state&&t.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),t.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},f.prototype.close=function(){this.transceivers.forEach(function(t){t.iceTransport&&t.iceTransport.stop(),t.dtlsTransport&&t.dtlsTransport.stop(),t.rtpSender&&t.rtpSender.stop(),t.rtpReceiver&&t.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},f.prototype._updateSignalingState=function(t){this.signalingState=t;var e=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",e)},f.prototype._maybeFireNegotiationNeeded=function(){var e=this;"stable"===this.signalingState&&this.needNegotiation!==!0&&(this.needNegotiation=!0,t.setTimeout(function(){if(e.needNegotiation){e.needNegotiation=!1;var t=new Event("negotiationneeded");e._dispatchEvent("negotiationneeded",t)}},0))},f.prototype._updateIceConnectionState=function(){var t,e={"new":0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(t){e[t.iceTransport.state]++}),t="new",e.failed>0?t="failed":e.checking>0?t="checking":e.disconnected>0?t="disconnected":e["new"]>0?t="new":e.connected>0?t="connected":e.completed>0&&(t="completed"),t!==this.iceConnectionState){this.iceConnectionState=t;var n=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",n)}},f.prototype._updateConnectionState=function(){var t,e={"new":0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(t){e[t.iceTransport.state]++,e[t.dtlsTransport.state]++}),e.connected+=e.completed,t="new",e.failed>0?t="failed":e.connecting>0?t="connecting":e.disconnected>0?t="disconnected":e["new"]>0?t="new":e.connected>0&&(t="connected"),t!==this.connectionState){this.connectionState=t;var n=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",n)}},f.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter(function(t){return"audio"===t.kind}).length,o=n.transceivers.filter(function(t){return"video"===t.kind}).length,a=arguments[0];if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");
void 0!==a.offerToReceiveAudio&&(i=a.offerToReceiveAudio===!0?1:a.offerToReceiveAudio===!1?0:a.offerToReceiveAudio),void 0!==a.offerToReceiveVideo&&(o=a.offerToReceiveVideo===!0?1:a.offerToReceiveVideo===!1?0:a.offerToReceiveVideo)}for(n.transceivers.forEach(function(t){"audio"===t.kind?(i--,i<0&&(t.wantReceive=!1)):"video"===t.kind&&(o--,o<0&&(t.wantReceive=!1))});i>0||o>0;)i>0&&(n._createTransceiver("audio"),i--),o>0&&(n._createTransceiver("video"),o--);var s=c.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.transceivers.forEach(function(i,r){var o=i.track,a=i.kind,s=i.mid||c.generateIdentifier();i.mid=s,i.iceGatherer||(i.iceGatherer=n._createIceGatherer(r,n.usingBundle));var l=t.RTCRtpSender.getCapabilities(a);e<15019&&(l.codecs=l.codecs.filter(function(t){return"rtx"!==t.name})),l.codecs.forEach(function(t){"H264"===t.name&&void 0===t.parameters["level-asymmetry-allowed"]&&(t.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(e){t.name.toLowerCase()===e.name.toLowerCase()&&t.clockRate===e.clockRate&&(t.preferredPayloadType=e.payloadType)})}),l.headerExtensions.forEach(function(t){var e=i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[];e.forEach(function(e){t.uri===e.uri&&(t.id=e.id)})});var u=i.sendEncodingParameters||[{ssrc:1001*(2*r+1)}];o&&e>=15019&&"video"===a&&!u[0].rtx&&(u[0].rtx={ssrc:u[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new t.RTCRtpReceiver(i.dtlsTransport,a)),i.localCapabilities=l,i.sendEncodingParameters=u}),"max-compat"!==n._config.bundlePolicy&&(s+="a=group:BUNDLE "+n.transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",n.transceivers.forEach(function(t,e){s+=r(t,t.localCapabilities,"offer",t.stream,n._dtlsRole),s+="a=rtcp-rsize\r\n",!t.iceGatherer||"new"===n.iceGatheringState||0!==e&&n.usingBundle||(t.iceGatherer.getLocalCandidates().forEach(function(t){t.component=1,s+="a="+c.writeCandidate(t)+"\r\n"}),"completed"===t.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))});var l=new t.RTCSessionDescription({type:"offer",sdp:s});return Promise.resolve(l)},f.prototype.createAnswer=function(){var n=this;if(n._isClosed)return Promise.reject(u("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==n.signalingState&&"have-local-pranswer"!==n.signalingState)return Promise.reject(u("InvalidStateError","Can not call createAnswer in signalingState "+n.signalingState));var i=c.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++);n.usingBundle&&(i+="a=group:BUNDLE "+n.transceivers.map(function(t){return t.mid}).join(" ")+"\r\n"),i+="a=ice-options:trickle\r\n";var o=c.getMediaSections(n._remoteDescription.sdp).length;n.transceivers.forEach(function(t,s){if(!(s+1>o)){if(t.rejected)return"application"===t.kind?i+="DTLS/SCTP"===t.protocol?"m=application 0 DTLS/SCTP 5000\r\n":"m=application 0 "+t.protocol+" webrtc-datachannel\r\n":"audio"===t.kind?i+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===t.kind&&(i+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(i+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+t.mid+"\r\n");if(t.stream){var l;"audio"===t.kind?l=t.stream.getAudioTracks()[0]:"video"===t.kind&&(l=t.stream.getVideoTracks()[0]),l&&e>=15019&&"video"===t.kind&&!t.sendEncodingParameters[0].rtx&&(t.sendEncodingParameters[0].rtx={ssrc:t.sendEncodingParameters[0].ssrc+1})}var u=a(t.localCapabilities,t.remoteCapabilities),c=u.codecs.filter(function(t){return"rtx"===t.name.toLowerCase()}).length;!c&&t.sendEncodingParameters[0].rtx&&delete t.sendEncodingParameters[0].rtx,i+=r(t,u,"answer",t.stream,n._dtlsRole),t.rtcpParameters&&t.rtcpParameters.reducedSize&&(i+="a=rtcp-rsize\r\n")}});var s=new t.RTCSessionDescription({type:"answer",sdp:i});return Promise.resolve(s)},f.prototype.addIceCandidate=function(t){var e,n=this;return t&&void 0===t.sdpMLineIndex&&!t.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,r){if(!n._remoteDescription)return r(u("InvalidStateError","Can not add ICE candidate without a remote description"));if(t&&""!==t.candidate){var o=t.sdpMLineIndex;if(t.sdpMid)for(var a=0;a<n.transceivers.length;a++)if(n.transceivers[a].mid===t.sdpMid){o=a;break}var s=n.transceivers[o];if(!s)return r(u("OperationError","Can not add ICE candidate"));if(s.rejected)return i();var d=Object.keys(t.candidate).length>0?c.parseCandidate(t.candidate):{};if("tcp"===d.protocol&&(0===d.port||9===d.port))return i();if(d.component&&1!==d.component)return i();if((0===o||o>0&&s.iceTransport!==n.transceivers[0].iceTransport)&&!l(s.iceTransport,d))return r(u("OperationError","Can not add ICE candidate"));var h=t.candidate.trim();0===h.indexOf("a=")&&(h=h.substr(2)),e=c.getMediaSections(n._remoteDescription.sdp),e[o]+="a="+(d.type?h:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=c.getDescription(n._remoteDescription.sdp)+e.join("")}else for(var f=0;f<n.transceivers.length&&(n.transceivers[f].rejected||(n.transceivers[f].iceTransport.addRemoteCandidate({}),e=c.getMediaSections(n._remoteDescription.sdp),e[f]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=c.getDescription(n._remoteDescription.sdp)+e.join(""),!n.usingBundle));f++);i()})},f.prototype.getStats=function(e){if(e&&e instanceof t.MediaStreamTrack){var n=null;if(this.transceivers.forEach(function(t){t.rtpSender&&t.rtpSender.track===e?n=t.rtpSender:t.rtpReceiver&&t.rtpReceiver.track===e&&(n=t.rtpReceiver)}),!n)throw u("InvalidAccessError","Invalid selector.");return n.getStats()}var i=[];return this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(e){t[e]&&i.push(t[e].getStats())})}),Promise.all(i).then(function(t){var e=new Map;return t.forEach(function(t){t.forEach(function(t){e.set(t.id,t)})}),e})};var p=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];p.forEach(function(e){var n=t[e];if(n&&n.prototype&&n.prototype.getStats){var r=n.prototype.getStats;n.prototype.getStats=function(){return r.apply(this).then(function(t){var e=new Map;return Object.keys(t).forEach(function(n){t[n].type=i(t[n]),e.set(n,t[n])}),e})}}});var m=["createOffer","createAnswer"];return m.forEach(function(t){var e=f.prototype[t];f.prototype[t]=function(){var t=arguments;return"function"==typeof t[0]||"function"==typeof t[1]?e.apply(this,[arguments[2]]).then(function(e){"function"==typeof t[0]&&t[0].apply(null,[e])},function(e){"function"==typeof t[1]&&t[1].apply(null,[e])}):e.apply(this,arguments)}}),m=["setLocalDescription","setRemoteDescription","addIceCandidate"],m.forEach(function(t){var e=f.prototype[t];f.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]||"function"==typeof t[2]?e.apply(this,arguments).then(function(){"function"==typeof t[1]&&t[1].apply(null)},function(e){"function"==typeof t[2]&&t[2].apply(null,[e])}):e.apply(this,arguments)}}),["getStats"].forEach(function(t){var e=f.prototype[t];f.prototype[t]=function(){var t=arguments;return"function"==typeof t[1]?e.apply(this,arguments).then(function(){"function"==typeof t[1]&&t[1].apply(null)}):e.apply(this,arguments)}}),f}},{sdp:2}],2:[function(t,e,n){"use strict";var i={};i.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},i.localCName=i.generateIdentifier(),i.splitLines=function(t){return t.trim().split("\n").map(function(t){return t.trim()})},i.splitSections=function(t){var e=t.split("\nm=");return e.map(function(t,e){return(e>0?"m="+t:t).trim()+"\r\n"})},i.getDescription=function(t){var e=i.splitSections(t);return e&&e[0]},i.getMediaSections=function(t){var e=i.splitSections(t);return e.shift(),e},i.matchPrefix=function(t,e){return i.splitLines(t).filter(function(t){return 0===t.indexOf(e)})},i.parseCandidate=function(t){var e;e=0===t.indexOf("a=candidate:")?t.substring(12).split(" "):t.substring(10).split(" ");for(var n={foundation:e[0],component:parseInt(e[1],10),protocol:e[2].toLowerCase(),priority:parseInt(e[3],10),ip:e[4],address:e[4],port:parseInt(e[5],10),type:e[7]},i=8;i<e.length;i+=2)switch(e[i]){case"raddr":n.relatedAddress=e[i+1];break;case"rport":n.relatedPort=parseInt(e[i+1],10);break;case"tcptype":n.tcpType=e[i+1];break;case"ufrag":n.ufrag=e[i+1],n.usernameFragment=e[i+1];break;default:n[e[i]]=e[i+1]}return n},i.writeCandidate=function(t){var e=[];e.push(t.foundation),e.push(t.component),e.push(t.protocol.toUpperCase()),e.push(t.priority),e.push(t.address||t.ip),e.push(t.port);var n=t.type;return e.push("typ"),e.push(n),"host"!==n&&t.relatedAddress&&t.relatedPort&&(e.push("raddr"),e.push(t.relatedAddress),e.push("rport"),e.push(t.relatedPort)),t.tcpType&&"tcp"===t.protocol.toLowerCase()&&(e.push("tcptype"),e.push(t.tcpType)),(t.usernameFragment||t.ufrag)&&(e.push("ufrag"),e.push(t.usernameFragment||t.ufrag)),"candidate:"+e.join(" ")},i.parseIceOptions=function(t){return t.substr(14).split(" ")},i.parseRtpMap=function(t){var e=t.substr(9).split(" "),n={payloadType:parseInt(e.shift(),10)};return e=e[0].split("/"),n.name=e[0],n.clockRate=parseInt(e[1],10),n.channels=3===e.length?parseInt(e[2],10):1,n.numChannels=n.channels,n},i.writeRtpMap=function(t){var e=t.payloadType;void 0!==t.preferredPayloadType&&(e=t.preferredPayloadType);var n=t.channels||t.numChannels||1;return"a=rtpmap:"+e+" "+t.name+"/"+t.clockRate+(1!==n?"/"+n:"")+"\r\n"},i.parseExtmap=function(t){var e=t.substr(9).split(" ");return{id:parseInt(e[0],10),direction:e[0].indexOf("/")>0?e[0].split("/")[1]:"sendrecv",uri:e[1]}},i.writeExtmap=function(t){return"a=extmap:"+(t.id||t.preferredId)+(t.direction&&"sendrecv"!==t.direction?"/"+t.direction:"")+" "+t.uri+"\r\n"},i.parseFmtp=function(t){for(var e,n={},i=t.substr(t.indexOf(" ")+1).split(";"),r=0;r<i.length;r++)e=i[r].trim().split("="),n[e[0].trim()]=e[1];return n},i.writeFmtp=function(t){var e="",n=t.payloadType;if(void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.parameters&&Object.keys(t.parameters).length){var i=[];Object.keys(t.parameters).forEach(function(e){t.parameters[e]?i.push(e+"="+t.parameters[e]):i.push(e)}),e+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return e},i.parseRtcpFb=function(t){var e=t.substr(t.indexOf(" ")+1).split(" ");return{type:e.shift(),parameter:e.join(" ")}},i.writeRtcpFb=function(t){var e="",n=t.payloadType;return void 0!==t.preferredPayloadType&&(n=t.preferredPayloadType),t.rtcpFeedback&&t.rtcpFeedback.length&&t.rtcpFeedback.forEach(function(t){e+="a=rtcp-fb:"+n+" "+t.type+(t.parameter&&t.parameter.length?" "+t.parameter:"")+"\r\n"}),e},i.parseSsrcMedia=function(t){var e=t.indexOf(" "),n={ssrc:parseInt(t.substr(7,e-7),10)},i=t.indexOf(":",e);return i>-1?(n.attribute=t.substr(e+1,i-e-1),n.value=t.substr(i+1)):n.attribute=t.substr(e+1),n},i.parseSsrcGroup=function(t){var e=t.substr(13).split(" ");return{semantics:e.shift(),ssrcs:e.map(function(t){return parseInt(t,10)})}},i.getMid=function(t){var e=i.matchPrefix(t,"a=mid:")[0];if(e)return e.substr(6)},i.parseFingerprint=function(t){var e=t.substr(14).split(" ");return{algorithm:e[0].toLowerCase(),value:e[1]}},i.getDtlsParameters=function(t,e){var n=i.matchPrefix(t+e,"a=fingerprint:");return{role:"auto",fingerprints:n.map(i.parseFingerprint)}},i.writeDtlsParameters=function(t,e){var n="a=setup:"+e+"\r\n";return t.fingerprints.forEach(function(t){n+="a=fingerprint:"+t.algorithm+" "+t.value+"\r\n"}),n},i.getIceParameters=function(t,e){var n=i.splitLines(t);n=n.concat(i.splitLines(e));var r={usernameFragment:n.filter(function(t){return 0===t.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(t){return 0===t.indexOf("a=ice-pwd:")})[0].substr(10)};return r},i.writeIceParameters=function(t){return"a=ice-ufrag:"+t.usernameFragment+"\r\na=ice-pwd:"+t.password+"\r\n"},i.parseRtpParameters=function(t){for(var e={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=i.splitLines(t),r=n[0].split(" "),o=3;o<r.length;o++){var a=r[o],s=i.matchPrefix(t,"a=rtpmap:"+a+" ")[0];if(s){var l=i.parseRtpMap(s),u=i.matchPrefix(t,"a=fmtp:"+a+" ");switch(l.parameters=u.length?i.parseFmtp(u[0]):{},l.rtcpFeedback=i.matchPrefix(t,"a=rtcp-fb:"+a+" ").map(i.parseRtcpFb),e.codecs.push(l),l.name.toUpperCase()){case"RED":case"ULPFEC":e.fecMechanisms.push(l.name.toUpperCase())}}}return i.matchPrefix(t,"a=extmap:").forEach(function(t){e.headerExtensions.push(i.parseExtmap(t))}),e},i.writeRtpDescription=function(t,e){var n="";n+="m="+t+" ",n+=e.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=e.codecs.map(function(t){return void 0!==t.preferredPayloadType?t.preferredPayloadType:t.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",e.codecs.forEach(function(t){n+=i.writeRtpMap(t),n+=i.writeFmtp(t),n+=i.writeRtcpFb(t)});var r=0;return e.codecs.forEach(function(t){t.maxptime>r&&(r=t.maxptime)}),r>0&&(n+="a=maxptime:"+r+"\r\n"),n+="a=rtcp-mux\r\n",e.headerExtensions&&e.headerExtensions.forEach(function(t){n+=i.writeExtmap(t)}),n},i.parseRtpEncodingParameters=function(t){var e,n=[],r=i.parseRtpParameters(t),o=r.fecMechanisms.indexOf("RED")!==-1,a=r.fecMechanisms.indexOf("ULPFEC")!==-1,s=i.matchPrefix(t,"a=ssrc:").map(function(t){return i.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute}),l=s.length>0&&s[0].ssrc,u=i.matchPrefix(t,"a=ssrc-group:FID").map(function(t){var e=t.substr(17).split(" ");return e.map(function(t){return parseInt(t,10)})});u.length>0&&u[0].length>1&&u[0][0]===l&&(e=u[0][1]),r.codecs.forEach(function(t){if("RTX"===t.name.toUpperCase()&&t.parameters.apt){var i={ssrc:l,codecPayloadType:parseInt(t.parameters.apt,10)};l&&e&&(i.rtx={ssrc:e}),n.push(i),o&&(i=JSON.parse(JSON.stringify(i)),i.fec={ssrc:l,mechanism:a?"red+ulpfec":"red"},n.push(i))}}),0===n.length&&l&&n.push({ssrc:l});var c=i.matchPrefix(t,"b=");return c.length&&(c=0===c[0].indexOf("b=TIAS:")?parseInt(c[0].substr(7),10):0===c[0].indexOf("b=AS:")?1e3*parseInt(c[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(t){t.maxBitrate=c})),n},i.parseRtcpParameters=function(t){var e={},n=i.matchPrefix(t,"a=ssrc:").map(function(t){return i.parseSsrcMedia(t)}).filter(function(t){return"cname"===t.attribute})[0];n&&(e.cname=n.value,e.ssrc=n.ssrc);var r=i.matchPrefix(t,"a=rtcp-rsize");e.reducedSize=r.length>0,e.compound=0===r.length;var o=i.matchPrefix(t,"a=rtcp-mux");return e.mux=o.length>0,e},i.parseMsid=function(t){var e,n=i.matchPrefix(t,"a=msid:");if(1===n.length)return e=n[0].substr(7).split(" "),{stream:e[0],track:e[1]};var r=i.matchPrefix(t,"a=ssrc:").map(function(t){return i.parseSsrcMedia(t)}).filter(function(t){return"msid"===t.attribute});return r.length>0?(e=r[0].value.split(" "),{stream:e[0],track:e[1]}):void 0},i.generateSessionId=function(){return Math.random().toString().substr(2,21)},i.writeSessionBoilerplate=function(t,e,n){var r,o=void 0!==e?e:2;r=t?t:i.generateSessionId();var a=n||"thisisadapterortc";return"v=0\r\no="+a+" "+r+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},i.writeMediaSection=function(t,e,n,r){var o=i.writeRtpDescription(t.kind,e);if(o+=i.writeIceParameters(t.iceGatherer.getLocalParameters()),o+=i.writeDtlsParameters(t.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+t.mid+"\r\n",o+=t.direction?"a="+t.direction+"\r\n":t.rtpSender&&t.rtpReceiver?"a=sendrecv\r\n":t.rtpSender?"a=sendonly\r\n":t.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",t.rtpSender){var a="msid:"+r.id+" "+t.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" "+a,t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+t.sendEncodingParameters[0].ssrc+" "+t.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+t.sendEncodingParameters[0].ssrc+" cname:"+i.localCName+"\r\n",t.rtpSender&&t.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+t.sendEncodingParameters[0].rtx.ssrc+" cname:"+i.localCName+"\r\n"),o},i.getDirection=function(t,e){for(var n=i.splitLines(t),r=0;r<n.length;r++)switch(n[r]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[r].substr(2)}return e?i.getDirection(e):"sendrecv"},i.getKind=function(t){var e=i.splitLines(t),n=e[0].split(" ");return n[0].substr(2)},i.isRejected=function(t){return"0"===t.split(" ",2)[1]},i.parseMLine=function(t){var e=i.splitLines(t),n=e[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},i.parseOLine=function(t){var e=i.matchPrefix(t,"o=")[0],n=e.substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},i.isValidSDP=function(t){if("string"!=typeof t||0===t.length)return!1;for(var e=i.splitLines(t),n=0;n<e.length;n++)if(e[n].length<2||"="!==e[n].charAt(1))return!1;return!0},"object"==typeof e&&(e.exports=i)},{}],3:[function(t,e,n){(function(n){"use strict";var i=t("./adapter_factory.js");e.exports=i({window:n.window})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./adapter_factory.js":4}],4:[function(t,e,n){"use strict";var i=t("./utils");e.exports=function(e,n){var r=e&&e.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in n)hasOwnProperty.call(n,a)&&(o[a]=n[a]);var s=i.log,l=i.detectBrowser(r),u=t("./chrome/chrome_shim")||null,c=t("./edge/edge_shim")||null,d=t("./firefox/firefox_shim")||null,h=t("./safari/safari_shim")||null,f=t("./common_shim")||null,p={browserDetails:l,commonShim:f,extractVersion:i.extractVersion,disableLog:i.disableLog,disableWarnings:i.disableWarnings};switch(l.browser){case"chrome":if(!u||!u.shimPeerConnection||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),p;s("adapter.js shimming chrome."),p.browserShim=u,f.shimCreateObjectURL(r),u.shimGetUserMedia(r),u.shimMediaStream(r),u.shimSourceObject(r),u.shimPeerConnection(r),u.shimOnTrack(r),u.shimAddTrackRemoveTrack(r),u.shimGetSendersWithDtmf(r),u.shimSenderReceiverGetStats(r),u.fixNegotiationNeeded(r),f.shimRTCIceCandidate(r),f.shimMaxMessageSize(r),f.shimSendThrowTypeError(r);break;case"firefox":if(!d||!d.shimPeerConnection||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),p;s("adapter.js shimming firefox."),p.browserShim=d,f.shimCreateObjectURL(r),d.shimGetUserMedia(r),d.shimSourceObject(r),d.shimPeerConnection(r),d.shimOnTrack(r),d.shimRemoveStream(r),d.shimSenderGetStats(r),d.shimReceiverGetStats(r),d.shimRTCDataChannel(r),f.shimRTCIceCandidate(r),f.shimMaxMessageSize(r),f.shimSendThrowTypeError(r);break;case"edge":if(!c||!c.shimPeerConnection||!o.shimEdge)return s("MS edge shim is not included in this adapter release."),p;s("adapter.js shimming edge."),p.browserShim=c,f.shimCreateObjectURL(r),c.shimGetUserMedia(r),c.shimPeerConnection(r),c.shimReplaceTrack(r),f.shimMaxMessageSize(r),f.shimSendThrowTypeError(r);break;case"safari":if(!h||!o.shimSafari)return s("Safari shim is not included in this adapter release."),p;s("adapter.js shimming safari."),p.browserShim=h,f.shimCreateObjectURL(r),h.shimRTCIceServerUrls(r),h.shimCreateOfferLegacy(r),h.shimCallbacksAPI(r),h.shimLocalStreamsAPI(r),h.shimRemoteStreamsAPI(r),h.shimTrackEventTransceiver(r),h.shimGetUserMedia(r),f.shimRTCIceCandidate(r),f.shimMaxMessageSize(r),f.shimSendThrowTypeError(r);break;default:s("Unsupported browser!")}return p}},{"./chrome/chrome_shim":5,"./common_shim":7,"./edge/edge_shim":8,"./firefox/firefox_shim":11,"./safari/safari_shim":13,"./utils":14}],5:[function(t,e,n){"use strict";function i(t,e,n){e&&!n.has(e.id)&&(n.set(e.id,e),Object.keys(e).forEach(function(r){r.endsWith("Id")?i(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(function(e){i(t,t.get(e),n)})}))}function r(t,e,n){var r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null===e)return o;var a=[];return t.forEach(function(t){"track"===t.type&&t.trackIdentifier===e.id&&a.push(t)}),a.forEach(function(e){t.forEach(function(n){n.type===r&&n.trackId===e.id&&i(t,n,o)})}),o}var o=t("../utils.js"),a=o.log;e.exports={shimGetUserMedia:t("./getusermedia"),shimMediaStream:function(t){t.MediaStream=t.MediaStream||t.webkitMediaStream},shimOnTrack:function(t){if("object"!=typeof t||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype)o.wrapPeerConnectionEvent(t,"track",function(t){return t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t});else{Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=t)},enumerable:!0,configurable:!0});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return n._ontrackpoly||(n._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(i){var r;r=t.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(t){return t.track&&t.track.id===i.track.id}):{track:i.track};var o=new Event("track");o.track=i.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[e.stream],n.dispatchEvent(o)}),e.stream.getTracks().forEach(function(i){var r;r=t.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find(function(t){return t.track&&t.track.id===i.id}):{track:i};var o=new Event("track");o.track=i,o.receiver=r,o.transceiver={receiver:r},o.streams=[e.stream],n.dispatchEvent(o)})},n.addEventListener("addstream",n._ontrackpoly)),e.apply(n,arguments)}}},shimGetSendersWithDtmf:function(t){if("object"==typeof t&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){var e=function(t,e){return{track:e,get dtmf(){return void 0===this._dtmf&&("audio"===e.kind?this._dtmf=t.createDTMFSender(e):this._dtmf=null),this._dtmf},_pc:t}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,i){var r=this,o=n.apply(r,arguments);return o||(o=e(r,t),r._senders.push(o)),o};var i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;i.apply(e,arguments);var n=e._senders.indexOf(t);n!==-1&&e._senders.splice(n,1)}}var r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var n=this;n._senders=n._senders||[],r.apply(n,[t]),t.getTracks().forEach(function(t){n._senders.push(e(n,t))})};var o=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;e._senders=e._senders||[],o.apply(e,[t]),t.getTracks().forEach(function(t){var n=e._senders.find(function(e){return e.track===t});n&&e._senders.splice(e._senders.indexOf(n),1)})}}else if("object"==typeof t&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){var a=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){var t=this,e=a.apply(t,[]);return e.forEach(function(e){e._pc=t}),e},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(t){if("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver){if(!("getStats"in t.RTCRtpSender.prototype)){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=e.apply(t,[]);return n.forEach(function(e){e._pc=t}),n});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return r(e,t.track,!0)})}}if(!("getStats"in t.RTCRtpReceiver.prototype)){var i=t.RTCPeerConnection.prototype.getReceivers;i&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,e=i.apply(t,[]);return e.forEach(function(e){e._pc=t}),e}),o.wrapPeerConnectionEvent(t,"track",function(t){return t.receiver._pc=t.srcElement,t}),t.RTCRtpReceiver.prototype.getStats=function(){var t=this;return this._pc.getStats().then(function(e){return r(e,t.track,!1)})}}if("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype){var a=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){var e=this;if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){var n,i,r,o=arguments[0];return e.getSenders().forEach(function(t){t.track===o&&(n?r=!0:n=t)}),e.getReceivers().forEach(function(t){return t.track===o&&(i?r=!0:i=t),t.track===o}),r||n&&i?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):n?n.getStats():i?i.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(e,arguments)}}}},shimSourceObject:function(t){var e=t&&t.URL;"object"==typeof t&&(!t.HTMLMediaElement||"srcObject"in t.HTMLMediaElement.prototype||Object.defineProperty(t.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(t){var n=this;return this._srcObject=t,this.src&&e.revokeObjectURL(this.src),t?(this.src=e.createObjectURL(t),t.addEventListener("addtrack",function(){n.src&&e.revokeObjectURL(n.src),n.src=e.createObjectURL(t)}),void t.addEventListener("removetrack",function(){n.src&&e.revokeObjectURL(n.src),n.src=e.createObjectURL(t)})):void(this.src="")}}))},shimAddTrackRemoveTrackWithNative:function(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(e){return t._shimmedLocalStreams[e][0]})};var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(t,n){if(!n)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var i=e.apply(this,arguments);return this._shimmedLocalStreams[n.id]?this._shimmedLocalStreams[n.id].indexOf(i)===-1&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};var n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(t){var e=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},t.getTracks().forEach(function(t){var n=e.getSenders().find(function(e){return e.track===t});if(n)throw new DOMException("Track already exists.","InvalidAccessError")});var i=e.getSenders();n.apply(this,arguments);var r=e.getSenders().filter(function(t){return i.indexOf(t)===-1});this._shimmedLocalStreams[t.id]=[t].concat(r)};var i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[t.id],i.apply(this,arguments)};var r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},t&&Object.keys(this._shimmedLocalStreams).forEach(function(n){var i=e._shimmedLocalStreams[n].indexOf(t);i!==-1&&e._shimmedLocalStreams[n].splice(i,1),1===e._shimmedLocalStreams[n].length&&delete e._shimmedLocalStreams[n]}),r.apply(this,arguments)}},shimAddTrackRemoveTrack:function(t){function e(t,e){var n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(e){var i=t._reverseStreams[e],r=t._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:e.type,sdp:n})}function n(t,e){var n=e.sdp;return Object.keys(t._reverseStreams||[]).forEach(function(e){var i=t._reverseStreams[e],r=t._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:e.type,sdp:n})}var i=o.detectBrowser(t);if(t.RTCPeerConnection.prototype.addTrack&&i.version>=65)return this.shimAddTrackRemoveTrackWithNative(t);var r=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){var t=this,e=r.apply(this);return t._reverseStreams=t._reverseStreams||{},e.map(function(e){return t._reverseStreams[e.id]})};var a=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(e){var n=this;if(n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{},e.getTracks().forEach(function(t){var e=n.getSenders().find(function(e){return e.track===t});if(e)throw new DOMException("Track already exists.","InvalidAccessError")}),!n._reverseStreams[e.id]){var i=new t.MediaStream(e.getTracks());n._streams[e.id]=i,n._reverseStreams[i.id]=e,e=i}a.apply(n,[e])};var s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;e._streams=e._streams||{},e._reverseStreams=e._reverseStreams||{},s.apply(e,[e._streams[t.id]||t]),delete e._reverseStreams[e._streams[t.id]?e._streams[t.id].id:t.id],delete e._streams[t.id]},t.RTCPeerConnection.prototype.addTrack=function(e,n){var i=this;if("closed"===i.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(function(t){return t===e}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var o=i.getSenders().find(function(t){return t.track===e});if(o)throw new DOMException("Track already exists.","InvalidAccessError");i._streams=i._streams||{},i._reverseStreams=i._reverseStreams||{};var a=i._streams[n.id];if(a)a.addTrack(e),Promise.resolve().then(function(){i.dispatchEvent(new Event("negotiationneeded"))});else{var s=new t.MediaStream([e]);i._streams[n.id]=s,i._reverseStreams[s.id]=n,i.addStream(s)}return i.getSenders().find(function(t){return t.track===e})},["createOffer","createAnswer"].forEach(function(n){var i=t.RTCPeerConnection.prototype[n];t.RTCPeerConnection.prototype[n]=function(){var t=this,n=arguments,r=arguments.length&&"function"==typeof arguments[0];return r?i.apply(t,[function(i){var r=e(t,i);n[0].apply(null,[r])},function(t){n[1]&&n[1].apply(null,t)},arguments[2]]):i.apply(t,arguments).then(function(n){return e(t,n)})}});var l=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){var t=this;return arguments.length&&arguments[0].type?(arguments[0]=n(t,arguments[0]),l.apply(t,arguments)):l.apply(t,arguments)};var u=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get:function(){var t=this,n=u.get.apply(this);return""===n.type?n:e(t,n)}}),t.RTCPeerConnection.prototype.removeTrack=function(t){var e=this;if("closed"===e.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!t._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");var n=t._pc===e;if(!n)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");e._streams=e._streams||{};var i;Object.keys(e._streams).forEach(function(n){var r=e._streams[n].getTracks().find(function(e){return t.track===e});r&&(i=e._streams[n])}),i&&(1===i.getTracks().length?e.removeStream(e._reverseStreams[i.id]):i.removeTrack(t.track),e.dispatchEvent(new Event("negotiationneeded")))}},shimPeerConnection:function(t){var e=o.detectBrowser(t);!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=function(e,n){
return a("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy),new t.webkitRTCPeerConnection(e,n)},t.RTCPeerConnection.prototype=t.webkitRTCPeerConnection.prototype,t.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return t.webkitRTCPeerConnection.generateCertificate}}));var n=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(t,e,i){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof t)return n.apply(this,arguments);if(0===n.length&&(0===arguments.length||"function"!=typeof arguments[0]))return n.apply(this,[]);var a=function(t){var e={},n=t.result();return n.forEach(function(t){var n={id:t.id,timestamp:t.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[t.type]||t.type};t.names().forEach(function(e){n[e]=t.stat(e)}),e[n.id]=n}),e},s=function(t){return new Map(Object.keys(t).map(function(e){return[e,t[e]]}))};if(arguments.length>=2){var l=function(t){o[1](s(a(t)))};return n.apply(this,[l,arguments[0]])}return new Promise(function(t,e){n.apply(r,[function(e){t(s(a(e)))},e])}).then(e,i)},e.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){var t=arguments,e=this,i=new Promise(function(i,r){n.apply(e,[t[0],i,r])});return t.length<2?i:i.then(function(){t[1].apply(null,[])},function(e){t.length>=3&&t[2].apply(null,[e])})}}),e.version<52&&["createOffer","createAnswer"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){var t=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var e=1===arguments.length?arguments[0]:void 0;return new Promise(function(i,r){n.apply(t,[i,r,e])})}return n.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var i=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}},fixNegotiationNeeded:function(t){o.wrapPeerConnectionEvent(t,"negotiationneeded",function(t){var e=t.target;if("stable"===e.signalingState)return t})},shimGetDisplayMedia:function(t,e){if(!("getDisplayMedia"in t.navigator))return"function"!=typeof e?void console.error("shimGetDisplayMedia: getSourceId argument is not a function"):void(navigator.getDisplayMedia=function(t){return e(t).then(function(e){return t.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxFrameRate:t.video.frameRate||3}},navigator.mediaDevices.getUserMedia(t)})})}}},{"../utils.js":14,"./getusermedia":6}],6:[function(t,e,n){"use strict";var i=t("../utils.js"),r=i.log;e.exports=function(t){var e=i.detectBrowser(t),n=t&&t.navigator,o=function(t){if("object"!=typeof t||t.mandatory||t.optional)return t;var e={};return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i="object"==typeof t[n]?t[n]:{ideal:t[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);var r=function(t,e){return t?t+e.charAt(0).toUpperCase()+e.slice(1):"deviceId"===e?"sourceId":e};if(void 0!==i.ideal){e.optional=e.optional||[];var o={};"number"==typeof i.ideal?(o[r("min",n)]=i.ideal,e.optional.push(o),o={},o[r("max",n)]=i.ideal,e.optional.push(o)):(o[r("",n)]=i.ideal,e.optional.push(o))}void 0!==i.exact&&"number"!=typeof i.exact?(e.mandatory=e.mandatory||{},e.mandatory[r("",n)]=i.exact):["min","max"].forEach(function(t){void 0!==i[t]&&(e.mandatory=e.mandatory||{},e.mandatory[r(t,n)]=i[t])})}}),t.advanced&&(e.optional=(e.optional||[]).concat(t.advanced)),e},a=function(t,i){if(e.version>=61)return i(t);if(t=JSON.parse(JSON.stringify(t)),t&&"object"==typeof t.audio){var a=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])};t=JSON.parse(JSON.stringify(t)),a(t.audio,"autoGainControl","googAutoGainControl"),a(t.audio,"noiseSuppression","googNoiseSuppression"),t.audio=o(t.audio)}if(t&&"object"==typeof t.video){var s=t.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var l=e.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||l)){delete t.video.facingMode;var u;if("environment"===s.exact||"environment"===s.ideal?u=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(function(e){e=e.filter(function(t){return"videoinput"===t.kind});var n=e.find(function(t){return u.some(function(e){return t.label.toLowerCase().indexOf(e)!==-1})});return!n&&e.length&&u.indexOf("back")!==-1&&(n=e[e.length-1]),n&&(t.video.deviceId=s.exact?{exact:n.deviceId}:{ideal:n.deviceId}),t.video=o(t.video),r("chrome: "+JSON.stringify(t)),i(t)})}t.video=o(t.video)}return r("chrome: "+JSON.stringify(t)),i(t)},s=function(t){return e.version>=64?t:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[t.name]||t.name,message:t.message,constraint:t.constraint||t.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},l=function(t,e,i){a(t,function(t){n.webkitGetUserMedia(t,e,function(t){i&&i(s(t))})})};n.getUserMedia=l;var u=function(t){return new Promise(function(e,i){n.getUserMedia(t,e,i)})};if(n.mediaDevices||(n.mediaDevices={getUserMedia:u,enumerateDevices:function(){return new Promise(function(e){var n={audio:"audioinput",video:"videoinput"};return t.MediaStreamTrack.getSources(function(t){e(t.map(function(t){return{label:t.label,kind:n[t.kind],deviceId:t.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),n.mediaDevices.getUserMedia){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return a(t,function(t){return c(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("","NotFoundError");return e},function(t){return Promise.reject(s(t))})})}}else n.mediaDevices.getUserMedia=function(t){return u(t)};"undefined"==typeof n.mediaDevices.addEventListener&&(n.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof n.mediaDevices.removeEventListener&&(n.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":14}],7:[function(t,e,n){"use strict";var i=t("sdp"),r=t("./utils");e.exports={shimRTCIceCandidate:function(t){if(t.RTCIceCandidate&&!(t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)){var e=t.RTCIceCandidate;t.RTCIceCandidate=function(t){if("object"==typeof t&&t.candidate&&0===t.candidate.indexOf("a=")&&(t=JSON.parse(JSON.stringify(t)),t.candidate=t.candidate.substr(2)),t.candidate&&t.candidate.length){var n=new e(t),r=i.parseCandidate(t.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new e(t)},t.RTCIceCandidate.prototype=e.prototype,r.wrapPeerConnectionEvent(t,"icecandidate",function(e){return e.candidate&&Object.defineProperty(e,"candidate",{value:new t.RTCIceCandidate(e.candidate),writable:"false"}),e})}},shimCreateObjectURL:function(t){var e=t&&t.URL;if("object"==typeof t&&t.HTMLMediaElement&&"srcObject"in t.HTMLMediaElement.prototype&&e.createObjectURL&&e.revokeObjectURL){var n=e.createObjectURL.bind(e),i=e.revokeObjectURL.bind(e),o=new Map,a=0;e.createObjectURL=function(t){if("getTracks"in t){var e="polyblob:"+ ++a;return o.set(e,t),r.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),e}return n(t)},e.revokeObjectURL=function(t){i(t),o["delete"](t)};var s=Object.getOwnPropertyDescriptor(t.HTMLMediaElement.prototype,"src");Object.defineProperty(t.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(t){return this.srcObject=o.get(t)||null,s.set.apply(this,[t])}});var l=t.HTMLMediaElement.prototype.setAttribute;t.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),l.apply(this,arguments)}}},shimMaxMessageSize:function(t){if(!t.RTCSctpTransport&&t.RTCPeerConnection){var e=r.detectBrowser(t);"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"==typeof this._sctp?null:this._sctp}});var n=function(t){var e=i.splitSections(t.sdp);return e.shift(),e.some(function(t){var e=i.parseMLine(t);return e&&"application"===e.kind&&e.protocol.indexOf("SCTP")!==-1})},o=function(t){var e=t.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===e||e.length<2)return-1;var n=parseInt(e[1],10);return n!==n?-1:n},a=function(t){var n=65536;return"firefox"===e.browser&&(n=e.version<57?t===-1?16384:2147483637:e.version<60?57===e.version?65535:65536:2147483637),n},s=function(t,n){var r=65536;"firefox"===e.browser&&57===e.version&&(r=65535);var o=i.matchPrefix(t.sdp,"a=max-message-size:");return o.length>0?r=parseInt(o[0].substr(19),10):"firefox"===e.browser&&n!==-1&&(r=2147483637),r},l=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;if(t._sctp=null,n(arguments[0])){var e,i=o(arguments[0]),r=a(i),u=s(arguments[0],i);e=0===r&&0===u?Number.POSITIVE_INFINITY:0===r||0===u?Math.max(r,u):Math.min(r,u);var c={};Object.defineProperty(c,"maxMessageSize",{get:function(){return e}}),t._sctp=c}return l.apply(t,arguments)}}},shimSendThrowTypeError:function(t){function e(t,e){var n=t.send;t.send=function(){var i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===t.readyState&&e.sctp&&r>e.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+e.sctp.maxMessageSize+" bytes)");return n.apply(t,arguments)}}if(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype){var n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){var t=this,i=n.apply(t,arguments);return e(i,t),i},r.wrapPeerConnectionEvent(t,"datachannel",function(t){return e(t.channel,t.target),t})}}}},{"./utils":14,sdp:2}],8:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./filtericeservers"),o=t("rtcpeerconnection-shim");e.exports={shimGetUserMedia:t("./getusermedia"),shimPeerConnection:function(t){var e=i.detectBrowser(t);if(t.RTCIceGatherer&&(t.RTCIceCandidate||(t.RTCIceCandidate=function(t){return t}),t.RTCSessionDescription||(t.RTCSessionDescription=function(t){return t}),e.version<15025)){var n=Object.getOwnPropertyDescriptor(t.MediaStreamTrack.prototype,"enabled");Object.defineProperty(t.MediaStreamTrack.prototype,"enabled",{set:function(t){n.set.call(this,t);var e=new Event("enabled");e.enabled=t,this.dispatchEvent(e)}})}!t.RTCRtpSender||"dtmf"in t.RTCRtpSender.prototype||Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new t.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),t.RTCDtmfSender&&!t.RTCDTMFSender&&(t.RTCDTMFSender=t.RTCDtmfSender);var a=o(t,e.version);t.RTCPeerConnection=function(t){return t&&t.iceServers&&(t.iceServers=r(t.iceServers)),new a(t)},t.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(t){!t.RTCRtpSender||"replaceTrack"in t.RTCRtpSender.prototype||(t.RTCRtpSender.prototype.replaceTrack=t.RTCRtpSender.prototype.setTrack)}}},{"../utils":14,"./filtericeservers":9,"./getusermedia":10,"rtcpeerconnection-shim":1}],9:[function(t,e,n){"use strict";var i=t("../utils");e.exports=function(t,e){var n=!1;return t=JSON.parse(JSON.stringify(t)),t.filter(function(t){if(t&&(t.urls||t.url)){var r=t.urls||t.url;t.url&&!t.urls&&i.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"==typeof r;return o&&(r=[r]),r=r.filter(function(t){var i=0===t.indexOf("turn:")&&t.indexOf("transport=udp")!==-1&&t.indexOf("turn:[")===-1&&!n;return i?(n=!0,!0):0===t.indexOf("stun:")&&e>=14393&&t.indexOf("?transport=udp")===-1}),delete t.url,t.urls=o?r[0]:r,!!r.length}})}},{"../utils":14}],10:[function(t,e,n){"use strict";e.exports=function(t){var e=t&&t.navigator,n=function(t){return{name:{PermissionDeniedError:"NotAllowedError"}[t.name]||t.name,message:t.message,constraint:t.constraint,toString:function(){return this.name}}},i=e.mediaDevices.getUserMedia.bind(e.mediaDevices);e.mediaDevices.getUserMedia=function(t){return i(t)["catch"](function(t){return Promise.reject(n(t))})}}},{}],11:[function(t,e,n){"use strict";var i=t("../utils");e.exports={shimGetUserMedia:t("./getusermedia"),shimOnTrack:function(t){"object"!=typeof t||!t.RTCPeerConnection||"ontrack"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(t){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=t),this.addEventListener("addstream",this._ontrackpoly=function(t){t.stream.getTracks().forEach(function(e){var n=new Event("track");n.track=e,n.receiver={track:e},n.transceiver={receiver:n.receiver},n.streams=[t.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof t&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(t){"object"==typeof t&&(!t.HTMLMediaElement||"srcObject"in t.HTMLMediaElement.prototype||Object.defineProperty(t.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(t){this.mozSrcObject=t}}))},shimPeerConnection:function(t){var e=i.detectBrowser(t);if("object"==typeof t&&(t.RTCPeerConnection||t.mozRTCPeerConnection)){t.RTCPeerConnection||(t.RTCPeerConnection=function(n,i){if(e.version<38&&n&&n.iceServers){for(var r=[],o=0;o<n.iceServers.length;o++){var a=n.iceServers[o];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var l={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(l.username=a.username,l.credential=a.credential),r.push(l)}else r.push(n.iceServers[o])}n.iceServers=r}return new t.mozRTCPeerConnection(n,i)},t.RTCPeerConnection.prototype=t.mozRTCPeerConnection.prototype,t.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return t.mozRTCPeerConnection.generateCertificate}}),t.RTCSessionDescription=t.mozRTCSessionDescription,t.RTCIceCandidate=t.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var n=t.RTCPeerConnection.prototype[e];t.RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}});var n=t.RTCPeerConnection.prototype.addIceCandidate;t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var r=function(t){var e=new Map;return Object.keys(t).forEach(function(n){e.set(n,t[n]),e[n]=t[n]}),e},o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},a=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(t,n,i){return a.apply(this,[t||null]).then(function(t){if(e.version<48&&(t=r(t)),e.version<53&&!n)try{t.forEach(function(t){t.type=o[t.type]||t.type})}catch(i){if("TypeError"!==i.name)throw i;t.forEach(function(e,n){t.set(n,Object.assign({},e,{type:o[e.type]||e.type}))})}return t}).then(n,i)}}},shimSenderGetStats:function(t){if("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&!(t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)){var e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){var t=this,n=e.apply(t,[]);return n.forEach(function(e){e._pc=t}),n});var n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){var t=n.apply(this,arguments);return t._pc=this,t}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(t){if("object"==typeof t&&t.RTCPeerConnection&&t.RTCRtpSender&&!(t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)){var e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){var t=this,n=e.apply(t,[]);return n.forEach(function(e){e._pc=t}),n}),i.wrapPeerConnectionEvent(t,"track",function(t){return t.receiver._pc=t.srcElement,t}),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){var e=this;i.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(n){n.track&&t.getTracks().indexOf(n.track)!==-1&&e.removeTrack(n)})})},shimRTCDataChannel:function(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)},shimGetDisplayMedia:function(t,e){"getDisplayMedia"in t.navigator||(navigator.getDisplayMedia=function(t){if(!t||!t.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return t.video===!0?t.video={mediaSource:e}:t.video.mediaSource=e,navigator.mediaDevices.getUserMedia(t)})}}},{"../utils":14,"./getusermedia":12}],12:[function(t,e,n){"use strict";var i=t("../utils"),r=i.log;e.exports=function(t){var e=i.detectBrowser(t),n=t&&t.navigator,o=t&&t.MediaStreamTrack,a=function(t){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[t.name]||t.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[t.message]||t.message,constraint:t.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(t,i,o){var s=function(t){if("object"!=typeof t||t.require)return t;var e=[];return Object.keys(t).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var i=t[n]="object"==typeof t[n]?t[n]:{ideal:t[n]};if(void 0===i.min&&void 0===i.max&&void 0===i.exact||e.push(n),void 0!==i.exact&&("number"==typeof i.exact?i.min=i.max=i.exact:t[n]=i.exact,delete i.exact),void 0!==i.ideal){t.advanced=t.advanced||[];var r={};"number"==typeof i.ideal?r[n]={min:i.ideal,max:i.ideal}:r[n]=i.ideal,t.advanced.push(r),delete i.ideal,Object.keys(i).length||delete t[n]}}}),e.length&&(t.require=e),t};return t=JSON.parse(JSON.stringify(t)),e.version<38&&(r("spec: "+JSON.stringify(t)),t.audio&&(t.audio=s(t.audio)),t.video&&(t.video=s(t.video)),r("ff37: "+JSON.stringify(t))),n.mozGetUserMedia(t,i,function(t){o(a(t))})},l=function(t){return new Promise(function(e,n){s(t,e,n)})};if(n.mediaDevices||(n.mediaDevices={getUserMedia:l,addEventListener:function(){},removeEventListener:function(){}}),n.mediaDevices.enumerateDevices=n.mediaDevices.enumerateDevices||function(){return new Promise(function(t){var e=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];t(e)})},e.version<41){var u=n.mediaDevices.enumerateDevices.bind(n.mediaDevices);n.mediaDevices.enumerateDevices=function(){return u().then(void 0,function(t){if("NotFoundError"===t.name)return[];throw t})}}if(e.version<49){var c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return c(t).then(function(e){if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(function(t){t.stop()}),new DOMException("The object can not be found here.","NotFoundError");return e},function(t){return Promise.reject(a(t))})}}if(!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var d=function(t,e,n){e in t&&!(n in t)&&(t[n]=t[e],delete t[e])},h=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(t){return"object"==typeof t&&"object"==typeof t.audio&&(t=JSON.parse(JSON.stringify(t)),d(t.audio,"autoGainControl","mozAutoGainControl"),d(t.audio,"noiseSuppression","mozNoiseSuppression")),h(t)},o&&o.prototype.getSettings){var f=o.prototype.getSettings;o.prototype.getSettings=function(){var t=f.apply(this,arguments);return d(t,"mozAutoGainControl","autoGainControl"),d(t,"mozNoiseSuppression","noiseSuppression"),t}}if(o&&o.prototype.applyConstraints){var p=o.prototype.applyConstraints;o.prototype.applyConstraints=function(t){return"audio"===this.kind&&"object"==typeof t&&(t=JSON.parse(JSON.stringify(t)),d(t,"autoGainControl","mozAutoGainControl"),d(t,"noiseSuppression","mozNoiseSuppression")),p.apply(this,[t])}}}n.getUserMedia=function(t,r,o){return e.version<44?s(t,r,o):(i.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),void n.mediaDevices.getUserMedia(t).then(r,o))}}},{"../utils":14}],13:[function(t,e,n){"use strict";var i=t("../utils");e.exports={shimLocalStreamsAPI:function(t){if("object"==typeof t&&t.RTCPeerConnection){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getStreamById=function(t){var e=null;return this._localStreams&&this._localStreams.forEach(function(n){n.id===t&&(e=n)}),this._remoteStreams&&this._remoteStreams.forEach(function(n){n.id===t&&(e=n)}),e}),!("addStream"in t.RTCPeerConnection.prototype)){var e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(t){this._localStreams||(this._localStreams=[]),this._localStreams.indexOf(t)===-1&&this._localStreams.push(t);var n=this;t.getTracks().forEach(function(i){e.call(n,i,t)})},t.RTCPeerConnection.prototype.addTrack=function(t,n){return n&&(this._localStreams?this._localStreams.indexOf(n)===-1&&this._localStreams.push(n):this._localStreams=[n]),e.call(this,t,n)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(t){this._localStreams||(this._localStreams=[]);var e=this._localStreams.indexOf(t);if(e!==-1){this._localStreams.splice(e,1);var n=this,i=t.getTracks();this.getSenders().forEach(function(t){i.indexOf(t.track)!==-1&&n.removeTrack(t)})}})}},shimRemoteStreamsAPI:function(t){if("object"==typeof t&&t.RTCPeerConnection&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(t){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=t)}});var e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){var t=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!(t._remoteStreams.indexOf(e)>=0)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}})}),e.apply(t,arguments)}}},shimCallbacksAPI:function(t){if("object"==typeof t&&t.RTCPeerConnection){var e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,r=e.setLocalDescription,o=e.setRemoteDescription,a=e.addIceCandidate;e.createOffer=function(t,e){var i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return e?(r.then(t,e),Promise.resolve()):r},e.createAnswer=function(t,e){var n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return e?(r.then(t,e),Promise.resolve()):r};var s=function(t,e,n){var i=r.apply(this,[t]);return n?(i.then(e,n),Promise.resolve()):i};e.setLocalDescription=s,s=function(t,e,n){var i=o.apply(this,[t]);return n?(i.then(e,n),Promise.resolve()):i},e.setRemoteDescription=s,s=function(t,e,n){var i=a.apply(this,[t]);return n?(i.then(e,n),Promise.resolve()):i},e.addIceCandidate=s}},shimGetUserMedia:function(t){var e=t&&t.navigator;e.getUserMedia||(e.webkitGetUserMedia?e.getUserMedia=e.webkitGetUserMedia.bind(e):e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(t,n,i){e.mediaDevices.getUserMedia(t).then(n,i)}.bind(e)))},shimRTCIceServerUrls:function(t){var e=t.RTCPeerConnection;t.RTCPeerConnection=function(t,n){if(t&&t.iceServers){for(var r=[],o=0;o<t.iceServers.length;o++){var a=t.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(i.deprecated("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,r.push(a)):r.push(t.iceServers[o])}t.iceServers=r}return new e(t,n)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in t.RTCPeerConnection&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get:function(){return e.generateCertificate}})},shimTrackEventTransceiver:function(t){"object"==typeof t&&t.RTCPeerConnection&&"receiver"in t.RTCTrackEvent.prototype&&!t.RTCTransceiver&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(t){var e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(t){var n=this;if(t){"undefined"!=typeof t.offerToReceiveAudio&&(t.offerToReceiveAudio=!!t.offerToReceiveAudio);var i=n.getTransceivers().find(function(t){return t.sender.track&&"audio"===t.sender.track.kind});t.offerToReceiveAudio===!1&&i?"sendrecv"===i.direction?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":"recvonly"===i.direction&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):t.offerToReceiveAudio!==!0||i||n.addTransceiver("audio"),"undefined"!=typeof t.offerToReceiveVideo&&(t.offerToReceiveVideo=!!t.offerToReceiveVideo);var r=n.getTransceivers().find(function(t){return t.sender.track&&"video"===t.sender.track.kind});t.offerToReceiveVideo===!1&&r?"sendrecv"===r.direction?r.setDirection("sendonly"):"recvonly"===r.direction&&r.setDirection("inactive"):t.offerToReceiveVideo!==!0||r||n.addTransceiver("video")}return e.apply(n,arguments)}}}},{"../utils":14}],14:[function(t,e,n){"use strict";function i(t,e,n){var i=t.match(e);return i&&i.length>=n&&parseInt(i[n],10)}function r(t,e,n){if(t.RTCPeerConnection){var i=t.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(t,i){if(t!==e)return r.apply(this,arguments);var o=function(t){var e=n(t);e&&i(e)};return this._eventMap=this._eventMap||{},this._eventMap[i]=o,r.apply(this,[t,o])};var o=i.removeEventListener;i.removeEventListener=function(t,n){if(t!==e||!this._eventMap||!this._eventMap[n])return o.apply(this,arguments);var i=this._eventMap[n];return delete this._eventMap[n],o.apply(this,[t,i])},Object.defineProperty(i,"on"+e,{get:function(){return this["_on"+e]},set:function(t){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),t&&this.addEventListener(e,this["_on"+e]=t)},enumerable:!0,configurable:!0})}}var o=!0,a=!0;e.exports={extractVersion:i,wrapPeerConnectionEvent:r,disableLog:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(o=t,t?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(t){return"boolean"!=typeof t?new Error("Argument type: "+typeof t+". Please use a boolean."):(a=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(o)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(t,e){a&&console.warn(t+" is deprecated, please use "+e+" instead.")},detectBrowser:function(t){var e=t&&t.navigator,n={};if(n.browser=null,n.version=null,"undefined"==typeof t||!t.navigator)return n.browser="Not a browser.",n;if(e.mozGetUserMedia)n.browser="firefox",n.version=i(e.userAgent,/Firefox\/(\d+)\./,1);else if(e.webkitGetUserMedia)n.browser="chrome",n.version=i(e.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.mediaDevices&&e.userAgent.match(/Edge\/(\d+).(\d+)$/))n.browser="edge",n.version=i(e.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!t.RTCPeerConnection||!e.userAgent.match(/AppleWebKit\/(\d+)\./))return n.browser="Not a supported browser.",n;n.browser="safari",n.version=i(e.userAgent,/AppleWebKit\/(\d+)\./,1)}return n}}},{}]},{},[3])(3)}),Janus.sessions={},Janus.isExtensionEnabled=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)return!0;if(window.navigator.userAgent.match("Chrome")){var t=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),e=33;return window.navigator.userAgent.match("Linux")&&(e=35),t>=26&&t<=e||Janus.extension.isInstalled()}return!0};var defaultExtension={extensionId:"hapfgfdkleiggjjpfpenajgdnfckjpaj",isInstalled:function(){return null!==document.querySelector("#janus-extension-installed")},getScreen:function(t){var e=window.setTimeout(function(){var e=new Error("NavigatorUserMediaError");return e.name='The required Chrome extension is not installed: click <a href="#">here</a> to install it. (NOTE: this will need you to refresh the page)',t(e)},1e3);this.cache[e]=t,window.postMessage({type:"janusGetScreen",id:e},"*")},init:function(){var t={};this.cache=t,window.addEventListener("message",function(e){if(e.origin==window.location.origin)if("janusGotScreen"==e.data.type&&t[e.data.id]){var n=t[e.data.id];if(delete t[e.data.id],""===e.data.sourceId){var i=new Error("NavigatorUserMediaError");i.name="You cancelled the request for permission, giving up...",n(i)}else n(null,e.data.sourceId)}else"janusGetScreenPending"==e.data.type&&(console.log("clearing ",e.data.id),window.clearTimeout(e.data.id))})}};Janus.useDefaultDependencies=function(t){var e=t&&t.fetch||fetch,n=t&&t.Promise||Promise,i=t&&t.WebSocket||WebSocket;return{newWebSocket:function(t,e){return new i(t,e)},extension:t&&t.extension||defaultExtension,isArray:function(t){return Array.isArray(t)},webRTCAdapter:t&&t.adapter||adapter,httpAPICall:function(t,i){var r={method:i.verb,headers:{Accept:"application/json, text/plain, */*"},cache:"no-cache"};"POST"===i.verb&&(r.headers["Content-Type"]="application/json"),void 0!==i.withCredentials&&(r.credentials=i.withCredentials===!0?"include":i.withCredentials?i.withCredentials:"omit"),void 0!==i.body&&(r.body=JSON.stringify(i.body));var o=e(t,r)["catch"](function(t){
return n.reject({message:"Probably a network error, is the server down?",error:t})});if(void 0!==i.timeout){var a=new n(function(t,e){var n=setTimeout(function(){return clearTimeout(n),e({message:"Request timed out",timeout:i.timeout})},i.timeout)});o=n.race([o,a])}return o.then(function(t){return t.ok?typeof i.success==typeof Janus.noop?t.json().then(function(t){i.success(t)})["catch"](function(e){return n.reject({message:"Failed to parse response body",error:e,response:t})}):void 0:n.reject({message:"API call failed",response:t})})["catch"](function(t){typeof i.error==typeof Janus.noop&&i.error(t.message||"<< internal error >>",t)}),o}}},Janus.useOldDependencies=function(t){var e=t&&t.jQuery||jQuery,n=t&&t.WebSocket||WebSocket;return{newWebSocket:function(t,e){return new n(t,e)},isArray:function(t){return e.isArray(t)},extension:t&&t.extension||defaultExtension,webRTCAdapter:t&&t.adapter||adapter,httpAPICall:function(t,n){var i=void 0!==n.body?{contentType:"application/json",data:JSON.stringify(n.body)}:{},r=void 0!==n.withCredentials?{xhrFields:{withCredentials:n.withCredentials}}:{};return e.ajax(e.extend(i,r,{url:t,type:n.verb,cache:!1,dataType:"json",async:n.async,timeout:n.timeout,success:function(t){typeof n.success==typeof Janus.noop&&n.success(t)},error:function(t,e,i){typeof n.error==typeof Janus.noop&&n.error(e,i)}}))}}},Janus.noop=function(){},Janus.dataChanDefaultLabel="JanusDataChannel",Janus.endOfCandidates=null,Janus.init=function(t){if(t=t||{},t.callback="function"==typeof t.callback?t.callback:Janus.noop,Janus.initDone===!0)t.callback();else{if("undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),Janus.trace=Janus.noop,Janus.debug=Janus.noop,Janus.vdebug=Janus.noop,Janus.log=Janus.noop,Janus.warn=Janus.noop,Janus.error=Janus.noop,t.debug===!0||"all"===t.debug)Janus.trace=console.trace.bind(console),Janus.debug=console.debug.bind(console),Janus.vdebug=console.debug.bind(console),Janus.log=console.log.bind(console),Janus.warn=console.warn.bind(console),Janus.error=console.error.bind(console);else if(Array.isArray(t.debug))for(var e in t.debug){var n=t.debug[e];switch(n){case"trace":Janus.trace=console.trace.bind(console);break;case"debug":Janus.debug=console.debug.bind(console);break;case"vdebug":Janus.vdebug=console.debug.bind(console);break;case"log":Janus.log=console.log.bind(console);break;case"warn":Janus.warn=console.warn.bind(console);break;case"error":Janus.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+n+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}Janus.log("Initializing library");var i=t.dependencies||Janus.useDefaultDependencies();Janus.isArray=i.isArray,Janus.webRTCAdapter=i.webRTCAdapter,Janus.httpAPICall=i.httpAPICall,Janus.newWebSocket=i.newWebSocket,Janus.extension=i.extension,Janus.extension.init(),Janus.listDevices=function(t,e){t="function"==typeof t?t:Janus.noop,null==e&&(e={audio:!0,video:!0}),Janus.isGetUserMediaAvailable()?navigator.mediaDevices.getUserMedia(e).then(function(e){navigator.mediaDevices.enumerateDevices().then(function(n){Janus.debug(n),t(n);try{var i=e.getTracks();for(var r in i){var o=i[r];null!==o&&void 0!==o&&o.stop()}}catch(a){}})})["catch"](function(e){Janus.error(e),t([])}):(Janus.warn("navigator.mediaDevices unavailable"),t([]))},Janus.attachMediaStream=function(t,e){try{t.srcObject=e}catch(n){try{t.src=URL.createObjectURL(e)}catch(n){Janus.error("Error attaching stream to element")}}},Janus.reattachMediaStream=function(t,e){try{t.srcObject=e.srcObject}catch(n){try{t.src=e.src}catch(n){Janus.error("Error reattaching stream to element")}}};var r=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,o=r?"pagehide":"beforeunload",a=window["on"+o];if(window.addEventListener(o,function(t){Janus.log("Closing window");for(var e in Janus.sessions)null!==Janus.sessions[e]&&void 0!==Janus.sessions[e]&&Janus.sessions[e].destroyOnUnload&&(Janus.log("Destroying session "+e),Janus.sessions[e].destroy({asyncRequest:!1,notifyDestroyed:!1}));a&&"function"==typeof a&&a()}),Janus.safariVp8=!1,"safari"===Janus.webRTCAdapter.browserDetails.browser&&Janus.webRTCAdapter.browserDetails.version>=605)if(RTCRtpSender&&RTCRtpSender.getCapabilities&&RTCRtpSender.getCapabilities("video")&&RTCRtpSender.getCapabilities("video").codecs&&RTCRtpSender.getCapabilities("video").codecs.length){for(var e in RTCRtpSender.getCapabilities("video").codecs){var s=RTCRtpSender.getCapabilities("video").codecs[e];if(s&&s.mimeType&&"video/vp8"===s.mimeType.toLowerCase()){Janus.safariVp8=!0;break}}Janus.safariVp8?Janus.log("This version of Safari supports VP8"):Janus.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu")}else{var l=new RTCPeerConnection({},{});l.createOffer({offerToReceiveVideo:!0}).then(function(t){Janus.safariVp8=t.sdp.indexOf("VP8")!==-1,Janus.safariVp8?Janus.log("This version of Safari supports VP8"):Janus.warn("This version of Safari does NOT support VP8: if you're using a Technology Preview, try enabling the 'WebRTC VP8 codec' setting in the 'Experimental Features' Develop menu"),l.close(),l=null})}if(Janus.unifiedPlan=!1,"firefox"===Janus.webRTCAdapter.browserDetails.browser&&Janus.webRTCAdapter.browserDetails.version>=59)Janus.unifiedPlan=!0;else if("chrome"===Janus.webRTCAdapter.browserDetails.browser&&Janus.webRTCAdapter.browserDetails.version<72)Janus.unifiedPlan=!1;else if(window.RTCRtpTransceiver&&"currentDirection"in RTCRtpTransceiver.prototype){const u=new RTCPeerConnection;try{u.addTransceiver("audio"),Janus.unifiedPlan=!0}catch(c){}u.close()}else Janus.unifiedPlan=!1;Janus.initDone=!0,t.callback()}},Janus.isWebrtcSupported=function(){return void 0!==window.RTCPeerConnection&&null!==window.RTCPeerConnection},Janus.isGetUserMediaAvailable=function(){return void 0!==navigator.mediaDevices&&null!==navigator.mediaDevices&&void 0!==navigator.mediaDevices.getUserMedia&&null!==navigator.mediaDevices.getUserMedia},Janus.randomString=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",i=0;i<t;i++){var r=Math.floor(Math.random()*e.length);n+=e.substring(r,r+1)}return n},function(t){"use strict";function e(){var e={size:200,value:void 0,min:0,max:100,cap:"butt",thick:6,type:"full",foregroundColor:"rgba(0, 150, 136, 1)",backgroundColor:"rgba(0, 0, 0, 0.1)",duration:1500,fractionSize:null,labelOnly:!1};this.setOptions=function(n){if(!n||!t.isObject(n))throw new Error("Invalid option type specified in the ngGaugeProvider");e=t.merge(e,n)};var n={getOptions:function(){return t.extend({},e)}};this.$get=function(){return n}}function n(e){var n='<div style="display:inline-block;text-align:center;position:relative;"><span ng-show="{{!labelOnly}}"><u>{{prepend}}</u><span ng-if="fractionSize === null">{{value | number}}</span><span ng-if="fractionSize !== null">{{value | number: fractionSize}}</span><u>{{append}}</u></span><b>{{ label }}</b><canvas></canvas></div>',i=function(t,e){this.element=t.find("canvas")[0],this.text=t.find("span"),this.legend=t.find("b"),this.unit=t.find("u"),this.context=this.element.getContext("2d"),this.options=e,this.init()};return i.prototype={init:function(){this.setupStyles(),this.create(null,null)},setupStyles:function(){this.context.canvas.width=this.options.size,this.context.canvas.height=this.options.size,this.context.lineCap=this.options.cap,this.context.lineWidth=this.options.thick;var t=.22*this.options.size,e=this.options.size;this.text.css({display:"inline-block",fontWeight:"normal",width:"100%",position:"absolute",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",fontSize:t+"px",lineHeight:e+"px"}),this.unit.css({textDecoration:"none",fontSize:"0.6em",fontWeight:200,opacity:.8});var n=this.options.labelOnly?.8*t:this.options.size/13,i=this.options.labelOnly?e:5*n+parseInt(this.options.size);this.legend.css({display:"inline-block",width:"100%",position:"absolute",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",fontWeight:"normal",fontSize:n+"px",lineHeight:i+"px"})},create:function(t,e){function n(t){t=t||(new Date).getTime();var a=t-r,s=Math.min(a/l,1),u=e?e*f:0,c=h+u+p*s;o.drawShell(h,c,m,g),a<l?i=window.requestAnimationFrame(function(t){n(t)}):cancelAnimationFrame(i)}var i,r,o=this,a=this.getType(),s=this.getBounds(a),l=this.getDuration(),u=this.getMin(),c=this.getMax(),d=this.clamp(this.getValue(),u,c),h=s.head,f=(s.tail-s.head)/(c-u),p=f*(d-u),m=s.tail,g=this.getForegroundColorByRange(d);t&&e&&(p=f*t-f*e),requestAnimationFrame(function(t){r=t||(new Date).getTime(),n(t)})},getBounds:function(t){var e,n;return"semi"==t?(e=Math.PI,n=2*Math.PI):"full"==t?(e=1.5*Math.PI,n=3.5*Math.PI):"arch"===t&&(e=.8*Math.PI,n=2.2*Math.PI),{head:e,tail:n}},drawShell:function(t,e,n,i){var r=this.context,o=this.getCenter(),a=this.getRadius(),s=i,l=this.getBackgroundColor();this.clear(),e=Math.max(e,t),e=Math.min(e,n),r.beginPath(),r.strokeStyle=l,r.arc(o.x,o.y,a,e,n,!1),r.stroke(),r.beginPath(),r.strokeStyle=s,r.arc(o.x,o.y,a,t,e,!1),r.stroke()},clear:function(){this.context.clearRect(0,0,this.getWidth(),this.getHeight())},update:function(t,e){this.create(t,e)},destroy:function(){this.clear()},getRadius:function(){var t=this.getCenter();return t.x-this.getThickness()},getCenter:function(){var t=this.getWidth()/2,e=this.getHeight()/2;return{x:t,y:e}},getValue:function(){return this.options.value},getMin:function(){return this.options.min},getMax:function(){return this.options.max},getWidth:function(){return this.context.canvas.width},getHeight:function(){return this.context.canvas.height},getThickness:function(){return this.options.thick},getBackgroundColor:function(){return this.options.backgroundColor},getForegroundColor:function(){return this.options.foregroundColor},getForegroundColorByRange:function(t){var e=function(t){return void 0!=t&&!isNaN(parseFloat(t))&&!isNaN(Number(t))},n=Object.keys(this.options.thresholds).filter(function(n){return e(n)&&Number(n)<=t}).sort(function(t,e){return Number(t)>Number(e)}).reverse()[0];return void 0!==n?this.options.thresholds[n].color||this.getForegroundColor():this.getForegroundColor()},getLineCap:function(){return this.options.cap},getType:function(){return this.options.type},getDuration:function(){return this.options.duration},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))}},{restrict:"E",replace:!0,template:n,scope:{append:"@?",backgroundColor:"@?",cap:"@?",foregroundColor:"@?",label:"@?",labelOnly:"@?",prepend:"@?",size:"@?",thick:"@?",type:"@?",duration:"@?",value:"=?",min:"=?",max:"=?",thresholds:"=?",fractionSize:"=?"},link:function(n,r){function o(e,n){l&&t.isDefined(e)&&!t.equals(e,n)&&l.update(e,n)}function a(e,n){t.isDefined(e)&&!t.equals(e,n)&&(l.destroy(),l.init())}var s=e.getOptions();n.min=t.isDefined(n.min)?n.min:s.min,n.max=t.isDefined(n.max)?n.max:s.max,n.value=t.isDefined(n.value)?n.value:s.value,n.size=t.isDefined(n.size)?n.size:s.size,n.cap=t.isDefined(n.cap)?n.cap:s.cap,n.thick=t.isDefined(n.thick)?n.thick:s.thick,n.type=t.isDefined(n.type)?n.type:s.type,n.duration=t.isDefined(n.duration)?n.duration:s.duration,n.labelOnly=t.isDefined(n.labelOnly)?n.labelOnly:s.labelOnly,n.foregroundColor=t.isDefined(n.foregroundColor)?n.foregroundColor:s.foregroundColor,n.backgroundColor=t.isDefined(n.backgroundColor)?n.backgroundColor:s.backgroundColor,n.thresholds=t.isDefined(n.thresholds)?n.thresholds:{},n.fractionSize=t.isDefined(n.fractionSize)?n.fractionSize:s.fractionSize;var l=new i(r,n);n.$watch("value",o,!1),n.$watch("min",o,!1),n.$watch("max",o,!1),n.$watch("cap",a,!1),n.$watch("thick",a,!1),n.$watch("type",a,!1),n.$watch("size",a,!1),n.$watch("duration",a,!1),n.$watch("foregroundColor",a,!1),n.$watch("backgroundColor",a,!1),n.$watch("thresholds",a,!1),n.$watch("fractionSize",o,!1),n.$on("$destroy",function(){}),n.$on("$resize",function(){})}}}t.module("angularjs-gauge",[]).directive("ngGauge",n).provider("ngGauge",e),e.$inject=[],n.$inject=["ngGauge"]}(angular),parcelRequire=function(t,e,n,i){function r(n,i){function o(t){return r(o.resolve(t))}if(!e[n]){if(!t[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!i&&l)return l(n,!0);if(a)return a(n,!0);if(s&&"string"==typeof n)return s(n);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}o.resolve=function(e){return t[n][1][e]||e},o.cache={};var c=e[n]=new r.Module(n);t[n][0].call(c.exports,o,c,c.exports,this)}return e[n].exports}var o,a="function"==typeof parcelRequire&&parcelRequire,s="function"==typeof require&&require;r.isParcelRequire=!0,r.Module=function(t){this.id=t,this.bundle=r,this.exports={}},r.modules=t,r.cache=e,r.parent=a,r.register=function(e,n){t[e]=[function(t,e){e.exports=n},{}]};for(var l=0;l<n.length;l++)try{r(n[l])}catch(t){o||(o=t)}if(n.length){var u=r(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):i&&(this[i]=u)}if(parcelRequire=r,o)throw o;return r}({mQfy:[function(t,e,n){},{}],Z5sL:[function(t,e,n){"use strict";function i(t,e,n){for(var i,o,a=n||r,s=0,l=t.length,u=!1;s<l;)(o=+a(t[i=s+(l-s>>1)],e))<0?s=i+1:(l=i,u=!o);return u?s:~s}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function s(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function l(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function u(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function c(t,e){for(var n,i=t.length>>>0,r=0;r<i;r++)if(e(n=t[r],r,t))return n;return null}function d(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function h(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}function f(t,e){var n;return t.every(function(i,r){return n=r,!e(i,r,t)})?-1:n}function p(t,e,n){var i=e||r;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}Object.defineProperty(n,"__esModule",{value:!0}),n.binarySearch=i,n.numberSafeCompareFunction=r,n.includes=o,n.linearFindNearest=a,n.reverseSubArray=s,n.extend=l,n.remove=u,n.find=c,n.equals=d,n.stableSort=h,n.findIndex=f,n.isSorted=p},{}],guaG:[function(t,e,n){"use strict";function i(){return!0}function r(){return!1}function o(){}Object.defineProperty(n,"__esModule",{value:!0}),n.TRUE=i,n.FALSE=r,n.VOID=o},{}],oXLu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};n["default"]=i},{}],YOqM:[function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function o(t){return t.ol_uid||(t.ol_uid=String(++a))}Object.defineProperty(n,"__esModule",{value:!0}),n["abstract"]=i,n.inherits=r,n.getUid=o,n.VERSION=void 0;var a=0,s="5.3.3";n.VERSION=s},{}],baqo:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={PROPERTYCHANGE:"propertychange"};n["default"]=i},{}],qC1c:[function(t,e,n){"use strict";function i(t){for(var e in t)delete t[e]}function r(t){var e=[];for(var n in t)e.push(t[n]);return e}function o(t){var e;for(e in t)return!1;return!e}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.getValues=r,n.isEmpty=o,n.assign=void 0;var a="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var a=n[r];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])}return i};n.assign=a},{}],Bvf5:[function(t,e,n){"use strict";function i(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&h(t),n.call(i,e)};return t.boundListener=e,e}function r(t,e,n,i){for(var r,o=0,a=t.length;o<a;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function o(t,e){var n=a(t);return n?n[e]:void 0}function a(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function s(t){delete t.ol_lm}function l(t,e){var n=o(t,e);if(n){for(var i=0,r=n.length;i<r;++i)t.removeEventListener(e,n[i].boundListener),(0,p.clear)(n[i]);n.length=0;var l=a(t);l&&(delete l[e],0===Object.keys(l).length&&s(t))}}function u(t,e,n,o,s){var l=a(t,!0),u=l[e];u||(u=l[e]=[]);var c=r(u,n,o,!1);return c?s||(c.callOnce=!1):(c={bindTo:o,callOnce:!!s,listener:n,target:t,type:e},t.addEventListener(e,i(c)),u.push(c)),c}function c(t,e,n,i){return u(t,e,n,i,!0)}function d(t,e,n,i){var a=o(t,e);if(a){var s=r(a,n,i,!0);s&&h(s)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&l(t.target,t.type)}(0,p.clear)(t)}}function f(t){var e=a(t);if(e)for(var n in e)l(t,n)}Object.defineProperty(n,"__esModule",{value:!0}),n.bindListener=i,n.findListener=r,n.getListeners=o,n.listen=u,n.listenOnce=c,n.unlisten=d,n.unlistenByKey=h,n.unlistenAll=f;var p=t("./obj.js")},{"./obj.js":"qC1c"}],Kusu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){};var r=i;n["default"]=r},{}],h36w:[function(t,e,n){"use strict";function i(t){t.stopPropagation()}function r(t){t.preventDefault()}Object.defineProperty(n,"__esModule",{value:!0}),n.stopPropagation=i,n.preventDefault=r,n["default"]=void 0;var o=function(t){this.propagationStopped,this.type=t,this.target=null};o.prototype.preventDefault=function(){this.propagationStopped=!0},o.prototype.stopPropagation=function(){this.propagationStopped=!0};var a=o;n["default"]=a},{}],mcdO:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../Disposable.js")),o=t("../events.js"),a=t("../functions.js"),s=i(t("./Event.js")),l=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s["default"](t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,l=r.length;o<l;++o)if(!1===r[o].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,a.VOID);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){(0,o.unlistenAll)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=a.VOID,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(r["default"]),u=l;n["default"]=u},{"../Disposable.js":"Kusu","../events.js":"Bvf5","../functions.js":"guaG","./Event.js":"h36w"}],eKq7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};n["default"]=i},{}],QniN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,o.unlistenByKey)(t[e]);else(0,o.unlistenByKey)(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.unByKey=r,n["default"]=void 0;var o=t("./events.js"),a=i(t("./events/Target.js")),s=i(t("./events/EventType.js")),l=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(s["default"].CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,o.listen)(this,t[r],e);return i}return(0,o.listen)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,o.listenOnce)(this,t[r],e);return i}return(0,o.listenOnce)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)(0,o.unlisten)(this,t[n],e);else(0,o.unlisten)(this,t,e)},e}(a["default"]),u=l;n["default"]=u},{"./events.js":"Bvf5","./events/Target.js":"mcdO","./events/EventType.js":"eKq7"}],n4ep:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return h.hasOwnProperty(t)?h[t]:h[t]="change:"+t}Object.defineProperty(n,"__esModule",{value:!0}),n.getChangeEventType=r,n["default"]=n.ObjectEvent=void 0;var o=t("./util.js"),a=i(t("./ObjectEventType.js")),s=i(t("./Observable.js")),l=i(t("./events/Event.js")),u=t("./obj.js"),c=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]);n.ObjectEvent=c;var d=function(t){function e(e){t.call(this),(0,o.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return(0,u.assign)({},this.values_)},e.prototype.notify=function(t,e){var n;n=r(t),this.dispatchEvent(new c(n,t,e)),n=a["default"].PROPERTYCHANGE,this.dispatchEvent(new c(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(s["default"]),h={},f=d;n["default"]=f},{"./util.js":"YOqM","./ObjectEventType.js":"baqo","./Observable.js":"QniN","./events/Event.js":"h36w","./obj.js":"qC1c"}],fRxd:[function(t,e,n){"use strict";function i(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function r(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}Object.defineProperty(n,"__esModule",{value:!0}),n.createCanvasContext2D=i,n.outerWidth=r,n.outerHeight=o,n.replaceNode=a,n.removeNode=s,n.removeChildren=l},{}],OZyS:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../functions.js"),o=i(t("../MapEventType.js")),a=i(t("../Object.js")),s=t("../dom.js"),l=t("../events.js"),u=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:r.VOID,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,s.removeNode)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,s.removeNode)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,l.unlistenByKey)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.VOID&&this.listenerKeys.push((0,l.listen)(t,o["default"].POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(a["default"]),c=u;n["default"]=c},{"../functions.js":"guaG","../MapEventType.js":"oXLu","../Object.js":"n4ep","../dom.js":"fRxd","../events.js":"Bvf5"}],K4Xi:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFontFamilies=n.CLASS_COLLAPSED=n.CLASS_CONTROL=n.CLASS_UNSUPPORTED=n.CLASS_UNSELECTABLE=n.CLASS_SELECTABLE=n.CLASS_HIDDEN=void 0;var i="ol-hidden";n.CLASS_HIDDEN=i;var r="ol-selectable";n.CLASS_SELECTABLE=r;var o="ol-unselectable";n.CLASS_UNSELECTABLE=o;var a="ol-unsupported";n.CLASS_UNSUPPORTED=a;var s="ol-control";n.CLASS_CONTROL=s;var l="ol-collapsed";n.CLASS_COLLAPSED=l;var u=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}();n.getFontFamilies=u},{}],Jb0l:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};n["default"]=i},{}],vMmu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("./util.js"),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.VERSION?i.VERSION:"v"+i.VERSION.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),o=r;n["default"]=o},{"./util.js":"YOqM"}],E2kQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new o["default"](e)}Object.defineProperty(n,"__esModule",{value:!0}),n.assert=r;var o=i(t("./AssertionError.js"))},{"./AssertionError.js":"vMmu"}],RK1r:[function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t){return(0,h.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function o(t,e,n,i,r,o){var s=r-n,l=o-i;if(0!==s||0!==l){var u=((t-n)*s+(e-i)*l)/(s*s+l*l);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=l*u)}return a(t,e,n,i)}function a(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function s(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var d=new Array(e),h=e-1;h>=0;h--){d[h]=t[h][e]/t[h][h];for(var f=h-1;f>=0;f--)t[f][e]-=t[f][h]*d[h]}return d}function l(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function c(t,e){var n=t%e;return n*e<0?n+e:n}function d(t,e,n){return t+n*(e-t)}Object.defineProperty(n,"__esModule",{value:!0}),n.clamp=i,n.roundUpToPowerOfTwo=r,n.squaredSegmentDistance=o,n.squaredDistance=a,n.solveLinearSystem=s,n.toDegrees=l,n.toRadians=u,n.modulo=c,n.lerp=d,n.cosh=void 0;var h=t("./asserts.js"),f="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};n.cosh=f},{"./asserts.js":"E2kQ"}],N2s1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../Object.js")),a=i(t("./Property.js")),s=t("../math.js"),l=t("../obj.js"),u=function(t){function e(e){t.call(this);var n=(0,l.assign)({},e);n[a["default"].OPACITY]=void 0!==e.opacity?e.opacity:1,n[a["default"].VISIBLE]=void 0===e.visible||e.visible,n[a["default"].Z_INDEX]=e.zIndex,n[a["default"].MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[a["default"].MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=(0,s.clamp)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return(0,r["abstract"])()},e.prototype.getLayerStatesArray=function(t){return(0,r["abstract"])()},e.prototype.getExtent=function(){return this.get(a["default"].EXTENT)},e.prototype.getMaxResolution=function(){return this.get(a["default"].MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(a["default"].MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(a["default"].OPACITY)},e.prototype.getSourceState=function(){return(0,r["abstract"])()},e.prototype.getVisible=function(){return this.get(a["default"].VISIBLE)},e.prototype.getZIndex=function(){return this.get(a["default"].Z_INDEX)},e.prototype.setExtent=function(t){this.set(a["default"].EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(a["default"].MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(a["default"].MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(a["default"].OPACITY,t)},e.prototype.setVisible=function(t){this.set(a["default"].VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(a["default"].Z_INDEX,t)},e}(o["default"]),c=u;n["default"]=c},{"../util.js":"YOqM","../Object.js":"n4ep","./Property.js":"Jb0l","../math.js":"RK1r","../obj.js":"qC1c"}],tder:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"};n["default"]=i},{}],PNQw:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};n["default"]=i},{}],QsxU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}Object.defineProperty(n,"__esModule",{value:!0}),n.visibleAtResolution=r,n["default"]=void 0;var o=t("../events.js"),a=i(t("../events/EventType.js")),s=t("../util.js"),l=t("../Object.js"),u=i(t("./Base.js")),c=i(t("./Property.js")),d=t("../obj.js"),h=i(t("../render/EventType.js")),f=i(t("../source/State.js")),p=function(t){
function e(e){var n=(0,d.assign)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),(0,o.listen)(this,(0,l.getChangeEventType)(c["default"].SOURCE),this.handleSourcePropertyChange_,this);var i=e.source?e.source:null;this.setSource(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(c["default"].SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():f["default"].UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,o.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,o.listen)(t,a["default"].CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,o.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,o.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,o.listen)(t,h["default"].PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[(0,s.getUid)(this)]=n},this),this.mapRenderKey_=(0,o.listen)(this,a["default"].CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(c["default"].SOURCE,t)},e}(u["default"]),m=p;n["default"]=m},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","../util.js":"YOqM","../Object.js":"n4ep","./Base.js":"N2s1","./Property.js":"Jb0l","../obj.js":"qC1c","../render/EventType.js":"tder","../source/State.js":"PNQw"}],KuDp:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.updateElement_(t.frameState)}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=t("../array.js"),a=i(t("./Control.js")),s=t("../css.js"),l=t("../dom.js"),u=t("../events.js"),c=i(t("../events/EventType.js")),d=t("../layer/Layer.js"),h=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",a=void 0!==n.collapseLabel?n.collapseLabel:"";"string"==typeof a?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a):this.collapseLabel_=a;var l=void 0!==n.label?n.label:"i";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;var d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(d),(0,u.listen)(h,c["default"].CLICK,this.handleClick_,this);var f=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+s.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=f,p.appendChild(this.ulElement_),p.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,a=i.length;o<a;++o){var s=i[o];if((0,d.visibleAtResolution)(s,r)){var l=s.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(t);if(c)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,o.equals)(e,this.renderedAttributions_)){(0,l.removeChildren)(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var a=document.createElement("li");a.innerHTML=e[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.CLASS_COLLAPSED),this.collapsed_?(0,l.replaceNode)(this.collapseLabel_,this.label_):(0,l.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(a["default"]),f=h;n["default"]=f},{"../array.js":"Z5sL","./Control.js":"OZyS","../css.js":"K4Xi","../dom.js":"fRxd","../events.js":"Bvf5","../events/EventType.js":"eKq7","../layer/Layer.js":"QsxU"}],ooP1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function o(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function a(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function s(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():a(t)}function l(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var u=i(t("./Control.js")),c=t("../css.js"),d=t("../dom.js"),h=t("../events.js"),f=i(t("../events/EventType.js")),p=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}(),m=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var a=void 0!==n.labelActive?n.labelActive:"";this.labelActiveNode_="string"==typeof a?document.createTextNode(a):a,this.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,o()),this.button_.setAttribute("type","button"),this.button_.title=s,this.button_.appendChild(this.labelNode_),(0,h.listen)(this.button_,f["default"].CLICK,this.handleClick_,this);var l=this.cssClassName_+" "+c.CLASS_UNSELECTABLE+" "+c.CLASS_CONTROL+" "+(r()?"":c.CLASS_UNSUPPORTED),u=this.element;u.className=l,u.appendChild(this.button_),this.keys_=void 0!==n.keys&&n.keys,this.source_=n.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(r()){var t,e=this.getMap();e&&(o()?l():(t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?s(t):a(t)))}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();o()?(this.setClassName_(this.button_,!0),(0,d.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,d.replaceNode)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",i=this.cssClassName_+"-false",r=e?n:i;t.classList.remove(n),t.classList.remove(i),t.classList.add(r)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push((0,h.listen)(document,p(),this.handleFullScreenChange_,this))},e}(u["default"]),g=m;n["default"]=g},{"./Control.js":"OZyS","../css.js":"K4Xi","../dom.js":"fRxd","../events.js":"Bvf5","../events/EventType.js":"eKq7"}],naLT:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};n["default"]=i},{}],KXaK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=n||h,r=(0,c.toRadians)(t[1]),o=(0,c.toRadians)(e[1]),a=(o-r)/2,s=(0,c.toRadians)(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function o(t,e){for(var n=0,i=0,o=t.length;i<o-1;++i)n+=r(t[i],t[i+1],e);return n}function a(t,e){var n=e||{},i=n.radius||h,r=n.projection||"EPSG:3857",s=t.getType();s!==d["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(r,"EPSG:4326"));var l,u,c,f,p,m,g=0;switch(s){case d["default"].POINT:case d["default"].MULTI_POINT:break;case d["default"].LINE_STRING:case d["default"].LINEAR_RING:g=o(l=t.getCoordinates(),i);break;case d["default"].MULTI_LINE_STRING:case d["default"].POLYGON:for(c=0,f=(l=t.getCoordinates()).length;c<f;++c)g+=o(l[c],i);break;case d["default"].MULTI_POLYGON:for(c=0,f=(l=t.getCoordinates()).length;c<f;++c)for(p=0,m=(u=l[c]).length;p<m;++p)g+=o(u[p],i);break;case d["default"].GEOMETRY_COLLECTION:var v=t.getGeometries();for(c=0,f=v.length;c<f;++c)g+=a(v[c],e);break;default:throw new Error("Unsupported geometry type: "+s)}return g}function s(t,e){for(var n=0,i=t.length,r=t[i-1][0],o=t[i-1][1],a=0;a<i;a++){var s=t[a][0],l=t[a][1];n+=(0,c.toRadians)(s-r)*(2+Math.sin((0,c.toRadians)(o))+Math.sin((0,c.toRadians)(l))),r=s,o=l}return n*e*e/2}function l(t,e){var n=e||{},i=n.radius||h,r=n.projection||"EPSG:3857",o=t.getType();o!==d["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(r,"EPSG:4326"));var a,u,c,f,p,m,g=0;switch(o){case d["default"].POINT:case d["default"].MULTI_POINT:case d["default"].LINE_STRING:case d["default"].MULTI_LINE_STRING:case d["default"].LINEAR_RING:break;case d["default"].POLYGON:for(a=t.getCoordinates(),g=Math.abs(s(a[0],i)),c=1,f=a.length;c<f;++c)g-=Math.abs(s(a[c],i));break;case d["default"].MULTI_POLYGON:for(c=0,f=(a=t.getCoordinates()).length;c<f;++c)for(u=a[c],g+=Math.abs(s(u[0],i)),p=1,m=u.length;p<m;++p)g-=Math.abs(s(u[p],i));break;case d["default"].GEOMETRY_COLLECTION:var v=t.getGeometries();for(c=0,f=v.length;c<f;++c)g+=l(v[c],e);break;default:throw new Error("Unsupported geometry type: "+o)}return g}function u(t,e,n,i){var r=i||h,o=(0,c.toRadians)(t[1]),a=(0,c.toRadians)(t[0]),s=e/r,l=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(n)),u=a+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(l));return[(0,c.toDegrees)(u),(0,c.toDegrees)(l)]}Object.defineProperty(n,"__esModule",{value:!0}),n.getDistance=r,n.getLength=a,n.getArea=l,n.offset=u,n.DEFAULT_RADIUS=void 0;var c=t("./math.js"),d=i(t("./geom/GeometryType.js")),h=6371008.8;n.DEFAULT_RADIUS=h},{"./math.js":"RK1r","./geom/GeometryType.js":"naLT"}],RMGy:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};n["default"]=i},{}],kaLu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};n["default"]=i},{}],IwSU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=f(),n=0,i=t.length;n<i;++n)x(e,t[n]);return e}function o(t,e,n){return p(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function u(t,e){return d(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function h(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=J["default"].UNKNOWN;return a<n?l|=J["default"].LEFT:a>r&&(l|=J["default"].RIGHT),s<i?l|=J["default"].BELOW:s>o&&(l|=J["default"].ABOVE),l===J["default"].UNKNOWN&&(l=J["default"].INTERSECTING),l}function f(){return[1/0,1/0,-1/0,-1/0]}function p(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function m(t){return p(1/0,1/0,-1/0,-1/0,t)}function g(t,e){var n=t[0],i=t[1];return p(n,i,n,i,e)}function v(t,e){return C(m(e),t)}function y(t,e,n,i,r){return T(m(r),t,e,n,i)}function _(t,e){return w(m(e),t)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var n=0,i=e.length;n<i;++n)x(t,e[n]);return t}function T(t,e,n,i,r){for(;n<i;n+=r)S(t,e[n],e[n+1]);return t}function w(t,e){for(var n=0,i=e.length;n<i;++n)C(t,e[n]);return t}function S(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function M(t,e,n){var i;return(i=e.call(n,O(t)))?i:(i=e.call(n,A(t)))?i:(i=e.call(n,U(t)))?i:(i=e.call(n,G(t)))||!1}function j(t){var e=0;return V(t)||(e=B(t)*k(t)),e}function O(t){return[t[0],t[1]]}function A(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function P(t,e){var n;return e===X["default"].BOTTOM_LEFT?n=O(t):e===X["default"].BOTTOM_RIGHT?n=A(t):e===X["default"].TOP_LEFT?n=G(t):e===X["default"].TOP_RIGHT?n=U(t):(0,K.assert)(!1,13),n}function I(t,e){var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-i)}function L(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,d=a*s,h=a*l,f=t[0],m=t[1],g=f-u+h,v=f-u-h,y=f+u-h,_=f+u+h,b=m-c-d,E=m-c+d,x=m+c+d,C=m+c-d;return p(Math.min(g,v,y,_),Math.min(b,E,x,C),Math.max(g,v,y,_),Math.max(b,E,x,C),r)}function k(t){return t[3]-t[1]}function D(t,e){return j(N(t,e))}function N(t,e,n){var i=n||f();return H(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):m(i),i}function F(t){return B(t)+k(t)}function $(t){return[t[2]-t[0],t[3]-t[1]]}function G(t){return[t[0],t[3]]}function U(t){return[t[2],t[3]]}function B(t){return t[2]-t[0]}function H(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function V(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function q(t,e,n){var i=!1,r=h(t,e),o=h(t,n);if(r===J["default"].INTERSECTING||o===J["default"].INTERSECTING)i=!0;else{var a,s,l=t[0],u=t[1],c=t[2],d=t[3],f=e[0],p=e[1],m=n[0],g=n[1],v=(g-p)/(m-f);o&J["default"].ABOVE&&!(r&J["default"].ABOVE)&&(i=(a=m-(g-d)/v)>=l&&a<=c),i||!(o&J["default"].RIGHT)||r&J["default"].RIGHT||(i=(s=g-(m-c)*v)>=u&&s<=d),i||!(o&J["default"].BELOW)||r&J["default"].BELOW||(i=(a=m-(g-u)/v)>=l&&a<=c),i||!(o&J["default"].LEFT)||r&J["default"].LEFT||(i=(s=g-(m-l)*v)>=u&&s<=d)}return i}function Y(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),o([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}Object.defineProperty(n,"__esModule",{value:!0}),n.boundingExtent=r,n.buffer=a,n.clone=s,n.closestSquaredDistanceXY=l,n.containsCoordinate=u,n.containsExtent=c,n.containsXY=d,n.coordinateRelationship=h,n.createEmpty=f,n.createOrUpdate=p,n.createOrUpdateEmpty=m,n.createOrUpdateFromCoordinate=g,n.createOrUpdateFromCoordinates=v,n.createOrUpdateFromFlatCoordinates=y,n.createOrUpdateFromRings=_,n.equals=b,n.extend=E,n.extendCoordinate=x,n.extendCoordinates=C,n.extendFlatCoordinates=T,n.extendRings=w,n.extendXY=S,n.forEachCorner=M,n.getArea=j,n.getBottomLeft=O,n.getBottomRight=A,n.getCenter=R,n.getCorner=P,n.getEnlargedArea=I,n.getForViewAndSize=L,n.getHeight=k,n.getIntersectionArea=D,n.getIntersection=N,n.getMargin=F,n.getSize=$,n.getTopLeft=G,n.getTopRight=U,n.getWidth=B,n.intersects=H,n.isEmpty=V,n.returnOrUpdate=z,n.scaleFromCenter=W,n.intersectsSegment=q,n.applyTransform=Y;var K=t("./asserts.js"),X=i(t("./extent/Corner.js")),J=i(t("./extent/Relationship.js"))},{"./asserts.js":"E2kQ","./extent/Corner.js":"RMGy","./extent/Relationship.js":"kaLu"}],RNSs:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.METERS_PER_UNIT=void 0;var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};n.METERS_PER_UNIT=r,r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937;var o=i;n["default"]=o},{}],lDHS:[function(t,e,n){arguments[3],arguments[3];Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("./Units.js"),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.METERS_PER_UNIT[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var o=r;n["default"]=o},{"./Units.js":"RNSs"}],yEvQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=c,s=0;s<i;s+=r){o[s]=a*t[s]/180;var l=u*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function o(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r)o[a]=180*t[a]/c,o[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return o}Object.defineProperty(n,"__esModule",{value:!0}),n.fromEPSG4326=r,n.toEPSG4326=o,n.PROJECTIONS=n.WORLD_EXTENT=n.EXTENT=n.HALF_SIZE=n.RADIUS=void 0;var a=t("../math.js"),s=i(t("./Projection.js")),l=i(t("./Units.js")),u=6378137;n.RADIUS=u;var c=Math.PI*u;n.HALF_SIZE=c;var d=[-c,-c,c,c];n.EXTENT=d;var h=[-180,-85,180,85];n.WORLD_EXTENT=h;var f=function(t){function e(e){t.call(this,{code:e,units:l["default"].METERS,extent:d,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/(0,a.cosh)(e[1]/u)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];n.PROJECTIONS=p},{"../math.js":"RK1r","./Projection.js":"lDHS","./Units.js":"RNSs"}],fhYH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.PROJECTIONS=n.METERS_PER_UNIT=n.EXTENT=n.RADIUS=void 0;var r=i(t("./Projection.js")),o=i(t("./Units.js")),a=6378137;n.RADIUS=a;var s=[-180,-90,180,90];n.EXTENT=s;var l=Math.PI*a/180;n.METERS_PER_UNIT=l;var u=function(t){function e(e,n){t.call(this,{code:e,units:o["default"].DEGREES,extent:s,axisOrientation:n,global:!0,metersPerUnit:l,worldExtent:s})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),c=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:EPSG::4326","neu"),new u("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("urn:x-ogc:def:crs:EPSG:4326","neu")];n.PROJECTIONS=c},{"./Projection.js":"lDHS","./Units.js":"RNSs"}],vyhW:[function(t,e,n){"use strict";function i(){a={}}function r(t){return a[t]||null}function o(t,e){a[t]=e}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.get=r,n.add=o;var a={}},{}],Aiuk:[function(t,e,n){"use strict";function i(){l={}}function r(t,e,n){var i=t.getCode(),r=e.getCode();i in l||(l[i]={}),l[i][r]=n}function o(t,e){var n=t.getCode(),i=e.getCode(),r=l[n][i];return delete l[n][i],(0,s.isEmpty)(l[n])&&delete l[n],r}function a(t,e){var n;return t in l&&e in l[t]&&(n=l[t][e]),n}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.add=r,n.remove=o,n.get=a;var s=t("../obj.js"),l={}},{"../obj.js":"qC1c"}],aoEo:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function s(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function l(t){L.add(t.getCode(),t),(0,k.add)(t,t,a)}function u(t){t.forEach(l)}function c(t){return"string"==typeof t?L.get(t):t||null}function d(t,e,n,i){var r,o=(t=c(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==I["default"].DEGREES&&!i||i==I["default"].DEGREES)r=e;else{var a=E(t,c("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),r=((0,M.getDistance)(s.slice(0,2),s.slice(2,4))+(0,M.getDistance)(s.slice(4,6),s.slice(6,8)))/2;var l=i?I.METERS_PER_UNIT[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}return r}function h(t){u(t),t.forEach(function(e){t.forEach(function(t){e!==t&&(0,k.add)(e,t,a)})})}function f(t,e,n,i){t.forEach(function(t){e.forEach(function(e){(0,k.add)(t,e,n),(0,k.add)(e,t,i)})})}function p(){L.clear(),(0,k.clear)()}function m(t,e){return t?"string"==typeof t?c(t):t:c(e)}function g(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,a=void 0!==n?n:new Array(r),s=0;s<r;s+=o){var l=t([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=e[s+u]}return a}}function v(t,e,n,i){var r=c(t),o=c(e);(0,k.add)(r,o,g(n)),(0,k.add)(o,r,g(i))}function y(t,e){return C(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function _(t,e){var n=C(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=(0,O.modulo)(i+180,360)-180),n}function b(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:E(t,e)===a&&n}function E(t,e){var n=t.getCode(),i=e.getCode(),r=(0,k.get)(n,i);return r||(r=s),r}function x(t,e){return E(c(t),c(e))}function C(t,e,n){return x(e,n)(t,void 0,t.length)}function T(t,e,n){var i=x(e,n);return(0,j.applyTransform)(t,i)}function w(t,e,n){return E(e,n)(t)}function S(){h(A.PROJECTIONS),h(R.PROJECTIONS),f(R.PROJECTIONS,A.PROJECTIONS,A.fromEPSG4326,A.toEPSG4326)}Object.defineProperty(n,"__esModule",{value:!0}),n.cloneTransform=a,n.identityTransform=s,n.addProjection=l,n.addProjections=u,n.get=c,n.getPointResolution=d,n.addEquivalentProjections=h,n.addEquivalentTransforms=f,n.clearAllProjections=p,n.createProjection=m,n.createTransformFromCoordinateTransform=g,n.addCoordinateTransforms=v,n.fromLonLat=y,n.toLonLat=_,n.equivalent=b,n.getTransformFromProjections=E,n.getTransform=x,n.transform=C,n.transformExtent=T,n.transformWithProjections=w,n.addCommon=S,Object.defineProperty(n,"Projection",{enumerable:!0,get:function(){return P["default"]}}),Object.defineProperty(n,"METERS_PER_UNIT",{enumerable:!0,get:function(){return I.METERS_PER_UNIT}});var M=t("./sphere.js"),j=t("./extent.js"),O=t("./math.js"),A=t("./proj/epsg3857.js"),R=t("./proj/epsg4326.js"),P=o(t("./proj/Projection.js")),I=r(t("./proj/Units.js")),L=r(t("./proj/projections.js")),k=t("./proj/transforms.js");S()},{"./sphere.js":"KXaK","./extent.js":"IwSU","./math.js":"RK1r","./proj/epsg3857.js":"yEvQ","./proj/epsg4326.js":"fhYH","./proj/Projection.js":"lDHS","./proj/Units.js":"RNSs","./proj/projections.js":"vyhW","./proj/transforms.js":"Aiuk"}],JXpH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=t("../events.js"),a=i(t("../events/EventType.js")),s=t("../Object.js"),l=i(t("./Control.js")),u=t("../proj.js"),c="projection",d="coordinateFormat",h=function(t){function e(e){var n=e||{},i=document.createElement("div");i.className=void 0!==n.className?n.className:"ol-mouse-position",t.call(this,{element:i,render:n.render||r,target:n.target}),(0,o.listen)(this,(0,s.getChangeEventType)(c),this.handleProjectionChanged_,this),n.coordinateFormat&&this.setCoordinateFormat(n.coordinateFormat),n.projection&&this.setProjection(n.projection),this.undefinedHTML_=void 0!==n.undefinedHTML?n.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=i.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(d)},e.prototype.getProjection=function(){return this.get(c)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var n=e.getViewport();this.listenerKeys.push((0,o.listen)(n,a["default"].MOUSEMOVE,this.handleMouseMove,this),(0,o.listen)(n,a["default"].TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,o.listen)(n,a["default"].MOUSEOUT,this.handleMouseOut,this),(0,o.listen)(n,a["default"].TOUCHEND,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set(d,t)},e.prototype.setProjection=function(t){this.set(c,(0,u.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?(0,u.getTransformFromProjections)(this.mapProjection_,n):u.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var r=this.getCoordinateFormat();e=r?r(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(l["default"]),f=h;n["default"]=f},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","../Object.js":"n4ep","./Control.js":"OZyS","../proj.js":"aoEo"}],ucwT:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ADD:"add",REMOVE:"remove"};n["default"]=i},{}],qt30:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.CollectionEvent=void 0;var r=i(t("./AssertionError.js")),o=i(t("./CollectionEventType.js")),a=i(t("./Object.js")),s=i(t("./events/Event.js")),l={LENGTH:"length"},u=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]);n.CollectionEvent=u;var c=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(o["default"].ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(o["default"].REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(o["default"].REMOVE,i)),this.dispatchEvent(new u(o["default"].ADD,e))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l.LENGTH,this.array_.length);
},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r["default"](58)},e}(a["default"]),d=c;n["default"]=d},{"./AssertionError.js":"vMmu","./CollectionEventType.js":"ucwT","./Object.js":"n4ep","./events/Event.js":"h36w"}],NpCs:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./events/Event.js")),o=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),a=o;n["default"]=a},{"./events/Event.js":"h36w"}],wJox:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./MapEvent.js")),o=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r["default"]),a=o;n["default"]=a},{"./MapEvent.js":"NpCs"}],SvAv:[function(t,e,n){"use strict";function i(t,e){for(var n=U.length,i=0;i<n;++i)try{var r=t.getContext(U[i],e);if(r)return r}catch(o){}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.getContext=i,n.EXTENSIONS=n.MAX_TEXTURE_SIZE=n.HAS=n.DEBUG=n.FRAMEBUFFER=n.COMPILE_STATUS=n.CLAMP_TO_EDGE=n.TEXTURE0=n.TEXTURE_2D=n.TEXTURE_WRAP_T=n.TEXTURE_WRAP_S=n.TEXTURE_MIN_FILTER=n.TEXTURE_MAG_FILTER=n.LINEAR=n.LINK_STATUS=n.VERTEX_SHADER=n.FRAGMENT_SHADER=n.RGBA=n.FLOAT=n.UNSIGNED_INT=n.UNSIGNED_SHORT=n.UNSIGNED_BYTE=n.SCISSOR_TEST=n.DEPTH_TEST=n.STENCIL_TEST=n.BLEND=n.CULL_FACE=n.DYNAMIC_DRAW=n.STATIC_DRAW=n.STREAM_DRAW=n.ELEMENT_ARRAY_BUFFER=n.ARRAY_BUFFER=n.ONE_MINUS_SRC_ALPHA=n.TRIANGLE_STRIP=n.TRIANGLES=n.COLOR_BUFFER_BIT=n.COLOR_ATTACHMENT0=n.SRC_ALPHA=n.ONE=void 0;var r=1;n.ONE=r;var o=770;n.SRC_ALPHA=o;var a=36064;n.COLOR_ATTACHMENT0=a;var s=16384;n.COLOR_BUFFER_BIT=s;var l=4;n.TRIANGLES=l;var u=5;n.TRIANGLE_STRIP=u;var c=771;n.ONE_MINUS_SRC_ALPHA=c;var d=34962;n.ARRAY_BUFFER=d;var h=34963;n.ELEMENT_ARRAY_BUFFER=h;var f=35040;n.STREAM_DRAW=f;var p=35044;n.STATIC_DRAW=p;var m=35048;n.DYNAMIC_DRAW=m;var g=2884;n.CULL_FACE=g;var v=3042;n.BLEND=v;var y=2960;n.STENCIL_TEST=y;var _=2929;n.DEPTH_TEST=_;var b=3089;n.SCISSOR_TEST=b;var E=5121;n.UNSIGNED_BYTE=E;var x=5123;n.UNSIGNED_SHORT=x;var C=5125;n.UNSIGNED_INT=C;var T=5126;n.FLOAT=T;var w=6408;n.RGBA=w;var S=35632;n.FRAGMENT_SHADER=S;var M=35633;n.VERTEX_SHADER=M;var j=35714;n.LINK_STATUS=j;var O=9729;n.LINEAR=O;var A=10240;n.TEXTURE_MAG_FILTER=A;var R=10241;n.TEXTURE_MIN_FILTER=R;var P=10242;n.TEXTURE_WRAP_S=P;var I=10243;n.TEXTURE_WRAP_T=I;var L=3553;n.TEXTURE_2D=L;var k=33984;n.TEXTURE0=k;var D=33071;n.CLAMP_TO_EDGE=D;var N=35713;n.COMPILE_STATUS=N;var F=36160;n.FRAMEBUFFER=F;var $,G,U=["experimental-webgl","webgl","webkit-3d","moz-webgl"],B=!0;n.DEBUG=B,n.MAX_TEXTURE_SIZE=$,n.EXTENSIONS=G;var H=!1;if(n.HAS=H,"undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var V=document.createElement("canvas"),z=i(V,{failIfMajorPerformanceCaveat:!0});z&&(n.HAS=H=!0,n.MAX_TEXTURE_SIZE=$=z.getParameter(z.MAX_TEXTURE_SIZE),n.EXTENSIONS=G=z.getSupportedExtensions())}catch(W){}},{}],lDpN:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"WEBGL",{enumerable:!0,get:function(){return i.HAS}}),n.MSPOINTER=n.POINTER=n.TOUCH=n.GEOLOCATION=n.CANVAS_LINE_DASH=n.DEVICE_PIXEL_RATIO=n.MAC=n.WEBKIT=n.SAFARI=n.FIREFOX=void 0;var i=t("./webgl.js"),r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",o=-1!==r.indexOf("firefox");n.FIREFOX=o;var a=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom");n.SAFARI=a;var s=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge");n.WEBKIT=s;var l=-1!==r.indexOf("macintosh");n.MAC=l;var u=window.devicePixelRatio||1;n.DEVICE_PIXEL_RATIO=u;var c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(e){}return t}();n.CANVAS_LINE_DASH=c;var d="geolocation"in navigator;n.GEOLOCATION=d;var h="ontouchstart"in window;n.TOUCH=h;var f="PointerEvent"in window;n.POINTER=f;var p=!!navigator.msPointerEnabled;n.MSPOINTER=p},{"./webgl.js":"SvAv"}],WqlW:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./events/EventType.js")),o={SINGLECLICK:"singleclick",CLICK:r["default"].CLICK,DBLCLICK:r["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};n["default"]=o},{"./events/EventType.js":"eKq7"}],ASyy:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./MapBrowserEvent.js")),o=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),a=o;n["default"]=a},{"./MapBrowserEvent.js":"wJox"}],z9Rf:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};n["default"]=i},{}],Ny8C:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(t,e){this.dispatcher=t,this.mapping_=e};i.prototype.getEvents=function(){return Object.keys(this.mapping_)},i.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var r=i;n["default"]=r},{}],wVnN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(!this.isEventSimulatedFromTouch_(t)){d.toString()in this.pointerMap&&this.cancel(t);var e=u(t,this.dispatcher);this.pointerMap[d.toString()]=t,this.dispatcher.down(e,t)}}function o(t){if(!this.isEventSimulatedFromTouch_(t)){var e=u(t,this.dispatcher);this.dispatcher.move(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[d.toString()];if(e&&e.button===t.button){var n=u(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function s(t){if(!this.isEventSimulatedFromTouch_(t)){var e=u(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=u(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function u(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=d,n.isPrimary=!0,n.pointerType=h,n}Object.defineProperty(n,"__esModule",{value:!0}),n.prepareEvent=u,n["default"]=n.POINTER_TYPE=n.POINTER_ID=void 0;var c=i(t("./EventSource.js")),d=1;n.POINTER_ID=d;var h="mouse";n.POINTER_TYPE=h;var f=25,p=function(t){function e(e){var n={mousedown:r,mousemove:o,mouseup:a,mouseover:s,mouseout:l};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,a=void 0;r<o&&(a=e[r]);r++){var s=Math.abs(n-a[0]),l=Math.abs(i-a[1]);if(s<=f&&l<=f)return!0}return!1},e.prototype.cancel=function(t){var e=u(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[d.toString()]},e}(c["default"]),m=p;n["default"]=m},{"./EventSource.js":"Ny8C"}],ru6w:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function l(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function u(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function d(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var h=i(t("./EventSource.js")),f=["","unavailable","touch","pen","mouse"],p=function(t){function e(e){var n={MSPointerDown:r,MSPointerMove:o,MSPointerUp:a,MSPointerOut:s,MSPointerOver:l,MSPointerCancel:u,MSGotPointerCapture:d,MSLostPointerCapture:c};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=f[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(h["default"]),m=p;n["default"]=m},{"./EventSource.js":"Ny8C"}],MLec:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function s(t){this.dispatcher.fireNativeEvent(t)}function l(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}function d(t){this.dispatcher.fireNativeEvent(t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var h=i(t("./EventSource.js")),f=function(t){function e(e){var n={pointerdown:r,pointermove:o,pointerup:a,pointerout:s,pointerover:l,pointercancel:u,gotpointercapture:d,lostpointercapture:c};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h["default"]),p=f;n["default"]=p},{"./EventSource.js":"Ny8C"}],tFu0:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e;if(t.buttons||s)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function o(t,e){return t.pressure?t.pressure:e?.5:0}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=i(t("../events/Event.js")),s=!1,l=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var a=i||{};this.buttons=r(a),this.pressure=o(a,this.buttons),this.bubbles="bubbles"in a&&a.bubbles,this.cancelable="cancelable"in a&&a.cancelable,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.ctrlKey="ctrlKey"in a&&a.ctrlKey,this.altKey="altKey"in a&&a.altKey,this.shiftKey="shiftKey"in a&&a.shiftKey,this.metaKey="metaKey"in a&&a.metaKey,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.tiltX="tiltX"in a?a.tiltX:0,this.tiltY="tiltY"in a?a.tiltY:0,this.pointerType="pointerType"in a?a.pointerType:"",this.hwTimestamp="hwTimestamp"in a?a.hwTimestamp:0,this.isPrimary="isPrimary"in a&&a.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["default"]);!function(){try{var t=new MouseEvent("click",{buttons:1});s=1===t.buttons}catch(e){}}();var u=l;n["default"]=u},{"../events/Event.js":"h36w"}],ybCM:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function o(t){this.processTouches_(t,this.moveOverOut_)}function a(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function s(t){this.processTouches_(t,this.cancelOut_)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var l=t("../array.js"),u=i(t("./EventSource.js")),c=t("./MouseSource.js"),d=200,h="touch",f=function(t){function e(e,n){var i={touchstart:r,touchmove:o,touchend:a,touchcancel:s};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&c.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),d)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=h,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){function n(){t.preventDefault()}for(var i=Array.prototype.slice.call(t.changedTouches),r=i.length,o=0;o<r;++o){var a=this.touchToPointer_(t,i[o]);a.preventDefault=n,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var a=Number(n[o]),s=this.pointerMap[a];a==c.POINTER_ID||this.findTouch_(e,a-2)||r.push(s.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){(0,l.remove)(e,i)},this.dedupTimeout_)}},e}(u["default"]),p=f;n["default"]=p},{"../array.js":"Z5sL","./EventSource.js":"Ny8C","./MouseSource.js":"wVnN"}],X9qK:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../events.js"),s=o(t("../events/Target.js")),l=t("../has.js"),u=o(t("./EventType.js")),c=r(t("./MouseSource.js")),d=o(t("./MsSource.js")),h=o(t("./NativeSource.js")),f=o(t("./PointerEvent.js")),p=o(t("./TouchSource.js")),m=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],g=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(l.POINTER)this.registerSource("native",new h["default"](this));else if(l.MSPOINTER)this.registerSource("ms",new d["default"](this));else{var t=new c["default"](this);this.registerSource("mouse",t),l.TOUCH&&this.registerSource("touch",new p["default"](this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){(0,a.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){(0,a.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=m.length;i<r;i++){var o=m[i][0];n[o]=t[o]||e[o]||m[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(u["default"].POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(u["default"].POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(u["default"].POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(u["default"].POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(u["default"].POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(u["default"].POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(u["default"].POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(u["default"].POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new f["default"](t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,(0,c.prepareEvent)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(s["default"]),v=g;n["default"]=v},{"../events.js":"Bvf5","../events/Target.js":"mcdO","../has.js":"lDpN","./EventType.js":"z9Rf","./MouseSource.js":"wVnN","./MsSource.js":"ru6w","./NativeSource.js":"MLec","./PointerEvent.js":"tFu0","./TouchSource.js":"ybCM"}],pivB:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./has.js"),o=i(t("./MapBrowserEventType.js")),a=i(t("./MapBrowserPointerEvent.js")),s=t("./events.js"),l=i(t("./events/Target.js")),u=i(t("./pointer/EventType.js")),c=i(t("./pointer/PointerEventHandler.js")),d=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*r.DEVICE_PIXEL_RATIO:r.DEVICE_PIXEL_RATIO,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new c["default"](i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,s.listen)(this.pointerEventHandler_,u["default"].POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=(0,s.listen)(this.pointerEventHandler_,u["default"].POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new a["default"](o["default"].CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new a["default"](o["default"].DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new a["default"](o["default"].SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==o["default"].POINTERUP||e.type==o["default"].POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==o["default"].POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new a["default"](o["default"].POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new a["default"](o["default"].POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new c["default"](document),this.dragListenerKeys_.push((0,s.listen)(this.documentPointerEventHandler_,o["default"].POINTERMOVE,this.handlePointerMove_,this),(0,s.listen)(this.documentPointerEventHandler_,o["default"].POINTERUP,this.handlePointerUp_,this),(0,s.listen)(this.pointerEventHandler_,o["default"].POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new a["default"](o["default"].POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new a["default"](t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,s.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,s.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(l["default"]),h=d;n["default"]=h},{"./has.js":"lDpN","./MapBrowserEventType.js":"WqlW","./MapBrowserPointerEvent.js":"ASyy","./events.js":"Bvf5","./events/Target.js":"mcdO","./pointer/EventType.js":"z9Rf","./pointer/PointerEventHandler.js":"X9qK"}],wZCA:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};n["default"]=i},{}],gwpL:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};n["default"]=i},{}],xnA2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.DROP=void 0;var i=t("../asserts.js"),r=t("../obj.js"),o=1/0;n.DROP=o;var a=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};a.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,r.clear)(this.queuedElements_)},a.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},a.prototype.enqueue=function(t){(0,i.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},a.prototype.getCount=function(){return this.elements_.length},a.prototype.getLeftChildIndex_=function(t){return 2*t+1},a.prototype.getRightChildIndex_=function(t){return 2*t+2},a.prototype.getParentIndex_=function(t){return t-1>>1},a.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},a.prototype.isEmpty=function(){return 0===this.elements_.length},a.prototype.isKeyQueued=function(t){return t in this.queuedElements_},a.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},a.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=o,this.siftDown_(a,t)},a.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=r,i[e]=o},a.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,a=this.priorities_,s=0,l=r.length;for(e=0;e<l;++e)(n=i(t=r[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=n,r[s++]=t);r.length=s,a.length=s,this.heapify_()};var s=a;n["default"]=s},{"../asserts.js":"E2kQ","../obj.js":"qC1c"}],BMBd:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./TileState.js")),o=t("./events.js"),a=i(t("./events/EventType.js")),s=i(t("./structs/PriorityQueue.js")),l=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var i=e[0];(0,o.listen)(i,a["default"].CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===r["default"].LOADED||n===r["default"].ERROR||n===r["default"].EMPTY||n===r["default"].ABORT){(0,o.unlisten)(e,a["default"].CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,a=0,s=!1;this.tilesLoading_<t&&a<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===r["default"].ABORT?s=!0:n!==r["default"].IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,i.load());0===a&&s&&this.tileChangeCallback_()},e}(s["default"]),u=l;n["default"]=u},{"./TileState.js":"gwpL","./events.js":"Bvf5","./events/EventType.js":"eKq7","./structs/PriorityQueue.js":"xnA2"}],vSap:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_TILE_SIZE=n.DEFAULT_MAX_ZOOM=void 0;var i=42;n.DEFAULT_MAX_ZOOM=i;var r=256;n.DEFAULT_TILE_SIZE=r},{}],TV2A:[function(t,e,n){"use strict";function i(t){return function(e){return e?[(0,o.clamp)(e[0],t[0],t[2]),(0,o.clamp)(e[1],t[1],t[3])]:void 0}}function r(t){return t}Object.defineProperty(n,"__esModule",{value:!0}),n.createExtent=i,n.none=r;var o=t("./math.js")},{"./math.js":"RK1r"}],JSwy:[function(t,e,n){"use strict";function i(t){return function(e,n,i){if(void 0!==e){var r=(0,o.linearFindNearest)(t,e,i);r=(0,a.clamp)(r+n,0,t.length-1);var s=Math.floor(r);if(r!=s&&s<t.length-1){var l=t[s]/t[s+1];return t[s]/Math.pow(l,r-s)}return t[s]}}}function r(t,e,n){return function(i,r,o){if(void 0!==i){var a=-o/2+.5,s=Math.floor(Math.log(e/i)/Math.log(t)+a),l=Math.max(s+r,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapToResolutions=i,n.createSnapToPower=r;var o=t("./array.js"),a=t("./math.js")},{"./array.js":"Z5sL","./math.js":"RK1r"}],uu9I:[function(t,e,n){"use strict";function i(t,e){return void 0!==t?0:void 0}function r(t,e){return void 0!==t?t+e:void 0}function o(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}}function a(t){var e=t||(0,s.toRadians)(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}Object.defineProperty(n,"__esModule",{value:!0}),n.disable=i,n.none=r,n.createSnapToN=o,n.createSnapToZero=a;var s=t("./math.js")},{"./math.js":"RK1r"}],QAjQ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ANIMATING:0,INTERACTING:1};n["default"]=i},{}],tZ3Y:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};n["default"]=i},{}],OqZs:[function(t,e,n){"use strict";function i(t,e,n){var i=void 0!==n?t.toFixed(n):""+t,r=i.indexOf(".");return(r=-1===r?i.length:r)>e?i:new Array(1+e-r).join("0")+i}function r(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),a=parseInt(i[r]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}Object.defineProperty(n,"__esModule",{value:!0}),n.padNumber=i,n.compareVersions=r},{}],HxRU:[function(t,e,n){"use strict";function i(t,e){return t[0]+=e[0],t[1]+=e[1],t}function r(t,e){var n=e.getRadius(),i=e.getCenter(),r=i[0],o=i[1],a=t[0]-r,s=t[1]-o;
0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[r+n*a/l,o+n*s/l]}function o(t,e){var n,i,r=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],d=s[1],h=c-l,f=d-u,p=0===h&&0===f?0:(h*(r-l)+f*(o-u))/(h*h+f*f||0);return p<=0?(n=l,i=u):p>=1?(n=c,i=d):(n=l+p*h,i=u+p*f),[n,i]}function a(t){return function(e){return g(e,t)}}function s(t,e,n){var i=(0,v.modulo)(e+180,360)-180,r=Math.abs(3600*i),o=n||0,a=Math.pow(10,o),s=Math.floor(r/3600),l=Math.floor((r-3600*s)/60),u=r-3600*s-60*l;return(u=Math.ceil(u*a)/a)>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1),s+" "+(0,y.padNumber)(l,2)+" "+(0,y.padNumber)(u,2,o)+""+(0==i?"":" "+t.charAt(i<0?1:0))}function l(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function u(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function c(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function d(t,e){return t[0]*=e,t[1]*=e,t}function h(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function f(t,e){return Math.sqrt(h(t,e))}function p(t,e){return h(t,o(t,e))}function m(t,e){return t?s("NS",t[1],e)+" "+s("EW",t[0],e):""}function g(t,e){return l(t,"{x}, {y}",e)}Object.defineProperty(n,"__esModule",{value:!0}),n.add=i,n.closestOnCircle=r,n.closestOnSegment=o,n.createStringXY=a,n.degreesToStringHDMS=s,n.format=l,n.equals=u,n.rotate=c,n.scale=d,n.squaredDistance=h,n.distance=f,n.squaredDistanceToSegment=p,n.toStringHDMS=m,n.toStringXY=g;var v=t("./math.js"),y=t("./string.js")},{"./math.js":"RK1r","./string.js":"OqZs"}],gfrO:[function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}Object.defineProperty(n,"__esModule",{value:!0}),n.easeIn=i,n.easeOut=r,n.inAndOut=o,n.linear=a,n.upAndDown=s},{}],hsvv:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};n["default"]=i},{}],CVNs:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var a=o||[],s=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];a[s++]=r[0]*u+r[2]*c+r[4],a[s++]=r[1]*u+r[3]*c+r[5]}return o&&a.length!=s&&(a.length=s),a}function r(t,e,n,i,r,o,a){for(var s=a||[],l=Math.cos(r),u=Math.sin(r),c=o[0],d=o[1],h=0,f=e;f<n;f+=i){var p=t[f]-c,m=t[f+1]-d;s[h++]=c+p*l-m*u,s[h++]=d+p*u+m*l;for(var g=f+2;g<f+i;++g)s[h++]=t[g]}return a&&s.length!=h&&(s.length=h),s}function o(t,e,n,i,r,o,a,s){for(var l=s||[],u=a[0],c=a[1],d=0,h=e;h<n;h+=i){var f=t[h]-u,p=t[h+1]-c;l[d++]=u+r*f,l[d++]=c+o*p;for(var m=h+2;m<h+i;++m)l[d++]=t[m]}return s&&l.length!=d&&(l.length=d),l}function a(t,e,n,i,r,o,a){for(var s=a||[],l=0,u=e;u<n;u+=i){s[l++]=t[u]+r,s[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)s[l++]=t[c]}return a&&s.length!=l&&(s.length=l),s}Object.defineProperty(n,"__esModule",{value:!0}),n.transform2D=i,n.rotate=r,n.scale=o,n.translate=a},{}],glB6:[function(t,e,n){"use strict";function i(){return[1,0,0,1,0,0]}function r(t){return a(t,1,0,0,1,0,0)}function o(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],d=e[3],h=e[4],f=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*d,t[3]=i*c+o*d,t[4]=n*h+r*f+a,t[5]=i*h+o*f+s,t}function a(t,e,n,i,r,o,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function l(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function u(t,e){var n=Math.cos(e),i=Math.sin(e);return o(t,a(g,n,i,-i,n,0,0))}function c(t,e,n){return o(t,a(g,e,0,0,n,0,0))}function d(t,e,n){return o(t,a(g,1,0,0,1,e,n))}function h(t,e,n,i,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=a*i*u-s*i*l+e,t[5]=a*r*l+s*r*u+n,t}function f(t){var e=p(t);(0,m.assert)(0!==e,32);var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5];return t[0]=o/e,t[1]=-i/e,t[2]=-r/e,t[3]=n/e,t[4]=(r*s-o*a)/e,t[5]=-(n*s-i*a)/e,t}function p(t){return t[0]*t[3]-t[1]*t[2]}Object.defineProperty(n,"__esModule",{value:!0}),n.create=i,n.reset=r,n.multiply=o,n.set=a,n.setFromArray=s,n.apply=l,n.rotate=u,n.scale=c,n.translate=d,n.compose=h,n.invert=f,n.determinant=p;var m=t("./asserts.js"),g=new Array(6)},{"./asserts.js":"E2kQ"}],Y20q:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../Object.js")),a=t("../extent.js"),s=t("./flat/transform.js"),l=t("../proj.js"),u=i(t("../proj/Units.js")),c=t("../transform.js"),d=(0,c.create)(),h=function(t){function e(){t.call(this),this.extent_=(0,a.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return(0,r["abstract"])()},e.prototype.closestPointXY=function(t,e,n,i){return(0,r["abstract"])()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,r["abstract"])()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,a.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,r["abstract"])()},e.prototype.scale=function(t,e,n){(0,r["abstract"])()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,r["abstract"])()},e.prototype.getType=function(){return(0,r["abstract"])()},e.prototype.applyTransform=function(t){(0,r["abstract"])()},e.prototype.intersectsExtent=function(t){return(0,r["abstract"])()},e.prototype.translate=function(t,e){(0,r["abstract"])()},e.prototype.transform=function(t,e){var n=(0,l.get)(t),i=n.getUnits()==u["default"].TILE_PIXELS?function(t,i,r){var o=n.getExtent(),u=n.getWorldExtent(),h=(0,a.getHeight)(u)/(0,a.getHeight)(o);return(0,c.compose)(d,u[0],u[3],h,-h,0,0,0),(0,s.transform2D)(t,0,t.length,r,d,i),(0,l.getTransform)(n,e)(t,i,r)}:(0,l.getTransform)(n,e);return this.applyTransform(i),this},e}(o["default"]),f=h;n["default"]=f},{"../util.js":"YOqM","../Object.js":"n4ep","../extent.js":"IwSU","./flat/transform.js":"CVNs","../proj.js":"aoEo","../proj/Units.js":"RNSs","../transform.js":"glB6"}],F2mr:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e;return 2==t?e=c["default"].XY:3==t?e=c["default"].XYZ:4==t&&(e=c["default"].XYZM),e}function o(t){var e;return t==c["default"].XY?e=2:t==c["default"].XYZ||t==c["default"].XYM?e=3:t==c["default"].XYZM&&(e=4),e}function a(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return(0,d.transform2D)(i,0,i.length,r,e,n)}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.getStrideForLayout=o,n.transformGeom2D=a,n["default"]=void 0;var s=t("../util.js"),l=t("../extent.js"),u=i(t("./Geometry.js")),c=i(t("./GeometryLayout.js")),d=t("./flat/transform.js"),h=t("../obj.js"),f=function(t){function e(){t.call(this),this.layout=c["default"].XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return(0,l.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,s["abstract"])()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,h.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=o(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,s["abstract"])()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=o(t);else{for(var a=0;a<n;++a){if(0===e.length)return this.layout=c["default"].XY,void(this.stride=2);e=e[0]}t=r(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,d.rotate)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=(0,l.getCenter)(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();(0,d.scale)(o,0,o.length,a,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,d.translate)(n,0,n.length,i,t,e,n),this.changed()}},e}(u["default"]),p=f;n["default"]=p},{"../util.js":"YOqM","../extent.js":"IwSU","./Geometry.js":"Y20q","./GeometryLayout.js":"hsvv","./flat/transform.js":"CVNs","../obj.js":"qC1c"}],w7L4:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=a*s-o*l,o=s,a=l}return r/2}function r(t,e,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];o+=i(t,e,l,r),e=l}return o}function o(t,e,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];o+=r(t,e,l,i),e=l[l.length-1]}return o}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRing=i,n.linearRings=r,n.linearRingss=o},{}],U50t:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){var s,l=t[e],u=t[e+1],d=t[n]-l,h=t[n+1]-u;if(0===d&&0===h)s=e;else{var f=((r-l)*d+(o-u)*h)/(d*d+h*h);if(f>1)s=n;else{if(f>0){for(var p=0;p<i;++p)a[p]=(0,c.lerp)(t[e+p],t[n+p],f);return void(a.length=i)}s=e}}for(var m=0;m<i;++m)a[m]=t[s+m];a.length=i}function r(t,e,n,i,r){var o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],u=(0,c.squaredDistance)(o,a,s,l);u>r&&(r=u),o=s,a=l}return r}function o(t,e,n,i,o){for(var a=0,s=n.length;a<s;++a){var l=n[a];o=r(t,e,l,i,o),e=l}return o}function a(t,e,n,i,r){for(var a=0,s=n.length;a<s;++a){var l=n[a];r=o(t,e,l,i,r),e=l[l.length-1]}return r}function s(t,e,n,r,o,a,s,l,u,d,h){if(e==n)return d;var f,p;if(0===o){if((p=(0,c.squaredDistance)(s,l,t[e],t[e+1]))<d){for(f=0;f<r;++f)u[f]=t[e+f];return u.length=r,p}return d}for(var m=h||[NaN,NaN],g=e+r;g<n;)if(i(t,g-r,g,r,s,l,m),(p=(0,c.squaredDistance)(s,l,m[0],m[1]))<d){for(d=p,f=0;f<r;++f)u[f]=m[f];u.length=r,g+=r}else g+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/o|0,1);if(a&&(i(t,n-r,e,r,s,l,m),(p=(0,c.squaredDistance)(s,l,m[0],m[1]))<d)){for(d=p,f=0;f<r;++f)u[f]=m[f];u.length=r}return d}function l(t,e,n,i,r,o,a,l,u,c,d){for(var h=d||[NaN,NaN],f=0,p=n.length;f<p;++f){var m=n[f];c=s(t,e,m,i,r,o,a,l,u,c,h),e=m}return c}function u(t,e,n,i,r,o,a,s,u,c,d){for(var h=d||[NaN,NaN],f=0,p=n.length;f<p;++f){var m=n[f];c=l(t,e,m,i,r,o,a,s,u,c,h),e=m[m.length-1]}return c}Object.defineProperty(n,"__esModule",{value:!0}),n.maxSquaredDelta=r,n.arrayMaxSquaredDelta=o,n.multiArrayMaxSquaredDelta=a,n.assignClosestPoint=s,n.assignClosestArrayPoint=l,n.assignClosestMultiArrayPoint=u;var c=t("../../math.js")},{"../../math.js":"RK1r"}],Wjyi:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)t[e++]=a[s];return e}function o(t,e,n,i,o){for(var a=o||[],s=0,l=0,u=n.length;l<u;++l){var c=r(t,e,n[l],i);a[s++]=c,e=c}return a.length=s,a}function a(t,e,n,i,r){for(var a=r||[],s=0,l=0,u=n.length;l<u;++l){var c=o(t,e,n[l],i,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}Object.defineProperty(n,"__esModule",{value:!0}),n.deflateCoordinate=i,n.deflateCoordinates=r,n.deflateCoordinatesArray=o,n.deflateMultiCoordinatesArray=a},{}],a4id:[function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=e;s<n;s+=i)o[a++]=t.slice(s,s+i);return o.length=a,o}function r(t,e,n,r,o){for(var a=void 0!==o?o:[],s=0,l=0,u=n.length;l<u;++l){var c=n[l];a[s++]=i(t,e,c,r,a[s]),e=c}return a.length=s,a}function o(t,e,n,i,o){for(var a=void 0!==o?o:[],s=0,l=0,u=n.length;l<u;++l){var c=n[l];a[s++]=r(t,e,c,i,a[s]),e=c[c.length-1]}return a.length=s,a}Object.defineProperty(n,"__esModule",{value:!0}),n.inflateCoordinates=i,n.inflateCoordinatesArray=r,n.inflateMultiCoordinatesArray=o},{}],y5ZM:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,l){var u=void 0!==l?l:[];return a||(n=s(t,e,n,i,o,u,0),t=u,e=0,i=2),u.length=r(t,e,n,i,o,u,0),u}function r(t,e,n,i,r,o,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,n-i],c=0;u.length>0;){for(var d=u.pop(),f=u.pop(),p=0,m=t[f],g=t[f+1],v=t[d],y=t[d+1],_=f+i;_<d;_+=i){var b=t[_],E=t[_+1],x=(0,h.squaredSegmentDistance)(b,E,m,g,v,y);x>p&&(c=_,p=x)}p>r&&(l[(c-e)/i]=1,f+i<c&&u.push(f,c),c+i<d&&u.push(c,d))}for(var C=0;C<s;++C)l[C]&&(o[a++]=t[e+C*i],o[a++]=t[e+C*i+1]);return a}function o(t,e,n,i,o,a,s,l){for(var u=0,c=n.length;u<c;++u){var d=n[u];s=r(t,e,d,i,o,a,s),l.push(s),e=d}return s}function a(t,e,n,i,r,a,s,l){for(var u=0,c=n.length;u<c;++u){var d=n[u],h=[];s=o(t,e,d,i,r,a,s,h),l.push(h),e=d[d.length-1]}return s}function s(t,e,n,i,r,o,a){if(n<=e+i){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var s=t[e],l=t[e+1];o[a++]=s,o[a++]=l;var u=s,c=l;for(e+=i;e<n;e+=i)u=t[e],c=t[e+1],(0,h.squaredDistance)(s,l,u,c)>r&&(o[a++]=u,o[a++]=c,s=u,l=c);return u==s&&c==l||(o[a++]=u,o[a++]=c),a}function l(t,e){return e*Math.round(t/e)}function u(t,e,n,i,r,o,a){if(e==n)return a;var s,u,c=l(t[e],r),d=l(t[e+1],r);e+=i,o[a++]=c,o[a++]=d;do if(s=l(t[e],r),u=l(t[e+1],r),(e+=i)==n)return o[a++]=s,o[a++]=u,a;while(s==c&&u==d);for(;e<n;){var h=l(t[e],r),f=l(t[e+1],r);if(e+=i,h!=s||f!=u){var p=s-c,m=u-d,g=h-c,v=f-d;p*v==m*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(m<0&&v<m||m==v||m>0&&v>m)?(s=h,u=f):(o[a++]=s,o[a++]=u,c=s,d=u,s=h,u=f)}}return o[a++]=s,o[a++]=u,a}function c(t,e,n,i,r,o,a,s){for(var l=0,c=n.length;l<c;++l){var d=n[l];a=u(t,e,d,i,r,o,a),s.push(a),e=d}return a}function d(t,e,n,i,r,o,a,s){for(var l=0,u=n.length;l<u;++l){var d=n[l],h=[];a=c(t,e,d,i,r,o,a,h),s.push(h),e=d[d.length-1]}return a}Object.defineProperty(n,"__esModule",{value:!0}),n.simplifyLineString=i,n.douglasPeucker=r,n.douglasPeuckerArray=o,n.douglasPeuckerMultiArray=a,n.radialDistance=s,n.snap=l,n.quantize=u,n.quantizeArray=c,n.quantizeMultiArray=d;var h=t("../../math.js")},{"../../math.js":"RK1r"}],n01p:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../extent.js"),o=i(t("./GeometryLayout.js")),a=i(t("./GeometryType.js")),s=i(t("./SimpleGeometry.js")),l=t("./flat/area.js"),u=t("./flat/closest.js"),c=t("./flat/deflate.js"),d=t("./flat/inflate.js"),h=t("./flat/simplify.js"),f=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return(0,l.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,d.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o["default"].XY)},e.prototype.getType=function(){return a["default"].LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s["default"]),p=f;n["default"]=p},{"../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/area.js":"w7L4","./flat/closest.js":"U50t","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/simplify.js":"y5ZM"}],FFTU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../extent.js"),o=i(t("./GeometryType.js")),a=i(t("./SimpleGeometry.js")),s=t("./flat/deflate.js"),l=t("../math.js"),u=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=(0,l.squaredDistance)(t,e,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,r.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return o["default"].POINT},e.prototype.intersectsExtent=function(t){return(0,r.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a["default"]),c=u;n["default"]=c},{"../extent.js":"IwSU","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/deflate.js":"Wjyi","../math.js":"RK1r"}],npHd:[function(t,e,n){"use strict";function i(t,e,n,i,o){return!(0,s.forEachCorner)(o,function(o){return!r(t,e,n,i,o[0],o[1])})}function r(t,e,n,i,r,o){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(r-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(r-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function o(t,e,n,i,o,a){if(0===n.length)return!1;if(!r(t,e,n[0],i,o,a))return!1;for(var s=1,l=n.length;s<l;++s)if(r(t,n[s-1],n[s],i,o,a))return!1;return!0}function a(t,e,n,i,r,a){if(0===n.length)return!1;for(var s=0,l=n.length;s<l;++s){var u=n[s];if(o(t,e,u,i,r,a))return!0;e=u[u.length-1]}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRingContainsExtent=i,n.linearRingContainsXY=r,n.linearRingsContainsXY=o,n.linearRingssContainsXY=a;var s=t("../../extent.js")},{"../../extent.js":"IwSU"}],QVo3:[function(t,e,n){"use strict";function i(t,e,n,i,r,s,l){for(var u,c,d,h,f,p,m,g=r[s+1],v=[],y=0,_=n.length;y<_;++y){var b=n[y];for(h=t[b-i],p=t[b-i+1],u=e;u<b;u+=i)f=t[u],m=t[u+1],(g<=p&&m<=g||p<=g&&g<=m)&&(d=(g-p)/(m-p)*(f-h)+h,v.push(d)),h=f,p=m}var E=NaN,x=-1/0;for(v.sort(o.numberSafeCompareFunction),h=v[0],u=1,c=v.length;u<c;++u){f=v[u];var C=Math.abs(f-h);C>x&&(d=(h+f)/2,(0,a.linearRingsContainsXY)(t,e,n,i,d,g)&&(E=d,x=C)),h=f}return isNaN(E)&&(E=r[s]),l?(l.push(E,g,x),l):[E,g,x]}function r(t,e,n,r,o){for(var a=[],s=0,l=n.length;s<l;++s){var u=n[s];a=i(t,e,u,r,o,2*s,a),e=u[u.length-1]}return a}Object.defineProperty(n,"__esModule",{value:!0}),n.getInteriorPointOfArray=i,n.getInteriorPointsOfMultiArray=r;var o=t("../../array.js"),a=t("./contains.js")},{"../../array.js":"Z5sL","./contains.js":"npHd"}],bS2z:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var a,s=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],a=r.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=i},{}],RGtZ:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o=(0,l.extendFlatCoordinates)((0,l.createEmpty)(),t,e,n,i);return!!(0,l.intersects)(r,o)&&(!!(0,l.containsExtent)(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||(0,c.forEach)(t,e,n,i,function(t,e){return(0,l.intersectsSegment)(r,t,e)}))}function r(t,e,n,r,o){for(var a=0,s=n.length;a<s;++a){if(i(t,e,n[a],r,o))return!0;e=n[a]}return!1}function o(t,e,n,r,o){return!!(i(t,e,n,r,o)||(0,u.linearRingContainsXY)(t,e,n,r,o[0],o[1])||(0,u.linearRingContainsXY)(t,e,n,r,o[0],o[3])||(0,u.linearRingContainsXY)(t,e,n,r,o[2],o[1])||(0,u.linearRingContainsXY)(t,e,n,r,o[2],o[3]))}function a(t,e,n,r,a){if(!o(t,e,n[0],r,a))return!1;if(1===n.length)return!0;for(var s=1,l=n.length;s<l;++s)if((0,u.linearRingContainsExtent)(t,n[s-1],n[s],r,a)&&!i(t,n[s-1],n[s],r,a))return!1;return!0}function s(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var l=n[o];if(a(t,e,l,i,r))return!0;e=l[l.length-1]}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.intersectsLineString=i,n.intersectsLineStringArray=r,n.intersectsLinearRing=o,n.intersectsLinearRingArray=a,n.intersectsLinearRingMultiArray=s;var l=t("../../extent.js"),u=t("./contains.js"),c=t("./segments.js")},{"../../extent.js":"IwSU","./contains.js":"npHd","./segments.js":"bS2z"}],BiuG:[function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}Object.defineProperty(n,"__esModule",{value:!0}),n.coordinates=i},{}],SKGF:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return r>0}function r(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,l=n.length;s<l;++s){var u=n[s],c=i(t,e,u,r);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=u}return!0}function o(t,e,n,i,o){for(var a=0,s=n.length;a<s;++a)if(!r(t,e,n[a],i,o))return!1;return!0}function a(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,u=n.length;s<u;++s){var c=n[s],d=i(t,e,c,r);(0===s?a&&d||!a&&!d:a&&!d||!a&&d)&&(0,l.coordinates)(t,e,c,r),e=c}return e}function s(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=a(t,e,n[o],i,r);return e}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRingIsClockwise=i,n.linearRingIsOriented=r,n.linearRingsAreOriented=o,n.orientLinearRings=a,n.orientLinearRingsArray=s;var l=t("./reverse.js")},{"./reverse.js":"BiuG"}],K0BN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i){for(var r=n||32,o=[],a=0;a<r;++a)(0,l.extend)(o,(0,m.offset)(t,e,2*Math.PI*a/r,i));return o.push(o[0],o[1]),new S(o,c["default"].XY,[o.length])}function o(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new S(o,c["default"].XY,[o.length])}function a(t,e,n){for(var i=e||32,r=t.getStride(),o=t.getLayout(),a=t.getCenter(),l=r*(i+1),u=new Array(l),c=0;c<l;c+=r){u[c]=0,u[c+1]=0;for(var d=2;d<r;d++)u[c+d]=a[d]}var h=[u.length],f=new S(u,o,h);return s(f,a,t.getRadius(),n),f}function s(t,e,n,i){for(var r=t.getFlatCoordinates(),o=t.getStride(),a=r.length/o-1,s=i||0,l=0;l<=a;++l){var u=l*o,c=s+2*(0,w.modulo)(l,a)*Math.PI/a;r[u]=e[0]+n*Math.cos(c),r[u+1]=e[1]+n*Math.sin(c)}t.changed()}Object.defineProperty(n,"__esModule",{value:!0}),n.circular=r,n.fromExtent=o,n.fromCircle=a,n.makeRegular=s,n["default"]=void 0;var l=t("../array.js"),u=t("../extent.js"),c=i(t("./GeometryLayout.js")),d=i(t("./GeometryType.js")),h=i(t("./LinearRing.js")),f=i(t("./Point.js")),p=i(t("./SimpleGeometry.js")),m=t("../sphere.js"),g=t("./flat/area.js"),v=t("./flat/closest.js"),y=t("./flat/contains.js"),_=t("./flat/deflate.js"),b=t("./flat/inflate.js"),E=t("./flat/interiorpoint.js"),x=t("./flat/intersectsextent.js"),C=t("./flat/orient.js"),T=t("./flat/simplify.js"),w=t("../math.js"),S=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,l.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,u.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,v.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return(0,y.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return(0,g.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,C.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,b.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,u.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,E.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new f["default"](this.getFlatInteriorPoint(),c["default"].XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new h["default"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],l=new h["default"](e.slice(r,s),t);i.push(l),r=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,C.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,C.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=(0,T.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,c["default"].XY,i)},e.prototype.getType=function(){return d["default"].POLYGON},e.prototype.intersectsExtent=function(t){return(0,x.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,_.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(p["default"]),M=S;n["default"]=M},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./LinearRing.js":"n01p","./Point.js":"FFTU","./SimpleGeometry.js":"F2mr","../sphere.js":"KXaK","./flat/area.js":"w7L4","./flat/closest.js":"U50t","./flat/contains.js":"npHd","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interiorpoint.js":"QVo3","./flat/intersectsextent.js":"RGtZ","./flat/orient.js":"SKGF","./flat/simplify.js":"y5ZM","../math.js":"RK1r"}],dWZ4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){setTimeout(function(){t(e)},0)}function o(t){return void 0!==t.extent?(0,h.createExtent)(t.extent):h.none}function a(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:O,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var s=t.resolutions;n=s[r],i=void 0!==s[o]?s[o]:s[s.length-1],e=(0,p.createSnapToResolutions)(s)}else{var l=(0,M.createProjection)(t.projection,"EPSG:3857"),c=l.getExtent(),d=(c?Math.max((0,x.getWidth)(c),(0,x.getHeight)(c)):360*M.METERS_PER_UNIT[j["default"].DEGREES]/l.getMetersPerUnit())/u.DEFAULT_TILE_SIZE/Math.pow(2,O),h=d/Math.pow(2,28-O);void 0!==(n=t.maxResolution)?r=0:n=d/Math.pow(a,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):d/Math.pow(a,o):h),o=r+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,o-r),e=(0,p.createSnapToPower)(a,n,o-r)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:a}}function s(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,m.createSnapToZero)():!1===e?m.none:"number"==typeof e?(0,m.createSnapToN)(e):m.none}return m.disable}function l(t){return!(t.sourceCenter&&t.targetCenter&&!(0,b.equals)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}Object.defineProperty(n,"__esModule",{value:!0}),n.createCenterConstraint=o,n.createResolutionConstraint=a,n.createRotationConstraint=s,n.isNoopAnimation=l,n["default"]=void 0;var u=t("./tilegrid/common.js"),c=t("./util.js"),d=t("./functions.js"),h=t("./centerconstraint.js"),f=i(t("./Object.js")),p=t("./resolutionconstraint.js"),m=t("./rotationconstraint.js"),g=i(t("./ViewHint.js")),v=i(t("./ViewProperty.js")),y=t("./array.js"),_=t("./asserts.js"),b=t("./coordinate.js"),E=t("./easing.js"),x=t("./extent.js"),C=i(t("./geom/GeometryType.js")),T=t("./geom/Polygon.js"),w=t("./math.js"),S=t("./obj.js"),M=t("./proj.js"),j=i(t("./proj/Units.js")),O=0,A=function(t){function e(e){t.call(this);var n=(0,S.assign)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,M.createProjection)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[v["default"].CENTER]=void 0!==t.center?t.center:null;var n=a(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=o(t),r=n.constraint,l=s(t);this.constraints_={center:i,resolution:r,rotation:l},void 0!==t.resolution?e[v["default"].RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[v["default"].RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),
this.resolutions_&&(e[v["default"].RESOLUTION]=(0,w.clamp)(Number(this.getResolution()||e[v["default"].RESOLUTION]),this.minResolution_,this.maxResolution_))),e[v["default"].ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,S.assign)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),(0,S.assign)({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var o=arguments[i-1];return o.center&&this.setCenter(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(e&&r(e,!0))}for(var a=Date.now(),s=this.getCenter().slice(),u=this.getResolution(),c=this.getRotation(),d=[],h=0;h<i;++h){var f=n[h],p={start:a,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||E.inAndOut};if(f.center&&(p.sourceCenter=s,p.targetCenter=f.center,s=p.targetCenter),void 0!==f.zoom?(p.sourceResolution=u,p.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),u=p.targetResolution):f.resolution&&(p.sourceResolution=u,p.targetResolution=f.resolution,u=p.targetResolution),void 0!==f.rotation){p.sourceRotation=c;var m=(0,w.modulo)(f.rotation-c+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=c+m,c=p.targetRotation}p.callback=e,l(p)?p.complete=!0:a+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(g["default"].ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[g["default"].ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[g["default"].INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(g["default"].ANIMATING,-this.hints_[g["default"].ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&r(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,a=0,s=i.length;a<s;++a){var l=i[a];if(!l.complete){var u=t-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):o=!1;var d=l.easing(c);if(l.sourceCenter){var h=l.sourceCenter[0],f=l.sourceCenter[1],p=h+d*(l.targetCenter[0]-h),m=f+d*(l.targetCenter[1]-f);this.set(v["default"].CENTER,[p,m])}if(l.sourceResolution&&l.targetResolution){var y=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(v["default"].CENTER,this.calculateCenterZoom(y,l.anchor)),this.set(v["default"].RESOLUTION,y)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var _=1===d?(0,w.modulo)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(v["default"].CENTER,this.calculateCenterRotate(_,l.anchor)),this.set(v["default"].ROTATION,_)}if(e=!0,!l.complete)break}}if(o){this.animations_[n]=null,this.setHint(g["default"].ANIMATING,-1);var b=i[0].callback;b&&r(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],(0,b.rotate)(n,t-this.getRotation()),(0,b.add)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,c.getUid)(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(v["default"].CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();(0,_.assert)(n,1);var i=this.getResolution();(0,_.assert)(void 0!==i,2);var r=this.getRotation();return(0,_.assert)(void 0!==r,3),(0,x.getForViewAndSize)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(v["default"].RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=(0,x.getWidth)(t)/n[0],r=(0,x.getHeight)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(v["default"].ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=(0,y.linearFindNearest)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},o=i.size;o||(o=this.getSizeFromViewport_()),(0,_.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,_.assert)(!(0,x.isEmpty)(t),25),n=(0,T.fromExtent)(t)):t.getType()===C["default"].CIRCLE?(t=t.getExtent(),(n=(0,T.fromExtent)(t)).rotate(this.getRotation(),(0,x.getCenter)(t))):n=t;var a,s=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),p=Math.sin(-h),m=1/0,g=1/0,v=-1/0,y=-1/0,b=n.getStride(),E=0,w=c.length;E<w;E+=b){var S=c[E]*f-c[E+1]*p,M=c[E]*p+c[E+1]*f;m=Math.min(m,S),g=Math.min(g,M),v=Math.max(v,S),y=Math.max(y,M)}var j=this.getResolutionForExtent([m,g,v,y],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);if(j=isNaN(j)?a:Math.max(j,a),l){var O=this.constrainResolution(j,0,0);!u&&O<j&&(O=this.constrainResolution(O,-1,0)),j=O}p=-p;var A=(m+v)/2,R=(g+y)/2,P=[(A+=(s[1]-s[3])/2*j)*f-(R+=(s[0]-s[2])/2*j)*p,R*f+A*p],I=i.callback?i.callback:d.VOID;void 0!==i.duration?this.animate({resolution:j,center:P,duration:i.duration,easing:i.easing},I):(this.setResolution(j),this.setCenter(P),r(I,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),a=t[0]*r-t[1]*o,s=t[1]*r+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*r-(s+=(n[1]-e[1]/2)*l)*(o=-o),c=s*r+a*o;this.setCenter([u,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(v["default"].CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(v["default"].RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(v["default"].ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(f["default"]),R=A;n["default"]=R},{"./tilegrid/common.js":"vSap","./util.js":"YOqM","./functions.js":"guaG","./centerconstraint.js":"TV2A","./Object.js":"n4ep","./resolutionconstraint.js":"JSwy","./rotationconstraint.js":"uu9I","./ViewHint.js":"QAjQ","./ViewProperty.js":"tZ3Y","./array.js":"Z5sL","./asserts.js":"E2kQ","./coordinate.js":"HxRU","./easing.js":"gfrO","./extent.js":"IwSU","./geom/GeometryType.js":"naLT","./geom/Polygon.js":"K0BN","./math.js":"RK1r","./obj.js":"qC1c","./proj.js":"aoEo","./proj/Units.js":"RNSs"}],vbcD:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../Collection.js")),a=i(t("../CollectionEventType.js")),s=t("../Object.js"),l=i(t("../ObjectEventType.js")),u=t("../asserts.js"),c=t("../events.js"),d=i(t("../events/EventType.js")),h=t("../extent.js"),f=i(t("./Base.js")),p=t("../obj.js"),m=i(t("../source/State.js")),g={LAYERS:"layers"},v=function(t){function e(e){var n=e||{},i=(0,p.assign)({},n);delete i.layers;var r=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},(0,c.listen)(this,(0,s.getChangeEventType)(g.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new o["default"](r.slice(),{unique:!0}):(0,u.assert)("function"==typeof r.getArray,43):r=new o["default"]((void 0),{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,c.listen)(t,a["default"].ADD,this.handleLayersAdd_,this),(0,c.listen)(t,a["default"].REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(c.unlistenByKey);(0,p.clear)(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var s=n[i];this.listenerKeys_[(0,r.getUid)(s)]=[(0,c.listen)(s,l["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,c.listen)(s,d["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,r.getUid)(e)]=[(0,c.listen)(e,l["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,c.listen)(e,d["default"].CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,r.getUid)(e);this.listenerKeys_[n].forEach(c.unlistenByKey),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(g.LAYERS)},e.prototype.setLayers=function(t){this.set(g.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var a=e[r];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==a.extent?a.extent=(0,h.getIntersection)(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return m["default"].READY},e}(f["default"]),y=v;n["default"]=y},{"../util.js":"YOqM","../Collection.js":"qt30","../CollectionEventType.js":"ucwT","../Object.js":"n4ep","../ObjectEventType.js":"baqo","../asserts.js":"E2kQ","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","./Base.js":"N2s1","../obj.js":"qC1c","../source/State.js":"PNQw"}],yPgw:[function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function r(t){return t[0]>0&&t[1]>0}function o(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function a(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.buffer=i,n.hasArea=r,n.scale=o,n.toSize=a},{}],UGGs:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new R["default"]({layers:t.layers});return o[g["default"].LAYERGROUP]=a,o[g["default"].TARGET]=t.target,o[g["default"].VIEW]=void 0!==t.view?t.view:new E["default"],void 0!==t.controls&&(Array.isArray(t.controls)?n=new u["default"](t.controls.slice()):((0,C.assert)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new u["default"](t.interactions.slice()):((0,C.assert)("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new u["default"](t.overlays.slice()):((0,C.assert)("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new u["default"],{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}function s(t){for(var e=0,n=t.length;e<n;++e){var i=t[e];if("function"==typeof i.getLayers)return s(i.getLayers().getArray());var r=i.getSource();if(r&&r.loading)return!0}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var l=t("./util.js"),u=o(t("./Collection.js")),c=o(t("./CollectionEventType.js")),d=o(t("./MapBrowserEvent.js")),h=o(t("./MapBrowserEventHandler.js")),f=o(t("./MapBrowserEventType.js")),p=o(t("./MapEvent.js")),m=o(t("./MapEventType.js")),g=o(t("./MapProperty.js")),v=o(t("./render/EventType.js")),y=r(t("./Object.js")),_=o(t("./ObjectEventType.js")),b=o(t("./TileQueue.js")),E=o(t("./View.js")),x=o(t("./ViewHint.js")),C=t("./asserts.js"),T=t("./dom.js"),w=t("./events.js"),S=t("./events/Event.js"),M=o(t("./events/EventType.js")),j=t("./extent.js"),O=t("./functions.js"),A=t("./has.js"),R=o(t("./layer/Group.js")),P=t("./size.js"),I=t("./structs/PriorityQueue.js"),L=t("./transform.js"),k=function(t){function e(e){t.call(this);var n=a(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:A.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,L.create)(),this.pixelToCoordinateTransform_=(0,L.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(A.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[M["default"].CLICK,M["default"].DBLCLICK,M["default"].MOUSEDOWN,M["default"].TOUCHSTART,M["default"].MSPOINTERDOWN,f["default"].POINTERDOWN,M["default"].MOUSEWHEEL,M["default"].WHEEL],r=0,o=i.length;r<o;++r)(0,w.listen)(this.overlayContainerStopEvent_,i[r],S.stopPropagation);for(var s in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new h["default"](this,e.moveTolerance),f["default"])(0,w.listen)(this.mapBrowserEventHandler_,f["default"][s],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,(0,w.listen)(this.viewport_,M["default"].CONTEXTMENU,this.handleBrowserEvent,this),(0,w.listen)(this.viewport_,M["default"].WHEEL,this.handleBrowserEvent,this),(0,w.listen)(this.viewport_,M["default"].MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new u["default"],this.interactions=n.interactions||new u["default"],this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new b["default"](this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].LAYERGROUP),this.handleLayerGroupChanged_,this),(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].VIEW),this.handleViewChanged_,this),(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].SIZE),this.handleSizeChanged_,this),(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),(0,w.listen)(this.controls,c["default"].ADD,function(t){t.element.setMap(this)},this),(0,w.listen)(this.controls,c["default"].REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),(0,w.listen)(this.interactions,c["default"].ADD,function(t){t.element.setMap(this)},this),(0,w.listen)(this.interactions,c["default"].REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,w.listen)(this.overlays_,c["default"].ADD,function(t){this.addOverlayInternal_(t.element)},this),(0,w.listen)(this.overlays_,c["default"].REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,w.unlisten)(this.viewport_,M["default"].CONTEXTMENU,this.handleBrowserEvent,this),(0,w.unlisten)(this.viewport_,M["default"].WHEEL,this.handleBrowserEvent,this),(0,w.unlisten)(this.viewport_,M["default"].MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(M["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:O.TRUE;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||O.TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:O.TRUE,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(g["default"].TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?(0,L.apply)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(g["default"].LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?(0,L.apply)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(g["default"].SIZE)},e.prototype.getView=function(){return this.get(g["default"].VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return I.DROP;if(!r.wantedTiles[e][t.getKey()])return I.DROP;var o=n[0]-r.focus[0],a=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+a*a)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new d["default"](n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive()&&!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[x["default"].ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[x["default"].INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(v["default"].RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||s(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(v["default"].RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,l=o.length;a<l;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)(0,w.unlistenByKey)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,w.listen)(i,M["default"].KEYDOWN,this.handleBrowserEvent,this),(0,w.listen)(i,M["default"].KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(M["default"].RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,T.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(M["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,w.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,w.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,l.getUid)(t)),this.viewPropertyListenerKey_=(0,w.listen)(t,_["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.listen)(t,M["default"].CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,w.listen)(t,_["default"].PROPERTYCHANGE,this.render,this),(0,w.listen)(t,M["default"].CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),r=(0,j.createEmpty)(),o=this.frameState_,a=null;if(void 0!==n&&(0,P.hasArea)(n)&&i&&i.isDef()){for(var s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),c={},d=0,h=u.length;d<h;++d)c[(0,l.getUid)(u[d].layer)]=u[d];e=i.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:s,wantedTiles:{}}}a&&(a.extent=(0,j.getForViewAndSize)(e.center,e.resolution,e.rotation,a.size,r)),this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),o&&(!this.previousExtent_||!(0,j.isEmpty)(this.previousExtent_)&&!(0,j.equals)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new p["default"](m["default"].MOVESTART,this,o)),this.previousExtent_=(0,j.createOrUpdateEmpty)(this.previousExtent_)),this.previousExtent_&&!a.viewHints[x["default"].ANIMATING]&&!a.viewHints[x["default"].INTERACTING]&&!(0,j.equals)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new p["default"](m["default"].MOVEEND,this,a)),(0,j.clone)(a.extent,this.previousExtent_))),this.dispatchEvent(new p["default"](m["default"].POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(g["default"].LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(g["default"].SIZE,t)},e.prototype.setTarget=function(t){this.set(g["default"].TARGET,t)},e.prototype.setView=function(t){this.set(g["default"].VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,l.getUid)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,l.getUid)(t)],this.render()},e}(y["default"]),D=k;n["default"]=D},{"./util.js":"YOqM","./Collection.js":"qt30","./CollectionEventType.js":"ucwT","./MapBrowserEvent.js":"wJox","./MapBrowserEventHandler.js":"pivB","./MapBrowserEventType.js":"WqlW","./MapEvent.js":"NpCs","./MapEventType.js":"oXLu","./MapProperty.js":"wZCA","./render/EventType.js":"tder","./Object.js":"n4ep","./ObjectEventType.js":"baqo","./TileQueue.js":"BMBd","./View.js":"dWZ4","./ViewHint.js":"QAjQ","./asserts.js":"E2kQ","./dom.js":"fRxd","./events.js":"Bvf5","./events/Event.js":"h36w","./events/EventType.js":"eKq7","./extent.js":"IwSU","./functions.js":"guaG","./has.js":"lDpN","./layer/Group.js":"vbcD","./size.js":"yPgw","./structs/PriorityQueue.js":"xnA2","./transform.js":"glB6"}],zNSN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(a.CLASS_HIDDEN);r||0!==n?r&&0!==n&&this.element.classList.remove(a.CLASS_HIDDEN):this.element.classList.add(a.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=i(t("./Control.js")),a=t("../css.js"),s=t("../easing.js"),l=t("../events.js"),u=i(t("../events/EventType.js")),c=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",o=void 0!==n.label?n.label:"";this.label_=null,"string"==typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",
this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var s=n.tipLabel?n.tipLabel:"Reset rotation",c=document.createElement("button");c.className=i+"-reset",c.setAttribute("type","button"),c.title=s,c.appendChild(this.label_),(0,l.listen)(c,u["default"].CLICK,this.handleClick_,this);var d=i+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,h=this.element;h.className=d,h.appendChild(c),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(a.CLASS_HIDDEN)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:s.easeOut}):t.setRotation(0))},e}(o["default"]),d=c;n["default"]=d},{"./Control.js":"OZyS","../css.js":"K4Xi","../easing.js":"gfrO","../events.js":"Bvf5","../events/EventType.js":"eKq7"}],JAQ2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../events.js"),o=i(t("../events/EventType.js")),a=i(t("./Control.js")),s=t("../css.js"),l=t("../easing.js"),u=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",a=void 0!==n.delta?n.delta:1,l=void 0!==n.zoomInLabel?n.zoomInLabel:"+",u=void 0!==n.zoomOutLabel?n.zoomOutLabel:"",c=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",d=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i+"-in",h.setAttribute("type","button"),h.title=c,h.appendChild("string"==typeof l?document.createTextNode(l):l),(0,r.listen)(h,o["default"].CLICK,this.handleClick_.bind(this,a));var f=document.createElement("button");f.className=i+"-out",f.setAttribute("type","button"),f.title=d,f.appendChild("string"==typeof u?document.createTextNode(u):u),(0,r.listen)(f,o["default"].CLICK,this.handleClick_.bind(this,-a));var p=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL,m=this.element;m.className=p,m.appendChild(h),m.appendChild(f),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:l.easeOut})):e.setResolution(i)}}},e}(a["default"]),c=u;n["default"]=c},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","./Control.js":"OZyS","../css.js":"K4Xi","../easing.js":"gfrO"}],Nqss:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t||{},n=new o["default"];return(void 0===e.zoom||e.zoom)&&n.push(new l["default"](e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new s["default"](e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new a["default"](e.attributionOptions)),n}Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=r;var o=i(t("../Collection.js")),a=i(t("./Attribution.js")),s=i(t("./Rotate.js")),l=i(t("./Zoom.js"))},{"../Collection.js":"qt30","./Attribution.js":"KuDp","./Rotate.js":"zNSN","./Zoom.js":"JAQ2"}],Wo60:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};i.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},i.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},i.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},i.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},i.prototype.getAngle=function(){return this.angle_};var r=i;n["default"]=r},{}],YG6A:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ACTIVE:"active"};n["default"]=i},{}],GnOM:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:d.linear,center:r}):t.setCenter(r)}}function o(t,e,n,i){e=t.constrainRotation(e,0),a(t,e,n,i)}function a(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:d.easeOut}):t.rotate(e,n)}}function s(t,e,n,i,r){e=t.constrainResolution(e,0,r),u(t,e,n,i)}function l(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var a=t.getResolutions();o=(0,f.clamp)(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==r){var s=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*s[0]-r*l[0])/(o-r),(o*s[1]-r*l[1])/(o-r)]}u(t,o,n,i)}function u(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:d.easeOut});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.pan=r,n.rotate=o,n.rotateWithoutConstraints=a,n.zoom=s,n.zoomByDelta=l,n.zoomWithoutConstraints=u,n["default"]=void 0;var c=i(t("../Object.js")),d=t("../easing.js"),h=i(t("./Property.js")),f=t("../math.js"),p=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(h["default"].ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(h["default"].ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(c["default"]),m=p;n["default"]=m},{"../Object.js":"n4ep","../easing.js":"gfrO","./Property.js":"YG6A","../math.js":"RK1r"}],AN3r:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=!1;if(t.type==s["default"].DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=i.getView();(0,l.zoomByDelta)(a,o,r,this.duration_),t.preventDefault(),e=!0}return!e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=o(t("../MapBrowserEventType.js")),l=r(t("./Interaction.js")),u=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),c=u;n["default"]=c},{"../MapBrowserEventType.js":"WqlW","./Interaction.js":"GnOM"}],YmKF:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.primaryAction=n.mouseOnly=n.targetNotEditable=n.shiftKeyOnly=n.platformModifierKeyOnly=n.noModifierKeys=n.doubleClick=n.singleClick=n.pointerMove=n.never=n.mouseActionButton=n.click=n.always=n.focus=n.altShiftKeysOnly=n.altKeyOnly=void 0;var r=i(t("../MapBrowserEventType.js")),o=t("../asserts.js"),a=t("../functions.js"),s=t("../has.js"),l=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};n.altKeyOnly=l;var u=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey};n.altShiftKeysOnly=u;var c=function(t){return t.target.getTargetElement()===document.activeElement};n.focus=c;var d=a.TRUE;n.always=d;var h=function(t){return t.type==r["default"].CLICK};n.click=h;var f=function(t){var e=t.originalEvent;return 0==e.button&&!(s.WEBKIT&&s.MAC&&e.ctrlKey)};n.mouseActionButton=f;var p=a.FALSE;n.never=p;var m=function(t){return"pointermove"==t.type};n.pointerMove=m;var g=function(t){return t.type==r["default"].SINGLECLICK};n.singleClick=g;var v=function(t){return t.type==r["default"].DBLCLICK};n.doubleClick=v;var y=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};n.noModifierKeys=y;var _=function(t){var e=t.originalEvent;return!e.altKey&&(s.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey};n.platformModifierKeyOnly=_;var b=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey};n.shiftKeyOnly=b;var E=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e};n.targetNotEditable=E;var x=function(t){var e=t.pointerEvent;return(0,o.assert)(void 0!==e,56),"mouse"==e.pointerType};n.mouseOnly=x;var C=function(t){var e=t.pointerEvent;return(0,o.assert)(void 0!==e,56),e.isPrimary&&0===e.button};n.primaryAction=C},{"../MapBrowserEventType.js":"WqlW","../asserts.js":"E2kQ","../functions.js":"guaG","../has.js":"lDpN"}],kY2W:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}function o(t){var e=t.type;return e===a["default"].POINTERDOWN||e===a["default"].POINTERDRAG||e===a["default"].POINTERUP}Object.defineProperty(n,"__esModule",{value:!0}),n.centroid=r,n["default"]=void 0;var a=i(t("../MapBrowserEventType.js")),s=i(t("./Interaction.js")),l=t("../obj.js"),u=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==a["default"].POINTERDRAG)this.handleDragEvent(t);else if(t.type==a["default"].POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==a["default"].POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==a["default"].POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(o(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==a["default"].POINTERUP?delete this.trackedPointers_[n]:t.type==a["default"].POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=(0,l.getValues)(this.trackedPointers_)}},e}(s["default"]),c=u;n["default"]=c},{"../MapBrowserEventType.js":"WqlW","./Interaction.js":"GnOM","../obj.js":"qC1c"}],mTmZ:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("../ViewHint.js")),s=t("../coordinate.js"),l=t("../easing.js"),u=t("../events/condition.js"),c=t("../functions.js"),d=r(t("./Pointer.js")),h=function(t){function e(e){t.call(this,{stopDown:c.FALSE});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:u.noModifierKeys,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(a["default"].INTERACTING,1));var e=this.targetPointers,n=(0,d.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),l=[i,r];(0,s.scale)(l,o.getResolution()),(0,s.rotate)(l,o.getRotation()),(0,s.add)(l,o.getCenter()),l=o.constrainCenter(l),o.setCenter(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),u=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(u),duration:500,easing:l.easeOut})}return this.panning_&&(this.panning_=!1,n.setHint(a["default"].INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(d["default"]),f=h;n["default"]=f},{"../ViewHint.js":"QAjQ","../coordinate.js":"HxRU","../easing.js":"gfrO","../events/condition.js":"YmKF","../functions.js":"guaG","./Pointer.js":"kY2W"}],oG42:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../rotationconstraint.js"),o=i(t("../ViewHint.js")),a=t("../events/condition.js"),s=t("../functions.js"),l=t("./Interaction.js"),u=i(t("./Pointer.js")),c=function(t){function e(e){var n=e||{};t.call(this,{stopDown:s.FALSE}),this.condition_=n.condition?n.condition:a.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if((0,a.mouseOnly)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==r.disable){var i=e.getSize(),o=t.pixel,s=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var u=s-this.lastAngle_,c=n.getRotation();(0,l.rotateWithoutConstraints)(n,c-u)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){if(!(0,a.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(o["default"].INTERACTING,-1);var n=e.getRotation();return(0,l.rotate)(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!(!(0,a.mouseOnly)(t)||!(0,a.mouseActionButton)(t)||!this.condition_(t)||(t.map.getView().setHint(o["default"].INTERACTING,1),this.lastAngle_=void 0,0))},e}(u["default"]),d=c;n["default"]=d},{"../rotationconstraint.js":"uu9I","../ViewHint.js":"QAjQ","../events/condition.js":"YmKF","../functions.js":"guaG","./Interaction.js":"GnOM","./Pointer.js":"kY2W"}],Ef4v:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../Disposable.js")),o=i(t("../geom/Polygon.js")),a=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new o["default"]([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(r["default"]),s=a;n["default"]=s},{"../Disposable.js":"Kusu","../geom/Polygon.js":"K0BN"}],OjiZ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../events/Event.js")),o=t("../events/condition.js"),a=t("../functions.js"),s=i(t("./Pointer.js")),l=i(t("../render/Box.js")),u={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},c=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),d=function(t){function e(e){t.call(this);var n=e||{};this.box_=new l["default"](n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:a.VOID,this.startPixel_=null,this.condition_=n.condition?n.condition:o.always,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){(0,o.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new c(u.BOXDRAG,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!(0,o.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new c(u.BOXEND,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!(0,o.mouseOnly)(t)||!(0,o.mouseActionButton)(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c(u.BOXSTART,t.coordinate,t)),0))},e}(s["default"]),h=d;n["default"]=h},{"../events/Event.js":"h36w","../events/condition.js":"YmKF","../functions.js":"guaG","./Pointer.js":"kY2W","../render/Box.js":"Ef4v"}],bIDt:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),a=(0,s.createOrUpdateFromCoordinates)([t.getPixelFromCoordinate((0,s.getBottomLeft)(i)),t.getPixelFromCoordinate((0,s.getTopRight)(i))]),l=e.getResolutionForExtent(a,n);(0,s.scaleFromCenter)(r,1/l),i=r}var u=e.constrainResolution(e.getResolutionForExtent(i,n)),c=(0,s.getCenter)(i);c=e.constrainCenter(c),e.animate({resolution:u,center:c,duration:this.duration_,easing:o.easeOut})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../easing.js"),a=t("../events/condition.js"),s=t("../extent.js"),l=i(t("./DragBox.js")),u=function(t){function e(e){var n=e||{},i=n.condition?n.condition:a.shiftKeyOnly;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:r}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),c=u;n["default"]=c},{"../easing.js":"gfrO","../events/condition.js":"YmKF","../extent.js":"IwSU","./DragBox.js":"OjiZ"}],ifpQ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={LEFT:37,UP:38,RIGHT:39,DOWN:40};n["default"]=i},{}],bqqf:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=!1;if(t.type==l["default"].KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==u["default"].DOWN||n==u["default"].LEFT||n==u["default"].RIGHT||n==u["default"].UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,a=0;n==u["default"].DOWN?a=-r:n==u["default"].LEFT?o=-r:n==u["default"].RIGHT?o=r:a=r;var c=[o,a];(0,s.rotate)(c,i.getRotation()),(0,d.pan)(i,c,this.duration_),t.preventDefault(),e=!0}}return!e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=t("../coordinate.js"),l=o(t("../events/EventType.js")),u=o(t("../events/KeyCode.js")),c=t("../events/condition.js"),d=r(t("./Interaction.js")),h=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.defaultCondition_=function(t){return(0,c.noModifierKeys)(t)&&(0,c.targetNotEditable)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(d["default"]),f=h;n["default"]=f},{"../coordinate.js":"HxRU","../events/EventType.js":"eKq7","../events/KeyCode.js":"ifpQ","../events/condition.js":"YmKF","./Interaction.js":"GnOM"}],ihTc:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=!1;if(t.type==s["default"].KEYDOWN||t.type==s["default"].KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=i.getView();(0,u.zoomByDelta)(o,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=o(t("../events/EventType.js")),l=t("../events/condition.js"),u=r(t("./Interaction.js")),c=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.condition_=n.condition?n.condition:l.targetNotEditable,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u["default"]),d=c;n["default"]=d},{"../events/EventType.js":"eKq7","../events/condition.js":"YmKF","./Interaction.js":"GnOM"}],Iq9y:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.Mode=void 0;var a=o(t("../ViewHint.js")),s=t("../events/condition.js"),l=t("../easing.js"),u=o(t("../events/EventType.js")),c=t("../has.js"),d=r(t("./Interaction.js")),h=t("../math.js"),f=1,p={TRACKPAD:"trackpad",WHEEL:"wheel"};n.Mode=p;var m=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:s.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(a["default"].INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==u["default"].WHEEL&&e!==u["default"].MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==u["default"].WHEEL?(n=r.deltaY,c.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=c.DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==u["default"].MOUSEWHEEL&&(n=-r.wheelDeltaY,c.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?p.TRACKPAD:p.WHEEL),this.mode_===p.TRACKPAD){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(a["default"].INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var d=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),h=s.getMinResolution(),f=s.getMaxResolution(),m=0;if(d<h?(d=Math.max(d,h/this.trackpadZoomBuffer_),m=1):d>f&&(d=Math.min(d,f*this.trackpadZoomBuffer_),m=-1),this.lastAnchor_){var g=s.calculateCenterZoom(d,this.lastAnchor_);s.setCenter(s.constrainCenter(g))}return s.setResolution(d),0===m&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(d,n>0?-1:1),easing:l.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),m>0?s.animate({resolution:h,easing:l.easeOut,anchor:this.lastAnchor_,duration:500}):m<0&&s.animate({resolution:f,easing:l.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var v=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),v),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=f,i=(0,h.clamp)(this.delta_,-n,n);(0,d.zoomByDelta)(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(d["default"]),g=m;n["default"]=g},{"../ViewHint.js":"QAjQ","../events/condition.js":"YmKF","../easing.js":"gfrO","../events/EventType.js":"eKq7","../has.js":"lDpN","./Interaction.js":"GnOM","../math.js":"RK1r"}],UuUo:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("../ViewHint.js")),s=t("../functions.js"),l=t("./Interaction.js"),u=r(t("./Pointer.js")),c=t("../rotationconstraint.js"),d=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=s.FALSE),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==c.disable){var d=a.getViewport().getBoundingClientRect(),h=(0,u.centroid)(this.targetPointers);if(h[0]-=d.left,h[1]-=d.top,this.anchor_=a.getCoordinateFromPixel(h),this.rotating_){var f=s.getRotation();a.render(),(0,l.rotateWithoutConstraints)(s,f+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(a["default"].INTERACTING,-1),this.rotating_){var n=e.getRotation();(0,l.rotate)(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(a["default"].INTERACTING,1),!0}return!1},e}(u["default"]),h=d;n["default"]=h},{"../ViewHint.js":"QAjQ","../functions.js":"guaG","./Interaction.js":"GnOM","./Pointer.js":"kY2W","../rotationconstraint.js":"uu9I"}],SeyD:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;
var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("../ViewHint.js")),s=t("../functions.js"),l=t("./Interaction.js"),u=r(t("./Pointer.js")),c=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=s.FALSE),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,c=s.getView(),d=c.getResolution(),h=c.getMaxResolution(),f=c.getMinResolution(),p=d*e;p>h?(e=h/d,p=h):p<f&&(e=f/d,p=f),1!=e&&(this.lastScaleDelta_=e);var m=s.getViewport().getBoundingClientRect(),g=(0,u.centroid)(this.targetPointers);g[0]-=m.left,g[1]-=m.top,this.anchor_=s.getCoordinateFromPixel(g),s.render(),(0,l.zoomWithoutConstraints)(c,p,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(a["default"].INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;(0,l.zoom)(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(a["default"].INTERACTING,1),!0}return!1},e}(u["default"]),d=c;n["default"]=d},{"../ViewHint.js":"QAjQ","../functions.js":"guaG","./Interaction.js":"GnOM","./Pointer.js":"kY2W"}],nOtN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=t.dataTransfer.files,n=0,i=e.length;n<i;++n){var r=e.item(n),o=new FileReader;o.addEventListener(u["default"].LOAD,this.handleResult_.bind(this,r)),o.readAsText(r)}}function o(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../functions.js"),s=t("../events.js"),l=i(t("../events/Event.js")),u=i(t("../events/EventType.js")),c=i(t("./Interaction.js")),d=t("../proj.js"),h={ADD_FEATURES:"addfeatures"},f=function(t){function e(e,n,i,r){t.call(this,e),this.features=i,this.file=n,this.projection=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),p=function(t){function e(e){var n=e||{};t.call(this,{handleEvent:a.TRUE}),this.formatConstructors_=n.formatConstructors?n.formatConstructors:[],this.projection_=n.projection?(0,d.get)(n.projection):null,this.dropListenKeys_=null,this.source_=n.source||null,this.target=n.target?n.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var n=e.target.result,i=this.getMap(),r=this.projection_;r||(r=i.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,l=o.length;s<l;++s){var u=new o[s];if((a=this.tryReadFeatures_(u,n,{featureProjection:r}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new f(h.ADD_FEATURES,t,a,r))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,s.listen)(e,u["default"].DROP,r,this),(0,s.listen)(e,u["default"].DRAGENTER,o,this),(0,s.listen)(e,u["default"].DRAGOVER,o,this),(0,s.listen)(e,u["default"].DROP,o,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,n){try{return t.readFeatures(e,n)}catch(i){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(s.unlistenByKey),this.dropListenKeys_=null)},e}(c["default"]),m=p;n["default"]=m},{"../functions.js":"guaG","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","./Interaction.js":"GnOM","../proj.js":"aoEo"}],gKPs:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../rotationconstraint.js"),o=i(t("../ViewHint.js")),a=t("../events/condition.js"),s=t("./Interaction.js"),l=i(t("./Pointer.js")),u=function(t){function e(e){var n=e||{};t.call(this,n),this.condition_=n.condition?n.condition:a.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==n.duration?n.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if((0,a.mouseOnly)(t)){var e=t.map,n=e.getSize(),i=t.pixel,o=i[0]-n[0]/2,l=n[1]/2-i[1],u=Math.atan2(l,o),c=Math.sqrt(o*o+l*l),d=e.getView();if(d.getConstraints().rotation!==r.disable&&void 0!==this.lastAngle_){var h=u-this.lastAngle_;(0,s.rotateWithoutConstraints)(d,d.getRotation()-h)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var f=this.lastMagnitude_*(d.getResolution()/c);(0,s.zoomWithoutConstraints)(d,f)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/c),this.lastMagnitude_=c}},e.prototype.handleUpEvent=function(t){if(!(0,a.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(o["default"].INTERACTING,-1);var n=this.lastScaleDelta_-1;return(0,s.rotate)(e,e.getRotation()),(0,s.zoom)(e,e.getResolution(),void 0,this.duration_,n),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!(0,a.mouseOnly)(t)&&!!this.condition_(t)&&(t.map.getView().setHint(o["default"].INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},e}(l["default"]),c=u;n["default"]=c},{"../rotationconstraint.js":"uu9I","../ViewHint.js":"QAjQ","../events/condition.js":"YmKF","./Interaction.js":"GnOM","./Pointer.js":"kY2W"}],YPtS:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,s.assert)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}Object.defineProperty(n,"__esModule",{value:!0}),n.createStyleFunction=a,n["default"]=void 0;var s=t("./asserts.js"),l=t("./events.js"),u=o(t("./events/EventType.js")),c=r(t("./Object.js")),d=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,l.listen)(this,(0,c.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,l.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,l.listen)(t,u["default"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?a(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){(0,l.unlisten)(this,(0,c.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,(0,l.listen)(this,(0,c.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(c["default"]),h=d;n["default"]=h},{"./asserts.js":"E2kQ","./events.js":"Bvf5","./events/EventType.js":"eKq7","./Object.js":"n4ep"}],rStz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../extent.js"),o=i(t("./GeometryType.js")),a=i(t("./SimpleGeometry.js")),s=t("./flat/deflate.js"),l=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),(void 0),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],a=e-r[1],s=o*o+a*a;if(s<i){if(0===s)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(s);n[0]=r[0]+u*o,n[1]=r[1]+u*a;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,s}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,r.createOrUpdate)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return o["default"].CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,r.intersects)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||t[1]<=n[1]&&t[3]>=n[1]||(0,r.forEachCorner)(t,this.intersectsCoordinate,this)}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=(0,s.deflateCoordinate)(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,a=this.stride;o<a;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(a["default"]);l.prototype.transform;var u=l;n["default"]=u},{"../extent.js":"IwSU","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/deflate.js":"Wjyi"}],o7G9:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){var l=NaN,u=NaN,c=(n-e)/i;if(1===c)l=t[e],u=t[e+1];else if(2==c)l=(1-r)*t[e]+r*t[e+i],u=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==c){for(var d=t[e],h=t[e+1],f=0,p=[0],m=e+i;m<n;m+=i){var g=t[m],v=t[m+1];f+=Math.sqrt((g-d)*(g-d)+(v-h)*(v-h)),p.push(f),d=g,h=v}var y=r*f,_=(0,a.binarySearch)(p,y);if(_<0){var b=(y-p[-_-2])/(p[-_-1]-p[-_-2]),E=e+(-_-2)*i;l=(0,s.lerp)(t[E],t[E+i],b),u=(0,s.lerp)(t[E+1],t[E+i+1],b)}else l=t[e+_*i],u=t[e+_*i+1]}return o?(o[0]=l,o[1]=u,o):[l,u]}function r(t,e,n,i,r,o){if(n==e)return null;var a;if(r<t[e+i-1])return o?((a=t.slice(e,e+i))[i-1]=r,a):null;if(t[n-1]<r)return o?((a=t.slice(n-i,n))[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var l=e/i,u=n/i;l<u;){var c=l+u>>1;r<t[(c+1)*i-1]?u=c:l=c+1}var d=t[l*i-1];if(r==d)return t.slice((l-1)*i,(l-1)*i+i);var h=(r-d)/(t[(l+1)*i-1]-d);a=[];for(var f=0;f<i-1;++f)a.push((0,s.lerp)(t[(l-1)*i+f],t[l*i+f],h));return a.push(r),a}function o(t,e,n,i,o,a,s){if(s)return r(t,e,n[n.length-1],i,o,a);var l;if(o<t[i-1])return a?((l=t.slice(0,i))[i-1]=o,l):null;if(t[t.length-1]<o)return a?((l=t.slice(t.length-i))[i-1]=o,l):null;for(var u=0,c=n.length;u<c;++u){var d=n[u];if(e!=d){if(o<t[e+i-1])return null;if(o<=t[d-1])return r(t,e,d,i,o,!1);e=d}}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.interpolatePoint=i,n.lineStringCoordinateAtM=r,n.lineStringsCoordinateAtM=o;var a=t("../../array.js"),s=t("../../math.js")},{"../../array.js":"Z5sL","../../math.js":"RK1r"}],ofva:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e],o=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],u=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return a}function r(t,e,n,r){var o=i(t,e,n,r),a=t[n-r]-t[e],s=t[n-r+1]-t[e+1];return o+=Math.sqrt(a*a+s*s)}Object.defineProperty(n,"__esModule",{value:!0}),n.lineStringLength=i,n.linearRingLength=r},{}],x8R2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryLayout.js")),s=i(t("./GeometryType.js")),l=i(t("./SimpleGeometry.js")),u=t("./flat/closest.js"),c=t("./flat/deflate.js"),d=t("./flat/inflate.js"),h=t("./flat/interpolate.js"),f=t("./flat/intersectsextent.js"),p=t("./flat/length.js"),m=t("./flat/segments.js"),g=t("./flat/simplify.js"),v=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return(0,m.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=a["default"].XYM&&this.layout!=a["default"].XYZM)return null;var n=void 0!==e&&e;return(0,h.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return(0,d.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return(0,h.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return(0,p.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,g.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,a["default"].XY)},e.prototype.getType=function(){return s["default"].LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(l["default"]),y=v;n["default"]=y},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/closest.js":"U50t","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interpolate.js":"o7G9","./flat/intersectsextent.js":"RGtZ","./flat/length.js":"ofva","./flat/segments.js":"bS2z","./flat/simplify.js":"y5ZM"}],BRR0:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryLayout.js")),s=i(t("./GeometryType.js")),l=i(t("./LineString.js")),u=i(t("./SimpleGeometry.js")),c=t("./flat/closest.js"),d=t("./flat/deflate.js"),h=t("./flat/inflate.js"),f=t("./flat/interpolate.js"),p=t("./flat/intersectsextent.js"),m=t("./flat/simplify.js"),g=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var o=this.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(o=d.getLayout()),(0,r.extend)(s,d.getFlatCoordinates()),l.push(s.length)}this.setFlatCoordinates(o,s),this.ends_=l}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,c.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,c.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=a["default"].XYM&&this.layout!=a["default"].XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return(0,f.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return(0,h.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new l["default"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,a=e.length;o<a;++o){var s=e[o],u=new l["default"](t.slice(r,s),n);i.push(u),r=s}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,a=0,s=i.length;a<s;++a){var l=i[a],u=(0,f.interpolatePoint)(e,n,l,o,.5);(0,r.extend)(t,u),n=l}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=(0,m.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,a["default"].XY,i)},e.prototype.getType=function(){return s["default"].MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u["default"]),v=g;n["default"]=v},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./LineString.js":"x8R2","./SimpleGeometry.js":"F2mr","./flat/closest.js":"U50t","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interpolate.js":"o7G9","./flat/intersectsextent.js":"RGtZ","./flat/simplify.js":"y5ZM"}],D9kr:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryType.js")),s=i(t("./Point.js")),l=i(t("./SimpleGeometry.js")),u=t("./flat/deflate.js"),c=t("./flat/inflate.js"),d=t("../math.js"),h=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,a=this.stride,s=0,l=r.length;s<l;s+=a){var u=(0,d.squaredDistance)(t,e,r[s],r[s+1]);if(u<i){i=u;for(var c=0;c<a;++c)n[c]=r[s+c];n.length=a}}return i},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new s["default"](this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var a=new s["default"](t.slice(r,r+n),e);i.push(a)}return i},e.prototype.getType=function(){return a["default"].MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){var a=e[i],s=e[i+1];if((0,o.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(l["default"]),f=h;n["default"]=f},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryType.js":"naLT","./Point.js":"FFTU","./SimpleGeometry.js":"F2mr","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","../math.js":"RK1r"}],klHJ:[function(t,e,n){"use strict";function i(t,e,n,i){for(var o=[],a=(0,r.createEmpty)(),s=0,l=n.length;s<l;++s){var u=n[s];a=(0,r.createOrUpdateFromFlatCoordinates)(t,e,u[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=u[u.length-1]}return o}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRingss=i;var r=t("../../extent.js")},{"../../extent.js":"IwSU"}],ppKG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryLayout.js")),s=i(t("./GeometryType.js")),l=i(t("./MultiPoint.js")),u=i(t("./Polygon.js")),c=i(t("./SimpleGeometry.js")),d=t("./flat/area.js"),h=t("./flat/center.js"),f=t("./flat/closest.js"),p=t("./flat/contains.js"),m=t("./flat/deflate.js"),g=t("./flat/inflate.js"),v=t("./flat/interiorpoint.js"),y=t("./flat/intersectsextent.js"),_=t("./flat/orient.js"),b=t("./flat/simplify.js"),E=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var o=this.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(o=d.getLayout());for(var h=s.length,f=d.getEnds(),p=0,m=f.length;p<m;++p)f[p]+=h;(0,r.extend)(s,d.getFlatCoordinates()),l.push(f)}n=o,e=s,i=l}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,o=(e=t.getEnds().slice()).length;i<o;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,f.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,f.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return(0,p.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return(0,d.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,v.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new l["default"](this.getFlatInteriorPoints().slice(),a["default"].XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=(0,b.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,a["default"].XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,a=i.length;o<a;++o)i[o]-=e;return new u["default"](this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),l=s[s.length-1];if(0!==r)for(var c=0,d=s.length;c<d;++c)s[c]-=r;var h=new u["default"](e.slice(r,l),t,s);i.push(h),r=l}return i},e.prototype.getType=function(){return s["default"].MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return(0,y.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,m.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(c["default"]),x=E;n["default"]=x},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./MultiPoint.js":"D9kr","./Polygon.js":"K0BN","./SimpleGeometry.js":"F2mr","./flat/area.js":"w7L4","./flat/center.js":"klHJ","./flat/closest.js":"U50t","./flat/contains.js":"npHd","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interiorpoint.js":"QVo3","./flat/intersectsextent.js":"RGtZ","./flat/orient.js":"SKGF","./flat/simplify.js":"y5ZM"}],GkHV:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};n["default"]=i},{}],QlH5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IMAGE:"image",VECTOR:"vector"};n["default"]=i},{}],tree:[function(t,e,n){"use strict";function i(t){return"string"==typeof t?t:l(t)}function r(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}function o(t){return Array.isArray(t)?t:f(t)}function a(t){var e,n,i,o,a;if(h.exec(t)&&(t=r(t)),d.exec(t)){var l,c=t.length-1;l=c<=4?1:2;var f=4===c||8===c;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),i=parseInt(t.substr(1+2*l,l),16),o=f?parseInt(t.substr(1+3*l,l),16):255,1==l&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,f&&(o=(o<<4)+o)),a=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?s(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),s(a)):(0,u.assert)(!1,14);return a}function s(t){return t[0]=(0,c.clamp)(t[0]+.5|0,0,255),t[1]=(0,c.clamp)(t[1]+.5|0,0,255),t[2]=(0,c.clamp)(t[2]+.5|0,0,255),t[3]=(0,c.clamp)(t[3],0,1),t}function l(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}Object.defineProperty(n,"__esModule",{value:!0}),n.asString=i,n.asArray=o,n.normalize=s,n.toString=l,n.fromString=void 0;var u=t("./asserts.js"),c=t("./math.js"),d=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,h=/^([a-z]*)$/i,f=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0==(3&r++)&&(delete t[o],--e)}i=a(n),t[n]=i,++e}return i}}();n.fromString=f},{"./asserts.js":"E2kQ","./math.js":"RK1r"}],GezW:[function(t,e,n){"use strict";function i(t){return Array.isArray(t)?(0,r.toString)(t):t}Object.defineProperty(n,"__esModule",{
value:!0}),n.asColorLike=i;var r=t("./color.js")},{"./color.js":"tree"}],iN8L:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IDLE:0,LOADING:1,LOADED:2,ERROR:3};n["default"]=i},{}],jGvh:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../asserts.js"),o=i(t("../events/Target.js")),a=i(t("../events/EventType.js")),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a["default"].CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return(0,r.assert)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return(0,r.assert)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){(0,r.assert)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(o["default"]),l=s;n["default"]=l},{"../asserts.js":"E2kQ","../events/Target.js":"mcdO","../events/EventType.js":"eKq7"}],OT1O:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){return M||(M=(0,u.createCanvasContext2D)(1,1)),M}function o(t,e){var n=r();return t!=n.font&&(n.font=t),n.measureText(e).width}function a(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}function s(t,e,n,i,r,o,a,s,l,u,c){var d;1!=n&&(d=t.globalAlpha,t.globalAlpha=d*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,a,s,l,u,a*c,s*c),d&&(t.globalAlpha=d),e&&t.setTransform.apply(t,R)}Object.defineProperty(n,"__esModule",{value:!0}),n.measureTextWidth=o,n.rotateAtOffset=a,n.drawImage=s,n.resetTransform=n.measureTextHeight=n.checkFont=n.textHeights=n.checkedFonts=n.labelCache=n.defaultLineWidth=n.defaultPadding=n.defaultTextBaseline=n.defaultTextAlign=n.defaultStrokeStyle=n.defaultMiterLimit=n.defaultLineJoin=n.defaultLineDashOffset=n.defaultLineDash=n.defaultLineCap=n.defaultFillStyle=n.defaultFont=void 0;var l=t("../css.js"),u=t("../dom.js"),c=t("../obj.js"),d=i(t("../structs/LRUCache.js")),h=t("../transform.js"),f="10px sans-serif";n.defaultFont=f;var p=[0,0,0,1];n.defaultFillStyle=p;var m="round";n.defaultLineCap=m;var g=[];n.defaultLineDash=g;var v=0;n.defaultLineDashOffset=v;var y="round";n.defaultLineJoin=y;var _=10;n.defaultMiterLimit=_;var b=[0,0,0,1];n.defaultStrokeStyle=b;var E="center";n.defaultTextAlign=E;var x="middle";n.defaultTextBaseline=x;var C=[0,0,0,0];n.defaultPadding=C;var T=1;n.defaultLineWidth=T;var w=new d["default"];n.labelCache=w;var S={};n.checkedFonts=S;var M=null,j={};n.textHeights=j;var O=function(){function t(t){for(var e=r(),n=100;n<=700;n+=300){for(var o=n+" ",a=!0,l=0;l<d;++l){var c=u[l];if(e.font=o+s+c,i=e.measureText(h).width,t!=c){e.font=o+s+t+","+c;var f=e.measureText(h).width;a=a&&f!=i}}if(a)return!0}return!1}function e(){var e=!0;for(var i in a)a[i]<o&&(t(i)?(a[i]=o,(0,c.clear)(j),M=null,w.clear()):(++a[i],e=!1));e&&(clearInterval(n),n=void 0)}var n,i,o=60,a=S,s="32px ",u=["monospace","serif"],d=u.length,h="wmytzilWMYTZIL@#/&?$%10";return function(i){var r=(0,l.getFontFamilies)(i);if(r)for(var s=0,u=r.length;s<u;++s){var c=r[s];c in a||(a[c]=o,t(c)||(a[c]=0,void 0===n&&(n=setInterval(e,32))))}}}();n.checkFont=O;var A=function(){var t,e=j;return function(n){var i=e[n];return null==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=e[n]=t.offsetHeight,document.body.removeChild(t)),i}}();n.measureTextHeight=A;var R=(0,h.create)();n.resetTransform=R},{"../css.js":"K4Xi","../dom.js":"fRxd","../obj.js":"qC1c","../structs/LRUCache.js":"jGvh","../transform.js":"glB6"}],YLA1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};r.prototype.clone=function(){return new r({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getSnapToPixel=function(){return!1},r.prototype.getAnchor=function(){return(0,i["abstract"])()},r.prototype.getImage=function(t){return(0,i["abstract"])()},r.prototype.getHitDetectionImage=function(t){return(0,i["abstract"])()},r.prototype.getImageState=function(){return(0,i["abstract"])()},r.prototype.getImageSize=function(){return(0,i["abstract"])()},r.prototype.getHitDetectionImageSize=function(){return(0,i["abstract"])()},r.prototype.getOrigin=function(){return(0,i["abstract"])()},r.prototype.getSize=function(){return(0,i["abstract"])()},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t},r.prototype.setSnapToPixel=function(t){},r.prototype.listenImageChange=function(t,e){return(0,i["abstract"])()},r.prototype.load=function(){(0,i["abstract"])()},r.prototype.unlistenImageChange=function(t,e){(0,i["abstract"])()};var o=r;n["default"]=o},{"../util.js":"YOqM"}],LxrW:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../color.js"),o=t("../colorlike.js"),a=t("../dom.js"),s=t("../has.js"),l=i(t("../ImageState.js")),u=t("../render/canvas.js"),c=i(t("./Image.js")),d=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return l["default"].LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",l=0,c=null,d=0,h=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=u.defaultStrokeStyle),n=(0,o.asColorLike)(n),void 0===(h=this.stroke_.getWidth())&&(h=u.defaultLineWidth),c=this.stroke_.getLineDash(),d=this.stroke_.getLineDashOffset(),s.CANVAS_LINE_DASH||(c=null,d=0),void 0===(r=this.stroke_.getLineJoin())&&(r=u.defaultLineJoin),void 0===(i=this.stroke_.getLineCap())&&(i=u.defaultLineCap),void 0===(l=this.stroke_.getMiterLimit())&&(l=u.defaultMiterLimit));var f=2*(this.radius_+h)+1,p={strokeStyle:n,strokeWidth:h,size:f,lineCap:i,lineDash:c,lineDashOffset:d,lineJoin:r,miterLimit:l};if(void 0===t){var m=(0,a.createCanvasContext2D)(f,f);this.canvas_=m.canvas,e=f=this.canvas_.width,this.draw_(p,m,0,0),this.createHitDetectionCanvas_(p)}else{f=Math.round(f);var g,v=!this.fill_;v&&(g=this.drawHitDetectionCanvas_.bind(this,p));var y=this.getChecksum(),_=t.add(y,f,f,this.draw_.bind(this,p),g);this.canvas_=_.image,this.origin_=[_.offsetX,_.offsetY],e=_.image.width,v?(this.hitDetectionCanvas_=_.hitImage,this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[f/2,f/2],this.size_=[f,f],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,a,s;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(l*=2),r=0;r<=l;r++)a=2*r*Math.PI/l-Math.PI/2+this.angle_,s=r%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var d=this.fill_.getColor();null===d&&(d=u.defaultFillStyle),e.fillStyle=(0,o.asColorLike)(d),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=(0,a.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var a,s,l,c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(o*=2),a=0;a<=o;a++)l=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle=(0,r.asString)(u.defaultFillStyle),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(c["default"]),h=d;n["default"]=h},{"../color.js":"tree","../colorlike.js":"GezW","../dom.js":"fRxd","../has.js":"lDpN","../ImageState.js":"iN8L","../render/canvas.js":"OT1O","./Image.js":"YLA1"}],b45o:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./RegularShape.js")),o=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(r["default"]),a=o;n["default"]=a},{"./RegularShape.js":"LxrW"}],vciJ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=t("../color.js"),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,r.asString)(t):this.checksum_=(0,i.getUid)(this.color_):this.checksum_="f-"}return this.checksum_};var a=o;n["default"]=a},{"../util.js":"YOqM","../color.js":"tree"}],vIbn:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,i.getUid)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var o=r;n["default"]=o},{"../util.js":"YOqM"}],aLMx:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e;if("function"==typeof t)e=t;else{var n;Array.isArray(t)?n=t:((0,l.assert)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}function o(t,e){if(!p){var n=new d["default"]({color:"rgba(255,255,255,0.4)"}),i=new h["default"]({color:"#3399CC",width:1.25});p=[new f({image:new c["default"]({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return p}function a(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[u["default"].POLYGON]=[new f({fill:new d["default"]({color:[255,255,255,.5]})})],t[u["default"].MULTI_POLYGON]=t[u["default"].POLYGON],t[u["default"].LINE_STRING]=[new f({stroke:new h["default"]({color:e,width:5})}),new f({stroke:new h["default"]({color:n,width:3})})],t[u["default"].MULTI_LINE_STRING]=t[u["default"].LINE_STRING],t[u["default"].CIRCLE]=t[u["default"].POLYGON].concat(t[u["default"].LINE_STRING]),t[u["default"].POINT]=[new f({image:new c["default"]({radius:6,fill:new d["default"]({color:n}),stroke:new h["default"]({color:e,width:1.5})}),zIndex:1/0})],t[u["default"].MULTI_POINT]=t[u["default"].POINT],t[u["default"].GEOMETRY_COLLECTION]=t[u["default"].POLYGON].concat(t[u["default"].LINE_STRING],t[u["default"].POINT]),t}function s(t){return t.getGeometry()}Object.defineProperty(n,"__esModule",{value:!0}),n.toFunction=r,n.createDefaultStyle=o,n.createEditingStyle=a,n["default"]=void 0;var l=t("../asserts.js"),u=i(t("../geom/GeometryType.js")),c=i(t("./Circle.js")),d=i(t("./Fill.js")),h=i(t("./Stroke.js")),f=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=s,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};f.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new f({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},f.prototype.getRenderer=function(){return this.renderer_},f.prototype.setRenderer=function(t){this.renderer_=t},f.prototype.getGeometry=function(){return this.geometry_},f.prototype.getGeometryFunction=function(){return this.geometryFunction_},f.prototype.getFill=function(){return this.fill_},f.prototype.setFill=function(t){this.fill_=t},f.prototype.getImage=function(){return this.image_},f.prototype.setImage=function(t){this.image_=t},f.prototype.getStroke=function(){return this.stroke_},f.prototype.setStroke=function(t){this.stroke_=t},f.prototype.getText=function(){return this.text_},f.prototype.setText=function(t){this.text_=t},f.prototype.getZIndex=function(){return this.zIndex_},f.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=s,this.geometry_=t},f.prototype.setZIndex=function(t){this.zIndex_=t};var p=null,m=f;n["default"]=m},{"../asserts.js":"E2kQ","../geom/GeometryType.js":"naLT","./Circle.js":"b45o","./Fill.js":"vciJ","./Stroke.js":"vIbn"}],sgAj:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../LayerType.js")),o=i(t("./Layer.js")),a=i(t("./VectorRenderType.js")),s=t("../obj.js"),l=t("../style/Style.js"),u={RENDER_ORDER:"renderOrder"},c=function(t){function e(e){var n=e||{},i=(0,s.assign)({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||a["default"].VECTOR,this.type=r["default"].VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(u.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.createDefaultStyle,this.styleFunction_=null===t?void 0:(0,l.toFunction)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(o["default"]);c.prototype.getSource;var d=c;n["default"]=d},{"../LayerType.js":"GkHV","./Layer.js":"QsxU","./VectorRenderType.js":"QlH5","../obj.js":"qC1c","../style/Style.js":"aLMx"}],zZrl:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};n["default"]=i},{}],WAmp:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i){return function(r,o,a){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(r,o,a):t,!0),e.getType()==s["default"].ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var r,o=e.getType();o==s["default"].JSON||o==s["default"].TEXT?r=l.responseText:o==s["default"].XML?(r=l.responseXML)||(r=(new DOMParser).parseFromString(l.responseText,"application/xml")):o==s["default"].ARRAY_BUFFER&&(r=l.response),r?n.call(this,e.readFeatures(r,{featureProjection:a}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),l.onerror=function(){i.call(this)}.bind(this),l.send()}}function o(t,e){return r(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},a.VOID)}Object.defineProperty(n,"__esModule",{value:!0}),n.loadFeaturesXhr=r,n.xhr=o;var a=t("./functions.js"),s=i(t("./format/FormatType.js"))},{"./functions.js":"guaG","./format/FormatType.js":"zZrl"}],ryJg:[function(t,e,n){"use strict";function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}function r(t,e){return[t]}function o(t){return function(e,n){var i=t.getZForResolution(n),r=t.getTileRangeForExtentAndZ(e,i),o=[],a=[i,0,0];for(a[1]=r.minX;a[1]<=r.maxX;++a[1])for(a[2]=r.minY;a[2]<=r.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}Object.defineProperty(n,"__esModule",{value:!0}),n.all=i,n.bbox=r,n.tile=o},{}],Hr1t:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../util.js"),a=i(t("../Object.js")),s=t("../proj.js"),l=i(t("./State.js")),u=function(t){function e(e){t.call(this),this.projection_=(0,s.get)(e.projection),this.attributions_=r(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:l["default"].READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,o["abstract"])()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=r(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(a["default"]),c=u;n["default"]=c},{"../util.js":"YOqM","../Object.js":"n4ep","../proj.js":"aoEo","./State.js":"PNQw"}],YsL5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};n["default"]=i},{}],QmXp:[function(t,e,n){var i;arguments[3],arguments[3];!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof i&&i.amd?i(r):t.quickselect=r()}(this,function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,a){!function s(e,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,l=n-i+1,u=Math.log(a),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1),h=Math.max(i,Math.floor(n-l*c/a+d)),f=Math.min(r,Math.floor(n+(a-l)*c/a+d));s(e,n,h,f,o)}var p=e[n],m=i,g=r;for(t(e,i,n),o(e[r],p)>0&&t(e,i,r);m<g;){for(t(e,m,g),m++,g--;o(e[m],p)<0;)m++;for(;o(e[g],p)>0;)g--}0===o(e[i],p)?t(e,i,g):t(e,++g,r),g<=n&&(i=g+1),n<=g&&(r=g-1)}}(n,i,r||0,o||n.length-1,a||e)}})},{}],f7zo:[function(t,e,n){"use strict";function i(t,e){return this instanceof i?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear(),void 0):new i(t,e)}function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],s(r,t.leaf?i(o):o);return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,i,r){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,y(t,o,e,n,r),a.push(e,o,o,n))}e.exports=i,e.exports["default"]=i;var y=t("quickselect");i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!m(t,e))return n;for(var r,o,a,s,l=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],m(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!m(t,e))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],m(t,a=e.leaf?n(o):o)){if(e.leaf||p(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,o,a,s=this.data,l=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(o=r(t,s.children,e)))return s.children.splice(o,1),u.push(s),this._condense(u),this;a||s.leaf||!p(s,l)?i?(n++,s=i.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,a=n-e+1,s=this._maxEntries;if(a<=s)return o(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(r=g([])).leaf=!1,r.height=i;var l,u,c,d,h=Math.ceil(a/s),f=h*Math.ceil(Math.sqrt(s));for(v(t,e,n,f,this.compareMinX),l=e;l<=n;l+=f)for(v(t,l,c=Math.min(l+f-1,n),h,this.compareMinY),u=l;u<=c;u+=h)d=Math.min(u+h-1,c),r.children.push(this._build(t,u,d,i-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,l,u,d,f;i.push(e),!e.leaf&&i.length-1!==n;){for(d=f=1/0,r=0,o=e.children.length;r<o;r++)l=c(a=e.children[r]),(u=h(t,a)-l)<f?(f=u,d=l<d?l:d,s=a):u===f&&l<d&&(d=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],a=this._chooseSubtree(r,this.data,e,o);for(a.children.push(t),s(a,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var a=this._chooseSplitIndex(n,r,i),s=g(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,l,u,d,h;for(u=d=1/0,i=e;i<=n-e;i++)s=f(r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox)),l=c(r)+c(o),s<u?(u=s,h=i,d=l<d?l:d):s===u&&l<d&&(d=l,h=i);return h},_chooseSplitAxis:function(t,e,n){
var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,l=this.toBBox,u=a(t,0,e,l),c=a(t,n-e,n,l),h=d(u)+d(c);for(r=e;r<n-e;r++)o=t.children[r],s(u,t.leaf?l(o):o),h+=d(u);for(r=n-e-1;r>=e;r--)o=t.children[r],s(c,t.leaf?l(o):o),h+=d(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:"QmXp"}],m0Ba:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("rbush")),a=t("../extent.js"),s=t("../obj.js"),l=function(t){this.rbush_=(0,o["default"])(t,void 0),this.items_={}};l.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,r.getUid)(e)]=n},l.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[(0,r.getUid)(s)]=l}this.rbush_.load(n)},l.prototype.remove=function(t){var e=(0,r.getUid)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},l.prototype.update=function(t,e){var n=this.items_[(0,r.getUid)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,a.equals)(i,t)||(this.remove(e),this.insert(t,e))},l.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},l.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},l.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},l.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},l.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},l.prototype.isEmpty=function(){return(0,s.isEmpty)(this.items_)},l.prototype.clear=function(){this.rbush_.clear(),this.items_={}},l.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,a.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},l.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var u=l;n["default"]=u},{"../util.js":"YOqM",rbush:"f7zo","../extent.js":"IwSU","../obj.js":"qC1c"}],GKSK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.VectorSourceEvent=void 0;var r=t("../util.js"),o=i(t("../Collection.js")),a=i(t("../CollectionEventType.js")),s=i(t("../ObjectEventType.js")),l=t("../array.js"),u=t("../asserts.js"),c=t("../events.js"),d=i(t("../events/Event.js")),h=i(t("../events/EventType.js")),f=t("../extent.js"),p=t("../featureloader.js"),m=t("../functions.js"),g=t("../loadingstrategy.js"),v=t("../obj.js"),y=i(t("./Source.js")),_=i(t("./State.js")),b=i(t("./VectorEventType.js")),E=i(t("../structs/RBush.js")),x=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(d["default"]);n.VectorSourceEvent=x;var C=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:_["default"].READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=m.VOID,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&((0,u.assert)(this.format_,7),this.loader_=(0,p.xhr)(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:g.all;var i,r,a=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=a?new E["default"]:null,this.loadedExtentsRtree_=new E["default"],this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?r=n.features:n.features&&(r=(i=n.features).getArray()),a||void 0!==i||(i=new o["default"](r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,r.getUid)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new x(b["default"].ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,c.listen)(e,h["default"].CHANGE,this.handleFeatureChange_,this),(0,c.listen)(e,s["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:((0,u.assert)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,a=t.length;o<a;o++){var s=t[o],l=(0,r.getUid)(s);this.addToIndex_(l,s)&&n.push(s)}for(var u=0,c=n.length;u<c;u++){var d=n[u],h=(0,r.getUid)(d);this.setupChangeEvents_(h,d);var f=d.getGeometry();if(f){var p=f.getExtent();e.push(p),i.push(d)}else this.nullGeometryFeatures_[h]=d}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var m=0,g=n.length;m<g;m++)this.dispatchEvent(new x(b["default"].ADDFEATURE,n[m]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;(0,c.listen)(this,b["default"].ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),(0,c.listen)(this,b["default"].REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),(0,c.listen)(t,a["default"].ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),(0,c.listen)(t,a["default"].REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(c.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new x(b["default"].CLEAR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){return this.featuresRtree_?this.featuresRtree_.forEach(t):void(this.featuresCollection_&&this.featuresCollection_.forEach(t))},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e):void(this.featuresCollection_&&this.featuresCollection_.forEach(e))},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,v.isEmpty)(this.nullGeometryFeatures_)||(0,l.extend)(t,(0,v.getValues)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||m.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,i,o,a))<u){r=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=i-c,s[2]=n+c,s[3]=i+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,r.getUid)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new x(b["default"].CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,r.getUid)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,v.isEmpty)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var a=function(t,a){var s=o[t];r.forEachInExtent(s,function(t){return(0,f.containsExtent)(t.extent,s)})||(i.loader_.call(i,s,e,n),r.insert(s,{extent:s.slice()}),i.loading=i.loader_!==m.VOID)},s=0,l=o.length;s<l;++s)a(s)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if((0,f.equals)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=(0,r.getUid)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=(0,r.getUid)(t);this.featureChangeKeys_[e].forEach(c.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new x(b["default"].REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y["default"]),T=C;n["default"]=T},{"../util.js":"YOqM","../Collection.js":"qt30","../CollectionEventType.js":"ucwT","../ObjectEventType.js":"baqo","../array.js":"Z5sL","../asserts.js":"E2kQ","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","../extent.js":"IwSU","../featureloader.js":"WAmp","../functions.js":"guaG","../loadingstrategy.js":"ryJg","../obj.js":"qC1c","./Source.js":"Hr1t","./State.js":"PNQw","./VectorEventType.js":"YsL5","../structs/RBush.js":"m0Ba"}],uKTt:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(){var t=(0,L.createEditingStyle)();return function(e,n){return t[e.getGeometry().getType()]}}function s(t,e){return function(n,i){var r=n[0],o=n[1],a=Math.sqrt((0,m.squaredDistance)(r,o)),s=i||(0,O.fromCircle)(new E["default"](r),t),l=e;if(!e){var u=o[0]-r[0],c=o[1]-r[1];l=Math.atan(c/u)-(u<0?Math.PI:0)}return(0,O.makeRegular)(s,r,a,l),s}}function l(){return function(t,e){var n=(0,_.boundingExtent)(t),i=[[(0,_.getBottomLeft)(n),(0,_.getBottomRight)(n),(0,_.getTopRight)(n),(0,_.getTopLeft)(n),(0,_.getBottomLeft)(n)]],r=e;return r?r.setCoordinates(i):r=new O["default"](i),r}}function u(t){var e;return t===x["default"].POINT||t===x["default"].MULTI_POINT?e=k.POINT:t===x["default"].LINE_STRING||t===x["default"].MULTI_LINE_STRING?e=k.LINE_STRING:t===x["default"].POLYGON||t===x["default"].MULTI_POLYGON?e=k.POLYGON:t===x["default"].CIRCLE&&(e=k.CIRCLE),e}Object.defineProperty(n,"__esModule",{value:!0}),n.createRegularPolygon=s,n.createBox=l,n["default"]=void 0;var c=o(t("../events/EventType.js")),d=o(t("../Feature.js")),h=o(t("../MapBrowserEventType.js")),f=o(t("../MapBrowserPointerEvent.js")),p=t("../Object.js"),m=t("../coordinate.js"),g=t("../events.js"),v=o(t("../events/Event.js")),y=t("../events/condition.js"),_=t("../extent.js"),b=t("../functions.js"),E=o(t("../geom/Circle.js")),x=o(t("../geom/GeometryType.js")),C=o(t("../geom/LineString.js")),T=o(t("../geom/MultiLineString.js")),w=o(t("../geom/MultiPoint.js")),S=o(t("../geom/MultiPolygon.js")),M=t("../pointer/MouseSource.js"),j=o(t("../geom/Point.js")),O=r(t("../geom/Polygon.js")),A=o(t("./Pointer.js")),R=o(t("./Property.js")),P=o(t("../layer/Vector.js")),I=o(t("../source/Vector.js")),L=t("../style/Style.js"),k={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},D={DRAWSTART:"drawstart",DRAWEND:"drawend"},N=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(v["default"]),F=function(t){function e(e){var n=e;n.stopDown||(n.stopDown=b.FALSE),t.call(this,n),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=u(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===k.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:b.TRUE;var i=e.geometryFunction;if(!i)if(this.type_===x["default"].CIRCLE)i=function(t,e){var n=e||new E["default"]([NaN,NaN]),i=(0,m.squaredDistance)(t[0],t[1]);return n.setCenterAndRadius(t[0],Math.sqrt(i)),n};else{var r,o=this.mode_;o===k.POINT?r=j["default"]:o===k.LINE_STRING?r=C["default"]:o===k.POLYGON&&(r=O["default"]),i=function(t,e){var n=e;return n?o===k.POLYGON?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new r(t),n}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new P["default"]({source:new I["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:a(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:y.noModifierKeys,this.freehandCondition_,e.freehand?this.freehandCondition_=y.always:this.freehandCondition_=e.freehandCondition?e.freehandCondition:y.shiftKeyOnly,(0,g.listen)(this,(0,p.getChangeEventType)(R["default"].ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===c["default"].CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==k.POINT&&this.freehandCondition_(e);var n=e.type===h["default"].POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===h["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===h["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),i=!1):this.freehand_&&e.type===h["default"].POINTERDOWN?i=!1:n?(i=e.type===h["default"].POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):(e.pointerEvent.pointerType==M.POINTER_TYPE||e.type===h["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===h["default"].DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new f["default"](h["default"].POINTERMOVE,t.map,t.pointerEvent,(!1),t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var n=this.mode_===k.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===k.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_];if(this.mode_===k.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===k.POLYGON){var r=this.sketchCoords_;n=r[0].length>this.minPoints_,i=[r[0][0],r[0][r[0].length-2]]}if(n)for(var o=t.map,a=0,s=i.length;a<s;a++){var l=i[a],u=o.getPixelFromCoordinate(l),c=t.pixel,d=c[0]-u[0],h=c[1]-u[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(d*d+h*h)<=f){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new d["default"](new j["default"](e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===k.POINT?this.sketchCoords_=e.slice():this.mode_===k.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new d["default"](new C["default"](this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new d["default"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new N(D.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,i,r=t.coordinate,o=this.sketchFeature_.getGeometry();if(this.mode_===k.POINT?n=this.sketchCoords_:this.mode_===k.POLYGON?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=r[0],n[1]=r[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(r),o.getType()==x["default"].POLYGON&&this.mode_!==k.POLYGON){this.sketchLine_||(this.sketchLine_=new d["default"]);var a=o.getLinearRing(0);(i=this.sketchLine_.getGeometry())?(i.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates()),i.changed()):(i=new C["default"](a.getFlatCoordinates(),a.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,i=t.coordinate,r=this.sketchFeature_.getGeometry();this.mode_===k.LINE_STRING?(this.finishCoordinate_=i.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),this.geometryFunction_(n,r)):this.mode_===k.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===k.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===k.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry();this.mode_===k.LINE_STRING?(e.pop(),this.geometryFunction_(e,n)):this.mode_===k.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n),e=n.getCoordinates()),this.type_===x["default"].MULTI_POINT?t.setGeometry(new w["default"]([e])):this.type_===x["default"].MULTI_LINE_STRING?t.setGeometry(new T["default"]([e])):this.type_===x["default"].MULTI_POLYGON&&t.setGeometry(new S["default"]([e])),this.dispatchEvent(new N(D.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new N(D.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(A["default"]),$=F;n["default"]=$},{"../events/EventType.js":"eKq7","../Feature.js":"YPtS","../MapBrowserEventType.js":"WqlW","../MapBrowserPointerEvent.js":"ASyy","../Object.js":"n4ep","../coordinate.js":"HxRU","../events.js":"Bvf5","../events/Event.js":"h36w","../events/condition.js":"YmKF","../extent.js":"IwSU","../functions.js":"guaG","../geom/Circle.js":"rStz","../geom/GeometryType.js":"naLT","../geom/LineString.js":"x8R2","../geom/MultiLineString.js":"BRR0","../geom/MultiPoint.js":"D9kr","../geom/MultiPolygon.js":"ppKG","../pointer/MouseSource.js":"wVnN","../geom/Point.js":"FFTU","../geom/Polygon.js":"K0BN","./Pointer.js":"kY2W","./Property.js":"YG6A","../layer/Vector.js":"sgAj","../source/Vector.js":"GKSK","../style/Style.js":"aLMx"}],tV2d:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=(0,b.createEditingStyle)();return function(e,n){return t[p["default"].POLYGON]}}function o(){var t=(0,b.createEditingStyle)();return function(e,n){return t[p["default"].POINT]}}function a(t){return function(e){return(0,f.boundingExtent)([t,e])}}function s(t,e){return t[0]==e[0]?function(n){return(0,f.boundingExtent)([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return(0,f.boundingExtent)([t,[e[0],n[1]]])}:null}function l(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var u=i(t("../Feature.js")),c=i(t("../MapBrowserEventType.js")),d=t("../coordinate.js"),h=i(t("../events/Event.js")),f=t("../extent.js"),p=i(t("../geom/GeometryType.js")),m=i(t("../geom/Point.js")),g=t("../geom/Polygon.js"),v=i(t("./Pointer.js")),y=i(t("../layer/Vector.js")),_=i(t("../source/Vector.js")),b=t("../style/Style.js"),E={EXTENTCHANGED:"extentchanged"},x=function(t){function e(e){t.call(this,E.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h["default"]),C=function(t){function e(e){var n=e||{};t.call(this,n),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new y["default"]({source:new _["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:r(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new y["default"]({source:new _["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:o(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var n=e.getCoordinateFromPixel(t),i=this.getExtent();if(i){var r=l(i);r.sort(function(t,e){return(0,d.squaredDistanceToSegment)(n,t)-(0,d.squaredDistanceToSegment)(n,e)});var o=r[0],a=(0,d.closestOnSegment)(n,o),s=e.getPixelFromCoordinate(a);if((0,d.distance)(t,s)<=this.pixelTolerance_){var u=e.getPixelFromCoordinate(o[0]),c=e.getPixelFromCoordinate(o[1]),h=(0,d.squaredDistance)(s,u),f=(0,d.squaredDistance)(s,c),p=Math.sqrt(Math.min(h,f));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(a=h>f?o[1]:o[0]),a}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,n=t.map,i=this.snapToVertex_(e,n);i||(i=n.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(i)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry((0,g.fromExtent)(t)):e.setGeometry(void 0):(e=t?new u["default"]((0,g.fromExtent)(t)):new u["default"]({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new u["default"](new m["default"](t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e)),e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=c["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,n=t.map,i=this.getExtent(),r=this.snapToVertex_(e,n),o=function(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null};if(r&&i){var l=r[0]==i[0]||r[0]==i[2]?r[0]:null,u=r[1]==i[1]||r[1]==i[3]?r[1]:null;null!==l&&null!==u?this.pointerHandler_=a(o(r)):null!==l?this.pointerHandler_=s(o([l,i[1]]),o([l,i[3]])):null!==u&&(this.pointerHandler_=s(o([i[0],u]),o([i[2],u])))}else r=n.getCoordinateFromPixel(e),this.setExtent([r[0],r[1],r[0],r[1]]),this.pointerHandler_=a(r);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==(0,f.getArea)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new x(this.extent_))},e}(v["default"]),T=C;n["default"]=T},{"../Feature.js":"YPtS","../MapBrowserEventType.js":"WqlW","../coordinate.js":"HxRU","../events/Event.js":"h36w","../extent.js":"IwSU","../geom/GeometryType.js":"naLT","../geom/Point.js":"FFTU","../geom/Polygon.js":"K0BN","./Pointer.js":"kY2W","../layer/Vector.js":"sgAj","../source/Vector.js":"GKSK","../style/Style.js":"aLMx"}],n6HG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return t.index-e.index}function o(t,e){var n=e.geometry;if(n.getType()===b["default"].CIRCLE){var i=n;if(e.index===O){var r=(0,p.squaredDistance)(i.getCenter(),t),o=Math.sqrt(r)-i.getRadius();return o*o}}return(0,p.squaredDistanceToSegment)(t,e.segment)}function a(t,e){var n=e.geometry;return n.getType()===b["default"].CIRCLE&&e.index===O?n.getClosestPoint(t):(0,p.closestOnSegment)(t,e.segment)}function s(){var t=(0,M.createEditingStyle)();return function(e,n){return t[b["default"].POINT]}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.ModifyEvent=void 0;var l=t("../util.js"),u=i(t("../Collection.js")),c=i(t("../CollectionEventType.js")),d=i(t("../Feature.js")),h=i(t("../MapBrowserEventType.js")),f=t("../array.js"),p=t("../coordinate.js"),m=t("../events.js"),g=i(t("../events/Event.js")),v=i(t("../events/EventType.js")),y=t("../events/condition.js"),_=t("../extent.js"),b=i(t("../geom/GeometryType.js")),E=i(t("../geom/Point.js")),x=i(t("./Pointer.js")),C=i(t("../layer/Vector.js")),T=i(t("../source/Vector.js")),w=i(t("../source/VectorEventType.js")),S=i(t("../structs/RBush.js")),M=t("../style/Style.js"),j=0,O=1,A={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},R=function(t){function e(e,n,i){t.call(this,e),this.features=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g["default"]);n.ModifyEvent=R;var P=function(t){function e(e){var n;if(t.call(this,e),this.condition_=e.condition?e.condition:y.primaryAction,this.defaultDeleteCondition_=function(t){return(0,y.altKeyOnly)(t)&&(0,y.singleClick)(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:y.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new S["default"],this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new C["default"]({source:new T["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:s(),
updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,n=new u["default"](this.source_.getFeatures()),(0,m.listen)(this.source_,w["default"].ADDFEATURE,this.handleSourceAdd_,this),(0,m.listen)(this.source_,w["default"].REMOVEFEATURE,this.handleSourceRemove_,this)):n=e.features,!n)throw new Error("The modify interaction requires features or a source");this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),(0,m.listen)(this.features_,c["default"].ADD,this.handleFeatureAdd_,this),(0,m.listen)(this.features_,c["default"].REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),(0,m.listen)(t,v["default"].CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new R(A.MODIFYSTART,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,m.unlisten)(t,v["default"].CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach(function(e){t===e.feature&&n.push(e)});for(var i=n.length-1;i>=0;--i)e.remove(n[i])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],a={feature:t,geometry:e,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:t,geometry:e,index:i,segment:o};this.rBush_.insert((0,_.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:l};this.rBush_.insert((0,_.boundingExtent)(l),u)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:l};this.rBush_.insert((0,_.boundingExtent)(l),u)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var d=l.slice(u,u+2),h={feature:t,geometry:e,depth:[a,i],index:u,segment:d};this.rBush_.insert((0,_.boundingExtent)(d),h)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),i={feature:t,geometry:e,index:j,segment:[n,n]},r={feature:t,geometry:e,index:O,segment:[n,n]},o=[i,r];i.featureSegments=r.featureSegments=o,this.rBush_.insert((0,_.createOrUpdateFromCoordinate)(n),i),this.rBush_.insert(e.getExtent(),r)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i)this.SEGMENT_WRITERS_[n[i].getType()].call(this,t,n[i])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new d["default"](new E["default"](t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e)),e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=h["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=h["default"].SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==h["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,n=0,i=this.dragSegments_.length;n<i;++n){for(var r=this.dragSegments_[n],o=r[0],a=o.depth,s=o.geometry,l=void 0,u=o.segment,c=r[1];e.length<s.getStride();)e.push(u[c][e.length]);switch(s.getType()){case b["default"].POINT:l=e,u[0]=u[1]=e;break;case b["default"].MULTI_POINT:(l=s.getCoordinates())[o.index]=e,u[0]=u[1]=e;break;case b["default"].LINE_STRING:(l=s.getCoordinates())[o.index+c]=e,u[c]=e;break;case b["default"].MULTI_LINE_STRING:case b["default"].POLYGON:(l=s.getCoordinates())[a[0]][o.index+c]=e,u[c]=e;break;case b["default"].MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][o.index+c]=e,u[c]=e;break;case b["default"].CIRCLE:u[0]=u[1]=e,o.index===j?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius((0,p.distance)(s.getCenter(),e)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var i=[],o=n.getGeometry().getCoordinates(),s=(0,_.boundingExtent)([o]),u=this.rBush_.getInExtent(s),c={};u.sort(r);for(var d=0,h=u.length;d<h;++d){var f=u[d],m=f.segment,g=(0,l.getUid)(f.feature),v=f.depth;if(v&&(g+="-"+v.join("-")),c[g]||(c[g]=new Array(2)),f.geometry.getType()===b["default"].CIRCLE&&f.index===O){var y=a(e,f);(0,p.equals)(y,o)&&!c[g][0]&&(this.dragSegments_.push([f,0]),c[g][0]=f)}else if((0,p.equals)(m[0],o)&&!c[g][0])this.dragSegments_.push([f,0]),c[g][0]=f;else if((0,p.equals)(m[1],o)&&!c[g][1]){if((f.geometry.getType()===b["default"].LINE_STRING||f.geometry.getType()===b["default"].MULTI_LINE_STRING)&&c[g][0]&&0===c[g][0].index)continue;this.dragSegments_.push([f,1]),c[g][1]=f}else this.insertVertexCondition_(t)&&(0,l.getUid)(m)in this.vertexSegments_&&!c[g][0]&&!c[g][1]&&i.push([f,o])}i.length&&this.willModifyFeatures_(t);for(var E=i.length-1;E>=0;--E)this.insertVertex_.apply(this,i[E])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],i=n.geometry;if(i.getType()===b["default"].CIRCLE){var r=i.getCenter(),o=n.featureSegments[0],a=n.featureSegments[1];o.segment[0]=o.segment[1]=r,a.segment[0]=a.segment[1]=r,this.rBush_.update((0,_.createOrUpdateFromCoordinate)(r),o),this.rBush_.update(i.getExtent(),a)}else this.rBush_.update((0,_.boundingExtent)(n.segment),n)}return this.modified_&&(this.dispatchEvent(new R(A.MODIFYEND,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var n=e.getCoordinateFromPixel(t),i=(0,_.buffer)((0,_.createOrUpdateFromCoordinate)(n),e.getView().getResolution()*this.pixelTolerance_),r=this.rBush_.getInExtent(i);if(r.length>0){r.sort(function(t,e){return o(n,t)-o(n,e)});var s=r[0],u=s.segment,c=a(n,s),d=e.getPixelFromCoordinate(c),h=(0,p.distance)(t,d);if(h<=this.pixelTolerance_){var f={};if(s.geometry.getType()===b["default"].CIRCLE&&s.index===O)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var m=e.getPixelFromCoordinate(u[0]),g=e.getPixelFromCoordinate(u[1]),v=(0,p.squaredDistance)(d,m),y=(0,p.squaredDistance)(d,g);h=Math.sqrt(Math.min(v,y)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(c=v>y?u[1]:u[0]),this.createOrUpdateVertexFeature_(c);for(var E=1,x=r.length;E<x;++E){var C=r[E].segment;if(!((0,p.equals)(u[0],C[0])&&(0,p.equals)(u[1],C[1])||(0,p.equals)(u[0],C[1])&&(0,p.equals)(u[1],C[0])))break;f[(0,l.getUid)(C)]=!0}}return f[(0,l.getUid)(u)]=!0,void(this.vertexSegments_=f)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var n,i=t.segment,r=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case b["default"].MULTI_LINE_STRING:case b["default"].POLYGON:(n=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case b["default"].MULTI_POLYGON:(n=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case b["default"].LINE_STRING:(n=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,n);var l=this.rBush_;l.remove(t),this.updateSegmentIndices_(o,s,a,1);var u={segment:[i[0],e],feature:r,geometry:o,depth:a,index:s};l.insert((0,_.boundingExtent)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[e,i[1]],feature:r,geometry:o,depth:a,index:s+1};l.insert((0,_.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=h["default"].POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new R(A.MODIFYEND,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,n,i,r,o,a,s,u,c,d,h=this.dragSegments_,f={},p=!1;for(r=h.length-1;r>=0;--r)c=(n=h[r])[0],d=(0,l.getUid)(c.feature),c.depth&&(d+="-"+c.depth.join("-")),d in f||(f[d]={}),0===n[1]?(f[d].right=c,f[d].index=c.index):1==n[1]&&(f[d].left=c,f[d].index=c.index+1);for(d in f){switch(u=f[d].right,a=f[d].left,(s=(o=f[d].index)-1)<0&&(s=0),t=e=(i=(c=void 0!==a?a:u).geometry).getCoordinates(),p=!1,i.getType()){case b["default"].MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(o,1),p=!0);break;case b["default"].LINE_STRING:e.length>2&&(e.splice(o,1),p=!0);break;case b["default"].MULTI_POLYGON:t=t[c.depth[1]];case b["default"].POLYGON:(t=t[c.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),p=!0,0===o&&(t.pop(),t.push(t[0]),s=t.length-1))}if(p){this.setGeometryCoordinates_(i,e);var m=[];if(void 0!==a&&(this.rBush_.remove(a),m.push(a.segment[0])),void 0!==u&&(this.rBush_.remove(u),m.push(u.segment[1])),void 0!==a&&void 0!==u){var g={depth:c.depth,feature:c.feature,geometry:c.geometry,index:s,segment:m};this.rBush_.insert((0,_.boundingExtent)(g.segment),g)}this.updateSegmentIndices_(i,o,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return p},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,i){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===n||void 0===r.depth||(0,f.equals)(r.depth,n))&&r.index>e&&(r.index+=i)})},e}(x["default"]),I=P;n["default"]=I},{"../util.js":"YOqM","../Collection.js":"qt30","../CollectionEventType.js":"ucwT","../Feature.js":"YPtS","../MapBrowserEventType.js":"WqlW","../array.js":"Z5sL","../coordinate.js":"HxRU","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","../events/condition.js":"YmKF","../extent.js":"IwSU","../geom/GeometryType.js":"naLT","../geom/Point.js":"FFTU","./Pointer.js":"kY2W","../layer/Vector.js":"sgAj","../source/Vector.js":"GKSK","../source/VectorEventType.js":"YsL5","../structs/RBush.js":"m0Ba","../style/Style.js":"aLMx"}],q326:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),r=!e&&!n&&!i,o=t.map,a=this.getFeatures(),s=[],u=[];if(r){(0,g.clear)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return u.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=a.getLength()-1;c>=0;--c){var h=a.item(c),f=u.indexOf(h);f>-1?u.splice(f,1):(a.remove(h),s.push(h))}0!==u.length&&a.extend(u)}else{o.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r))return!e&&!i||(0,l.includes)(a.getArray(),t)?(n||i)&&(0,l.includes)(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(u.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(u)}return(u.length>0||s.length>0)&&this.dispatchEvent(new b(_.SELECT,u,s,t)),(0,d.pointerMove)(t)}function o(){var t=(0,y.createEditingStyle)();return(0,l.extend)(t[f["default"].POLYGON],t[f["default"].LINE_STRING]),(0,l.extend)(t[f["default"].GEOMETRY_COLLECTION],t[f["default"].LINE_STRING]),function(e,n){return e.getGeometry()?t[e.getGeometry().getType()]:null}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../util.js"),s=i(t("../CollectionEventType.js")),l=t("../array.js"),u=t("../events.js"),c=i(t("../events/Event.js")),d=t("../events/condition.js"),h=t("../functions.js"),f=i(t("../geom/GeometryType.js")),p=i(t("./Interaction.js")),m=i(t("../layer/Vector.js")),g=t("../obj.js"),v=i(t("../source/Vector.js")),y=t("../style/Style.js"),_={SELECT:"select"},b=function(t){function e(e,n,i,r){t.call(this,e),this.selected=n,this.deselected=i,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c["default"]),E=function(t){function e(e){t.call(this,{handleEvent:r});var n=e||{};this.condition_=n.condition?n.condition:d.singleClick,this.addCondition_=n.addCondition?n.addCondition:d.never,this.removeCondition_=n.removeCondition?n.removeCondition:d.never,this.toggleCondition_=n.toggleCondition?n.toggleCondition:d.shiftKeyOnly,this.multi_=!!n.multi&&n.multi,this.filter_=n.filter?n.filter:h.TRUE,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0;var i,a=new m["default"]({source:new v["default"]({useSpatialIndex:!1,features:n.features,wrapX:n.wrapX}),style:n.style?n.style:o(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=a,n.layers)if("function"==typeof n.layers)i=n.layers;else{var c=n.layers;i=function(t){return(0,l.includes)(c,t)}}else i=h.TRUE;this.layerFilter_=i,this.featureLayerAssociation_={};var f=this.getFeatures();(0,u.listen)(f,s["default"].ADD,this.addFeature_,this),(0,u.listen)(f,s["default"].REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,a.getUid)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,a.getUid)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap(),i=this.getFeatures();n&&i.forEach(n.unskipFeature.bind(n)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&i.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,a.getUid)(t)]},e}(p["default"]),x=E;n["default"]=x},{"../util.js":"YOqM","../CollectionEventType.js":"ucwT","../array.js":"Z5sL","../events.js":"Bvf5","../events/Event.js":"h36w","../events/condition.js":"YmKF","../functions.js":"guaG","../geom/GeometryType.js":"naLT","./Interaction.js":"GnOM","../layer/Vector.js":"sgAj","../obj.js":"qC1c","../source/Vector.js":"GKSK","../style/Style.js":"aLMx"}],ZQ3G:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t.feature?t.feature:t.element?t.element:void 0}function o(t,e){return(0,l.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment)-(0,l.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../util.js"),s=i(t("../CollectionEventType.js")),l=t("../coordinate.js"),u=t("../events.js"),c=i(t("../events/EventType.js")),d=t("../extent.js"),h=t("../functions.js"),f=i(t("../geom/GeometryType.js")),p=t("../geom/Polygon.js"),m=i(t("./Pointer.js")),g=t("../obj.js"),v=i(t("../source/VectorEventType.js")),y=i(t("../structs/RBush.js")),_=function(t){function e(e){var n=e||{},i=n;i.handleDownEvent||(i.handleDownEvent=h.TRUE),i.stopDown||(i.stopDown=h.FALSE),t.call(this,i),this.source_=n.source?n.source:null,this.vertex_=void 0===n.vertex||n.vertex,this.edge_=void 0===n.edge||n.edge,this.features_=n.features?n.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,this.sortByDistance_=o.bind(this),this.rBush_=new y["default"],this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var n=void 0===e||e,i=(0,a.getUid)(t),r=t.getGeometry();if(r){var o=this.SEGMENT_WRITERS_[r.getType()];o&&(this.indexedFeaturesExtents_[i]=r.getExtent((0,d.createEmpty)()),o.call(this,t,r))}n&&(this.featureChangeListenerKeys_[i]=(0,u.listen)(t,c["default"].CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n.snapped&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=r(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=r(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=(0,a.getUid)(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=(0,g.getValues)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,i=(0,a.getUid)(t),r=this.indexedFeaturesExtents_[i];if(r){var o=this.rBush_,s=[];o.forEachInExtent(r,function(e){t===e.feature&&s.push(e)});for(var l=s.length-1;l>=0;--l)o.remove(s[l])}n&&((0,u.unlistenByKey)(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},e.prototype.setMap=function(e){var n=this.getMap(),i=this.featuresListenerKeys_,r=this.getFeatures_();n&&(i.forEach(u.unlistenByKey),i.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?i.push((0,u.listen)(this.features_,s["default"].ADD,this.handleFeatureAdd_,this),(0,u.listen)(this.features_,s["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push((0,u.listen)(this.source_,v["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,u.listen)(this.source_,v["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var i=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),r=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=(0,d.boundingExtent)([i,r]),a=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(a=a.filter(function(t){return t.feature.getGeometry().getType()!==f["default"].CIRCLE}));var s,u,c,h,p=!1,m=null,g=null;if(a.length>0){this.pixelCoordinate_=e,a.sort(this.sortByDistance_);var v=a[0].segment,y=a[0].feature.getGeometry().getType()===f["default"].CIRCLE;this.vertex_&&!this.edge_?(s=n.getPixelFromCoordinate(v[0]),u=n.getPixelFromCoordinate(v[1]),c=(0,l.squaredDistance)(t,s),h=(0,l.squaredDistance)(t,u),Math.sqrt(Math.min(c,h))<=this.pixelTolerance_&&(p=!0,m=c>h?v[1]:v[0],g=n.getPixelFromCoordinate(m))):this.edge_&&(m=y?(0,l.closestOnCircle)(e,a[0].feature.getGeometry()):(0,l.closestOnSegment)(e,v),g=n.getPixelFromCoordinate(m),(0,l.distance)(t,g)<=this.pixelTolerance_&&(p=!0,this.vertex_&&!y&&(s=n.getPixelFromCoordinate(v[0]),u=n.getPixelFromCoordinate(v[1]),c=(0,l.squaredDistance)(g,s),h=(0,l.squaredDistance)(g,u),Math.sqrt(Math.min(c,h))<=this.pixelTolerance_&&(m=c>h?v[1]:v[0],g=n.getPixelFromCoordinate(m))))),p&&(g=[Math.round(g[0]),Math.round(g[1])])}return{snapped:p,vertex:m,vertexPixel:g}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){for(var n=(0,p.fromCircle)(e).getCoordinates()[0],i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:t,segment:o};this.rBush_.insert((0,d.boundingExtent)(o),a)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i){var r=this.SEGMENT_WRITERS_[n[i].getType()];r&&r.call(this,t,n[i])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:t,segment:o};this.rBush_.insert((0,d.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,segment:l};this.rBush_.insert((0,d.boundingExtent)(l),u)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),f={feature:t,segment:h};this.rBush_.insert((0,d.boundingExtent)(h),f)}},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,segment:l};this.rBush_.insert((0,d.boundingExtent)(l),u)}},e}(m["default"]),b=_;n["default"]=b},{"../util.js":"YOqM","../CollectionEventType.js":"ucwT","../coordinate.js":"HxRU","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","../functions.js":"guaG","../geom/GeometryType.js":"naLT","../geom/Polygon.js":"K0BN","./Pointer.js":"kY2W","../obj.js":"qC1c","../source/VectorEventType.js":"YsL5","../structs/RBush.js":"m0Ba"}],Rz8K:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.TranslateEvent=void 0;var r=i(t("../Collection.js")),o=t("../Object.js"),a=t("../events.js"),s=i(t("../events/Event.js")),l=t("../functions.js"),u=t("../array.js"),c=i(t("./Pointer.js")),d=i(t("./Property.js")),h={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},f=function(t){function e(e,n,i){t.call(this,e),this.features=n,this.coordinate=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]);n.TranslateEvent=f;var p=function(t){function e(e){var n,i=e||{};if(t.call(this,i),this.lastCoordinate_=null,this.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)n=i.layers;else{var r=i.layers;n=function(t){return(0,u.includes)(r,t)}}else n=l.TRUE;this.layerFilter_=n,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0,this.lastFeature_=null,(0,a.listen)(this,(0,o.getChangeEventType)(d["default"].ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new r["default"]([this.lastFeature_]);return this.dispatchEvent(new f(h.TRANSLATESTART,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new r["default"]([this.lastFeature_]);return this.dispatchEvent(new f(h.TRANSLATEEND,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,n=e[0]-this.lastCoordinate_[0],i=e[1]-this.lastCoordinate_[1],o=this.features_||new r["default"]([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(n,i),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new f(h.TRANSLATING,o,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||(0,u.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(n)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),n=this.getActive();e&&n||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(c["default"]),m=p;n["default"]=m},{"../Collection.js":"qt30","../Object.js":"n4ep","../events.js":"Bvf5","../events/Event.js":"h36w","../functions.js":"guaG","../array.js":"Z5sL","./Pointer.js":"kY2W","./Property.js":"YG6A"}],VJ6h:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t||{},n=new o["default"],i=new a["default"]((-.005),.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new u["default"]),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new s["default"]({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new l["default"]({condition:e.onFocusOnly?g.focus:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new p["default"]),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new m["default"]({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new d["default"]),n.push(new h["default"]({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new f["default"]({condition:e.onFocusOnly?g.focus:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new c["default"]({duration:e.zoomDuration})),n}Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=r,Object.defineProperty(n,"DoubleClickZoom",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"DragPan",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"DragRotate",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"DragZoom",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"KeyboardPan",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"KeyboardZoom",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"MouseWheelZoom",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"PinchRotate",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(n,"PinchZoom",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(n,"DragAndDrop",{enumerable:!0,get:function(){return v["default"]}}),Object.defineProperty(n,"DragBox",{enumerable:!0,get:function(){return y["default"]}}),Object.defineProperty(n,"DragRotateAndZoom",{enumerable:!0,get:function(){return _["default"]}}),Object.defineProperty(n,"Draw",{enumerable:!0,get:function(){return b["default"]}}),Object.defineProperty(n,"Extent",{enumerable:!0,get:function(){return E["default"]}}),Object.defineProperty(n,"Interaction",{enumerable:!0,get:function(){return x["default"]}}),Object.defineProperty(n,"Modify",{enumerable:!0,get:function(){return C["default"]}}),Object.defineProperty(n,"Pointer",{enumerable:!0,get:function(){return T["default"]}}),Object.defineProperty(n,"Select",{enumerable:!0,get:function(){return w["default"]}}),Object.defineProperty(n,"Snap",{enumerable:!0,get:function(){return S["default"]}}),Object.defineProperty(n,"Translate",{enumerable:!0,get:function(){return M["default"]}});var o=i(t("./Collection.js")),a=i(t("./Kinetic.js")),s=i(t("./interaction/DoubleClickZoom.js")),l=i(t("./interaction/DragPan.js")),u=i(t("./interaction/DragRotate.js")),c=i(t("./interaction/DragZoom.js")),d=i(t("./interaction/KeyboardPan.js")),h=i(t("./interaction/KeyboardZoom.js")),f=i(t("./interaction/MouseWheelZoom.js")),p=i(t("./interaction/PinchRotate.js")),m=i(t("./interaction/PinchZoom.js")),g=t("./events/condition.js"),v=i(t("./interaction/DragAndDrop.js")),y=i(t("./interaction/DragBox.js")),_=i(t("./interaction/DragRotateAndZoom.js")),b=i(t("./interaction/Draw.js")),E=i(t("./interaction/Extent.js")),x=i(t("./interaction/Interaction.js")),C=i(t("./interaction/Modify.js")),T=i(t("./interaction/Pointer.js")),w=i(t("./interaction/Select.js")),S=i(t("./interaction/Snap.js")),M=i(t("./interaction/Translate.js"))},{"./Collection.js":"qt30",
"./Kinetic.js":"Wo60","./interaction/DoubleClickZoom.js":"AN3r","./interaction/DragPan.js":"mTmZ","./interaction/DragRotate.js":"oG42","./interaction/DragZoom.js":"bIDt","./interaction/KeyboardPan.js":"bqqf","./interaction/KeyboardZoom.js":"ihTc","./interaction/MouseWheelZoom.js":"Iq9y","./interaction/PinchRotate.js":"UuUo","./interaction/PinchZoom.js":"SeyD","./events/condition.js":"YmKF","./interaction/DragAndDrop.js":"nOtN","./interaction/DragBox.js":"OjiZ","./interaction/DragRotateAndZoom.js":"gKPs","./interaction/Draw.js":"uKTt","./interaction/Extent.js":"tV2d","./interaction/Interaction.js":"GnOM","./interaction/Modify.js":"n6HG","./interaction/Pointer.js":"kY2W","./interaction/Select.js":"q326","./interaction/Snap.js":"ZQ3G","./interaction/Translate.js":"Rz8K"}],gSGW:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ENABLE_RASTER_REPROJECTION=n.ERROR_THRESHOLD=void 0;var i=.5;n.ERROR_THRESHOLD=i;var r=!0;n.ENABLE_RASTER_REPROJECTION=r},{}],Vfqz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./util.js"),o=i(t("./events/Target.js")),a=i(t("./events/EventType.js")),s=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(a["default"].CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r["abstract"])()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r["abstract"])()},e}(o["default"]),l=s;n["default"]=l},{"./util.js":"YOqM","./events/Target.js":"mcdO","./events/EventType.js":"eKq7"}],r5gb:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./ImageBase.js")),o=i(t("./ImageState.js")),a=function(t){function e(e,n,i,r,a){var s=void 0!==a?o["default"].IDLE:o["default"].LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==a?a:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=o["default"].ERROR):this.state=o["default"].LOADED,this.changed()},e.prototype.load=function(){this.state==o["default"].IDLE&&(this.state=o["default"].LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(r["default"]),s=a;n["default"]=s},{"./ImageBase.js":"Vfqz","./ImageState.js":"iN8L"}],lWFx:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../events/Event.js")),o=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),a=o;n["default"]=a},{"../events/Event.js":"h36w"}],lYEk:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(){};i.prototype.drawCustom=function(t,e,n){},i.prototype.drawGeometry=function(t){},i.prototype.setStyle=function(t){},i.prototype.drawCircle=function(t,e){},i.prototype.drawFeature=function(t,e){},i.prototype.drawGeometryCollection=function(t,e){},i.prototype.drawLineString=function(t,e){},i.prototype.drawMultiLineString=function(t,e){},i.prototype.drawMultiPoint=function(t,e){},i.prototype.drawMultiPolygon=function(t,e){},i.prototype.drawPoint=function(t,e){},i.prototype.drawPolygon=function(t,e){},i.prototype.drawText=function(t,e){},i.prototype.setFillStrokeStyle=function(t,e){},i.prototype.setImageStyle=function(t,e){},i.prototype.setTextStyle=function(t,e){};var r=i;n["default"]=r},{}],HWQX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../array.js"),o=t("../../colorlike.js"),a=t("../../extent.js"),s=i(t("../../geom/GeometryType.js")),l=t("../../geom/SimpleGeometry.js"),u=t("../../geom/flat/transform.js"),c=t("../../has.js"),d=i(t("../VectorContext.js")),h=t("../canvas.js"),f=t("../../transform.js"),p=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,f.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=(0,u.transform2D)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,d=r.length;c<d;c+=2){var h=r[c]-this.imageAnchorX_,p=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var m=h+this.imageAnchorX_,g=p+this.imageAnchorY_;(0,f.compose)(a,m,g,this.imageScale_,this.imageScale_,l,-m,-g),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,u.transform2D)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=(0,f.compose)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,a=(0,u.transform2D)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,l.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case s["default"].POINT:this.drawPoint(t);break;case s["default"].LINE_STRING:this.drawLineString(t);break;case s["default"].POLYGON:this.drawPolygon(t);break;case s["default"].MULTI_POINT:this.drawMultiPoint(t);break;case s["default"].MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s["default"].MULTI_POLYGON:this.drawMultiPolygon(t);break;case s["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s["default"].CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,a.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,a.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var l=0,u=o.length;l<u;++l)r=this.moveToLineTo_(i,r,o[l],s,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,l=r.length;s<l;++s){var u=r[s];i=this.drawRings_(n,i,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),c.CANVAS_LINE_DASH&&((0,r.equals)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,c.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:h.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:(0,o.asColorLike)(n||h.defaultFillStyle)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:h.defaultLineCap,lineDash:a||h.defaultLineDash,lineDashOffset:s||h.defaultLineDashOffset,lineJoin:void 0!==l?l:h.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==u?u:h.defaultLineWidth),miterLimit:void 0!==c?c:h.defaultMiterLimit,strokeStyle:(0,o.asColorLike)(i||h.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:(0,o.asColorLike)(n||h.defaultFillStyle)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),a=i.getLineCap(),s=i.getLineDash(),l=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.defaultLineCap,lineDash:s||h.defaultLineDash,lineDashOffset:l||h.defaultLineDashOffset,lineJoin:void 0!==u?u:h.defaultLineJoin,lineWidth:void 0!==c?c:h.defaultLineWidth,miterLimit:void 0!==d?d:h.defaultMiterLimit,strokeStyle:(0,o.asColorLike)(r||h.defaultStrokeStyle)}}else this.textStrokeState_=null;var f=t.getFont(),p=t.getOffsetX(),m=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation(),y=t.getScale(),_=t.getText(),b=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:void 0!==f?f:h.defaultFont,textAlign:void 0!==b?b:h.defaultTextAlign,textBaseline:void 0!==E?E:h.defaultTextBaseline},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==m?this.pixelRatio_*m:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==v?v:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(d["default"]),m=p;n["default"]=m},{"../../array.js":"Z5sL","../../colorlike.js":"GezW","../../extent.js":"IwSU","../../geom/GeometryType.js":"naLT","../../geom/SimpleGeometry.js":"F2mr","../../geom/flat/transform.js":"CVNs","../../has.js":"lDpN","../VectorContext.js":"lYEk","../canvas.js":"OT1O","../../transform.js":"glB6"}],Xwj5:[function(t,e,n){"use strict";function i(t,e,n){return e+":"+t+":"+(n?(0,r.asString)(n):"null")}Object.defineProperty(n,"__esModule",{value:!0}),n.shared=n["default"]=void 0;var r=t("../color.js"),o=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};o.prototype.clear=function(){this.cache_={},this.cacheSize_=0},o.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},o.prototype.get=function(t,e,n){var r=i(t,e,n);return r in this.cache_?this.cache_[r]:null},o.prototype.set=function(t,e,n,r){var o=i(t,e,n);this.cache_[o]=r,++this.cacheSize_},o.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var a=o;n["default"]=a;var s=new o;n.shared=s},{"../color.js":"tree"}],CSlS:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){f.shared.expire()}function o(t,e){return t.zIndex-e.zIndex}Object.defineProperty(n,"__esModule",{value:!0}),n.sortByZIndex=o,n["default"]=void 0;var a=t("../util.js"),s=i(t("../Disposable.js")),l=t("../events.js"),u=i(t("../events/EventType.js")),c=t("../extent.js"),d=t("../functions.js"),h=t("../layer/Layer.js"),f=t("../style/IconImageCache.js"),p=t("../transform.js"),m=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){(0,a["abstract"])()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;(0,p.compose)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,p.invert)((0,p.setFromArray)(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){function l(t,n){var o=e.layerStates[(0,a.getUid)(n)].managed;if(!((0,a.getUid)(t)in e.skippedFeatureUids)||o)return i.call(r,t,o?n:null)}var u,d=e.viewState,f=d.resolution,p=d.projection,m=t;if(p.canWrapX()){var g=p.getExtent(),v=(0,c.getWidth)(g),y=t[0];(y<g[0]||y>g[2])&&(m=[y+v*Math.ceil((g[0]-y)/v),t[1]])}var _,b=e.layerStatesArray;for(_=b.length-1;_>=0;--_){var E=b[_],x=E.layer;if((0,h.visibleAtResolution)(E,f)&&o.call(s,x)){var C=this.getLayerRenderer(x),T=x.getSource();if(T&&(u=C.forEachFeatureAtCoordinate(T.getWrapX()?m:t,e,n,l)),u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){return(0,a["abstract"])()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,d.TRUE,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=(0,a.getUid)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var o=this.layerRendererConstructors_[i];if(o.handles(t)){n=o.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=(0,l.listen)(n,u["default"].CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],(0,l.unlistenByKey)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){(0,a["abstract"])()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(r)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(s["default"]),g=m;n["default"]=g},{"../util.js":"YOqM","../Disposable.js":"Kusu","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","../functions.js":"guaG","../layer/Layer.js":"QsxU","../style/IconImageCache.js":"Xwj5","../transform.js":"glB6"}],GpCO:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.layerRendererConstructors=void 0;var a=t("../../transform.js"),s=t("../../array.js"),l=t("../../css.js"),u=t("../../dom.js"),c=t("../../layer/Layer.js"),d=o(t("../../render/Event.js")),h=o(t("../../render/EventType.js")),f=t("../../render/canvas.js"),p=o(t("../../render/canvas/Immediate.js")),m=r(t("../Map.js")),g=o(t("../../source/State.js")),v=[];n.layerRendererConstructors=v;var y=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=(0,u.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=l.CLASS_UNSELECTABLE,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,a.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new p["default"](i,o,r,s,a),u=new d["default"](t,l,e,i,null);n.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,l=-e.center[0],u=-e.center[1];return(0,a.compose)(this.transform_,n,i,r,o,s,l,u)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(h["default"].PRECOMPOSE,t);var a=t.layerStatesArray;(0,s.stableSort)(a,m.sortByZIndex),o&&(e.save(),(0,f.rotateAtOffset)(e,o,i/2,r/2));var l,u,d=t.viewState.resolution;for(l=0,u=a.length;l<u;++l){var p=a[l],v=p.layer,y=this.getLayerRenderer(v);(0,c.visibleAtResolution)(p,d)&&p.sourceState==g["default"].READY&&y.prepareFrame(t,p)&&y.composeFrame(t,p,e)}o&&e.restore(),this.dispatchRenderEvent(h["default"].POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var l,u,d=e.viewState.resolution,h=e.layerStatesArray,f=h.length,p=(0,a.apply)(e.pixelToCoordinateTransform,t.slice());for(u=f-1;u>=0;--u){var m=h[u],g=m.layer;if((0,c.visibleAtResolution)(m,d)&&o.call(s,g)&&(l=this.getLayerRenderer(g).forEachLayerAtCoordinate(p,e,n,i,r)))return l}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];(0,s.includes)(v,r)||v.push(r)}},e}(m["default"]),_=y;n["default"]=_},{"../../transform.js":"glB6","../../array.js":"Z5sL","../../css.js":"K4Xi","../../dom.js":"fRxd","../../layer/Layer.js":"QsxU","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/canvas.js":"OT1O","../../render/canvas/Immediate.js":"HWQX","../Map.js":"CSlS","../../source/State.js":"PNQw"}],I2tc:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../ImageState.js")),a=i(t("../Observable.js")),s=i(t("../TileState.js")),l=t("../events.js"),u=i(t("../events/EventType.js")),c=i(t("../source/State.js")),d=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===o["default"].LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=o["default"].LOADED&&e!=o["default"].ERROR&&(0,l.listen)(t,u["default"].CHANGE,this.handleImageChange_,this),e==o["default"].IDLE&&(t.load(),e=t.getState()),e==o["default"].LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==c["default"].READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=(0,r.getUid)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,i){var o=(0,r.getUid)(e),a=n.toString();o in t?a in t[o]?t[o][a].extend(i):t[o][a]=i:(t[o]={},t[o][a]=i)},e.prototype.manageTilePyramid=function(t,e,n,i,o,a,l,u,c,d){var h=(0,r.getUid)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,m,g,v,y,_=t.wantedTiles[h],b=t.tileQueue;for(y=n.getMinZoom();y<=l;++y)for(p=n.getTileRangeForExtentAndZ(a,y,p),m=n.getResolution(y),g=p.minX;g<=p.maxX;++g)for(v=p.minY;v<=p.maxY;++v)l-y<=u?((f=e.getTile(y,g,v,i,o)).getState()==s["default"].IDLE&&(_[f.getKey()]=!0,b.isKeyQueued(f.getKey())||b.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),m])),void 0!==c&&c.call(d,f)):e.useTile(y,g,v,o)},e}(a["default"]),h=d;n["default"]=h},{"../util.js":"YOqM","../ImageState.js":"iN8L","../Observable.js":"QniN","../TileState.js":"gwpL","../events.js":"Bvf5","../events/EventType.js":"eKq7","../source/State.js":"PNQw"}],qulh:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../extent.js"),a=t("../../functions.js"),s=i(t("../../render/Event.js")),l=i(t("../../render/EventType.js")),u=t("../../render/canvas.js"),c=i(t("../../render/canvas/Immediate.js")),d=i(t("../Layer.js")),h=t("../../transform.js"),f=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=(0,h.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,a=e.size[1]*i,s=e.viewState.rotation,l=(0,o.getTopLeft)(n),c=(0,o.getTopRight)(n),d=(0,o.getBottomRight)(n),f=(0,o.getBottomLeft)(n);(0,h.apply)(e.coordinateToPixelTransform,l),(0,h.apply)(e.coordinateToPixelTransform,c),(0,h.apply)(e.coordinateToPixelTransform,d),(0,h.apply)(e.coordinateToPixelTransform,f),t.save(),(0,u.rotateAtOffset)(t,-s,r/2,a/2),t.beginPath(),t.moveTo(l[0]*i,l[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(d[0]*i,d[1]*i),t.lineTo(f[0]*i,f[1]*i),t.clip(),(0,u.rotateAtOffset)(t,s,r/2,a/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,l=n.viewState.rotation;(0,u.rotateAtOffset)(e,-l,o/2,a/2);var d=void 0!==i?i:this.getTransform(n,0),h=new c["default"](e,n.pixelRatio,n.extent,d,n.viewState.rotation),f=new s["default"](t,h,n,e,null);r.dispatchEvent(f),(0,u.rotateAtOffset)(e,l,o/2,a/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,a.TRUE)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(l["default"].POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(l["default"].PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(l["default"].RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,a=i/n.resolution,s=-a,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return(0,h.compose)(this.transform_,r,o,a,s,l,u,c)},e.prototype.composeFrame=function(t,e,n){(0,r["abstract"])()},e.prototype.prepareFrame=function(t,e){return(0,r["abstract"])()},e}(d["default"]),p=f;n["default"]=p},{"../../util.js":"YOqM","../../extent.js":"IwSU","../../functions.js":"guaG","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/canvas.js":"OT1O","../../render/canvas/Immediate.js":"HWQX","../Layer.js":"I2tc","../../transform.js":"glB6"}],mDMG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../coordinate.js"),a=t("../../dom.js"),s=t("../../extent.js"),l=i(t("./Layer.js")),u=t("../../transform.js"),c=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=(0,u.create)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!(0,s.containsExtent)(r,t.extent)&&(0,s.intersects)(r,t.extent);o&&this.clip(n,t,r);var a=this.getImageTransform(),l=n.globalAlpha;n.globalAlpha=e.opacity;var u=a[4],c=a[5],d=i.width*a[0],h=i.height*a[3];d>=.5&&h>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(c),Math.round(d),Math.round(h)),n.globalAlpha=l,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return(0,r["abstract"])()},e.prototype.getImageTransform=function(){return(0,r["abstract"])()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var s=(0,u.apply)(this.coordinateToCanvasPixelTransform,t.slice());(0,o.scale)(s,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),s[0],s[1],1,1,0,0,1,1);var l=this.hitCanvasContext_.getImageData(0,0,1,1).data;return l[3]>0?i.call(r,this.getLayer(),l):void 0}},e}(l["default"]),d=c;n["default"]=d},{"../../util.js":"YOqM","../../coordinate.js":"HxRU","../../dom.js":"fRxd","../../extent.js":"IwSU","./Layer.js":"qulh","../../transform.js":"glB6"}],zBfK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../reproj/common.js"),o=i(t("../../ImageCanvas.js")),a=i(t("../../LayerType.js")),s=i(t("../../ViewHint.js")),l=t("../../array.js"),u=t("../../extent.js"),c=i(t("../../layer/VectorRenderType.js")),d=t("../../obj.js"),h=t("./Map.js"),f=i(t("./IntermediateCanvas.js")),p=t("../../transform.js"),m=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=(0,p.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===a["default"].VECTOR)for(var i=0,r=h.layerRendererConstructors.length;i<r;++i){var o=h.layerRendererConstructors[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),
e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,a=t.size,c=t.viewState,h=c.center,f=c.resolution,m=this.getLayer().getSource(),g=t.viewHints,v=this.vectorRenderer_,y=t.extent;if(v||void 0===e.extent||(y=(0,u.getIntersection)(y,e.extent)),!g[s["default"].ANIMATING]&&!g[s["default"].INTERACTING]&&!(0,u.isEmpty)(y)){var _=c.projection;if(!r.ENABLE_RASTER_REPROJECTION){var b=m.getProjection();b&&(_=b)}var E=this.skippedFeatures_;if(v){var x=v.context,C=(0,d.assign)({},t,{size:[(0,u.getWidth)(y)/f,(0,u.getHeight)(y)/f],viewState:(0,d.assign)({},t.viewState,{rotation:0})}),T=Object.keys(C.skippedFeatureUids).sort();n=new o["default"](y,f,i,x.canvas,function(t){!v.prepareFrame(C,e)||!v.replayGroupChanged&&(0,l.equals)(E,T)||(x.canvas.width=C.size[0]*i,x.canvas.height=C.size[1]*i,v.compose(x,C,e),E=T,t())})}else n=m.getImage(y,f,i,_);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=E)}if(this.image_){var w=(n=this.image_).getExtent(),S=n.getResolution(),M=n.getPixelRatio(),j=i*S/(f*M),O=(0,p.compose)(this.imageTransform_,i*a[0]/2,i*a[1]/2,j,j,0,M*(w[0]-h[0])/S,M*(h[1]-w[3])/S);(0,p.compose)(this.coordinateToCanvasPixelTransform,i*a[0]/2-O[4],i*a[1]/2-O[5],i/f,-i/f,0,-h[0],-h[1]),this.renderedResolution=S*i/M}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(f["default"]);m.handles=function(t){return t.getType()===a["default"].IMAGE||t.getType()===a["default"].VECTOR&&t.getRenderMode()===c["default"].IMAGE},m.create=function(t,e){return new m(e)};var g=m;n["default"]=g},{"../../reproj/common.js":"gSGW","../../ImageCanvas.js":"r5gb","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../array.js":"Z5sL","../../extent.js":"IwSU","../../layer/VectorRenderType.js":"QlH5","../../obj.js":"qC1c","./Map.js":"GpCO","./IntermediateCanvas.js":"mDMG","../../transform.js":"glB6"}],e8gP:[function(t,e,n){"use strict";function i(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)}Object.defineProperty(n,"__esModule",{value:!0}),n.createOrUpdate=i,n["default"]=void 0;var r=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var o=r;n["default"]=o},{}],QmME:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../LayerType.js")),a=i(t("../../TileRange.js")),s=i(t("../../TileState.js")),l=i(t("../../ViewHint.js")),u=t("../../dom.js"),c=t("../../extent.js"),d=i(t("./IntermediateCanvas.js")),h=t("../../transform.js"),f=function(t){function e(e,n){t.call(this,e),this.context=n?null:(0,u.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,c.createEmpty)(),this.tmpTileRange_=new a["default"](0,0,0,0),this.imageTransform_=(0,h.create)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==s["default"].LOADED||n==s["default"].EMPTY||n==s["default"].ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),a=o.getSource().getTile(t,e,n,i,r);return a.getState()==s["default"].ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):a.setState(s["default"].LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,o=t.viewState,a=o.projection,u=o.resolution,d=o.center,f=this.getLayer(),p=f.getSource(),m=p.getRevision(),g=p.getTileGridForProjection(a),v=g.getZForResolution(u,this.zDirection),y=g.getResolution(v),_=Math.round(u/y)||1,b=t.extent;if(void 0!==e.extent&&(b=(0,c.getIntersection)(b,e.extent)),(0,c.isEmpty)(b))return!1;var E=g.getTileRangeForExtentAndZ(b,v),x=g.getTileRangeExtent(v,E),C=p.getTilePixelRatio(n),T={};T[v]={};var w,S,M,j=this.createLoadedTileFinder(p,a,T),O=t.viewHints,A=O[l["default"].ANIMATING]||O[l["default"].INTERACTING],R=this.tmpExtent,P=this.tmpTileRange_;for(this.newTiles_=!1,S=E.minX;S<=E.maxX;++S)for(M=E.minY;M<=E.maxY;++M)if(!(Date.now()-t.time>16&&A)){if(w=this.getTile(v,S,M,n,a),this.isDrawableTile_(w)){var I=(0,r.getUid)(this);if(w.getState()==s["default"].LOADED){T[v][w.tileCoord.toString()]=w;var L=w.inTransition(I);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(w)||(this.newTiles_=!0)}if(1===w.getAlpha(I,t.time))continue}var k=g.getTileCoordChildTileRange(w.tileCoord,P,R),D=!1;k&&(D=j(v+1,k)),D||g.forEachTileCoordParentTileRange(w.tileCoord,j,null,P,R)}var N=y*n/C*_;if(!(this.renderedResolution&&Date.now()-t.time>16&&A)&&(this.newTiles_||!this.renderedExtent_||!(0,c.containsExtent)(this.renderedExtent_,b)||this.renderedRevision!=m||_!=this.oversampling_||!A&&N!=this.renderedResolution)){var F=this.context;if(F){var $=p.getTilePixelSize(v,n,a),G=Math.round(E.getWidth()*$[0]/_),U=Math.round(E.getHeight()*$[1]/_),B=F.canvas;B.width!=G||B.height!=U?(this.oversampling_=_,B.width=G,B.height=U):((this.renderedExtent_&&!(0,c.equals)(x,this.renderedExtent_)||this.renderedRevision!=m)&&F.clearRect(0,0,G,U),_=this.oversampling_)}this.renderedTiles.length=0;var H,V,z,W,q,Y,K,X,J,Z,Q=Object.keys(T).map(Number);for(Q.sort(function(t,e){return t===v?1:e===v?-1:t>e?1:t<e?-1:0}),W=0,q=Q.length;W<q;++W)for(var tt in z=Q[W],V=p.getTilePixelSize(z,n,a),H=g.getResolution(z)/y,K=C*p.getGutterForProjection(a),X=T[z])w=X[tt],S=((Y=g.getTileCoordExtent(w.getTileCoord(),R))[0]-x[0])/y*C/_,M=(x[3]-Y[3])/y*C/_,J=V[0]*H/_,Z=V[1]*H/_,this.drawTileImage(w,t,e,S,M,J,Z,K,v===z),this.renderedTiles.push(w);this.renderedRevision=m,this.renderedResolution=y*n/C*_,this.renderedExtent_=x}var et=this.renderedResolution/u,nt=(0,h.compose)(this.imageTransform_,n*i[0]/2,n*i[1]/2,et,et,0,(this.renderedExtent_[0]-d[0])/this.renderedResolution*n,(d[1]-this.renderedExtent_[3])/this.renderedResolution*n);return(0,h.compose)(this.coordinateToCanvasPixelTransform,n*i[0]/2-nt[4],n*i[1]/2-nt[5],n/u,-n/u,0,-d[0],-d[1]),this.updateUsedTiles(t.usedTiles,p,v,E),this.manageTilePyramid(t,p,g,n,a,b,v,f.getPreload()),this.scheduleExpireCache(t,p),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,i,o,a,s,l,u){var c=this.getTileImage(t);if(c){var d=(0,r.getUid)(this),h=u?t.getAlpha(d,e.time):1,f=this.getLayer().getSource();1!==h||f.getOpaque(e.viewState.projection)||this.context.clearRect(i,o,a,s);var p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,i,o,a,s),p&&this.context.restore(),1!==h?e.animate=!0:u&&t.endTransition(d)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(d["default"]);f.handles=function(t){return t.getType()===o["default"].TILE},f.create=function(t,e){return new f(e)},f.prototype.getLayer;var p=f;n["default"]=p},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../TileRange.js":"e8gP","../../TileState.js":"gwpL","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../extent.js":"IwSU","./IntermediateCanvas.js":"mDMG","../../transform.js":"glB6"}],SCQ4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(){};r.prototype.getReplay=function(t,e){return(0,i["abstract"])()},r.prototype.isEmpty=function(){return(0,i["abstract"])()},r.prototype.addDeclutter=function(t){return(0,i["abstract"])()};var o=r;n["default"]=o},{"../util.js":"YOqM"}],I0Hp:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};n["default"]=i},{}],KCE9:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,s,l){for(var u,c,d,h=[],f=t[e]>t[n-i],p=o.length,m=t[e],g=t[e+1],v=t[e+=i],y=t[e+1],_=0,b=Math.sqrt(Math.pow(v-m,2)+Math.pow(y-g,2)),E="",x=0,C=0;C<p;++C){c=f?p-C-1:C;var T=o.charAt(c),w=a(E=f?T+E:E+T)-x;x+=w;for(var S=s+w/2;e<n-i&&_+b<S;)m=v,g=y,v=t[e+=i],y=t[e+1],_+=b,b=Math.sqrt(Math.pow(v-m,2)+Math.pow(y-g,2));var M=S-_,j=Math.atan2(y-g,v-m);if(f&&(j+=j>0?-Math.PI:Math.PI),void 0!==d){var O=j-d;if(O+=O>Math.PI?-2*Math.PI:O<-Math.PI?2*Math.PI:0,Math.abs(O)>l)return null}var A=M/b,R=(0,r.lerp)(m,v,A),P=(0,r.lerp)(g,y,A);d==j?(f&&(u[0]=R,u[1]=P,u[2]=w/2),u[4]=E):(x=w,u=[R,P,w/2,j,E=T],f?h.unshift(u):h.push(u),d=j),s+=w}return h}Object.defineProperty(n,"__esModule",{value:!0}),n.drawTextOnPath=i;var r=t("../../math.js")},{"../../math.js":"RK1r"}],b4rC:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.closePathInstruction=n.beginPathInstruction=n.strokeInstruction=n.fillInstruction=void 0;var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL];n.fillInstruction=r;var o=[i.STROKE];n.strokeInstruction=o;var a=[i.BEGIN_PATH];n.beginPathInstruction=a;var s=[i.CLOSE_PATH];n.closePathInstruction=s;var l=i;n["default"]=l},{}],v69V:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_ALIGN=n.ORDER=void 0;var r=i(t("./ReplayType.js")),o=[r["default"].POLYGON,r["default"].CIRCLE,r["default"].LINE_STRING,r["default"].IMAGE,r["default"].TEXT,r["default"].DEFAULT];n.ORDER=o;var a={};n.TEXT_ALIGN=a,a.left=0,a.end=0,a.center=.5,a.right=1,a.start=1,a.top=0,a.middle=.5,a.hanging=.2,a.alphabetic=.8,a.ideographic=.8,a.bottom=1},{"./ReplayType.js":"I0Hp"}],FHwz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../colorlike.js"),s=t("../../extent.js"),l=i(t("../../extent/Relationship.js")),u=i(t("../../geom/GeometryType.js")),c=t("../../geom/flat/inflate.js"),d=t("../../geom/flat/length.js"),h=t("../../geom/flat/textpath.js"),f=t("../../geom/flat/transform.js"),p=t("../../has.js"),m=t("../../obj.js"),g=i(t("../VectorContext.js")),v=t("../canvas.js"),y=i(t("./Instruction.js")),_=t("../replay.js"),b=t("../../transform.js"),E=(0,s.createEmpty)(),x=(0,b.create)(),C=function(t){function e(e,n,i,r,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,b.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,a,l,u,c,d,h,f,p,m,g,y,_){var C=y||_;e-=r*=f,n-=o*=f;var T,w,S,M,j=m+c>i.width?i.width-c:m,O=l+d>i.height?i.height-d:l,A=g[3]+j*f+g[1],R=g[0]+O*f+g[2],P=e-g[3],I=n-g[0];(C||0!==h)&&(T=[P,I],w=[P+A,I],S=[P+A,I+R],M=[P,I+R]);var L=null;if(0!==h){var k=e+r,D=n+o;L=(0,b.compose)(x,k,D,1,1,h,-k,-D),(0,s.createOrUpdateEmpty)(E),(0,s.extendCoordinate)(E,(0,b.apply)(x,T)),(0,s.extendCoordinate)(E,(0,b.apply)(x,w)),(0,s.extendCoordinate)(E,(0,b.apply)(x,S)),(0,s.extendCoordinate)(E,(0,b.apply)(x,M))}else(0,s.createOrUpdate)(P,I,P+A,I+R,E);var N=t.canvas,F=_?_[2]*f/2:0,$=E[0]-F<=N.width&&E[2]+F>=0&&E[1]-F<=N.height&&E[3]+F>=0;if(p&&(e=Math.round(e),n=Math.round(n)),a){if(!$&&1==a[4])return;(0,s.extend)(a,E);var G=$?[t,L?L.slice(0):null,u,i,c,d,j,O,e,n,f]:null;G&&C&&G.push(y,_,T,w,S,M),a.push(G)}else $&&(C&&this.replayTextBackground_(t,T,w,S,M,y,_),(0,v.drawImage)(t,L,u,i,c,d,j,O,e,n,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var a=this.coordinates.length,u=this.getBufferedMaxExtent();o&&(e+=i);var c,d,h,f=[t[e],t[e+1]],p=[NaN,NaN],m=!0;for(c=e+i;c<n;c+=i)p[0]=t[c],p[1]=t[c+1],(h=(0,s.coordinateRelationship)(u,p))!==d?(m&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],m=!1):h===l["default"].INTERSECTING?(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],m=!1):m=!0,f[0]=p[0],f[1]=p[1],d=h;return(r&&m||c===e+i)&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,a,s,l=t.getType(),d=t.getStride(),h=this.coordinates.length;if(l==u["default"].MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var f=t.getEndss();s=0;for(var p=0,m=f.length;p<m;++p){var g=[];s=this.drawCustomCoordinates_(i,s,f[p],d,g),a.push(g)}this.instructions.push([y["default"].CUSTOM,h,a,t,n,c.inflateMultiCoordinatesArray])}else l==u["default"].POLYGON||l==u["default"].MULTI_LINE_STRING?(o=[],i=l==u["default"].POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),d,o),this.instructions.push([y["default"].CUSTOM,h,o,t,n,c.inflateCoordinatesArray])):l==u["default"].LINE_STRING||l==u["default"].MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,d,!1,!1),this.instructions.push([y["default"].CUSTOM,h,r,t,n,c.inflateCoordinates])):l==u["default"].POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([y["default"].CUSTOM,h,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[y["default"].BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[y["default"].BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,b.apply)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,v.resetTransform)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],p.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var a=t[r];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),v.drawImage.apply(void 0,a))}}t.length=5,(0,s.createOrUpdateEmpty)(t)}}},e.prototype.replay_=function(t,e,n,i,a,l,u){var c;this.pixelCoordinates_&&(0,o.equals)(e,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=(0,f.transform2D)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,b.setFromArray)(this.renderedTransform_,e));for(var p,g,E,x,C,T,w,S,M,j,O,A,R=!(0,m.isEmpty)(n),P=0,I=i.length,L=0,k=0,D=0,N=null,F=null,$=this.coordinateCache_,G=this.viewRotation_,U={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:G},B=this.instructions!=i||this.overlaps?0:200;P<I;){var H=i[P];switch(H[0]){case y["default"].BEGIN_GEOMETRY:j=H[1],R&&n[(0,r.getUid)(j)]||!j.getGeometry()?P=H[2]:void 0===u||(0,s.intersects)(u,j.getGeometry().getExtent())?++P:P=H[2]+1;break;case y["default"].BEGIN_PATH:k>B&&(this.fill_(t),k=0),D>B&&(t.stroke(),D=0),k||D||(t.beginPath(),x=C=NaN),++P;break;case y["default"].CIRCLE:var V=c[L=H[1]],z=c[L+1],W=c[L+2]-V,q=c[L+3]-z,Y=Math.sqrt(W*W+q*q);t.moveTo(V+Y,z),t.arc(V,z,Y,0,2*Math.PI,!0),++P;break;case y["default"].CLOSE_PATH:t.closePath(),++P;break;case y["default"].CUSTOM:L=H[1],p=H[2];var K=H[3],X=H[4],J=6==H.length?H[5]:void 0;U.geometry=K,U.feature=j,P in $||($[P]=[]);var Z=$[P];J?J(c,L,p,2,Z):(Z[0]=c[L],Z[1]=c[L+1],Z.length=2),X(Z,U),++P;break;case y["default"].DRAW_IMAGE:L=H[1],p=H[2],M=H[3],g=H[4],E=H[5],S=l?null:H[6];var Q=H[7],tt=H[8],et=H[9],nt=H[10],it=H[11],rt=H[12],ot=H[13],at=H[14],st=void 0,lt=void 0,ut=void 0;for(H.length>16?(st=H[15],lt=H[16],ut=H[17]):(st=v.defaultPadding,lt=ut=!1),it&&(rt+=G);L<p;L+=2)this.replayImage_(t,c[L],c[L+1],M,g,E,S,Q,tt,et,nt,rt,ot,a,at,st,lt?N:null,ut?F:null);this.renderDeclutter_(S,j),++P;break;case y["default"].DRAW_CHARS:var ct=H[1],dt=H[2],ht=H[3];S=l?null:H[4];var ft=H[5],pt=H[6],mt=H[7],gt=H[8],vt=H[9],yt=H[10],_t=H[11],bt=H[12],Et=H[13],xt=H[14],Ct=(0,d.lineStringLength)(c,ct,dt,2),Tt=gt(bt);if(ft||Tt<=Ct){var wt=this.textStates[Et].textAlign,St=(Ct-Tt)*_.TEXT_ALIGN[wt],Mt=(0,h.drawTextOnPath)(c,ct,dt,2,bt,gt,St,mt);if(Mt){var jt=void 0,Ot=void 0,At=void 0,Rt=void 0,Pt=void 0;if(yt)for(jt=0,Ot=Mt.length;jt<Ot;++jt)At=(Pt=Mt[jt])[4],Rt=this.getImage(At,Et,"",yt),g=Pt[2]+_t,E=ht*Rt.height+2*(.5-ht)*_t-vt,this.replayImage_(t,Pt[0],Pt[1],Rt,g,E,S,Rt.height,1,0,0,Pt[3],xt,!1,Rt.width,v.defaultPadding,null,null);if(pt)for(jt=0,Ot=Mt.length;jt<Ot;++jt)At=(Pt=Mt[jt])[4],Rt=this.getImage(At,Et,pt,""),g=Pt[2],E=ht*Rt.height-vt,this.replayImage_(t,Pt[0],Pt[1],Rt,g,E,S,Rt.height,1,0,0,Pt[3],xt,!1,Rt.width,v.defaultPadding,null,null)}}this.renderDeclutter_(S,j),++P;break;case y["default"].END_GEOMETRY:if(void 0!==l){var It=l(j=H[1]);if(It)return It}++P;break;case y["default"].FILL:B?k++:this.fill_(t),++P;break;case y["default"].MOVE_TO_LINE_TO:for(L=H[1],p=H[2],O=c[L],w=(A=c[L+1])+.5|0,(T=O+.5|0)===x&&w===C||(t.moveTo(O,A),x=T,C=w),L+=2;L<p;L+=2)T=(O=c[L])+.5|0,w=(A=c[L+1])+.5|0,L!=p-2&&T===x&&w===C||(t.lineTo(O,A),x=T,C=w);++P;break;case y["default"].SET_FILL_STYLE:N=H,this.alignFill_=H[2],k&&(this.fill_(t),k=0,D&&(t.stroke(),D=0)),t.fillStyle=H[1],++P;break;case y["default"].SET_STROKE_STYLE:F=H,D&&(t.stroke(),D=0),this.setStrokeStyle_(t,H),++P;break;case y["default"].STROKE:B?D++:t.stroke(),++P;break;default:++P}}k&&this.fill_(t),D&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,a=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==y["default"].END_GEOMETRY?a=t:i==y["default"].BEGIN_GEOMETRY&&(n[2]=t,(0,o.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=(0,a.asColorLike)(i||v.defaultFillStyle)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=(0,a.asColorLike)(r||v.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:v.defaultLineCap;var s=e.getLineDash();n.lineDash=s?s.slice():v.defaultLineDash;var l=e.getLineDashOffset();n.lineDashOffset=l||v.defaultLineDashOffset;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:v.defaultLineJoin;var c=e.getWidth();n.lineWidth=void 0!==c?c:v.defaultLineWidth;var d=e.getMiterLimit();n.miterLimit=void 0!==d?d:v.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[y["default"].SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[y["default"].SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!(0,o.equals)(t.currentLineDash,r)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[y["default"].END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,s.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,s.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(g["default"]),T=C;n["default"]=T},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../colorlike.js":"GezW","../../extent.js":"IwSU","../../extent/Relationship.js":"kaLu","../../geom/GeometryType.js":"naLT","../../geom/flat/inflate.js":"a4id","../../geom/flat/length.js":"ofva","../../geom/flat/textpath.js":"KCE9","../../geom/flat/transform.js":"CVNs","../../has.js":"lDpN","../../obj.js":"qC1c","../VectorContext.js":"lYEk","../canvas.js":"OT1O","./Instruction.js":"b4rC","../replay.js":"v69V","../../transform.js":"glB6"}],CZXM:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./Instruction.js")),o=i(t("./Replay.js")),a=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r["default"].DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r["default"].DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r["default"].DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r["default"].DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(o["default"]),s=a;n["default"]=s},{"./Instruction.js":"b4rC","./Replay.js":"FHwz"}],xmdu:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("./Instruction.js")),s=i(t("./Replay.js")),l=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[a["default"].MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],a.beginPathInstruction);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a.strokeInstruction),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],a.beginPathInstruction);for(var o=t.getEnds(),s=t.getFlatCoordinates(),l=t.getStride(),u=0,c=0,d=o.length;c<d;++c)u=this.drawFlatCoordinates_(s,u,o[c],l);this.hitDetectionInstructions.push(a.strokeInstruction),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(a.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(a.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(a.beginPathInstruction)},e}(s["default"]),u=l;n["default"]=u},{"./Instruction.js":"b4rC","./Replay.js":"FHwz"}],L30l:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../../color.js"),s=t("../../geom/flat/simplify.js"),l=t("../canvas.js"),u=o(t("./Instruction.js")),c=i(t("./Replay.js")),d=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,a=null!=r.strokeStyle,s=n.length;this.instructions.push(u.beginPathInstruction),this.hitDetectionInstructions.push(u.beginPathInstruction);for(var l=0;l<s;++l){var c=n[l],d=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,i,!0,!a),f=[u["default"].MOVE_TO_LINE_TO,d,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(u.closePathInstruction),this.hitDetectionInstructions.push(u.closePathInstruction)),e=c}return o&&(this.instructions.push(u.fillInstruction),this.hitDetectionInstructions.push(u.fillInstruction)),a&&(this.instructions.push(u.strokeInstruction),this.hitDetectionInstructions.push(u.strokeInstruction)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,(0,a.asString)(l.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),c=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var d=[u["default"].CIRCLE,c];this.instructions.push(u.beginPathInstruction,d),
this.hitDetectionInstructions.push(u.beginPathInstruction,d),this.hitDetectionInstructions.push(u.fillInstruction),void 0!==n.fillStyle&&this.instructions.push(u.fillInstruction),void 0!==n.strokeStyle&&(this.instructions.push(u.strokeInstruction),this.hitDetectionInstructions.push(u.strokeInstruction)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,(0,a.asString)(l.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(s,0,o,c),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,(0,a.asString)(l.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),c=t.getStride(),d=0,h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(s,d,o[h],c);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=(0,s.snap)(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(c["default"]),h=d;n["default"]=h},{"../../color.js":"tree","../../geom/flat/simplify.js":"y5ZM","../canvas.js":"OT1O","./Instruction.js":"b4rC","./Replay.js":"FHwz"}],Qd3q:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p=n,m=n,g=0,v=0,y=n;for(o=n;o<i;o+=r){var _=e[o],b=e[o+1];void 0!==l&&(h=_-l,f=b-u,s=Math.sqrt(h*h+f*f),void 0!==c&&(v+=a,Math.acos((c*h+d*f)/(a*s))>t&&(v>g&&(g=v,p=y,m=o),v=0,y=o-r)),a=s,c=h,d=f),l=_,u=b}return(v+=s)>g?[y,o]:[p,m]}Object.defineProperty(n,"__esModule",{value:!0}),n.matchingChunk=i},{}],t7pG:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINT:"point",LINE:"line"};n["default"]=i},{}],hP4r:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var a=(0,h.measureTextWidth)(t,e[o]);r=Math.max(r,a),n.push(a)}return r}Object.defineProperty(n,"__esModule",{value:!0}),n.measureTextWidths=r,n["default"]=void 0;var o=t("../../util.js"),a=t("../../colorlike.js"),s=t("../../dom.js"),l=t("../../extent.js"),u=t("../../geom/flat/straightchunk.js"),c=i(t("../../geom/GeometryType.js")),d=t("../../has.js"),h=t("../canvas.js"),f=i(t("./Instruction.js")),p=i(t("./Replay.js")),m=t("../replay.js"),g=i(t("../../style/TextPlacement.js")),v=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},h.labelCache.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,a,s=this.coordinates.length,d=t.getType(),h=null,f=2,p=2;if(r.placement===g["default"].LINE){if(!(0,l.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var m;if(h=t.getFlatCoordinates(),p=t.getStride(),d==c["default"].LINE_STRING)m=[h.length];else if(d==c["default"].MULTI_LINE_STRING)m=t.getEnds();else if(d==c["default"].POLYGON)m=t.getEnds().slice(0,1);else if(d==c["default"].MULTI_POLYGON){var v=t.getEndss();for(m=[],o=0,a=v.length;o<a;++o)m.push(v[o][0])}this.beginGeometry(t,e);for(var y,_=r.textAlign,b=0,E=0,x=m.length;E<x;++E){if(null==_){var C=(0,u.matchingChunk)(r.maxAngle,h,b,m[E],p);b=C[0],y=C[1]}else y=m[E];for(o=b;o<y;o+=p)this.coordinates.push(h[o],h[o+1]);f=this.coordinates.length,b=m[E],this.drawChars_(s,f,this.declutterGroup_),s=f}this.endGeometry(t,e)}else{var T=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),w=T.width/this.pixelRatio;switch(d){case c["default"].POINT:case c["default"].MULTI_POINT:f=(h=t.getFlatCoordinates()).length;break;case c["default"].LINE_STRING:h=t.getFlatMidpoint();break;case c["default"].CIRCLE:h=t.getCenter();break;case c["default"].MULTI_LINE_STRING:f=(h=t.getFlatMidpoints()).length;break;case c["default"].POLYGON:if(h=t.getFlatInteriorPoint(),!r.overflow&&h[2]/this.resolution<w)return;p=3;break;case c["default"].MULTI_POLYGON:var S=t.getFlatInteriorPoints();for(h=[],o=0,a=S.length;o<a;o+=3)(r.overflow||S[o+2]/this.resolution>=w)&&h.push(S[o],S[o+1]);if(0==(f=h.length))return}f=this.appendFlatCoordinates(h,0,f,p,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(T,s,f),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var o,a=i+e+t+n+this.pixelRatio;if(!h.labelCache.containsKey(a)){var l=i?this.strokeStates[i]||this.textStrokeState_:null,u=n?this.fillStates[n]||this.textFillState_:null,c=this.textStates[e]||this.textState_,f=this.pixelRatio,p=c.scale*f,g=m.TEXT_ALIGN[c.textAlign||h.defaultTextAlign],v=i&&l.lineWidth?l.lineWidth:0,y=t.split("\n"),_=y.length,b=[],E=r(c.font,y,b),x=(0,h.measureTextHeight)(c.font),C=x*_,T=E+v,w=(0,s.createCanvasContext2D)(Math.ceil(T*p),Math.ceil((C+v)*p));o=w.canvas,h.labelCache.set(a,o),1!=p&&w.scale(p,p),w.font=c.font,i&&(w.strokeStyle=l.strokeStyle,w.lineWidth=v,w.lineCap=l.lineCap,w.lineJoin=l.lineJoin,w.miterLimit=l.miterLimit,d.CANVAS_LINE_DASH&&l.lineDash.length&&(w.setLineDash(l.lineDash),w.lineDashOffset=l.lineDashOffset)),n&&(w.fillStyle=u.fillStyle),w.textBaseline="middle",w.textAlign="center";var S,M=.5-g,j=g*o.width/p+M*v;if(i)for(S=0;S<_;++S)w.strokeText(y[S],j+M*b[S],.5*(v+x)+S*x);if(n)for(S=0;S<_;++S)w.fillText(y[S],j+M*b[S],.5*(v+x)+S*x)}return h.labelCache.get(a)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,a=m.TEXT_ALIGN[i.textAlign||h.defaultTextAlign],s=m.TEXT_ALIGN[i.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,c=s*t.height/o+2*(.5-s)*l;this.instructions.push([f["default"].DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==h.defaultPadding?h.defaultPadding:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([f["default"].DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,a=this.strokeKey_;i&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||h.defaultTextAlign,scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=m.TEXT_ALIGN[r.textBaseline],d=this.textOffsetY_*u,p=this.text_,g=r.font,v=r.scale,y=i?i.lineWidth*v/2:0,_=this.widths_[g];_||(this.widths_[g]=_={}),this.instructions.push([f["default"].DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=_[t];return e||(e=_[t]=(0,h.measureTextWidth)(g,t)),e*v*u},d,a,y*u,p,s,1]),this.hitDetectionInstructions.push([f["default"].DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=_[t];return e||(e=_[t]=(0,h.measureTextWidth)(g,t)),e*v},d,a,y,p,s,1/u])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var s=t.getFill();s?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=(0,a.asColorLike)(s.getColor()||h.defaultFillStyle)):i=this.textFillState_=null;var l=t.getStroke();if(l){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var u=l.getLineDash(),c=l.getLineDashOffset(),d=l.getWidth(),f=l.getMiterLimit();r.lineCap=l.getLineCap()||h.defaultLineCap,r.lineDash=u?u.slice():h.defaultLineDash,r.lineDashOffset=void 0===c?h.defaultLineDashOffset:c,r.lineJoin=l.getLineJoin()||h.defaultLineJoin,r.lineWidth=void 0===d?h.defaultLineWidth:d,r.miterLimit=void 0===f?h.defaultMiterLimit:f,r.strokeStyle=(0,a.asColorLike)(l.getColor()||h.defaultStrokeStyle)}else r=this.textStrokeState_=null;n=this.textState_;var p=t.getFont()||h.defaultFont;(0,h.checkFont)(p);var m=t.getScale();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||h.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||h.defaultPadding,n.scale=void 0===m?1:m;var g=t.getOffsetX(),v=t.getOffsetY(),y=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===v?0:v,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===_?0:_,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,o.getUid)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,o.getUid)(i.fillStyle):""}else this.text_=""},e}(p["default"]),y=v;n["default"]=y},{"../../util.js":"YOqM","../../colorlike.js":"GezW","../../dom.js":"fRxd","../../extent.js":"IwSU","../../geom/flat/straightchunk.js":"Qd3q","../../geom/GeometryType.js":"naLT","../../has.js":"lDpN","../canvas.js":"OT1O","./Instruction.js":"b4rC","./Replay.js":"FHwz","../replay.js":"v69V","../../style/TextPlacement.js":"t7pG"}],m1MQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}function o(t){if(void 0!==C[t])return C[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var o=t,a=0,s=0;o>=a;)r(n,t+o,t+a),r(n,t+a,t+o),r(n,t-a,t+o),r(n,t-o,t+a),r(n,t-o,t-a),r(n,t-a,t-o),r(n,t+a,t-o),r(n,t+o,t-a),2*((s+=1+2*++a)-o)+1>0&&(s+=1-2*(o-=1));return C[t]=n,n}function a(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(s.numberSafeCompareFunction),o={},a=0,l=r.length;a<l;++a)for(var u=t[r[a].toString()],c=0,d=u.length;c<d;){var h=u[c++],f=u[c++];h.replay(e,f,n,o,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.getCircleArray=o,n.replayDeclutter=a,n["default"]=void 0;var s=t("../../array.js"),l=t("../../dom.js"),u=t("../../extent.js"),c=t("../../geom/flat/transform.js"),d=t("../../obj.js"),h=i(t("../ReplayGroup.js")),f=i(t("../ReplayType.js")),p=i(t("./Replay.js")),m=i(t("./ImageReplay.js")),g=i(t("./LineStringReplay.js")),v=i(t("./PolygonReplay.js")),y=i(t("./TextReplay.js")),_=t("../replay.js"),b=t("../../transform.js"),E={Circle:v["default"],Default:p["default"],Image:m["default"],LineString:g["default"],Polygon:v["default"],Text:y["default"]},x=function(t){function e(e,n,i,r,o,a,s){t.call(this),this.declutterTree_=a,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=s,this.replaysByZIndex_={},this.hitDetectionContext_=(0,l.createCanvasContext2D)(1,1),this.hitDetectionTransform_=(0,b.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=(0,u.createEmpty)()).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,a,l){function c(t){for(var e=m.getImageData(0,0,h,h).data,n=0;n<h;n++)for(var i=0;i<h;i++)if(y[n][i]&&e[4*(i*h+n)+3]>0){var r=void 0;return(!g||v!=f["default"].IMAGE&&v!=f["default"].TEXT||-1!==g.indexOf(t))&&(r=a(t)),r||void m.clearRect(0,0,h,h)}}var d,h=2*(i=Math.round(i))+1,p=(0,b.compose)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):m.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(d=(0,u.createEmpty)(),(0,u.extendCoordinate)(d,t),(0,u.buffer)(d,e*(this.renderBuffer_+i),d));var g,v,y=o(i);this.declutterTree_&&(g=this.declutterTree_.all().map(function(t){return t.value}));var E,x,C,T,w,S=Object.keys(this.replaysByZIndex_).map(Number);for(S.sort(s.numberSafeCompareFunction),E=S.length-1;E>=0;--E){var M=S[E].toString();for(C=this.replaysByZIndex_[M],x=_.ORDER.length-1;x>=0;--x)if(void 0!==(T=C[v=_.ORDER[x]]))if(!l||v!=f["default"].IMAGE&&v!=f["default"].TEXT){if(w=T.replayHitDetection(m,p,n,r,c,d))return w}else{var j=l[M];j?j.push(T,p.slice(0)):l[M]=[T,p.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],a=[n,i,n,o,r,o,r,i];return(0,c.transform2D)(a,0,8,2,t,a),a},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,E[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r),r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return(0,d.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,a){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(s.numberSafeCompareFunction),t.save(),this.clip(t,e);var u,c,d,h,p,m,g=o||_.ORDER;for(u=0,c=l.length;u<c;++u){var v=l[u].toString();for(p=this.replaysByZIndex_[v],d=0,h=g.length;d<h;++d){var y=g[d];if(m=p[y],void 0!==m)if(!a||y!=f["default"].IMAGE&&y!=f["default"].TEXT)m.replay(t,e,n,i,r);else{var b=a[v];b?b.push(m,e.slice(0)):a[v]=[m,e.slice(0)]}}}t.restore()},e}(h["default"]),C={0:[[!0]]},T=x;n["default"]=T},{"../../array.js":"Z5sL","../../dom.js":"fRxd","../../extent.js":"IwSU","../../geom/flat/transform.js":"CVNs","../../obj.js":"qC1c","../ReplayGroup.js":"SCQ4","../ReplayType.js":"I0Hp","./Replay.js":"FHwz","./ImageReplay.js":"CZXM","./LineStringReplay.js":"xmdu","./PolygonReplay.js":"L30l","./TextReplay.js":"hP4r","../replay.js":"v69V","../../transform.js":"glB6"}],UL2L:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return parseInt((0,y.getUid)(t),10)-parseInt((0,y.getUid)(e),10)}function o(t,e){var n=a(t,e);return n*n}function a(t,e){return x*t/e}function s(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var a=t.getReplay(n.getZIndex(),E["default"].CIRCLE);a.setFillStrokeStyle(r,o),a.drawCircle(e,i)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),E["default"].TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}function l(t,e,n,i,r,o){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==_["default"].LOADED||l==_["default"].ERROR?s.unlistenImageChange(r,o):(l==_["default"].IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(r,o),a=!0)}return u(t,e,n,i),a}function u(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var o=r.getSimplifiedGeometry(i);n.getRenderer()?c(t,o,n,e):(0,C[o.getType()])(t,o,n,e)}}function c(t,e,n,i){if(e.getType()!=b["default"].GEOMETRY_COLLECTION)t.getReplay(n.getZIndex(),E["default"].DEFAULT).drawCustom(e,i,n.getRenderer());else for(var r=e.getGeometries(),o=0,a=r.length;o<a;++o)c(t,r[o],n,i)}function d(t,e,n,i){var r,o,a=e.getGeometriesArray();for(r=0,o=a.length;r<o;++r)(0,C[a[r].getType()])(t,a[r],n,i)}function h(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),E["default"].LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}}function f(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),E["default"].LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}}function p(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var a=t.getReplay(n.getZIndex(),E["default"].POLYGON);a.setFillStrokeStyle(r,o),a.drawMultiPolygon(e,i)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),E["default"].TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}function m(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=_["default"].LOADED)return;var o=t.getReplay(n.getZIndex(),E["default"].IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,i)}}function g(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=_["default"].LOADED)return;var o=t.getReplay(n.getZIndex(),E["default"].IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,i)}}function v(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var a=t.getReplay(n.getZIndex(),E["default"].POLYGON);a.setFillStrokeStyle(r,o),a.drawPolygon(e,i)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),E["default"].TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.defaultOrder=r,n.getSquaredTolerance=o,n.getTolerance=a,n.renderFeature=l;var y=t("../util.js"),_=i(t("../ImageState.js")),b=i(t("../geom/GeometryType.js")),E=i(t("../render/ReplayType.js")),x=.5,C={Point:m,LineString:h,Polygon:v,MultiPoint:g,MultiLineString:f,MultiPolygon:p,GeometryCollection:d,Circle:s}},{"../util.js":"YOqM","../ImageState.js":"iN8L","../geom/GeometryType.js":"naLT","../render/ReplayType.js":"I0Hp"}],jRqo:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../LayerType.js")),a=i(t("../../ViewHint.js")),s=t("../../dom.js"),l=t("../../events.js"),u=i(t("../../events/EventType.js")),c=i(t("rbush")),d=t("../../extent.js"),h=i(t("../../render/EventType.js")),f=t("../../render/canvas.js"),p=i(t("../../render/canvas/ReplayGroup.js")),m=i(t("./Layer.js")),g=t("../vector.js"),v=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?(0,c["default"])(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,d.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,s.createCanvasContext2D)(),(0,l.listen)(f.labelCache,u["default"].CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,l.unlisten)(f.labelCache,u["default"].CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,l=s.projection,u=s.rotation,c=l.getExtent(),p=this.getLayer().getSource(),m=this.getTransform(e,0),g=n.extent,v=void 0!==g;v&&this.clip(t,e,g);var y=this.replayGroup_;if(y&&!y.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var _,b=this.getLayer(),E=0,x=0,C=1!==n.opacity,T=b.hasListener(h["default"].RENDER);if(C||T){var w=t.canvas.width,S=t.canvas.height;if(u){var M=Math.round(Math.sqrt(w*w+S*S));E=(M-w)/2,x=(M-S)/2,w=S=M}this.context.canvas.width=w,this.context.canvas.height=S,_=this.context}else _=t;var j=_.globalAlpha;C||(_.globalAlpha=n.opacity),_!=t&&_.translate(E,x);var O=e.viewHints,A=!(O[a["default"].ANIMATING]||O[a["default"].INTERACTING]),R=e.size[0]*r,P=e.size[1]*r;if((0,f.rotateAtOffset)(_,-u,R/2,P/2),y.replay(_,m,u,o,A),p.getWrapX()&&l.canWrapX()&&!(0,d.containsExtent)(c,i)){for(var I,L=i[0],k=(0,d.getWidth)(c),D=0;L<c[0];)I=k*--D,m=this.getTransform(e,I),y.replay(_,m,u,o,A),L+=k;for(D=0,L=i[2];L>c[2];)I=k*++D,m=this.getTransform(e,I),y.replay(_,m,u,o,A),L-=k}if((0,f.rotateAtOffset)(_,u,R/2,P/2),T&&this.dispatchRenderEvent(_,e,m),_!=t){if(C){var N=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(_.canvas,-E,-x),t.globalAlpha=N}else t.drawImage(_.canvas,-E,-x);_.translate(-E,-x)}C||(_.globalAlpha=j)}v&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,n,{},function(t){var e=(0,r.getUid)(t);if(!(e in u))return u[e]=!0,i.call(o,t,l)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[a["default"].ANIMATING],o=t.viewHints[a["default"].INTERACTING],s=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!l&&o)return!0;var u=t.extent,c=t.viewState,h=c.projection,f=c.resolution,m=t.pixelRatio,v=n.getRevision(),y=n.getRenderBuffer(),_=n.getRenderOrder();void 0===_&&(_=g.defaultOrder);var b=(0,d.buffer)(u,y*f),E=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!(0,d.containsExtent)(E,t.extent)){var x=(0,d.getWidth)(E),C=Math.max((0,d.getWidth)(b)/2,x);b[0]=E[0]-C,b[2]=E[2]+C}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==v&&this.renderedRenderOrder_==_&&(0,d.containsExtent)(this.renderedExtent_,b))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var T=new p["default"]((0,g.getTolerance)(f,m),b,f,m,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(b,f,h);var w=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,f)),e){var r=this.renderFeature(t,f,m,e,T);this.dirty_=this.dirty_||r}}.bind(this);if(_){var S=[];i.forEachFeatureInExtent(b,function(t){S.push(t)}),S.sort(_);for(var M=0,j=S.length;M<j;++M)w(S[M])}else i.forEachFeatureInExtent(b,w);return T.finish(),this.renderedResolution_=f,this.renderedRevision_=v,this.renderedRenderOrder_=_,this.renderedExtent_=b,this.replayGroup_=T,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=0,s=i.length;a<s;++a)o=(0,g.renderFeature)(r,t,i[a],(0,g.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this)||o;else o=(0,g.renderFeature)(r,t,i,(0,g.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this);return o},e}(m["default"]);v.handles=function(t){return t.getType()===o["default"].VECTOR},v.create=function(t,e){return new v(e)};var y=v;n["default"]=y},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../events.js":"Bvf5","../../events/EventType.js":"eKq7",rbush:"f7zo","../../extent.js":"IwSU","../../render/EventType.js":"tder","../../render/canvas.js":"OT1O","../../render/canvas/ReplayGroup.js":"m1MQ","./Layer.js":"qulh","../vector.js":"UL2L"}],mRU7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};n["default"]=i},{}],ULHW:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../../util.js"),s=o(t("../../LayerType.js")),l=o(t("../../TileState.js")),u=o(t("../../ViewHint.js")),c=t("../../dom.js"),d=t("../../events.js"),h=o(t("../../events/EventType.js")),f=o(t("rbush")),p=t("../../extent.js"),m=o(t("../../layer/VectorTileRenderType.js")),g=t("../../proj.js"),v=o(t("../../proj/Units.js")),y=o(t("../../render/ReplayType.js")),_=t("../../render/canvas.js"),b=r(t("../../render/canvas/ReplayGroup.js")),E=t("../../render/replay.js"),x=o(t("./TileLayer.js")),C=t("../vector.js"),T=t("../../transform.js"),w={image:[y["default"].POLYGON,y["default"].CIRCLE,y["default"].LINE_STRING,y["default"].IMAGE,y["default"].TEXT],hybrid:[y["default"].POLYGON,y["default"].LINE_STRING]},S={image:[y["default"].DEFAULT],hybrid:[y["default"].IMAGE,y["default"].TEXT,y["default"].DEFAULT],vector:E.ORDER},M=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?(0,f["default"])(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,T.create)();var n=e.getRenderMode();this.zDirection=n===m["default"].VECTOR?1:0,n!==m["default"].VECTOR&&(this.context=(0,c.createCanvasContext2D)()),(0,d.listen)(_.labelCache,h["default"].CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,d.unlisten)(_.labelCache,h["default"].CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var a=t.prototype.getTile.call(this,e,n,i,r,o);return a.getState()===l["default"].LOADED&&(this.createReplayGroup_(a,r,o),this.context&&this.renderTileImage_(a,r,o)),a},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),a=r.getRenderOrder()||null,s=t.getReplayState(r);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var u=r.getSource(),c=u.getTileGrid(),d=u.getTileGridForProjection(n).getResolution(t.tileCoord[0]),h=t.extent,f=function(o,f){var m=t.getTile(t.tileKeys[o]);if(m.getState()==l["default"].LOADED){var y=m.tileCoord,_=c.getTileCoordExtent(y),E=(0,p.getIntersection)(h,_),x=(0,p.equals)(_,E)?null:(0,p.buffer)(E,r.getRenderBuffer()*d,i.tmpExtent),T=m.getProjection(),w=!1;(0,g.equivalent)(n,T)||(w=!0,m.setProjection(n)),s.dirty=!1;var S=new b["default"](0,E,d,e,u.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),M=(0,C.getSquaredTolerance)(d,e),j=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,d)),e){var i=this.renderFeature(t,M,e,S);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},O=m.getFeatures();a&&a!==s.renderedRenderOrder&&O.sort(a);for(var A=0,R=O.length;A<R;++A){var P=O[A];w&&(T.getUnits()==v["default"].TILE_PIXELS&&(T.setWorldExtent(_),T.setExtent(m.getExtent())),P.getGeometry().transform(T,n)),x&&!(0,p.intersects)(x,P.getGeometry().getExtent())||j.call(i,P)}S.finish(),m.setReplayGroup(r,t.tileCoord.toString(),S)}},m=0,y=t.tileKeys.length;m<y;++m)f(m);s.renderedRevision=o,s.renderedRenderOrder=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=e.viewState.resolution,s=e.viewState.rotation;n=null==n?0:n;var u,c,d,h,f=this.getLayer(),m={},g=this.renderedTiles;for(d=0,h=g.length;d<h;++d){var v=g[d];if(u=(0,p.buffer)(v.extent,n*o,u),(0,p.containsCoordinate)(u,t))for(var y=0,_=v.tileKeys.length;y<_;++y){var b=v.getTile(v.tileKeys[y]);if(b.getState()==l["default"].LOADED){var E=b.getReplayGroup(f,v.tileCoord.toString());c=c||E.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=(0,a.getUid)(t);if(!(e in m))return m[e]=!0,i.call(r,t,f)},null)}}}return c},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=n.getTileCoordExtent(i,this.tmpExtent),u=o.center,c=(0,p.getTopLeft)(l),d=e.size,h=Math.round(a*d[0]/2),f=Math.round(a*d[1]/2);return(0,T.compose)(this.tmpTransform_,h,f,r/s,r/s,o.rotation,(c[0]-u[0])/r,(u[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=m["default"].IMAGE){var a,s,c=r.getDeclutter()?{}:null,d=r.getSource(),h=S[o],f=n.pixelRatio,p=n.viewState.rotation,g=n.size;p&&(a=Math.round(f*g[0]/2),s=Math.round(f*g[1]/2),(0,_.rotateAtOffset)(e,-p,a,s)),c&&this.declutterTree_.clear();for(var v=n.viewHints,y=!(v[u["default"].ANIMATING]||v[u["default"].INTERACTING]),E=this.renderedTiles,x=d.getTileGridForProjection(n.viewState.projection),C=[],T=[],w=E.length-1;w>=0;--w){var M=E[w];if(M.getState()!=l["default"].ABORT)for(var j=M.tileCoord,O=x.getTileCoordExtent(j,this.tmpExtent)[0]-M.extent[0],A=void 0,R=0,P=M.tileKeys.length;R<P;++R){var I=M.getTile(M.tileKeys[R]);if(I.getState()==l["default"].LOADED){var L=I.getReplayGroup(r,j.toString());if(L&&L.hasReplays(h)){A||(A=this.getTransform(n,O));var k=I.tileCoord[0],D=L.getClipCoords(A);e.save(),e.globalAlpha=i.opacity;for(var N=0,F=C.length;N<F;++N){var $=C[N];k<T[N]&&(e.beginPath(),e.moveTo(D[0],D[1]),e.lineTo(D[2],D[3]),e.lineTo(D[4],D[5]),e.lineTo(D[6],D[7]),e.moveTo($[6],$[7]),e.lineTo($[4],$[5]),e.lineTo($[2],$[3]),e.lineTo($[0],$[1]),e.clip())}L.replay(e,A,p,{},y,h,c),e.restore(),C.push(D),T.push(k)}}}}c&&(0,b.replayDeclutter)(c,e,p,y),p&&(0,_.rotateAtOffset)(e,p,a,s)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)r=(0,
C.renderFeature)(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=(0,C.renderFeature)(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),a=w[i.getRenderMode()];if(a&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var s=t.wrappedTileCoord,u=s[0],c=i.getSource(),d=c.getTileGridForProjection(n),h=d.getResolution(u),f=t.getContext(i),p=c.getTilePixelSize(u,e,n);f.canvas.width=p[0],f.canvas.height=p[1];for(var m=d.getTileCoordExtent(s,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var y=t.getTile(t.tileKeys[g]);if(y.getState()==l["default"].LOADED){var _=e/h,b=(0,T.reset)(this.tmpTransform_);(0,T.scale)(b,_,-_),(0,T.translate)(b,-m[0],-m[3]),y.getReplayGroup(i,t.tileCoord.toString()).replay(f,b,0,{},!0,a)}}}},e}(x["default"]);M.handles=function(t){return t.getType()===s["default"].VECTOR_TILE},M.create=function(t,e){return new M(e)};var j=M;n["default"]=j},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../TileState.js":"gwpL","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../events.js":"Bvf5","../../events/EventType.js":"eKq7",rbush:"f7zo","../../extent.js":"IwSU","../../layer/VectorTileRenderType.js":"mRU7","../../proj.js":"aoEo","../../proj/Units.js":"RNSs","../../render/ReplayType.js":"I0Hp","../../render/canvas.js":"OT1O","../../render/canvas/ReplayGroup.js":"m1MQ","../../render/replay.js":"v69V","./TileLayer.js":"QmME","../vector.js":"UL2L","../../transform.js":"glB6"}],y2IR:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./PluggableMap.js")),o=t("./control/util.js"),a=t("./interaction.js"),s=t("./obj.js"),l=i(t("./renderer/canvas/ImageLayer.js")),u=i(t("./renderer/canvas/Map.js")),c=i(t("./renderer/canvas/TileLayer.js")),d=i(t("./renderer/canvas/VectorLayer.js")),h=i(t("./renderer/canvas/VectorTileLayer.js")),f=function(t){function e(e){(e=(0,s.assign)({},e)).controls||(e.controls=(0,o.defaults)()),e.interactions||(e.interactions=(0,a.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new u["default"](this);return t.registerLayerRenderers([l["default"],c["default"],d["default"],h["default"]]),t},e}(r["default"]),p=f;n["default"]=p},{"./PluggableMap.js":"UGGs","./control/util.js":"Nqss","./interaction.js":"VJ6h","./obj.js":"qC1c","./renderer/canvas/ImageLayer.js":"zBfK","./renderer/canvas/Map.js":"GpCO","./renderer/canvas/TileLayer.js":"QmME","./renderer/canvas/VectorLayer.js":"jRqo","./renderer/canvas/VectorTileLayer.js":"ULHW"}],Cgg0:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};n["default"]=i},{}],ysEj:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("./MapEventType.js")),s=r(t("./Object.js")),l=o(t("./OverlayPositioning.js")),u=t("./css.js"),c=t("./dom.js"),d=t("./events.js"),h=t("./extent.js"),f={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},p=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+u.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,d.listen)(this,(0,s.getChangeEventType)(f.ELEMENT),this.handleElementChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.MAP),this.handleMapChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.OFFSET),this.handleOffsetChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.POSITION),this.handlePositionChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:l["default"].TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(f.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(f.MAP)},e.prototype.getOffset=function(){return this.get(f.OFFSET)},e.prototype.getPosition=function(){return this.get(f.POSITION)},e.prototype.getPositioning=function(){return this.get(f.POSITIONING)},e.prototype.handleElementChanged=function(){(0,c.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,c.removeNode)(this.element),(0,d.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,d.listen)(t,a["default"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(f.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(f.ELEMENT,t)},e.prototype.setMap=function(t){this.set(f.MAP,t)},e.prototype.setOffset=function(t){this.set(f.OFFSET,t)},e.prototype.setPosition=function(t){this.set(f.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[(0,c.outerWidth)(n),(0,c.outerHeight)(n)]),r=this.autoPanMargin;if(!(0,h.containsExtent)(e,i)){var o=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],l=e[3]-i[3],u=[0,0];if(o<0?u[0]=o-r:a<0&&(u[0]=Math.abs(a)+r),s<0?u[1]=s-r:l<0&&(u[1]=Math.abs(l)+r),0!==u[0]||0!==u[1]){var d=t.getView().getCenter(),f=t.getPixelFromCoordinate(d),p=[f[0]+u[0],f[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(f.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],a=i[1];if(r==l["default"].BOTTOM_RIGHT||r==l["default"].CENTER_RIGHT||r==l["default"].TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var s=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=s&&(this.rendered.right_=n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=l["default"].BOTTOM_CENTER&&r!=l["default"].CENTER_CENTER&&r!=l["default"].TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==l["default"].BOTTOM_LEFT||r==l["default"].BOTTOM_CENTER||r==l["default"].BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=l["default"].CENTER_LEFT&&r!=l["default"].CENTER_CENTER&&r!=l["default"].CENTER_RIGHT||(a-=this.element.offsetHeight/2);var d=Math.round(t[1]+a)+"px";this.rendered.top_!=d&&(this.rendered.top_=n.top=d)}},e.prototype.getOptions=function(){return this.options},e}(s["default"]),m=p;n["default"]=m},{"./MapEventType.js":"oXLu","./Object.js":"n4ep","./OverlayPositioning.js":"Cgg0","./css.js":"K4Xi","./dom.js":"fRxd","./events.js":"Bvf5","./extent.js":"IwSU"}],nKxi:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.validateExtent_(),this.updateBox_()}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=i(t("../Collection.js")),a=i(t("../Map.js")),s=i(t("../MapEventType.js")),l=i(t("../MapProperty.js")),u=t("../Object.js"),c=i(t("../ObjectEventType.js")),d=i(t("../Overlay.js")),h=i(t("../OverlayPositioning.js")),f=i(t("../ViewProperty.js")),p=i(t("./Control.js")),m=t("../coordinate.js"),g=t("../css.js"),v=t("../dom.js"),y=t("../events.js"),_=i(t("../events/EventType.js")),b=t("../extent.js"),E=.75,x=.1,C=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target}),this.collapsed_=void 0===n.collapsed||n.collapsed,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-overviewmap",s=void 0!==n.tipLabel?n.tipLabel:"Overview map",l=void 0!==n.collapseLabel?n.collapseLabel:"";"string"==typeof l?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=l):this.collapseLabel_=l;var u=void 0!==n.label?n.label:"";"string"==typeof u?(this.label_=document.createElement("span"),this.label_.textContent=u):this.label_=u;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=s,f.appendChild(c),(0,y.listen)(f,_["default"].CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new a["default"]({controls:new o["default"],interactions:new o["default"],view:n.view});var p=this.ovmap_;n.layers&&n.layers.forEach(function(t){p.addLayer(t)}.bind(this));var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",this.boxOverlay_=new d["default"]({position:[0,0],positioning:h["default"].BOTTOM_LEFT,element:m}),this.ovmap_.addOverlay(this.boxOverlay_);var v=i+" "+g.CLASS_UNSELECTABLE+" "+g.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+g.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),b=this.element;b.className=v,b.appendChild(this.ovmapDiv_),b.appendChild(f);var E=this,x=this.boxOverlay_,C=this.boxOverlay_.getElement(),T=function(t){var e,n={clientX:(e=t).clientX-C.offsetWidth/2,clientY:e.clientY+C.offsetHeight/2},i=p.getEventCoordinate(n);x.setPosition(i)},w=function(t){var e=p.getEventCoordinate(t);E.getMap().getView().setCenter(e),window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",w)};C.addEventListener("mousedown",function(){window.addEventListener("mousemove",T),window.addEventListener("mouseup",w)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){var n=this.getMap();if(e!==n){if(n){var i=n.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,y.listen)(e,c["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===l["default"].VIEW){var e=t.oldValue;e&&this.unbindView_(e);var n=this.getMap().getView();this.bindView_(n)}},e.prototype.bindView_=function(t){(0,y.listen)(t,(0,u.getChangeEventType)(f["default"].ROTATION),this.handleRotationChanged_,this)},e.prototype.unbindView_=function(t){(0,y.unlisten)(t,(0,u.getChangeEventType)(f["default"].ROTATION),this.handleRotationChanged_,this)},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),i=t.getView().calculateExtent(n),r=e.getSize(),o=e.getView().calculateExtent(r),a=e.getPixelFromCoordinate((0,b.getTopLeft)(i)),s=e.getPixelFromCoordinate((0,b.getBottomRight)(i)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=r[0],d=r[1];l<c*x||u<d*x||l>c*E||u>d*E?this.resetExtent_():(0,b.containsExtent)(o,i)||this.recenter_()}},e.prototype.resetExtent_=function(){if(0!==E&&0!==x){var t=this.getMap(),e=this.ovmap_,n=t.getSize(),i=t.getView().calculateExtent(n),r=e.getView(),o=Math.log(E/x)/Math.LN2,a=1/(Math.pow(2,o/2)*x);(0,b.scaleFromCenter)(i,a),r.fit(i)}},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getView();e.getView().setCenter(n.getCenter())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),i=t.getView(),r=e.getView(),o=i.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=i.calculateExtent(n),u=r.getResolution(),c=(0,b.getBottomLeft)(l),d=(0,b.getTopRight)(l),h=this.calculateCoordinateRotate_(o,c);a.setPosition(h),s&&(s.style.width=Math.abs((c[0]-d[0])/u)+"px",s.style.height=Math.abs((d[1]-c[1])/u)+"px")}},e.prototype.calculateCoordinateRotate_=function(t,e){var n,i=this.getMap().getView().getCenter();return i&&(n=[e[0]-i[0],e[1]-i[1]],(0,m.rotate)(n,t),(0,m.add)(n,i)),n},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(g.CLASS_COLLAPSED),this.collapsed_?(0,v.replaceNode)(this.collapseLabel_,this.label_):(0,v.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;this.collapsed_||t.isRendered()||(t.updateSize(),this.resetExtent_(),(0,y.listenOnce)(t,s["default"].POSTRENDER,function(t){this.updateBox_()},this))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(p["default"]),T=C;n["default"]=T},{"../Collection.js":"qt30","../Map.js":"y2IR","../MapEventType.js":"oXLu","../MapProperty.js":"wZCA","../Object.js":"n4ep","../ObjectEventType.js":"baqo","../Overlay.js":"ysEj","../OverlayPositioning.js":"Cgg0","../ViewProperty.js":"tZ3Y","./Control.js":"OZyS","../coordinate.js":"HxRU","../css.js":"K4Xi","../dom.js":"fRxd","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU"}],MGNT:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=n.Units=void 0;var o=t("../Object.js"),a=t("../asserts.js"),s=i(t("./Control.js")),l=t("../css.js"),u=t("../events.js"),c=t("../proj.js"),d=i(t("../proj/Units.js")),h="units",f={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};n.Units=f;var p=[1,2,5],m=function(t){function e(e){var n=e||{},i=void 0!==n.className?n.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+l.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",(0,u.listen)(this,(0,o.getChangeEventType)(h),this.handleUnitsChanged_,this),this.setUnits(n.units||f.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(h)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(h,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),r=i==f.DEGREES?d["default"].DEGREES:d["default"].METERS,o=(0,c.getPointResolution)(n,t.resolution,e,r);n.getUnits()!=d["default"].DEGREES&&n.getMetersPerUnit()&&r==d["default"].METERS&&(o*=n.getMetersPerUnit());var s=this.minWidth_*o,l="";if(i==f.DEGREES){var u=c.METERS_PER_UNIT[d["default"].DEGREES];n.getUnits()==d["default"].DEGREES?s*=u:o/=u,s<u/60?(l="",o*=3600):s<u?(l="",o*=60):l=""}else i==f.IMPERIAL?s<.9144?(l="in",o/=.0254):s<1609.344?(l="ft",o/=.3048):(l="mi",o/=1609.344):i==f.NAUTICAL?(o/=1852,l="nm"):i==f.METRIC?s<.001?(l="m",o*=1e6):s<1?(l="mm",o*=1e3):s<1e3?l="m":(l="km",o/=1e3):i==f.US?s<.9144?(l="in",o*=39.37):s<1609.344?(l="ft",o/=.30480061):(l="mi",o/=1609.3472):(0,a.assert)(!1,33);for(var h,m,g=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){if(h=p[(g%3+3)%3]*Math.pow(10,Math.floor(g/3)),m=Math.round(h/o),isNaN(m))return this.element.style.display="none",void(this.renderedVisible_=!1);if(m>=this.minWidth_)break;++g}var v=h+" "+l;this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=m&&(this.innerElement_.style.width=m+"px",this.renderedWidth_=m),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(s["default"]),g=m;n["default"]=g},{"../Object.js":"n4ep","../asserts.js":"E2kQ","./Control.js":"OZyS","../css.js":"K4Xi","../events.js":"Bvf5","../proj.js":"aoEo","../proj/Units.js":"RNSs"}],eXlX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=i(t("../ViewHint.js")),a=i(t("./Control.js")),s=t("../css.js"),l=t("../easing.js"),u=t("../events.js"),c=t("../events/Event.js"),d=i(t("../events/EventType.js")),h=t("../math.js"),f=i(t("../pointer/EventType.js")),p=i(t("../pointer/PointerEventHandler.js")),m={VERTICAL:0,HORIZONTAL:1},g=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=m.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==n.duration?n.duration:200;var i=void 0!==n.className?n.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=i+"-thumb "+s.CLASS_UNSELECTABLE;var a=this.element;a.className=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL,a.appendChild(o),this.dragger_=new p["default"](a),(0,u.listen)(this.dragger_,f["default"].POINTERDOWN,this.handleDraggerStart_,this),(0,u.listen)(this.dragger_,f["default"].POINTERMOVE,this.handleDraggerDrag_,this),(0,u.listen)(this.dragger_,f["default"].POINTERUP,this.handleDraggerEnd_,this),(0,u.listen)(a,d["default"].CLICK,this.handleContainerClick_,this),(0,u.listen)(o,d["default"].CLICK,c.stopPropagation)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight,i=t.firstElementChild,r=getComputedStyle(i),o=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),a=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[o,a],e>n?(this.direction_=m.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=m.VERTICAL,this.heightLimit_=n-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(n);e.animate({resolution:e.constrainResolution(i),duration:this.duration_,easing:l.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(o["default"].INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var e=this.handleDraggerDrag_,n=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,u.listen)(document,d["default"].MOUSEMOVE,e,this),(0,u.listen)(document,f["default"].POINTERMOVE,e,this),(0,u.listen)(document,d["default"].MOUSEUP,n,this),(0,u.listen)(document,f["default"].POINTERUP,n,this))}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,n=t.clientX-this.previousX_+parseFloat(e.style.left),i=t.clientY-this.previousY_+parseFloat(e.style.top),r=this.getRelativePosition_(n,i);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(o["default"].INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:l.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(u.unlistenByKey),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==m.HORIZONTAL?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var n;return n=this.direction_===m.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,h.clamp)(n,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},e}(a["default"]),v=g;n["default"]=v},{"../ViewHint.js":"QAjQ","./Control.js":"OZyS","../css.js":"K4Xi","../easing.js":"gfrO","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","../math.js":"RK1r","../pointer/EventType.js":"z9Rf","../pointer/PointerEventHandler.js":"X9qK"}],vLVI:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../events.js"),o=i(t("../events/EventType.js")),a=i(t("./Control.js")),s=t("../css.js"),l=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.extent=n.extent?n.extent:null;var i=void 0!==n.className?n.className:"ol-zoom-extent",a=void 0!==n.label?n.label:"E",l=void 0!==n.tipLabel?n.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof a?document.createTextNode(a):a),(0,r.listen)(u,o["default"].CLICK,this.handleClick_,this);var c=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL,d=this.element;d.className=c,d.appendChild(u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fit(e)},e}(a["default"]),u=l;n["default"]=u},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","./Control.js":"OZyS","../css.js":"K4Xi"}],s9h5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Attribution",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(n,"Control",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"FullScreen",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"MousePosition",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"OverviewMap",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"Rotate",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"ScaleLine",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"Zoom",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"ZoomSlider",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"ZoomToExtent",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"defaults",{enumerable:!0,get:function(){return p.defaults}});var r=i(t("./control/Attribution.js")),o=i(t("./control/Control.js")),a=i(t("./control/FullScreen.js")),s=i(t("./control/MousePosition.js")),l=i(t("./control/OverviewMap.js")),u=i(t("./control/Rotate.js")),c=i(t("./control/ScaleLine.js")),d=i(t("./control/Zoom.js")),h=i(t("./control/ZoomSlider.js")),f=i(t("./control/ZoomToExtent.js")),p=t("./control/util.js")},{"./control/Attribution.js":"KuDp","./control/Control.js":"OZyS","./control/FullScreen.js":"ooP1","./control/MousePosition.js":"JXpH","./control/OverviewMap.js":"nKxi","./control/Rotate.js":"zNSN","./control/ScaleLine.js":"MGNT","./control/Zoom.js":"JAQ2","./control/ZoomSlider.js":"eXlX","./control/ZoomToExtent.js":"vLVI","./control/util.js":"Nqss"}],UTSc:[function(t,e,n){"use strict";function i(t){return t.getAttributeNS(r,"href")}Object.defineProperty(n,"__esModule",{value:!0}),n.readHref=i;var r="http://www.w3.org/1999/xlink"},{}],OYOJ:[function(t,e,n){"use strict";function i(t,e){return T.createElementNS(t,e)}function r(t,e){return o(t,e,[]).join("")}function o(t,e,n){var i;if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(i=t.firstChild;i;i=i.nextSibling)o(i,e,n);return n}function a(t){return"documentElement"in t}function s(t,e,n){return t.getAttributeNS(e,n)||""}function l(t){return(new DOMParser).parseFromString(t,"application/xml")}function u(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);if(void 0!==r){var o=i[i.length-1];(0,C.extend)(o,r)}}}function c(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);void 0!==r&&i[i.length-1].push(r)}}function d(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);void 0!==r&&(i[i.length-1]=r)}}function h(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);if(void 0!==o){var a=r[r.length-1],s=void 0!==e?e:i.localName;(s in a?a[s]:a[s]=[]).push(o)}}}function f(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);void 0!==o&&(r[r.length-1][void 0!==e?e:i.localName]=o)}}function p(t,e){return function(n,i,r){t.call(void 0!==e?e:this,n,i,r),r[r.length-1].node.appendChild(n)}}function m(t,e){var n,i;return function(e,r,o){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,i=g(e.localName)}E(n,i,r,o)}}function g(t,e){var n=t;return function(t,r,o){var a=r[r.length-1].node,s=n;return void 0===s&&(s=o),i(void 0!==e?e:a.namespaceURI,s)}}function v(t,e){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=t[e[r]];return i}function y(t,e,n){var i,r,o=void 0!==n?n:{};for(i=0,r=t.length;i<r;++i)o[t[i]]=e;return o}function _(t,e,n,i){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var o=t[r.namespaceURI];if(void 0!==o){var a=o[r.localName];void 0!==a&&a.call(i,r,n)}}}function b(t,e,n,i,r){return i.push(t),_(e,n,i,r),i.pop()}function E(t,e,n,i,r,o){for(var a,s,l=(void 0!==r?r:n).length,u=0;u<l;++u)void 0!==(a=n[u])&&void 0!==(s=e.call(void 0!==o?o:this,a,i,void 0!==r?r[u]:void 0))&&t[s.namespaceURI][s.localName].call(o,s,a,i)}function x(t,e,n,i,r,o,a){return r.push(t),E(e,n,i,r,o,a),r.pop()}Object.defineProperty(n,"__esModule",{value:!0}),n.createElementNS=i,n.getAllTextContent=r,n.getAllTextContent_=o,n.isDocument=a,n.getAttributeNS=s,n.parse=l,n.makeArrayExtender=u,n.makeArrayPusher=c,n.makeReplacer=d,n.makeObjectPropertyPusher=h,n.makeObjectPropertySetter=f,n.makeChildAppender=p,n.makeArraySerializer=m,n.makeSimpleNodeFactory=g,n.makeSequence=v,n.makeStructureNS=y,n.parseNode=_,n.pushParseAndPop=b,n.serialize=E,n.pushSerializeAndPop=x,n.OBJECT_PROPERTY_NODE_FACTORY=n.XML_SCHEMA_INSTANCE_URI=n.DOCUMENT=void 0;var C=t("./array.js"),T=document.implementation.createDocument("","",null);n.DOCUMENT=T;var w="http://www.w3.org/2001/XMLSchema-instance";n.XML_SCHEMA_INSTANCE_URI=w;var S=g();n.OBJECT_PROPERTY_NODE_FACTORY=S},{"./array.js":"Z5sL"}],SJzk:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../xml.js"),r=function(){};r.prototype.read=function(t){if(t){if("string"==typeof t){var e=(0,i.parse)(t);return this.readFromDocument(e)}return(0,i.isDocument)(t)?this.readFromDocument(t):this.readFromNode(t)}return null},r.prototype.readFromDocument=function(t){},r.prototype.readFromNode=function(t){};var o=r;n["default"]=o},{"../xml.js":"OYOJ"}],sD2o:[function(t,e,n){"use strict";function i(t){return r((0,v.getAllTextContent)(t,!1))}function r(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function o(t){var e=(0,v.getAllTextContent)(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3}function a(t){return s((0,v.getAllTextContent)(t,!1))}function s(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function l(t){return u((0,v.getAllTextContent)(t,!1))}function u(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function c(t){return(0,v.getAllTextContent)(t,!1).trim()}function d(t,e){g(t,e?"1":"0")}function h(t,e){t.appendChild(v.DOCUMENT.createCDATASection(e))}function f(t,e){var n=new Date(1e3*e),i=n.getUTCFullYear()+"-"+(0,y.padNumber)(n.getUTCMonth()+1,2)+"-"+(0,
y.padNumber)(n.getUTCDate(),2)+"T"+(0,y.padNumber)(n.getUTCHours(),2)+":"+(0,y.padNumber)(n.getUTCMinutes(),2)+":"+(0,y.padNumber)(n.getUTCSeconds(),2)+"Z";t.appendChild(v.DOCUMENT.createTextNode(i))}function p(t,e){var n=e.toPrecision();t.appendChild(v.DOCUMENT.createTextNode(n))}function m(t,e){var n=e.toString();t.appendChild(v.DOCUMENT.createTextNode(n))}function g(t,e){t.appendChild(v.DOCUMENT.createTextNode(e))}Object.defineProperty(n,"__esModule",{value:!0}),n.readBoolean=i,n.readBooleanString=r,n.readDateTime=o,n.readDecimal=a,n.readDecimalString=s,n.readNonNegativeInteger=l,n.readNonNegativeIntegerString=u,n.readString=c,n.writeBooleanTextNode=d,n.writeCDATASection=h,n.writeDateTimeTextNode=f,n.writeDecimalTextNode=p,n.writeNonNegativeIntegerTextNode=m,n.writeStringTextNode=g;var v=t("../xml.js"),y=t("../string.js")},{"../xml.js":"OYOJ","../string.js":"OqZs"}],Fu5l:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return(0,O.pushParseAndPop)({},G,t,e)}function o(t,e){var n=[(0,j.readDecimalString)(t.getAttribute("minx")),(0,j.readDecimalString)(t.getAttribute("miny")),(0,j.readDecimalString)(t.getAttribute("maxx")),(0,j.readDecimalString)(t.getAttribute("maxy"))],i=[(0,j.readDecimalString)(t.getAttribute("resx")),(0,j.readDecimalString)(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:n,res:i}}function a(t,e){var n=(0,O.pushParseAndPop)({},U,t,e);if(n){var i=n.westBoundLongitude,r=n.southBoundLatitude,o=n.eastBoundLongitude,a=n.northBoundLatitude;if(void 0!==i&&void 0!==r&&void 0!==o&&void 0!==a)return[i,r,o,a]}}function s(t,e){return(0,O.pushParseAndPop)({},P,t,e)}function l(t,e){return(0,O.pushParseAndPop)({},L,t,e)}function u(t,e){return(0,O.pushParseAndPop)({},k,t,e)}function c(t,e){return(0,O.pushParseAndPop)({},D,t,e)}function d(t,e){return(0,O.pushParseAndPop)({},N,t,e)}function h(t,e){return(0,O.pushParseAndPop)([],F,t,e)}function f(t,e){return(0,O.pushParseAndPop)({},$,t,e)}function p(t,e){var n=e[e.length-1],i=(0,O.pushParseAndPop)({},$,t,e);if(i){var r=(0,j.readBooleanString)(t.getAttribute("queryable"));void 0===r&&(r=n.queryable),i.queryable=void 0!==r&&r;var o=(0,j.readNonNegativeIntegerString)(t.getAttribute("cascaded"));void 0===o&&(o=n.cascaded),i.cascaded=o;var a=(0,j.readBooleanString)(t.getAttribute("opaque"));void 0===a&&(a=n.opaque),i.opaque=void 0!==a&&a;var s=(0,j.readBooleanString)(t.getAttribute("noSubsets"));void 0===s&&(s=n.noSubsets),i.noSubsets=void 0!==s&&s;var l=(0,j.readDecimalString)(t.getAttribute("fixedWidth"));l||(l=n.fixedWidth),i.fixedWidth=l;var u=(0,j.readDecimalString)(t.getAttribute("fixedHeight"));return u||(u=n.fixedHeight),i.fixedHeight=u,["Style","CRS","AuthorityURL"].forEach(function(t){if(t in n){var e=i[t]||[];i[t]=e.concat(n[t])}}),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach(function(t){if(!(t in i)){var e=n[t];i[t]=e}}),i}}function m(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),"default":t.getAttribute("default"),multipleValues:(0,j.readBooleanString)(t.getAttribute("multipleValues")),nearestValue:(0,j.readBooleanString)(t.getAttribute("nearestValue")),current:(0,j.readBooleanString)(t.getAttribute("current")),values:(0,j.readString)(t)}}function g(t,e){return(0,O.pushParseAndPop)({},q,t,e)}function v(t,e){return(0,O.pushParseAndPop)({},B,t,e)}function y(t,e){return(0,O.pushParseAndPop)({},V,t,e)}function _(t,e){return(0,O.pushParseAndPop)({},z,t,e)}function b(t,e){return(0,O.pushParseAndPop)({},H,t,e)}function E(t,e){var n=g(t,e);if(n){var i=[(0,j.readNonNegativeIntegerString)(t.getAttribute("width")),(0,j.readNonNegativeIntegerString)(t.getAttribute("height"))];return n.size=i,n}}function x(t,e){var n=g(t,e);if(n)return n.name=t.getAttribute("name"),n}function C(t,e){var n=g(t,e);if(n)return n.type=t.getAttribute("type"),n}function T(t,e){return(0,O.pushParseAndPop)({},W,t,e)}function w(t,e){return(0,O.pushParseAndPop)([],Y,t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var S=t("./XLink.js"),M=i(t("./XML.js")),j=t("./xsd.js"),O=t("../xml.js"),A=[null,"http://www.opengis.net/wms"],R=(0,O.makeStructureNS)(A,{Service:(0,O.makeObjectPropertySetter)(l),Capability:(0,O.makeObjectPropertySetter)(s)}),P=(0,O.makeStructureNS)(A,{Request:(0,O.makeObjectPropertySetter)(v),Exception:(0,O.makeObjectPropertySetter)(h),Layer:(0,O.makeObjectPropertySetter)(f)}),I=function(t){function e(){t.call(this),this.version=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=(0,O.pushParseAndPop)({version:this.version},R,t,[]);return e||null},e}(M["default"]),L=(0,O.makeStructureNS)(A,{Name:(0,O.makeObjectPropertySetter)(j.readString),Title:(0,O.makeObjectPropertySetter)(j.readString),Abstract:(0,O.makeObjectPropertySetter)(j.readString),KeywordList:(0,O.makeObjectPropertySetter)(w),OnlineResource:(0,O.makeObjectPropertySetter)(S.readHref),ContactInformation:(0,O.makeObjectPropertySetter)(u),Fees:(0,O.makeObjectPropertySetter)(j.readString),AccessConstraints:(0,O.makeObjectPropertySetter)(j.readString),LayerLimit:(0,O.makeObjectPropertySetter)(j.readNonNegativeInteger),MaxWidth:(0,O.makeObjectPropertySetter)(j.readNonNegativeInteger),MaxHeight:(0,O.makeObjectPropertySetter)(j.readNonNegativeInteger)}),k=(0,O.makeStructureNS)(A,{ContactPersonPrimary:(0,O.makeObjectPropertySetter)(c),ContactPosition:(0,O.makeObjectPropertySetter)(j.readString),ContactAddress:(0,O.makeObjectPropertySetter)(d),ContactVoiceTelephone:(0,O.makeObjectPropertySetter)(j.readString),ContactFacsimileTelephone:(0,O.makeObjectPropertySetter)(j.readString),ContactElectronicMailAddress:(0,O.makeObjectPropertySetter)(j.readString)}),D=(0,O.makeStructureNS)(A,{ContactPerson:(0,O.makeObjectPropertySetter)(j.readString),ContactOrganization:(0,O.makeObjectPropertySetter)(j.readString)}),N=(0,O.makeStructureNS)(A,{AddressType:(0,O.makeObjectPropertySetter)(j.readString),Address:(0,O.makeObjectPropertySetter)(j.readString),City:(0,O.makeObjectPropertySetter)(j.readString),StateOrProvince:(0,O.makeObjectPropertySetter)(j.readString),PostCode:(0,O.makeObjectPropertySetter)(j.readString),Country:(0,O.makeObjectPropertySetter)(j.readString)}),F=(0,O.makeStructureNS)(A,{Format:(0,O.makeArrayPusher)(j.readString)}),$=(0,O.makeStructureNS)(A,{Name:(0,O.makeObjectPropertySetter)(j.readString),Title:(0,O.makeObjectPropertySetter)(j.readString),Abstract:(0,O.makeObjectPropertySetter)(j.readString),KeywordList:(0,O.makeObjectPropertySetter)(w),CRS:(0,O.makeObjectPropertyPusher)(j.readString),EX_GeographicBoundingBox:(0,O.makeObjectPropertySetter)(a),BoundingBox:(0,O.makeObjectPropertyPusher)(o),Dimension:(0,O.makeObjectPropertyPusher)(m),Attribution:(0,O.makeObjectPropertySetter)(r),AuthorityURL:(0,O.makeObjectPropertyPusher)(x),Identifier:(0,O.makeObjectPropertyPusher)(j.readString),MetadataURL:(0,O.makeObjectPropertyPusher)(C),DataURL:(0,O.makeObjectPropertyPusher)(g),FeatureListURL:(0,O.makeObjectPropertyPusher)(g),Style:(0,O.makeObjectPropertyPusher)(T),MinScaleDenominator:(0,O.makeObjectPropertySetter)(j.readDecimal),MaxScaleDenominator:(0,O.makeObjectPropertySetter)(j.readDecimal),Layer:(0,O.makeObjectPropertyPusher)(p)}),G=(0,O.makeStructureNS)(A,{Title:(0,O.makeObjectPropertySetter)(j.readString),OnlineResource:(0,O.makeObjectPropertySetter)(S.readHref),LogoURL:(0,O.makeObjectPropertySetter)(E)}),U=(0,O.makeStructureNS)(A,{westBoundLongitude:(0,O.makeObjectPropertySetter)(j.readDecimal),eastBoundLongitude:(0,O.makeObjectPropertySetter)(j.readDecimal),southBoundLatitude:(0,O.makeObjectPropertySetter)(j.readDecimal),northBoundLatitude:(0,O.makeObjectPropertySetter)(j.readDecimal)}),B=(0,O.makeStructureNS)(A,{GetCapabilities:(0,O.makeObjectPropertySetter)(b),GetMap:(0,O.makeObjectPropertySetter)(b),GetFeatureInfo:(0,O.makeObjectPropertySetter)(b)}),H=(0,O.makeStructureNS)(A,{Format:(0,O.makeObjectPropertyPusher)(j.readString),DCPType:(0,O.makeObjectPropertyPusher)(y)}),V=(0,O.makeStructureNS)(A,{HTTP:(0,O.makeObjectPropertySetter)(_)}),z=(0,O.makeStructureNS)(A,{Get:(0,O.makeObjectPropertySetter)(g),Post:(0,O.makeObjectPropertySetter)(g)}),W=(0,O.makeStructureNS)(A,{Name:(0,O.makeObjectPropertySetter)(j.readString),Title:(0,O.makeObjectPropertySetter)(j.readString),Abstract:(0,O.makeObjectPropertySetter)(j.readString),LegendURL:(0,O.makeObjectPropertyPusher)(E),StyleSheetURL:(0,O.makeObjectPropertySetter)(g),StyleURL:(0,O.makeObjectPropertySetter)(g)}),q=(0,O.makeStructureNS)(A,{Format:(0,O.makeObjectPropertySetter)(j.readString),OnlineResource:(0,O.makeObjectPropertySetter)(S.readHref)}),Y=(0,O.makeStructureNS)(A,{Keyword:(0,O.makeArrayPusher)(j.readString)}),K=I;n["default"]=K},{"./XLink.js":"UTSc","./XML.js":"SJzk","./xsd.js":"sD2o","../xml.js":"OYOJ"}],Jkfd:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={FRACTION:"fraction",PIXELS:"pixels"};n["default"]=i},{}],rGfC:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i,r,o){var a=c.shared.get(e,i,o);return a||(a=new d(t,e,n,i,r,o),c.shared.set(e,i,o,a)),a}Object.defineProperty(n,"__esModule",{value:!0}),n.get=r,n["default"]=void 0;var o=t("../dom.js"),a=t("../events.js"),s=i(t("../events/Target.js")),l=i(t("../events/EventType.js")),u=i(t("../ImageState.js")),c=t("./IconImageCache.js"),d=function(t){function e(e,n,i,r,o,a){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=a?document.createElement("canvas"):null,this.color_=a,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=n,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===u["default"].LOADED){this.tainted_=!1;var t=(0,o.createCanvasContext2D)(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(e){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(l["default"].CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=u["default"].ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=u["default"].LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=(0,o.createCanvasContext2D)(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==u["default"].IDLE){this.imageState_=u["default"].LOADING,this.imageListenerKeys_=[(0,a.listenOnce)(this.image_,l["default"].ERROR,this.handleImageError_,this),(0,a.listenOnce)(this.image_,l["default"].LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=r,n[a+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.unlistenByKey),this.imageListenerKeys_=null},e}(s["default"]),h=d;n["default"]=h},{"../dom.js":"fRxd","../events.js":"Bvf5","../events/Target.js":"mcdO","../events/EventType.js":"eKq7","../ImageState.js":"iN8L","./IconImageCache.js":"Xwj5"}],lB4R:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../ImageState.js")),a=t("../asserts.js"),s=t("../color.js"),l=t("../events.js"),u=i(t("../events/EventType.js")),c=i(t("./IconAnchorUnits.js")),d=t("./IconImage.js"),h=i(t("./IconOrigin.js")),f=i(t("./Image.js")),p=function(t){function e(e){var n=e||{},i=void 0!==n.opacity?n.opacity:1,l=void 0!==n.rotation?n.rotation:0,u=void 0!==n.scale?n.scale:1,f=void 0!==n.rotateWithView&&n.rotateWithView;t.call(this,{opacity:i,rotation:l,scale:u,rotateWithView:f}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:h["default"].TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:c["default"].FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:c["default"].FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var p=void 0!==n.img?n.img:null,m=void 0!==n.imgSize?n.imgSize:null,g=n.src;(0,a.assert)(!(void 0!==g&&p),4),(0,a.assert)(!p||p&&m,5),void 0!==g&&0!==g.length||!p||(g=p.src||(0,r.getUid)(p)),(0,a.assert)(void 0!==g&&g.length>0,6);var v=void 0!==n.src?o["default"].IDLE:o["default"].LOADED;this.color_=void 0!==n.color?(0,s.asArray)(n.color):null,this.iconImage_=(0,d.get)(p,g,m,this.crossOrigin_,v,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:h["default"].TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==c["default"].FRACTION||this.anchorYUnits_==c["default"].FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==c["default"].FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==c["default"].FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=h["default"].TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=h["default"].TOP_RIGHT&&this.anchorOrigin_!=h["default"].BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=h["default"].BOTTOM_LEFT&&this.anchorOrigin_!=h["default"].BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=h["default"].TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=h["default"].TOP_RIGHT&&this.offsetOrigin_!=h["default"].BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=h["default"].BOTTOM_LEFT&&this.offsetOrigin_!=h["default"].BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return(0,l.listen)(this.iconImage_,u["default"].CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){(0,l.unlisten)(this.iconImage_,u["default"].CHANGE,t,e)},e}(f["default"]),m=p;n["default"]=m},{"../util.js":"YOqM","../ImageState.js":"iN8L","../asserts.js":"E2kQ","../color.js":"tree","../events.js":"Bvf5","../events/EventType.js":"eKq7","./IconAnchorUnits.js":"Jkfd","./IconImage.js":"rGfC","./IconOrigin.js":"RMGy","./Image.js":"YLA1"}],FiPw:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=(0,s.createCanvasContext2D)(1,256),n=e.createLinearGradient(0,0,1,256),i=1/(t.length-1),r=0,o=t.length;r<o;++r)n.addColorStop(r*i,t[r]);return e.fillStyle=n,e.fillRect(0,0,1,256),e.getImageData(0,0,1,256).data}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../events.js"),a=t("../Object.js"),s=t("../dom.js"),l=i(t("./Vector.js")),u=t("../math.js"),c=t("../obj.js"),d=i(t("../render/EventType.js")),h=i(t("../style/Icon.js")),f=i(t("../style/Style.js")),p={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},m=["#00f","#0ff","#0f0","#ff0","#f00"],g=function(t){function e(e){var n=e||{},i=(0,c.assign)({},n);delete i.gradient,delete i.radius,delete i.blur,delete i.shadow,delete i.weight,t.call(this,i),this.gradient_=null,this.shadow_=void 0!==n.shadow?n.shadow:250,this.circleImage_=void 0,this.styleCache_=null,(0,o.listen)(this,(0,a.getChangeEventType)(p.GRADIENT),this.handleGradientChanged_,this),this.setGradient(n.gradient?n.gradient:m),this.setBlur(void 0!==n.blur?n.blur:15),this.setRadius(void 0!==n.radius?n.radius:8),(0,o.listen)(this,(0,a.getChangeEventType)(p.BLUR),this.handleStyleChanged_,this),(0,o.listen)(this,(0,a.getChangeEventType)(p.RADIUS),this.handleStyleChanged_,this),this.handleStyleChanged_();var r,s=n.weight?n.weight:"weight";r="string"==typeof s?function(t){return t.get(s)}:s,this.setStyle(function(t,e){var n=r(t),i=void 0!==n?(0,u.clamp)(n,0,1):1,o=255*i|0,a=this.styleCache_[o];return a||(a=[new f["default"]({image:new h["default"]({opacity:i,src:this.circleImage_})})],this.styleCache_[o]=a),a}.bind(this)),this.setRenderOrder(null),(0,o.listen)(this,d["default"].RENDER,this.handleRender_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createCircle_=function(){var t=this.getRadius(),e=this.getBlur(),n=t+e+1,i=2*n,r=(0,s.createCanvasContext2D)(i,i);r.shadowOffsetX=r.shadowOffsetY=this.shadow_,r.shadowBlur=e,r.shadowColor="#000",r.beginPath();var o=n-this.shadow_;return r.arc(o,o,t,0,2*Math.PI,!0),r.fill(),r.canvas.toDataURL()},e.prototype.getBlur=function(){return this.get(p.BLUR)},e.prototype.getGradient=function(){return this.get(p.GRADIENT)},e.prototype.getRadius=function(){return this.get(p.RADIUS)},e.prototype.handleGradientChanged_=function(){this.gradient_=r(this.getGradient())},e.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_(),this.styleCache_=new Array(256),this.changed()},e.prototype.handleRender_=function(t){for(var e=t.context,n=e.canvas,i=e.getImageData(0,0,n.width,n.height),r=i.data,o=0,a=r.length;o<a;o+=4){var s=4*r[o+3];s&&(r[o]=this.gradient_[s],r[o+1]=this.gradient_[s+1],r[o+2]=this.gradient_[s+2])}e.putImageData(i,0,0)},e.prototype.setBlur=function(t){this.set(p.BLUR,t)},e.prototype.setGradient=function(t){this.set(p.GRADIENT,t)},e.prototype.setRadius=function(t){this.set(p.RADIUS,t)},e}(l["default"]),v=g;n["default"]=v},{"../events.js":"Bvf5","../Object.js":"n4ep","../dom.js":"fRxd","./Vector.js":"sgAj","../math.js":"RK1r","../obj.js":"qC1c","../render/EventType.js":"tder","../style/Icon.js":"lB4R","../style/Style.js":"aLMx"}],kjaO:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../LayerType.js")),o=i(t("./Layer.js")),a=function(t){function e(e){var n=e||{};t.call(this,n),this.type=r["default"].IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o["default"]);a.prototype.getSource;var s=a;n["default"]=s},{"../LayerType.js":"GkHV","./Layer.js":"QsxU"}],KhhP:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};n["default"]=i},{}],PqrZ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../LayerType.js")),o=i(t("./Layer.js")),a=i(t("./TileProperty.js")),s=t("../obj.js"),l=function(t){function e(e){var n=e||{},i=(0,s.assign)({},n);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=r["default"].TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(a["default"].PRELOAD)},e.prototype.setPreload=function(t){this.set(a["default"].PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(a["default"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(a["default"].USE_INTERIM_TILES_ON_ERROR,t)},e}(o["default"]);l.prototype.getSource;var u=l;n["default"]=u},{"../LayerType.js":"GkHV","./Layer.js":"QsxU","./TileProperty.js":"KhhP","../obj.js":"qC1c"}],g0oQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../LayerType.js")),o=t("../asserts.js"),a=i(t("./TileProperty.js")),s=i(t("./Vector.js")),l=i(t("./VectorTileRenderType.js")),u=t("../obj.js"),c=function(t){function e(e){var n=e||{},i=n.renderMode||l["default"].HYBRID;(0,o.assert)(null==i||i==l["default"].IMAGE||i==l["default"].HYBRID||i==l["default"].VECTOR,28),n.declutter&&i==l["default"].IMAGE&&(i=l["default"].HYBRID),n.renderMode=i;var a=(0,u.assign)({},n);delete a.preload,delete a.useInterimTilesOnError,t.call(this,a),this.setPreload(n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=r["default"].VECTOR_TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(a["default"].PRELOAD)},e.prototype.getUseInterimTilesOnError=function(){return this.get(a["default"].USE_INTERIM_TILES_ON_ERROR)},e.prototype.setPreload=function(t){this.set(a["default"].PRELOAD,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(a["default"].USE_INTERIM_TILES_ON_ERROR,t)},e}(s["default"]);c.prototype.getSource;var d=c;n["default"]=d},{"../LayerType.js":"GkHV","../asserts.js":"E2kQ","./TileProperty.js":"KhhP","./Vector.js":"sgAj","./VectorTileRenderType.js":"mRU7","../obj.js":"qC1c"}],x523:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Group",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(n,"Heatmap",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"Layer",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"Tile",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"Vector",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"VectorTile",{enumerable:!0,get:function(){return c["default"]}});var r=i(t("./layer/Group.js")),o=i(t("./layer/Heatmap.js")),a=i(t("./layer/Image.js")),s=i(t("./layer/Layer.js")),l=i(t("./layer/Tile.js")),u=i(t("./layer/Vector.js")),c=i(t("./layer/VectorTile.js"))},{"./layer/Group.js":"vbcD","./layer/Heatmap.js":"FiPw","./layer/Image.js":"kjaO","./layer/Layer.js":"QsxU","./layer/Tile.js":"PqrZ","./layer/Vector.js":"sgAj","./layer/VectorTile.js":"g0oQ"}],pBGv:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(d===setTimeout)return setTimeout(t,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function a(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!g){var t=o(s);g=!0;for(var e=m.length;e;){for(p=m,m=[];++v<e;)p&&p[v].run();v=-1,e=m.length}p=null,g=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var d,h,f=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(t){d=i}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var p,m=[],g=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];m.push(new u(t,e)),1!==m.length||g||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],juYr:[function(t,e,n){var i;arguments[3],t("process"),arguments[3],t("process");!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e,n){var i,r,o=(n=n||tt).createElement("script");if(o.text=t,e)for(i in pt)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function r(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?at[st.call(t)]||"object":typeof t}function o(t){var e=!!t&&"length"in t&&t.length,n=r(t);return!ht(t)&&!ft(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function s(t,e,n){return ht(e)?mt.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?mt.grep(t,function(t){return t===e!==n}):"string"!=typeof e?mt.grep(t,function(t){return ot.call(e,t)>-1!==n}):mt.filter(e,t,n)}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){return t}function c(t){throw t}function d(t,e,n,i){var r;try{t&&ht(r=t.promise)?r.call(t).done(e).fail(n):t&&ht(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}function h(){tt.removeEventListener("DOMContentLoaded",h),t.removeEventListener("load",h),mt.ready()}function f(t,e){return e.toUpperCase()}function p(t){return t.replace(At,"ms-").replace(Rt,f)}function m(){this.expando=mt.expando+m.uid++}function g(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Dt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:kt.test(t)?JSON.parse(t):t)}(n)}catch(r){}Lt.set(t,e,n)}else n=void 0;return n}function v(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return mt.css(t,e,"")},l=s(),u=n&&n[3]||(mt.cssNumber[e]?"":"px"),c=t.nodeType&&(mt.cssNumber[e]||"px"!==u&&+l)&&Ft.exec(mt.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;a--;)mt.style(t,e,c+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o;c*=2,mt.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function y(t){var e,n=t.ownerDocument,i=t.nodeName,r=zt[i];return r||(e=n.body.appendChild(n.createElement(i)),r=mt.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),zt[i]=r,r)}function _(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=It.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ht(i)&&(r[o]=y(i))):"none"!==n&&(r[o]="none",It.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function b(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&a(t,e)?mt.merge([t],n):n}function E(t,e){for(var n=0,i=t.length;n<i;n++)It.set(t[n],"globalEval",!e||It.get(e[n],"globalEval"))}function x(t,e,n,i,o){for(var a,s,l,u,c,d,h=e.createDocumentFragment(),f=[],p=0,m=t.length;p<m;p++)if((a=t[p])||0===a)if("object"===r(a))mt.merge(f,a.nodeType?[a]:a);else if(Zt.test(a)){for(s=s||h.appendChild(e.createElement("div")),l=(qt.exec(a)||["",""])[1].toLowerCase(),u=Kt[l]||Kt._default,s.innerHTML=u[1]+mt.htmlPrefilter(a)+u[2],d=u[0];d--;)s=s.lastChild;mt.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(a));for(h.textContent="",p=0;a=f[p++];)if(i&&mt.inArray(a,i)>-1)o&&o.push(a);else if(c=Ut(a),s=b(h.appendChild(a),"script"),c&&E(s),n)for(d=0;a=s[d++];)Yt.test(a.type||"")&&n.push(a);return h}function C(){return!0}function T(){return!1}function w(t,e){return t===function(){try{return tt.activeElement}catch(t){}}()==("focus"===e)}function S(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)S(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=T;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return mt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=mt.guid++)),t.each(function(){mt.event.add(this,e,r,i,n)})}function M(t,e,n){n?(It.set(t,e,!1),mt.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=It.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(mt.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=nt.call(arguments),It.set(this,e,o),i=n(this,e),this[e](),o!==(r=It.get(this,e))||i?It.set(this,e,!1):r={},o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r.value}else o.length&&(It.set(this,e,{value:mt.event.trigger(mt.extend(o[0],mt.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===It.get(t,e)&&mt.event.add(t,e,C)}function j(t,e){return a(t,"table")&&a(11!==e.nodeType?e:e.firstChild,"tr")&&mt(t).children("tbody")[0]||t}function O(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function A(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function R(t,e){var n,i,r,o,a,s,l,u;if(1===e.nodeType){if(It.hasData(t)&&(o=It.access(t),a=It.set(e,o),u=o.events))for(r in delete a.handle,a.events={},u)for(n=0,i=u[r].length;n<i;n++)mt.event.add(e,r,u[r][n]);Lt.hasData(t)&&(s=Lt.access(t),
l=mt.extend({},s),Lt.set(e,l))}}function P(t,e,i,r){e=it.apply([],e);var o,a,s,l,u,c,d=0,h=t.length,f=h-1,p=e[0],m=ht(p);if(m||h>1&&"string"==typeof p&&!dt.checkClone&&re.test(p))return t.each(function(n){var o=t.eq(n);m&&(e[0]=p.call(this,n,o.html())),P(o,e,i,r)});if(h&&(a=(o=x(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=a),a||r)){for(l=(s=mt.map(b(o,"script"),O)).length;d<h;d++)u=o,d!==f&&(u=mt.clone(u,!0,!0),l&&mt.merge(s,b(u,"script"))),i.call(t[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,mt.map(s,A),d=0;d<l;d++)u=s[d],Yt.test(u.type||"")&&!It.access(u,"globalEval")&&mt.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?mt._evalUrl&&!u.noModule&&mt._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):n(u.textContent.replace(oe,""),u,c))}return t}function I(t,e,n){for(var i,r=e?mt.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||mt.cleanData(b(i)),i.parentNode&&(n&&Ut(i)&&E(b(i,"script")),i.parentNode.removeChild(i));return t}function L(t,e,n){var i,r,o,a,s=t.style;return(n=n||se(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||Ut(t)||(a=mt.style(t,e)),!dt.pixelBoxStyles()&&ae.test(a)&&le.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function k(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function D(t){var e=mt.cssProps[t]||de[t];return e||(t in ce?t:de[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=ue.length;n--;)if((t=ue[n]+e)in ce)return t}(t)||t)}function N(t,e,n){var i=Ft.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function F(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=mt.css(t,n+$t[a],!0,r)),i?("content"===n&&(l-=mt.css(t,"padding"+$t[a],!0,r)),"margin"!==n&&(l-=mt.css(t,"border"+$t[a]+"Width",!0,r))):(l+=mt.css(t,"padding"+$t[a],!0,r),"padding"!==n?l+=mt.css(t,"border"+$t[a]+"Width",!0,r):s+=mt.css(t,"border"+$t[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))||0),l}function $(t,e,n){var i=se(t),r=(!dt.boxSizingReliable()||n)&&"border-box"===mt.css(t,"boxSizing",!1,i),o=r,a=L(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(ae.test(a)){if(!n)return a;a="auto"}return(!dt.boxSizingReliable()&&r||"auto"===a||!parseFloat(a)&&"inline"===mt.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===mt.css(t,"boxSizing",!1,i),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+F(t,e,n||(r?"border":"content"),o,i,a)+"px"}function G(t,e,n,i,r){return new G.prototype.init(t,e,n,i,r)}function U(){ve&&(!1===tt.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(U):t.setTimeout(U,mt.fx.interval),mt.fx.tick())}function B(){return t.setTimeout(function(){ge=void 0}),ge=Date.now()}function H(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=$t[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function V(t,e,n){for(var i,r=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function z(t,e,n){var i,r,o=0,a=z.prefilters.length,s=mt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ge||B(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,a=u.tweens.length;o<a;o++)u.tweens[o].run(i);return s.notifyWith(t,[u,i,n]),i<1&&a?n:(a||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:mt.extend({},e),opts:mt.extend(!0,{specialEasing:{},easing:mt.easing._default},n),originalProperties:e,originalOptions:n,startTime:ge||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=mt.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for((!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=p(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=mt.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing));o<a;o++)if(i=z.prefilters[o].call(u,t,c,u.opts))return ht(i.stop)&&(mt._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return mt.map(c,V,u),ht(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),mt.fx.timer(mt.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}function W(t){return(t.match(St)||[]).join(" ")}function q(t){return t.getAttribute&&t.getAttribute("class")||""}function Y(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(St)||[]}function K(t,e,n,i){var o;if(Array.isArray(e))mt.each(e,function(e,r){n||Ae.test(t)?i(t,r):K(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==r(e))i(t,e);else for(o in e)K(t+"["+o+"]",e[o],n,i)}function X(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(St)||[];if(ht(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function J(t,e,n,i){function r(s){var l;return o[s]=!0,mt.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===Ue;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Z(t,e){var n,i,r=mt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&mt.extend(!0,t,i),t}var Q=[],tt=t.document,et=Object.getPrototypeOf,nt=Q.slice,it=Q.concat,rt=Q.push,ot=Q.indexOf,at={},st=at.toString,lt=at.hasOwnProperty,ut=lt.toString,ct=ut.call(Object),dt={},ht=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},ft=function(t){return null!=t&&t===t.window},pt={type:!0,src:!0,nonce:!0,noModule:!0},mt=function(t,e){return new mt.fn.init(t,e)},gt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;mt.fn=mt.prototype={jquery:"3.4.1",constructor:mt,length:0,toArray:function(){return nt.call(this)},get:function(t){return null==t?nt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=mt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return mt.each(this,t)},map:function(t){return this.pushStack(mt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(nt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:Q.sort,splice:Q.splice},mt.extend=mt.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ht(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(u&&i&&(mt.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],o=r&&!Array.isArray(n)?[]:r||mt.isPlainObject(n)?n:{},r=!1,a[e]=mt.extend(u,o,i)):void 0!==i&&(a[e]=i));return a},mt.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==st.call(t)||(e=et(t))&&("function"!=typeof(n=lt.call(e,"constructor")&&e.constructor)||ut.call(n)!==ct))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){n(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(o(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(gt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(o(Object(t))?mt.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:ot.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,s=[];if(o(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&s.push(r);return it.apply([],s)},guid:1,support:dt}),"function"==typeof Symbol&&(mt.fn[Symbol.iterator]=Q[Symbol.iterator]),mt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){at["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,i){var r,o,a,s,l,u,c,h=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!i&&((e?e.ownerDocument||e:$)!==R&&A(e),e=e||R,I)){if(11!==p&&(l=vt.exec(t)))if(r=l[1]){if(9===p){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&N(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&b.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(b.qsa&&!z[t+" "]&&(!L||!L.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,h=e,1===p&&ut.test(t)){for((s=e.getAttribute("id"))?s=s.replace(Et,xt):e.setAttribute("id",s=F),o=(u=T(t)).length;o--;)u[o]="#"+s+" "+f(u[o]);c=u.join(","),h=yt.test(t)&&d(e.parentNode)||e}try{return J.apply(n,h.querySelectorAll(c)),n}catch(m){z(t,!0)}finally{s===F&&e.removeAttribute("id")}}}return S(t.replace(at,"$1"),e,n,i)}function n(){var t=[];return function e(n,i){return t.push(n+" ")>E.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function i(t){return t[F]=!0,t}function r(t){var e=R.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)E.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Tt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(t){return t&&void 0!==t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=U++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var u,c,d,h=[G,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(c=(d=e[F]||(e[F]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===G&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}return!1}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function v(t,n,r,o,a,s){return o&&!o[F]&&(o=v(o)),a&&!a[F]&&(a=v(a,s)),i(function(i,s,l,u){var c,d,h,f=[],p=[],m=s.length,v=i||function(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}(n||"*",l.nodeType?[l]:l,[]),y=!t||!i&&n?v:g(v,f,t,l,u),_=r?a||(i?t:m||o)?[]:s:y;if(r&&r(y,_,l,u),o)for(c=g(_,p),o(c,[],l,u),d=c.length;d--;)(h=c[d])&&(_[p[d]]=!(y[p[d]]=h));if(i){if(a||t){if(a){for(c=[],d=_.length;d--;)(h=_[d])&&c.push(y[d]=h);a(null,_=[],c,u)}for(d=_.length;d--;)(h=_[d])&&(c=a?Q(i,h):f[d])>-1&&(i[c]=!(s[c]=h))}}else _=g(_===s?_.splice(m,_.length):_),a?a(null,s,_,u):J.apply(s,_)})}function y(t){for(var e,n,i,r=t.length,o=E.relative[t[0].type],a=o||E.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return Q(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==M)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];s<r;s++)if(n=E.relative[t[s].type])c=[p(m(c),n)];else{if((n=E.filter[t[s].type].apply(null,t[s].matches))[F]){for(i=++s;i<r&&!E.relative[t[i].type];i++);return v(s>1&&m(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(at,"$1"),n,s<i&&y(t.slice(s,i)),i<r&&y(t=t.slice(i)),i<r&&f(t))}c.push(n)}return m(c)}var _,b,E,x,C,T,w,S,M,j,O,A,R,P,I,L,k,D,N,F="sizzle"+1*new Date,$=t.document,G=0,U=0,B=n(),H=n(),V=n(),z=n(),W=function(t,e){return t===e&&(O=!0),0},q={}.hasOwnProperty,Y=[],K=Y.pop,X=Y.push,J=Y.push,Z=Y.slice,Q=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+et+"*("+nt+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+et+"*\\]",rt=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(et+"+","g"),at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ut=new RegExp(et+"|>"),ct=new RegExp(rt),dt=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},ft=/HTML$/i,pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){A()},Tt=p(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{J.apply(Y=Z.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(wt){J={apply:Y.length?function(t,e){X.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(_ in b=e.support={},C=e.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!ft.test(e||n&&n.nodeName||"HTML")},A=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:$;return i!==R&&9===i.nodeType&&i.documentElement?(P=(R=i).documentElement,I=!C(R),$!==R&&(n=R.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(R.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(R.getElementsByClassName),b.getById=r(function(t){return P.appendChild(t).id=F,!R.getElementsByName||!R.getElementsByName(F).length}),b.getById?(E.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}},E.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(E.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},E.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),E.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},E.find.CLASS=b.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},k=[],L=[],(b.qsa=gt.test(R.querySelectorAll))&&(r(function(t){P.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll("[id~="+F+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||L.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=R.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+et+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&L.push(":enabled",":disabled"),P.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(b.matchesSelector=gt.test(D=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&r(function(t){b.disconnectedMatch=D.call(t,"*"),D.call(t,"[s!='']:x"),k.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),k=k.length&&new RegExp(k.join("|")),e=gt.test(P.compareDocumentPosition),N=e||gt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===R||t.ownerDocument===$&&N($,t)?-1:e===R||e.ownerDocument===$&&N($,e)?1:j?Q(j,t)-Q(j,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t===R?-1:e===R?1:r?-1:o?1:j?Q(j,t)-Q(j,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===$?-1:l[i]===$?1:0},R):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&A(t),b.matchesSelector&&I&&!z[n+" "]&&(!k||!k.test(n))&&(!L||!L.test(n)))try{var i=D.call(t,n);if(i||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){z(n,!0)}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&A(t),N(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&A(t);var n=E.attrHandle[e.toLowerCase()],i=n&&q.call(E.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:b.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(Et,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(O=!b.detectDuplicates,j=!b.sortStable&&t.slice(0),t.sort(W),O){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return j=null,t},x=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=x(e);return n},(E=e.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ct.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ot," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(g){if(o){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(_=(f=(u=(c=(d=(h=g)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===G&&u[1])&&u[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(_=f=0)||p.pop();)if(1===h.nodeType&&++_&&h===e){c[t]=[G,f,_];break}}else if(y&&(_=f=(u=(c=(d=(h=e)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]||[])[0]===G&&u[1]),!1===_)for(;(h=++f&&h&&h[m]||(_=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++_||(y&&((c=(d=h[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[t]=[G,_]),h!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,n){var r,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)t[i=Q(t,r[a])]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=w(t.replace(at,"$1"));return r[F]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||x(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})E.pseudos[_]=l(_);return h.prototype=E.filters=E.pseudos,E.setFilters=new h,T=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=H[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=E.preFilter;s;){for(a in i&&!(r=st.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=lt.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),s=s.slice(i.length)),E.filter)!(r=ht[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):H(t,l).slice(0)},w=e.compile=function(t,n){var r,o=[],a=[],s=V[t+" "];if(!s){for(n||(n=T(t)),r=n.length;r--;)(s=y(n[r]))[F]?o.push(s):a.push(s);(s=V(t,function(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,h,f=0,p="0",m=i&&[],v=[],y=M,_=i||o&&E.find.TAG("*",u),b=G+=null==y?1:Math.random()||.1,x=_.length;for(u&&(M=a===R||a||u);p!==x&&null!=(c=_[p]);p++){if(o&&c){for(d=0,a||c.ownerDocument===R||(A(c),s=!I);h=t[d++];)if(h(c,a||R,s)){l.push(c);break}u&&(G=b)}r&&((c=!h&&c)&&f--,i&&m.push(c))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(l));v=g(v)}J.apply(l,v),u&&!i&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(G=b,M=y),m};return r?i(a):a}(a,o))).selector=t}return s},S=e.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&T(t=u.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(a=o[0]).type&&9===e.nodeType&&I&&E.relative[o[1].type]){if(!(e=(E.find.ID(a.matches[0].replace(_t,bt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ht.needsContext.test(t)?0:o.length;r--&&(a=o[r],!E.relative[s=a.type]);)if((l=E.find[s])&&(i=l(a.matches[0].replace(_t,bt),yt.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&f(o)))return J.apply(n,i),n;break}}return(u||w(t,c))(i,e,!I,n,!e||yt.test(t)&&d(e.parentNode)||e),n},b.sortStable=F.split("").sort(W).join("")===F,b.detectDuplicates=!!O,A(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(R.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(tt,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);mt.find=vt,mt.expr=vt.selectors,mt.expr[":"]=mt.expr.pseudos,mt.uniqueSort=mt.unique=vt.uniqueSort,mt.text=vt.getText,mt.isXMLDoc=vt.isXML,mt.contains=vt.contains,mt.escapeSelector=vt.escape;var yt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&mt(t).is(n))break;i.push(t)}return i},_t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=mt.expr.match.needsContext,Et=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;mt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?mt.find.matchesSelector(i,t)?[i]:[]:mt.find.matches(t,mt.grep(e,function(t){return 1===t.nodeType}))},mt.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(mt(t).filter(function(){for(e=0;e<i;e++)if(mt.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)mt.find(t,r[e],n);return i>1?mt.uniqueSort(n):n},filter:function(t){return this.pushStack(s(this,t||[],!1))},not:function(t){return this.pushStack(s(this,t||[],!0))},is:function(t){return!!s(this,"string"==typeof t&&bt.test(t)?mt(t):t||[],!1).length}});var xt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(mt.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||xt,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof mt?e[0]:e,mt.merge(this,mt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:tt,!0)),Et.test(i[1])&&mt.isPlainObject(e))for(i in e)ht(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=tt.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ht(t)?void 0!==n.ready?n.ready(t):t(mt):mt.makeArray(t,this)}).prototype=mt.fn,xt=mt(tt);var Tt=/^(?:parents|prev(?:Until|All))/,wt={children:!0,contents:!0,next:!0,prev:!0};mt.fn.extend({has:function(t){var e=mt(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(mt.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&mt(t);if(!bt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&mt.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?mt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?ot.call(mt(t),this[0]):ot.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(mt.uniqueSort(mt.merge(this.get(),mt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),mt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,n){return yt(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,n){return yt(t,"nextSibling",n)},prevUntil:function(t,e,n){return yt(t,"previousSibling",n)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(a(t,"template")&&(t=t.content||t),mt.merge([],t.childNodes))}},function(t,e){mt.fn[t]=function(n,i){var r=mt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=mt.filter(i,r)),this.length>1&&(wt[t]||mt.uniqueSort(r),Tt.test(t)&&r.reverse()),this.pushStack(r)}});var St=/[^\x20\t\r\n\f]+/g;mt.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return mt.each(t.match(St)||[],function(t,n){e[n]=!0}),e}(t):mt.extend({},t);var e,n,i,o,a=[],s=[],l=-1,u=function(){
for(o=o||t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function i(e){mt.each(e,function(e,n){ht(n)?t.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return mt.each(arguments,function(t,e){for(var n;(n=mt.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?mt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||e||(a=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},mt.extend({Deferred:function(e){var n=[["notify","progress",mt.Callbacks("memory"),mt.Callbacks("memory"),2],["resolve","done",mt.Callbacks("once memory"),mt.Callbacks("once memory"),0,"resolved"],["reject","fail",mt.Callbacks("once memory"),mt.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return mt.Deferred(function(e){mt.each(n,function(n,i){var r=ht(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ht(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var s=this,l=arguments,d=function(){var t,d;if(!(e<a)){if((t=i.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,ht(d)?r?d.call(t,o(a,n,u,r),o(a,n,c,r)):(a++,d.call(t,o(a,n,u,r),o(a,n,c,r),o(a,n,u,n.notifyWith))):(i!==u&&(s=void 0,l=[t]),(r||n.resolveWith)(s,l))}},h=r?d:function(){try{d()}catch(t){mt.Deferred.exceptionHook&&mt.Deferred.exceptionHook(t,h.stackTrace),e+1>=a&&(i!==c&&(s=void 0,l=[t]),n.rejectWith(s,l))}};e?h():(mt.Deferred.getStackHook&&(h.stackTrace=mt.Deferred.getStackHook()),t.setTimeout(h))}}var a=0;return mt.Deferred(function(t){n[0][3].add(o(0,t,ht(r)?r:u,t.notifyWith)),n[1][3].add(o(0,t,ht(e)?e:u)),n[2][3].add(o(0,t,ht(i)?i:c))}).promise()},promise:function(t){return null!=t?mt.extend(t,r):r}},o={};return mt.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=nt.call(arguments),o=mt.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?nt.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(d(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||ht(r[n]&&r[n].then)))return o.then();for(;n--;)d(r[n],a(n),o.reject);return o.promise()}});var Mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;mt.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Mt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},mt.readyException=function(e){t.setTimeout(function(){throw e})};var jt=mt.Deferred();mt.fn.ready=function(t){return jt.then(t)["catch"](function(t){mt.readyException(t)}),this},mt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--mt.readyWait:mt.isReady)||(mt.isReady=!0,!0!==t&&--mt.readyWait>0||jt.resolveWith(tt,[mt]))}}),mt.ready.then=jt.then,"complete"===tt.readyState||"loading"!==tt.readyState&&!tt.documentElement.doScroll?t.setTimeout(mt.ready):(tt.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h));var Ot=function(t,e,n,i,o,a,s){var l=0,u=t.length,c=null==n;if("object"===r(n))for(l in o=!0,n)Ot(t,e,l,n[l],!0,a,s);else if(void 0!==i&&(o=!0,ht(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(mt(t),n)})),e))for(;l<u;l++)e(t[l],n,s?i:i.call(t[l],l,e(t[l],n)));return o?t:c?e.call(t):u?e(t[0],n):a},At=/^-ms-/,Rt=/-([a-z])/g,Pt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};m.uid=1,m.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Pt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[p(e)]=n;else for(i in e)r[p(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(p):(e=p(e))in i?[e]:e.match(St)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||mt.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!mt.isEmptyObject(e)}};var It=new m,Lt=new m,kt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/[A-Z]/g;mt.extend({hasData:function(t){return Lt.hasData(t)||It.hasData(t)},data:function(t,e,n){return Lt.access(t,e,n)},removeData:function(t,e){Lt.remove(t,e)},_data:function(t,e,n){return It.access(t,e,n)},_removeData:function(t,e){It.remove(t,e)}}),mt.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Lt.get(o),1===o.nodeType&&!It.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=p(i.slice(5)),g(o,i,r[i]));It.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Lt.set(this,t)}):Ot(this,function(e){var n;return o&&void 0===e?void 0!==(n=Lt.get(o,t))?n:void 0!==(n=g(o,t))?n:void 0:void this.each(function(){Lt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Lt.remove(this,t)})}}),mt.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=It.get(t,e),n&&(!i||Array.isArray(n)?i=It.access(t,e,mt.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=mt.queue(t,e),i=n.length,r=n.shift(),o=mt._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){mt.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return It.get(t,n)||It.access(t,n,{empty:mt.Callbacks("once memory").add(function(){It.remove(t,[e+"queue",n])})})}}),mt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?mt.queue(this[0],t):void 0===e?this:this.each(function(){var n=mt.queue(this,t,e);mt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&mt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){mt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=mt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=It.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Nt+")([a-z%]*)$","i"),$t=["Top","Right","Bottom","Left"],Gt=tt.documentElement,Ut=function(t){return mt.contains(t.ownerDocument,t)},Bt={composed:!0};Gt.getRootNode&&(Ut=function(t){return mt.contains(t.ownerDocument,t)||t.getRootNode(Bt)===t.ownerDocument});var Ht=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Ut(t)&&"none"===mt.css(t,"display")},Vt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r},zt={};mt.fn.extend({show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?mt(this).show():mt(this).hide()})}});var Wt=/^(?:checkbox|radio)$/i,qt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Yt=/^$|^module$|\/(?:java|ecma)script/i,Kt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Kt.optgroup=Kt.option,Kt.tbody=Kt.tfoot=Kt.colgroup=Kt.caption=Kt.thead,Kt.th=Kt.td;var Xt,Jt,Zt=/<|&#?\w+;/;Xt=tt.createDocumentFragment().appendChild(tt.createElement("div")),(Jt=tt.createElement("input")).setAttribute("type","radio"),Jt.setAttribute("checked","checked"),Jt.setAttribute("name","t"),Xt.appendChild(Jt),dt.checkClone=Xt.cloneNode(!0).cloneNode(!0).lastChild.checked,Xt.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Xt.cloneNode(!0).lastChild.defaultValue;var Qt=/^key/,te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ee=/^([^.]*)(?:\.(.+)|)/;mt.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p,m,g=It.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&mt.find.matchesSelector(Gt,r),n.guid||(n.guid=mt.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==mt&&mt.event.triggered!==e.type?mt.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(St)||[""]).length;u--;)f=m=(s=ee.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=mt.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,d=mt.event.special[f]||{},c=mt.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&mt.expr.match.needsContext.test(r),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,p,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),mt.event.global[f]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p,m,g=It.hasData(t)&&It.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(St)||[""]).length;u--;)if(f=m=(s=ee.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=mt.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||mt.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)mt.event.remove(t,f+e[u],n,i,!0);mt.isEmptyObject(l)&&It.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=mt.event.fix(t),l=new Array(arguments.length),u=(It.get(this,"events")||{})[s.type]||[],c=mt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=mt.event.handlers.call(this,s,u),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((mt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?mt(r,this).index(u)>-1:mt.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(mt.Event.prototype,t,{enumerable:!0,configurable:!0,get:ht(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[mt.expando]?t:new mt.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return Wt.test(e.type)&&e.click&&a(e,"input")&&M(e,"click",C),!1},trigger:function(t){var e=this||t;return Wt.test(e.type)&&e.click&&a(e,"input")&&M(e,"click"),!0},_default:function(t){var e=t.target;return Wt.test(e.type)&&e.click&&a(e,"input")&&It.get(e,"click")||a(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},mt.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},mt.Event=function(t,e){return this instanceof mt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?C:T,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&mt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[mt.expando]=!0,void 0):new mt.Event(t,e)},mt.Event.prototype={constructor:mt.Event,isDefaultPrevented:T,isPropagationStopped:T,isImmediatePropagationStopped:T,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=C,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=C,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=C,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},mt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Qt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&te.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},mt.event.addProp),mt.each({focus:"focusin",blur:"focusout"},function(t,e){mt.event.special[t]={setup:function(){return M(this,t,w),!1},trigger:function(){return M(this,t),!0},delegateType:e}}),mt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){mt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||mt.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),mt.fn.extend({on:function(t,e,n,i){return S(this,t,e,n,i)},one:function(t,e,n,i){return S(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,mt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=T),this.each(function(){mt.event.remove(this,t,n,e)})}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ie=/<script|<style|<link/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;mt.extend({htmlPrefilter:function(t){return t.replace(ne,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l,u,c=t.cloneNode(!0),d=Ut(t);if(!(dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||mt.isXMLDoc(t)))for(a=b(c),i=0,r=(o=b(t)).length;i<r;i++)s=o[i],l=a[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&Wt.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||b(t),a=a||b(c),i=0,r=o.length;i<r;i++)R(o[i],a[i]);else R(t,c);return(a=b(c,"script")).length>0&&E(a,!d&&b(t,"script")),c},cleanData:function(t){for(var e,n,i,r=mt.event.special,o=0;void 0!==(n=t[o]);o++)if(Pt(n)){if(e=n[It.expando]){if(e.events)for(i in e.events)r[i]?mt.event.remove(n,i):mt.removeEvent(n,i,e.handle);n[It.expando]=void 0}n[Lt.expando]&&(n[Lt.expando]=void 0)}}}),mt.fn.extend({detach:function(t){return I(this,t,!0)},remove:function(t){return I(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?mt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return P(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||j(this,t).appendChild(t)})},prepend:function(){return P(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=j(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return P(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(mt.cleanData(b(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return mt.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ie.test(t)&&!Kt[(qt.exec(t)||["",""])[1].toLowerCase()]){t=mt.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(mt.cleanData(b(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return P(this,arguments,function(e){var n=this.parentNode;mt.inArray(this,t)<0&&(mt.cleanData(b(this)),n&&n.replaceChild(e,this))},t)}}),mt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){mt.fn[t]=function(t){for(var n,i=[],r=mt(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),mt(r[a])[e](n),rt.apply(i,n.get());return this.pushStack(i)}});var ae=new RegExp("^("+Nt+")(?!px)[a-z%]+$","i"),se=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},le=new RegExp($t.join("|"),"i");!function(){function e(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Gt.appendChild(l).appendChild(u);var e=t.getComputedStyle(u);i="1%"!==e.top,s=12===n(e.marginLeft),u.style.right="60%",a=36===n(e.right),r=36===n(e.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),Gt.removeChild(l),u=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,a,s,l=tt.createElement("div"),u=tt.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===u.style.backgroundClip,mt.extend(dt,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o}}))}();var ue=["Webkit","Moz","ms"],ce=tt.createElement("div").style,de={},he=/^(none|table(?!-c[ea]).+)/,fe=/^--/,pe={position:"absolute",visibility:"hidden",display:"block"},me={letterSpacing:"0",fontWeight:"400"};mt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=L(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=p(e),l=fe.test(e),u=t.style;if(l||(e=D(s)),a=mt.cssHooks[e]||mt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:u[e];"string"==(o=typeof n)&&(r=Ft.exec(n))&&r[1]&&(n=v(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(mt.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,a,s=p(e);return fe.test(e)||(e=D(s)),(a=mt.cssHooks[e]||mt.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=L(t,e,i)),"normal"===r&&e in me&&(r=me[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),mt.each(["height","width"],function(t,e){mt.cssHooks[e]={get:function(t,n,i){if(n)return!he.test(mt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?$(t,e,i):Vt(t,pe,function(){return $(t,e,i)})},set:function(t,n,i){var r,o=se(t),a=!dt.scrollboxSize()&&"absolute"===o.position,s=(a||i)&&"border-box"===mt.css(t,"boxSizing",!1,o),l=i?F(t,e,i,s,o):0;return s&&a&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-F(t,e,"border",!1,o)-.5)),l&&(r=Ft.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=mt.css(t,e)),N(0,n,l)}}}),mt.cssHooks.marginLeft=k(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(L(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),mt.each({margin:"",padding:"",border:"Width"},function(t,e){mt.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+$t[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(mt.cssHooks[t+e].set=N)}),mt.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=se(t),r=e.length;a<r;a++)o[e[a]]=mt.css(t,e[a],!1,i);return o}return void 0!==n?mt.style(t,e,n):mt.css(t,e)},t,e,arguments.length>1)}}),mt.Tween=G,G.prototype={constructor:G,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||mt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(mt.cssNumber[n]?"":"px")},cur:function(){var t=G.propHooks[this.prop];return t&&t.get?t.get(this):G.propHooks._default.get(this)},run:function(t){var e,n=G.propHooks[this.prop];return this.options.duration?this.pos=e=mt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):G.propHooks._default.set(this),this}},G.prototype.init.prototype=G.prototype,G.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=mt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){mt.fx.step[t.prop]?mt.fx.step[t.prop](t):1!==t.elem.nodeType||!mt.cssHooks[t.prop]&&null==t.elem.style[D(t.prop)]?t.elem[t.prop]=t.now:mt.style(t.elem,t.prop,t.now+t.unit)}}},G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},mt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},mt.fx=G.prototype.init,mt.fx.step={};var ge,ve,ye=/^(?:toggle|show|hide)$/,_e=/queueHooks$/;mt.Animation=mt.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return v(n.elem,t,Ft.exec(e),n),n}]},tweener:function(t,e){ht(t)?(e=t,t=["*"]):t=t.match(St);for(var n,i=0,r=t.length;i<r;i++)n=t[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,u,c,d="width"in e||"height"in e,h=this,f={},p=t.style,m=t.nodeType&&Ht(t),g=It.get(t,"fxshow");for(i in n.queue||(null==(a=mt._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,mt.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],ye.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}f[i]=g&&g[i]||mt.style(t,i)}if((l=!mt.isEmptyObject(e))||!mt.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=It.get(t,"display")),"none"===(c=mt.css(t,"display"))&&(u?c=u:(_([t],!0),u=t.style.display||u,c=mt.css(t,"display"),_([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===mt.css(t,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(m=g.hidden):g=It.access(t,"fxshow",{display:u}),o&&(g.hidden=!m),m&&_([t],!0),h.done(function(){for(i in m||_([t]),It.remove(t,"fxshow"),f)mt.style(t,i,f[i])})),l=V(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),mt.speed=function(t,e,n){var i=t&&"object"==typeof t?mt.extend({},t):{complete:n||!n&&e||ht(t)&&t,duration:t,easing:n&&e||e&&!ht(e)&&e};return mt.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in mt.fx.speeds?i.duration=mt.fx.speeds[i.duration]:i.duration=mt.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ht(i.old)&&i.old.call(this),i.queue&&mt.dequeue(this,i.queue)},i},mt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=mt.isEmptyObject(t),o=mt.speed(e,n,i),a=function(){var e=z(this,mt.extend({},t),o);(r||It.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=mt.timers,a=It.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&_e.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||mt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=It.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=mt.timers,a=i?i.length:0;for(n.finish=!0,mt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),mt.each(["toggle","show","hide"],function(t,e){var n=mt.fn[e];mt.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,i,r)}}),mt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){mt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),mt.timers=[],mt.fx.tick=function(){var t,e=0,n=mt.timers;for(ge=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||mt.fx.stop(),ge=void 0},mt.fx.timer=function(t){mt.timers.push(t),mt.fx.start()},mt.fx.interval=13,mt.fx.start=function(){ve||(ve=!0,U())},mt.fx.stop=function(){ve=null},mt.fx.speeds={slow:600,fast:200,_default:400},mt.fn.delay=function(e,n){return e=mt.fx&&mt.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=tt.createElement("input"),e=tt.createElement("select").appendChild(tt.createElement("option"));t.type="checkbox",dt.checkOn=""!==t.value,dt.optSelected=e.selected,(t=tt.createElement("input")).value="t",t.type="radio",dt.radioValue="t"===t.value}();var be,Ee=mt.expr.attrHandle;mt.fn.extend({attr:function(t,e){return Ot(this,mt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){mt.removeAttr(this,t)})}}),mt.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?mt.prop(t,e,n):(1===o&&mt.isXMLDoc(t)||(r=mt.attrHooks[e.toLowerCase()]||(mt.expr.match.bool.test(e)?be:void 0)),void 0!==n?null===n?void mt.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=mt.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&a(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(St);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),be={set:function(t,e,n){return!1===e?mt.removeAttr(t,n):t.setAttribute(n,n),n}},mt.each(mt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ee[e]||mt.find.attr;Ee[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=Ee[a],Ee[a]=r,r=null!=n(t,e,i)?a:null,Ee[a]=o),r}});var xe=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;mt.fn.extend({prop:function(t,e){return Ot(this,mt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[mt.propFix[t]||t]})}}),mt.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&mt.isXMLDoc(t)||(e=mt.propFix[e]||e,r=mt.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=mt.find.attr(t,"tabindex");return e?parseInt(e,10):xe.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.optSelected||(mt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),mt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){mt.propFix[this.toLowerCase()]=this}),mt.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(ht(t))return this.each(function(e){mt(this).addClass(t.call(this,e,q(this)))});if((e=Y(t)).length)for(;n=this[l++];)if(r=q(n),i=1===n.nodeType&&" "+W(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=W(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(ht(t))return this.each(function(e){mt(this).removeClass(t.call(this,e,q(this)))});if(!arguments.length)return this.attr("class","");if((e=Y(t)).length)for(;n=this[l++];)if(r=q(n),i=1===n.nodeType&&" "+W(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=W(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):ht(t)?this.each(function(n){mt(this).toggleClass(t.call(this,n,q(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=mt(this),a=Y(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=q(this))&&It.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":It.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(q(n))+" ").indexOf(e)>-1)return!0;return!1}});var Te=/\r/g;mt.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ht(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,mt(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=mt.map(r,function(t){
return null==t?"":t+""})),(e=mt.valHooks[this.type]||mt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=mt.valHooks[r.type]||mt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Te,""):null==n?"":n:void 0}}),mt.extend({valHooks:{option:{get:function(t){var e=mt.find.attr(t,"value");return null!=e?e:W(mt.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,l=s?null:[],u=s?o+1:r.length;for(i=o<0?u:s?o:0;i<u;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!a(n.parentNode,"optgroup"))){if(e=mt(n).val(),s)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=mt.makeArray(e),a=r.length;a--;)((i=r[a]).selected=mt.inArray(mt.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),mt.each(["radio","checkbox"],function(){mt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=mt.inArray(mt(t).val(),e)>-1}},dt.checkOn||(mt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),dt.focusin="onfocusin"in t;var we=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};mt.extend(mt.event,{trigger:function(e,n,i,r){var o,a,s,l,u,c,d,h,f=[i||tt],p=lt.call(e,"type")?e.type:e,m=lt.call(e,"namespace")?e.namespace.split("."):[];if(a=h=s=i=i||tt,3!==i.nodeType&&8!==i.nodeType&&!we.test(p+mt.event.triggered)&&(p.indexOf(".")>-1&&(m=p.split("."),p=m.shift(),m.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[mt.expando]?e:new mt.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:mt.makeArray(n,[e]),d=mt.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!ft(i)){for(l=d.delegateType||p,we.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||tt)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)h=a,e.type=o>1?l:d.bindType||p,(c=(It.get(a,"events")||{})[e.type]&&It.get(a,"handle"))&&c.apply(a,n),(c=u&&a[u])&&c.apply&&Pt(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(f.pop(),n)||!Pt(i)||u&&ht(i[p])&&!ft(i)&&((s=i[u])&&(i[u]=null),mt.event.triggered=p,e.isPropagationStopped()&&h.addEventListener(p,Se),i[p](),e.isPropagationStopped()&&h.removeEventListener(p,Se),mt.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(t,e,n){var i=mt.extend(new mt.Event,n,{type:t,isSimulated:!0});mt.event.trigger(i,null,e)}}),mt.fn.extend({trigger:function(t,e){return this.each(function(){mt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return mt.event.trigger(t,e,n,!0)}}),dt.focusin||mt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){mt.event.simulate(e,t.target,mt.event.fix(t))};mt.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=It.access(i,e);r||i.addEventListener(t,n,!0),It.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=It.access(i,e)-1;r?It.access(i,e,r):(i.removeEventListener(t,n,!0),It.remove(i,e))}}});var Me=t.location,je=Date.now(),Oe=/\?/;mt.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||mt.error("Invalid XML: "+e),n};var Ae=/\[\]$/,Re=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Ie=/^(?:input|select|textarea|keygen)/i;mt.param=function(t,e){var n,i=[],r=function(t,e){var n=ht(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!mt.isPlainObject(t))mt.each(t,function(){r(this.name,this.value)});else for(n in t)K(n,t[n],e,r);return i.join("&")},mt.fn.extend({serialize:function(){return mt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=mt.prop(this,"elements");return t?mt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!mt(this).is(":disabled")&&Ie.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!Wt.test(t))}).map(function(t,e){var n=mt(this).val();return null==n?null:Array.isArray(n)?mt.map(n,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:n.replace(Re,"\r\n")}}).get()}});var Le=/%20/g,ke=/#.*$/,De=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,$e=/^\/\//,Ge={},Ue={},Be="*/".concat("*"),He=tt.createElement("a");He.href=Me.href,mt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Me.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":mt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Z(Z(t,mt.ajaxSettings),e):Z(mt.ajaxSettings,t)},ajaxPrefilter:X(Ge),ajaxTransport:X(Ue),ajax:function(e,n){function i(e,n,i,s){var u,h,f,b,E,x=n;c||(c=!0,l&&t.clearTimeout(l),r=void 0,a=s||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(b=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,C,i)),b=function(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,b,C,u),u?(p.ifModified&&((E=C.getResponseHeader("Last-Modified"))&&(mt.lastModified[o]=E),(E=C.getResponseHeader("etag"))&&(mt.etag[o]=E)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=b.state,h=b.data,u=!(f=b.error))):(f=x,!e&&x||(x="error",e<0&&(e=0))),C.status=e,C.statusText=(n||x)+"",u?v.resolveWith(m,[h,x,C]):v.rejectWith(m,[C,x,f]),C.statusCode(_),_=void 0,d&&g.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?h:f]),y.fireWith(m,[C,x]),d&&(g.trigger("ajaxComplete",[C,p]),--mt.active||mt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,l,u,c,d,h,f,p=mt.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?mt(m):mt.event,v=mt.Deferred(),y=mt.Callbacks("once memory"),_=p.statusCode||{},b={},E={},x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ne.exec(a);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=E[t.toLowerCase()]=E[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(v.promise(C),p.url=((e||p.url||Me.href)+"").replace($e,Me.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(St)||[""],null==p.crossDomain){u=tt.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=He.protocol+"//"+He.host!=u.protocol+"//"+u.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=mt.param(p.data,p.traditional)),J(Ge,p,n,C),c)return C;for(h in(d=mt.event&&p.global)&&0==mt.active++&&mt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Fe.test(p.type),o=p.url.replace(ke,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Le,"+")):(f=p.url.slice(o.length),p.data&&(p.processData||"string"==typeof p.data)&&(o+=(Oe.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(De,"$1"),f=(Oe.test(o)?"&":"?")+"_="+je++ +f),p.url=o+f),p.ifModified&&(mt.lastModified[o]&&C.setRequestHeader("If-Modified-Since",mt.lastModified[o]),mt.etag[o]&&C.setRequestHeader("If-None-Match",mt.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Be+"; q=0.01":""):p.accepts["*"]),p.headers)C.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,C,p)||c))return C.abort();if(x="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=J(Ue,p,n,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,r.send(b,i)}catch(T){if(c)throw T;i(-1,T)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return mt.get(t,e,n,"json")},getScript:function(t,e){return mt.get(t,void 0,e,"script")}}),mt.each(["get","post"],function(t,e){mt[e]=function(t,n,i,r){return ht(n)&&(r=r||i,i=n,n=void 0),mt.ajax(mt.extend({url:t,type:e,dataType:r,data:n,success:i},mt.isPlainObject(t)&&t))}}),mt._evalUrl=function(t,e){return mt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){mt.globalEval(t,e)}})},mt.fn.extend({wrapAll:function(t){var e;return this[0]&&(ht(t)&&(t=t.call(this[0])),e=mt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ht(t)?this.each(function(e){mt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=mt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ht(t);return this.each(function(n){mt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){mt(this).replaceWith(this.childNodes)}),this}}),mt.expr.pseudos.hidden=function(t){return!mt.expr.pseudos.visible(t)},mt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},mt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ve={0:200,1223:204},ze=mt.ajaxSettings.xhr();dt.cors=!!ze&&"withCredentials"in ze,dt.ajax=ze=!!ze,mt.ajaxTransport(function(e){var n,i;if(dt.cors||ze&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),mt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),mt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return mt.globalEval(t),t}}}),mt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),mt.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=mt("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),tt.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,qe=[],Ye=/(=)\?(?=&|$)|\?\?/;mt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||mt.expando+"_"+je++;return this[t]=!0,t}}),mt.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=!1!==e.jsonp&&(Ye.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ht(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ye,"$1"+r):!1!==e.jsonp&&(e.url+=(Oe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||mt.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?mt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,qe.push(r)),a&&ht(o)&&o(a[0]),a=o=void 0}),"script"}),dt.createHTMLDocument=((We=tt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),mt.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(dt.createHTMLDocument?((i=(e=tt.implementation.createHTMLDocument("")).createElement("base")).href=tt.location.href,e.head.appendChild(i)):e=tt),o=!n&&[],(r=Et.exec(t))?[e.createElement(r[1])]:(r=x([t],e,o),o&&o.length&&mt(o).remove(),mt.merge([],r.childNodes)));var i,r,o},mt.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=W(t.slice(s)),t=t.slice(0,s)),ht(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&mt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?mt("<div>").append(mt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},mt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){mt.fn[e]=function(t){return this.on(e,t)}}),mt.expr.pseudos.animated=function(t){return mt.grep(mt.timers,function(e){return t===e.elem}).length},mt.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u=mt.css(t,"position"),c=mt(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),o=mt.css(t,"top"),l=mt.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(a=(i=c.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),ht(e)&&(e=e.call(t,n,mt.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):c.css(d)}},mt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){mt.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===mt.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===mt.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=mt(t).offset()).top+=mt.css(t,"borderTopWidth",!0),r.left+=mt.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-mt.css(i,"marginTop",!0),left:e.left-r.left-mt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===mt.css(t,"position");)t=t.offsetParent;return t||Gt})}}),mt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;mt.fn[t]=function(i){return Ot(this,function(t,i,r){var o;return ft(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),mt.each(["top","left"],function(t,e){mt.cssHooks[e]=k(dt.pixelPosition,function(t,n){if(n)return n=L(t,e),ae.test(n)?mt(t).position()[e]+"px":n})}),mt.each({Height:"height",Width:"width"},function(t,e){mt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){mt.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return Ot(this,function(e,n,r){var o;return ft(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?mt.css(e,n,s):mt.style(e,n,r,s)},e,a?r:void 0,a)}})}),mt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){mt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),mt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),mt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),mt.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),ht(t))return i=nt.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(nt.call(arguments)))}).guid=t.guid=t.guid||mt.guid++,r},mt.holdReady=function(t){t?mt.readyWait++:mt.ready(!0)},mt.isArray=Array.isArray,mt.parseJSON=JSON.parse,mt.nodeName=a,mt.isFunction=ht,mt.isWindow=ft,mt.camelCase=p,mt.type=r,mt.now=Date.now,mt.isNumeric=function(t){var e=mt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof i&&i.amd&&i("jquery",[],function(){return mt});var Ke=t.jQuery,Xe=t.$;return mt.noConflict=function(e){return t.$===mt&&(t.$=Xe),e&&t.jQuery===mt&&(t.jQuery=Ke),mt},e||(t.jQuery=t.$=mt),mt})},{process:"pBGv"}],itQ5:[function(t,e,n){"use strict";var i={MAP_COMPONENT_NAME:"map",OSM_NIGHT_MODE_COMPONENT_NAME:"OSMNightMode",GEOLAYER_VERSION:"1.1.1",STYLE_BASE_NAME_DEV:"./geolayer",STYLE_BASE_NAME:"../bower_components/geolayer/dist/geolayer",INITIAL_ZOOM:8,INITIAL_POSITION:[-4.45,48.33],Luminosity:{DAY:"DAY",DUSK:"DUSK",NIGHT:"NIGHT"},BackgroundProviderType:{GEOMOD:"Geomod",GEOSERVER:"Geoserver",OPENSEAMAP:"OpenSeaMap",OPENSEAMAPPROXY:"OpenSeaMapProxy",MAPPROXY:"MapProxy",EMODNET:"Emodnet",ARCGIS:"Arcgis"},OwnShipSymbolType:{CONSTANT_SIZE:"CST_SIZE",NONE:"NONE",REAL_SCALE:"REAL_SCL",ZOOM:"ZOOM"},MobileType:{AIS:"AIS",ARPA:"ARPA",MOBILE:"MOBILE",LEST:"LEST"},MobileStatus:{ALIVE:"ALIVE",SLEEPING:"SLEEPING",DANGER:"DANGER"},GEOMOD:{url:"http://192.168.242.12:8080/MARINE_OWS_SERVER",username:"",password:""},EMODNET:{url:"https://tiles.emodnet-bathymetry.eu/v9/{Layer}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.png"}};e.exports=i},{}],B0d6:[function(t,e,n){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}Object.defineProperty(n,"__esModule",{value:!0}),n.inherits=i},{}],V6H4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./Fill.js")),o=i(t("./TextPlacement.js")),a="#333",s=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r["default"]({color:a}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o["default"].POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};s.prototype.clone=function(){return new s({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},s.prototype.getOverflow=function(){return this.overflow_},s.prototype.getFont=function(){return this.font_},s.prototype.getMaxAngle=function(){return this.maxAngle_},s.prototype.getPlacement=function(){return this.placement_},s.prototype.getOffsetX=function(){return this.offsetX_},s.prototype.getOffsetY=function(){return this.offsetY_},s.prototype.getFill=function(){return this.fill_},s.prototype.getRotateWithView=function(){return this.rotateWithView_},s.prototype.getRotation=function(){return this.rotation_},s.prototype.getScale=function(){return this.scale_},s.prototype.getStroke=function(){return this.stroke_},s.prototype.getText=function(){return this.text_},s.prototype.getTextAlign=function(){return this.textAlign_},s.prototype.getTextBaseline=function(){return this.textBaseline_},s.prototype.getBackgroundFill=function(){return this.backgroundFill_},s.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},s.prototype.getPadding=function(){return this.padding_},s.prototype.setOverflow=function(t){this.overflow_=t},s.prototype.setFont=function(t){this.font_=t},s.prototype.setMaxAngle=function(t){this.maxAngle_=t},s.prototype.setOffsetX=function(t){this.offsetX_=t},s.prototype.setOffsetY=function(t){this.offsetY_=t},s.prototype.setPlacement=function(t){this.placement_=t},s.prototype.setFill=function(t){this.fill_=t},s.prototype.setRotation=function(t){this.rotation_=t},s.prototype.setScale=function(t){this.scale_=t},s.prototype.setStroke=function(t){this.stroke_=t},s.prototype.setText=function(t){this.text_=t},s.prototype.setTextAlign=function(t){this.textAlign_=t},s.prototype.setTextBaseline=function(t){this.textBaseline_=t},s.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},s.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},s.prototype.setPadding=function(t){this.padding_=t};var l=s;n["default"]=l},{"./Fill.js":"vciJ","./TextPlacement.js":"t7pG"}],FYL5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("ol/proj"),o=i(t("ol/Object")),a=t("../inherits"),s=t("../config"),l=function(){this.map_=null,this.SMFArray_=[],this.starboardColor_=null,this.portsideColor_=null,this.visible_=!0,this.opacity=1,this.setLuminosity(s.Luminosity.DAY)};(0,a.inherits)(l,o["default"]),l.prototype.setVisible=function(t){this.visible_=t},l.prototype.setMap=function(t){this.map_=t},l.prototype.setLuminosity=function(t){t===s.Luminosity.DAY?(this.starboardColor_="rgba(124,163,202,0.6)",this.portsideColor_="rgba(204,141,142,0.6)"):t===s.Luminosity.NIGHT&&(this.starboardColor_="rgba(32,41,58,0.6)",this.portsideColor_="rgba(51,33,22,0.6)")},l.prototype.setOpacity=function(t){this.opacity=t,this.map_.render()},l.prototype.getOpacity=function(){return this.opacity},l.prototype.render=function(t,e){if(this.visible_&&this.SMFArray_&&0!==this.SMFArray_.length){var n=!0;this.renderSMF(t,e,n,this.starboardColor_),n=!1,this.renderSMF(t,e,n,this.portsideColor_)}},l.prototype.renderSMF=function(t,e,n,i){if(this.SMFArray_&&0!==this.SMFArray_.length){var o=this.SMFArray_[0][0],a=(this.map_.getPixelFromCoordinate(o),t.pixelRatio),s=(0,r.toLonLat)(o,this.map_.getView().getProjection()),l=Math.cos(s[1]*Math.PI/180),u=1;0!=l&&(u=1/l);var c=2,d=3,h=-1;n||(c=4,d=5,h=1),e.globalAlpha=this.opacity;for(var f=0;f<this.SMFArray_.length-1;f++){var p=this.SMFArray_[f],m=this.getPoint(p,u,c,d,h);e.beginPath(),e.moveTo(m[0]*a,m[1]*a),p=this.SMFArray_[f+1],m=this.getPoint(p,u,c,d,h),e.lineTo(m[0]*a,m[1]*a),o=this.SMFArray_[f+1][0],m=this.map_.getPixelFromCoordinate(o),e.lineTo(m[0]*a,m[1]*a),o=this.SMFArray_[f][0],m=this.map_.getPixelFromCoordinate(o),e.lineTo(m[0]*a,m[1]*a),e.closePath(),e.strokeStyle=i,e.fillStyle=i,e.lineWidth=1,e.fill()}}},l.prototype.getPoint=function(t,e,n,i,r){var o=t[0],a=t[1],s=e*t[n],l=e*t[i],u=(180-a)*Math.PI/180,c=r*s*Math.cos(u),d=r*s*Math.sin(u),h=[o[0]+c+l*Math.sin(u),o[1]+d-l*Math.cos(u)];return this.map_.getPixelFromCoordinate(h)},l.prototype.setData=function(t){if(this.map_){this.SMFArray_=[];for(var e=0;e<t.length;e++){var n=t[e],i=(0,r.fromLonLat)([n[1],n[0]],this.map_.getView().getProjection());this.SMFArray_.push([[i[0],i[1]],n[2],n[3],n[4],n[5],n[6]])}}else console.log("Error : The map control is not set on the SMF object.")},e.exports=l},{"ol/proj":"aoEo","ol/Object":"n4ep","../inherits":"B0d6","../config":"itQ5"}],c4Xi:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/Feature")),o=i(t("ol/geom/Point")),a=i(t("ol/geom/LineString")),s=i(t("ol/style/Fill")),l=i(t("ol/style/Style")),u=i(t("ol/style/Icon")),c=i(t("ol/style/Text")),d=t("../inherits"),h=t("./own-ship-smf"),f=function(t){r["default"].call(this,t),this.length_=null,this.width_=null,this.offsetX_=null,this.offsetY_=null,this.heading_=null,this.speed_=null,this.groundRoute_=null,this.groundSpeed_=null,this.OwnShipSMF=new h;var e=new o["default"]([]);this.setGeometry(e),this.trace_=new a["default"]([]),this.route_=new a["default"]([])};(0,d.inherits)(f,r["default"]),f.prototype.getOwnShipSMF=function(){return this.OwnShipSMF},f.prototype.setShipGeometry=function(t,e,n,i){this.length_=t,this.width_=e,this.offsetX_=n,this.offsetY_=i},f.prototype.setOwnShipData=function(t,e,n,i,r){this.heading_=e,this.speed_=n,this.groundRoute_=i,this.groundSpeed_=r,t||(t=[]),this.getGeometry().setCoordinates(t,"XY")},f.prototype.getCoordinate=function(){return this.getGeometry().getCoordinates()},f.prototype.getLength=function(){return this.length_},f.prototype.getWidth=function(){return this.width_},f.prototype.getOffsetX=function(){return this.offsetX_},f.prototype.getOffsetY=function(){return this.offsetY_},f.prototype.getHeading=function(){return this.heading_},f.prototype.getSpeed=function(){return this.speed_},f.prototype.getGroundRoute=function(){return this.groundRoute_},f.prototype.getGroundSpeed=function(){return this.groundSpeed_},f.prototype.setTrace=function(t){t||(t=[]),this.trace_.setCoordinates(t,"XY")},f.prototype.setRoute=function(t){t||(t=[]),this.route_.setCoordinates(t,"XY")},f.prototype.setText=function(t){var e=new l["default"]({text:new c["default"]({font:'bold 11px "Open Sans", "Arial Unicode MS", "sans-serif"',placement:"point",textBaseline:"bottom",fill:new s["default"]({color:"black"}),text:t})});this.setStyle([this.getStyle(),e])},f.prototype.setTextAndIcon=function(t,e,n){var i=n||"/",r=i+"/DAY/"+e+".png",o=[0,0];["atalante","europe","marion","pourquoi","thalassa"].includes(e)&&(r=i+"/DAY/sprite_medium.png","atalante"===e?o=[0,24]:"europe"===e?o=[24,24]:"marion"===e?o=[48,24]:"pourquoi"===e?o=[72,24]:"thalassa"===e&&(o=[96,24]));var a=new l["default"]({text:new c["default"]({font:'bold 11px "Open Sans", "Arial Unicode MS", "sans-serif"',placement:"point",offsetY:20,fill:new s["default"]({color:"black"}),text:t}),image:new u["default"]({offset:o,anchor:[.5,.5],size:[24,24],opacity:1,scale:1,src:r})});this.setStyle(a)},f.prototype.setShipProperties=function(t){this.setProperties(t)},e.exports=f},{"ol/Feature":"YPtS","ol/geom/Point":"FFTU","ol/geom/LineString":"x8R2","ol/style/Fill":"vciJ","ol/style/Style":"aLMx","ol/style/Icon":"lB4R","ol/style/Text":"V6H4","../inherits":"B0d6","./own-ship-smf":"FYL5"}],lkl9:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("ol/proj"),o=i(t("ol/layer/Vector")),a=t("../inherits"),s=t("../config"),l=function(t){var e=t||{};o["default"].call(this,e),this.lengthInMinutes=e.lengthInMinutes,this.widthInPixels=e.widthInPixels,this.doubleArrow_=!!t.doubleArrow&&t.doubleArrow,this.dash=e.dash,this.color="#000000",this.opacity=1,this.map_=null,this.setZIndex(10),this.setLuminosity(s.Luminosity.DAY)};(0,a.inherits)(l,o["default"]),l.prototype.setMap=function(t){this.map_=t},l.prototype.setlengthInMinutes=function(t){this.lengthInMinutes=t},l.prototype.setLuminosity=function(t){t===s.Luminosity.DAY?this.color="#000000":t!==s.Luminosity.NIGHT&&t!==s.Luminosity.DUSK||(this.color="#b4b4b4")},l.prototype.setOpacity=function(t){this.opacity=t,this.map_.render()},l.prototype.getOpacity=function(){return this.opacity},l.prototype.render=function(t,e,n,i,o){var a=n.getCoordinates(),s=this.map_.getPixelFromCoordinate(a),l=1852*i/60,u=l*this.lengthInMinutes,c=[],d=[],h=(0,r.toLonLat)(a,this.map_.getView().getProjection()),f=Math.cos(h[1]*Math.PI/180),p=1;if(0!==f&&(p=1/f),this.lengthInMinutes>=7)for(var m=6;m<this.lengthInMinutes;)d.push([a[0],a[1]-m*l*p]),m+=6;if(this.lengthInMinutes>=1)for(m=1;m<this.lengthInMinutes;)c.push([a[0],a[1]-m*l*p]),m+=1;t.save(),t.globalAlpha=this.opacity,t.translate(s[0]*e,s[1]*e),t.rotate((180+o)*Math.PI/180),t.translate(-s[0]*e,-s[1]*e),t.strokeStyle=this.color,t.lineWidth=this.widthInPixels,this.dash&&(t.save(),t.setLineDash([10])),t.beginPath(),t.moveTo(s[0]*e,s[1]*e);var g=this.map_.getPixelFromCoordinate([a[0],a[1]-u*p]);if(t.lineTo(g[0]*e,g[1]*e),t.closePath(),t.stroke(),this.dash&&t.restore(),t.beginPath(),t.moveTo(g[0]*e+10,g[1]*e-10),t.lineTo(g[0]*e,g[1]*e),t.lineTo(g[0]*e-10,g[1]*e-10),t.stroke(),t.closePath(),this.doubleArrow_&&(t.beginPath(),t.moveTo(g[0]*e+10,g[1]*e-20),t.lineTo(g[0]*e,g[1]*e-10),t.lineTo(g[0]*e-10,g[1]*e-20),t.stroke(),t.closePath()),d.length>0){t.lineWidth=2*this.widthInPixels;for(var v=0;v<d.length;v++){var y=d[v],_=this.map_.getPixelFromCoordinate(y);t.beginPath(),t.moveTo(_[0]*e-5,_[1]*e),t.lineTo(_[0]*e+5,_[1]*e),t.stroke()}}if(c.length>0)for(t.lineWidth=this.widthInPixels,v=0;v<c.length;v++)y=c[v],_=this.map_.getPixelFromCoordinate(y),t.beginPath(),t.moveTo(_[0]*e-5,_[1]*e),t.lineTo(_[0]*e+5,_[1]*e),t.stroke();t.restore()},e.exports=l},{"ol/proj":"aoEo","ol/layer/Vector":"sgAj","../inherits":"B0d6","../config":"itQ5"}],Lt40:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Vector")),o=t("ol/proj"),a=i(t("ol/Feature")),s=i(t("ol/geom/LineString")),l=i(t("ol/style/Stroke")),u=i(t("ol/style/Style")),c=i(t("ol/geom/Circle")),d=i(t("ol/source/Vector")),h=t("../inherits"),f=(i(t("ol/style/Fill")),t("../config")),p=t("./own-ship-feature"),m=t("./own-ship-speedvector"),g=function(t){var e=t||{};r["default"].call(this,e),this.setStyle(null),this.setZIndex(20),this.showRoute_=!1,this.ownShipSymbolType_=f.OwnShipSymbolType.CONSTANT_SIZE,
this.map_=null,this.transform_=[1,0,0,1,0,0],this.opacity=1,this.minSizeSymbol_=10,this.maxSizeSymbol_=20,this.colorShipConstantSize=null,this.colorLineTrace=null,this.colorLineRoute=null,this.colorCircleRoute=null,this.setSource(new d["default"]({})),this.ownship_=new p({}),this.getSource().addFeature(this.ownship_),this.throughWaterVector_=new m({lengthInMinutes:10,widthInPixels:2,dash:!0}),this.overGroundVector_=new m({lengthInMinutes:10,widthInPixels:2,dash:!0,doubleArrow:!0}),this.setLuminosity(f.Luminosity.DAY),this.set("selectable",!0),this.addRender_(),this.traceLayer=new r["default"]({source:new d["default"]({wrapX:!1})});var n=this;this.traceLayer.setZIndex(10),this.traceLayer.on("postcompose",function(t){if(n.traceLayer.getVisible()){var e=t.frameState.extent,i=n.getOwnShipFeature().trace_;if(!i||null==i.getCoordinates()||0===i.getCoordinates().length)return;if(!i.intersectsExtent(e))return;n.traceLayer.getSource().clear();var r=new a["default"]({geometry:new s["default"](i.getCoordinates())});r.setId(1),r.setStyle(new u["default"]({stroke:new l["default"]({color:n.colorLineTrace,width:2})})),n.traceLayer.getSource().addFeature(r)}}),this.routeLayer=new r["default"]({source:new d["default"]({wrapX:!1})}),this.routeLayer.setZIndex(10),this.routeLayer.on("postcompose",function(t){if(n.routeLayer.getVisible()){var e=t.frameState.extent,i=n.getOwnShipFeature().route_;if(!i||null==i.getCoordinates()||0==i.getCoordinates().length)return;if(!i.intersectsExtent(e))return;n.routeLayer.getSource().clear();var r=new a["default"]({geometry:new s["default"](i.getCoordinates())});r.setStyle(new u["default"]({stroke:new l["default"]({color:n.colorLineRoute,width:2,lineDash:[5,5]})})),n.routeLayer.getSource().addFeature(r);var o=[];i.getCoordinates().forEach(function(t){var e=new a["default"](new c["default"](t,1.5));e.setStyle(new u["default"]({stroke:new l["default"]({color:this.colorCircleRoute,width:2})})),o.push(e)},n),n.routeLayer.getSource().addFeatures(o)}})};(0,h.inherits)(g,r["default"]),g.prototype.setMap=function(t){this.map_=t,this.throughWaterVector_.setMap(this.map_),this.overGroundVector_.setMap(this.map_),this.traceLayer.setMap(this.map_),this.routeLayer.setMap(this.map_),this.ownship_.getOwnShipSMF().setMap(this.map_)},g.prototype.setLengthVector=function(t){t||(t=30),t<=0||(this.throughWaterVector_.setlengthInMinutes(t),this.overGroundVector_.setlengthInMinutes(t))},g.prototype.setOpacity=function(t){this.opacity=t,this.overGroundVector_.setOpacity(t),this.throughWaterVector_.setOpacity(t),this.ownship_.getOwnShipSMF().setOpacity(t)},g.prototype.getOpacity=function(){return this.opacity},g.prototype.setOwnShipSymbolType=function(t){this.ownShipSymbolType_=t},g.prototype.addRender_=function(){var t=this;this.on("postcompose",function(e){t.drawSMF(e.frameState,e.context),t.drawOwnShip(e.frameState,e.context)})},g.prototype.drawSMF=function(t,e){this.getOwnShipFeature().getOwnShipSMF().render(t,e)},g.prototype.drawOwnShip=function(t,e){t.extent;var n=e,i=this.getOwnShipFeature().getGeometry();if(i&&i.getCoordinates()&&!(i.getCoordinates().length<2)&&(0!=i.getCoordinates()[0]||0!=i.getCoordinates()[1])){this.getTransform(t,n.canvas);var r=this.getOwnShipFeature().getLength();if(this.ownShipSymbolType_!==f.OwnShipSymbolType.NONE){var o=this.ownShipSymbolType_===f.OwnShipSymbolType.CONSTANT_SIZE;if(o||(o=this.ownShipSymbolType_!==f.OwnShipSymbolType.REAL_SCALE&&!this.isShipLengthForRealSize(i,t.pixelRatio,r)),o)this.drawShipConstantSymbol(n,t.pixelRatio,i);else{var a=this.getOwnShipFeature().getWidth(),s=this.getOwnShipFeature().getOffsetX(),l=this.getOwnShipFeature().getOffsetY(),u=this.getOwnShipFeature().getHeading();this.drawShipRealScale(n,t.pixelRatio,i,r,a,s,l,u)}}var c=this.getOwnShipFeature().getSpeed();(u=this.getOwnShipFeature().getHeading())>=0&&this.throughWaterVector_.render(e,t.pixelRatio,i,c,u),c=this.getOwnShipFeature().getGroundSpeed(),(u=this.getOwnShipFeature().getGroundRoute())>=0&&this.overGroundVector_.render(e,t.pixelRatio,i,c,u)}},g.prototype.isShipLengthForRealSize=function(t,e,n){var i=t.getCoordinates(),r=(0,o.toLonLat)(i,this.map_.getView().getProjection()),a=Math.cos(r[1]*Math.PI/180),s=1;0!=a&&(s=1/a);var l=this.map_.getPixelFromCoordinate(i),u=[i[0],i[1]+n*s],c=this.map_.getPixelFromCoordinate(u);return l[1]*e-c[1]*e>this.maxSizeSymbol_},g.prototype.drawShipConstantSymbol=function(t,e,n){var i=this.map_.getPixelFromCoordinate(n.getCoordinates());t.strokeStyle=this.colorShipConstantSize,t.beginPath(),t.arc(i[0]*e,i[1]*e,this.minSizeSymbol_,0,2*Math.PI),t.closePath(),t.stroke(),t.beginPath(),t.arc(i[0]*e,i[1]*e,this.maxSizeSymbol_,0,2*Math.PI),t.closePath(),t.stroke()},g.prototype.drawShipRealScale=function(t,e,n,i,r,a,s,l){var u=n.getCoordinates(),c=this.map_.getPixelFromCoordinate(n.getCoordinates());c[0]=c[0],c[1]=c[1];var d=(0,o.toLonLat)(u,this.map_.getView().getProjection()),h=Math.cos(d[1]*Math.PI/180),f=1;0!=h&&(f=1/h);var p=[],m=[u[0]-(a-r)*f,u[1]-(s-i)*f];p.push(this.map_.getPixelFromCoordinate(m));var g=[m[0],m[1]-85*i/100*f];p.push(this.map_.getPixelFromCoordinate(g)),g=[g[0]-25*r/100*f,g[1]-15*i/100*f],p.push(this.map_.getPixelFromCoordinate(g)),g=[g[0]-50*r/100*f,g[1]],p.push(this.map_.getPixelFromCoordinate(g)),g=[g[0]-25*r/100*f,g[1]+15*i/100*f],p.push(this.map_.getPixelFromCoordinate(g)),g=[g[0],g[1]+85*i/100*f],p.push(this.map_.getPixelFromCoordinate(g)),t.save(),t.translate(c[0]*e,c[1]*e),t.rotate((180+l)*Math.PI/180),t.translate(-c[0]*e,-c[1]*e),t.strokeStyle=this.colorShipConstantSize,t.lineWidth=1,t.beginPath(),t.moveTo(c[0]*e-10,c[1]*e),t.lineTo(c[0]*e+10,c[1]*e),t.closePath(),t.stroke(),t.moveTo(c[0]*e,c[1]*e-10),t.lineTo(c[0]*e,c[1]*e+10),t.stroke(),t.lineWidth=2,t.beginPath(),t.moveTo(p[0][0]*e,p[0][1]*e),t.lineTo(p[1][0]*e,p[1][1]*e),t.lineTo(p[2][0]*e,p[2][1]*e),t.lineTo(p[3][0]*e,p[3][1]*e),t.lineTo(p[4][0]*e,p[4][1]*e),t.lineTo(p[5][0]*e,p[5][1]*e),t.closePath(),t.stroke(),t.restore()},g.prototype.drawTrace=function(t){},g.prototype.drawRoute=function(t){},g.prototype.showTrace=function(t){this.traceLayer.setVisible(t)},g.prototype.showRoute=function(t){this.routeLayer.setVisible(t)},g.prototype.showAIS=function(t){this.aisLayer.setVisible(t)},g.prototype.getTransform=function(t,e){var n=t.viewState,i=e.width/2,r=e.height/2,o=t.pixelRatio/n.resolution,a=-o,s=-n.rotation,l=-n.center[0],u=-n.center[1];return g.compose(this.transform_,i,r,o,a,s,l,u)},g.compose=function(t,e,n,i,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=a*i*u-s*i*l+e,t[5]=a*r*l+s*r*u+n,t},g.prototype.getOwnShipFeature=function(){return this.ownship_},g.prototype.setLuminosity=function(t){this.colorShipConstantSize="#000000",this.colorLineRoute="#E9883D",this.colorCircleRoute="#5f6a60",this.throughWaterVector_.setLuminosity(f.Luminosity.DAY),this.overGroundVector_.setLuminosity(f.Luminosity.DAY),this.ownship_.getOwnShipSMF().setLuminosity(f.Luminosity.DAY)},g.prototype.setColorLineTrace=function(t){this.colorLineTrace=t,this.traceLayer.getSource().getFeatureById(1)&&this.traceLayer.getSource().getFeatureById(1).setStyle(new u["default"]({stroke:new l["default"]({color:self.colorLineTrace,width:2})}))},g.prototype.setText=function(t){this.getOwnShipFeature().setText(t)},g.prototype.setTextAndIcon=function(t,e,n){this.getOwnShipFeature().setTextAndIcon(t,e,n)},g.prototype.setShipProperties=function(t){this.getOwnShipFeature().setShipProperties(t)},e.exports=g},{"ol/layer/Vector":"sgAj","ol/proj":"aoEo","ol/Feature":"YPtS","ol/geom/LineString":"x8R2","ol/style/Stroke":"vIbn","ol/style/Style":"aLMx","ol/geom/Circle":"rStz","ol/source/Vector":"GKSK","../inherits":"B0d6","ol/style/Fill":"vciJ","../config":"itQ5","./own-ship-feature":"c4Xi","./own-ship-speedvector":"lkl9"}],wVAT:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Vector")),o=i(t("ol/source/Vector")),a=i(t("ol/style/Style")),s=i(t("ol/style/Icon")),l=i(t("ol/Feature")),u=i(t("ol/geom/Point")),c=t("ol/proj"),d=t("../inherits"),h=t("../config"),f=function(t,e){var n=t||{};n.style=function(t,n){return this.setStyleFunction(t,n,e)}.bind(this),r["default"].call(this,n),this.map_=null,this.setSource(new o["default"]({})),this.setZIndex(10),this.luminosity_=h.Luminosity.DAY};(0,d.inherits)(f,r["default"]),f.prototype.setStyleFunction=function(t,e,n){var i=n||"/",r=i+"/"+this.luminosity_+"/PO_ARPATG01.png",o=[21,21],l=t.get("state");return t.get("name")===h.MobileType.AIS&&(o=[17,25],r=i+"/"+this.luminosity_+"/PO_AISVES01.png",l===h.MobileStatus.SLEEPING?r=i+"/"+this.luminosity_+"/PO_AISVES02.png":l===h.MobileStatus.DANGER&&(r=i+"/"+this.luminosity_+"/PO_AISVES03.png")),t.get("name")===h.MobileType.MOBILE?(o=[24,24],r=i+"/"+this.luminosity_+"/PO_MOBILE.png"):t.get("name")===h.MobileType.LEST&&(o=[24,24],r=i+"/"+this.luminosity_+"/PO_LEST.png"),[new a["default"]({image:new s["default"]({anchor:[.5,.5],size:o,opacity:1,scale:1,rotation:t.get("heading"),src:r})})]},f.prototype.setMap=function(t){this.map_=t},f.prototype.addMobiles=function(t){this.getSource().clear();for(var e=0;e<t.length;e++){var n=t[e],i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],d=(0,c.fromLonLat)([r,i],this.map_.getView().getProjection()),h=new u["default"](d),f=new l["default"]({name:a,state:s,heading:o*(Math.PI/180),geometry:h});this.getSource().addFeature(f)}},f.prototype.setLuminosity=function(t){this.luminosity_=t;try{this.getSource().getFeatures()[0].changed()}catch(e){}},e.exports=f},{"ol/layer/Vector":"sgAj","ol/source/Vector":"GKSK","ol/style/Style":"aLMx","ol/style/Icon":"lB4R","ol/Feature":"YPtS","ol/geom/Point":"FFTU","ol/proj":"aoEo","../inherits":"B0d6","../config":"itQ5"}],RiWG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/Object")),o=i(t("ol/source/Vector")),a=i(t("ol/style/Style")),s=i(t("ol/style/Fill")),l=i(t("ol/style/Stroke")),u=i(t("ol/style/Circle")),c=i(t("ol/interaction/Draw")),d=i(t("ol/geom/LineString")),h=i(t("ol/Overlay")),f=i(t("ol/layer/Vector")),p=t("ol/sphere"),m=t("ol/proj"),g=t("../inherits"),v=t("../config"),y=function(){this.map_=null,this.sketch_=null,this.measureTooltipElements_=[],this.measureTooltips_=[],this.continueLineMsg_="Click to continue drawing the line",this.listener_=null,this.draw_=null,this.source_=new o["default"],this.vectorLayer_=null,this.strokeColor_="#5e9e4d",this.setLuminosity(v.Luminosity.DAY)};(0,g.inherits)(y,r["default"]),y.prototype.setLuminosity=function(t){t===v.Luminosity.DAY?this.strokeColor_="#5e9e4d":t===v.Luminosity.NIGHT&&(this.strokeColor_="#131b03"),this.vectorLayer_&&(this.vectorLayer_.getStyle().getStroke().setColor(this.strokeColor_),this.vectorLayer_.getStyle().getImage().getFill().setColor(this.strokeColor_),this.map_.render())},y.prototype.initLayer=function(){this.vectorLayer_=new f["default"]({source:this.source_,style:new a["default"]({fill:new s["default"]({color:"rgba(255, 255, 255, 0.2)"}),stroke:new l["default"]({color:this.strokeColor_,width:2}),image:new u["default"]({radius:7,fill:new s["default"]({color:this.strokeColor_})})})}),this.map_.addLayer(this.vectorLayer_)},y.prototype.setMap=function(t){this.map_=t,this.initLayer(),this.addInteraction_(),this.setActive(!1)},y.prototype.formatLength=function(t){var e,n=t.getCoordinates();e=0;for(var i=this.map_.getView().getProjection(),r=0,o=n.length-1;r<o;++r){var a=(0,m.transform)(n[r],i,"EPSG:4326"),s=(0,m.transform)(n[r+1],i,"EPSG:4326");e+=(0,p.getDistance)(a,s)}var l="D = ";return l+=e>1852?(Math.round(e/1852*100)/100).toFixed(1)+" nm":(Math.round(100*e)/100).toFixed(1)+" m"},y.prototype.setStyle_=function(t,e){return[new a["default"]({fill:new s["default"]({color:this.strokeColor_}),stroke:new l["default"]({color:this.strokeColor_,lineDash:[10,10],width:2}),image:new u["default"]({radius:5,stroke:new l["default"]({color:"rgba(0, 0, 0, 0.7)"}),fill:new s["default"]({color:this.strokeColor_})})})]},y.prototype.addInteraction_=function(){var t=this,e=function(e,n){return t.setStyle_(e,n)}.bind(t);t.draw_=new c["default"]({source:t.source_,type:"LineString",style:e,geometryFunction:function(e,n){var i=t.draw_.get("measureTool");n||(n=new d["default"]([]));var r=e.length!=n.getCoordinates().length;return n.setCoordinates(e),r&&i.measureTooltipElements_.length>0&&(i.measureTooltipElements_[i.measureTooltipElements_.length-1].className="tooltip tooltip-static",i.measureTooltips_[i.measureTooltips_.length-1].setOffset([0,-10]),i.createMeasureTooltip(!1)),n}}),t.draw_.set("measureTool",t),t.draw_.on("drawstart",function(e){t.sketch_=e.feature;var n=e.coordinate;t.listener_=t.sketch_.getGeometry().on("change",function(e){if(t.measureTooltips_.length>0)for(var i=0;i<t.measureTooltips_.length;i++){var r=t.measureTooltips_[i];r.getMap()||t.map_.addOverlay(r)}var o,a=e.target;o=t.formatLength(a),n=a.getLastCoordinate(),t.measureTooltipElements_.length>0&&(t.measureTooltipElements_[t.measureTooltipElements_.length-1].innerHTML=o,t.measureTooltips_[t.measureTooltips_.length-1].setPosition(n))},t)},t)},y.prototype.createMeasureTooltip=function(t){var e=document.createElement("div");e.className="tooltip tooltip-measure",this.measureTooltipElements_.push(e);var n=new h["default"]({element:e,offset:[0,-15],positioning:"bottom-center"});this.measureTooltips_.push(n)},y.prototype.resetTool=function(){try{this.draw_.finishDrawing()}catch(t){}if(this.measureTooltipElements_.length>0)for(var e=0;e<this.measureTooltipElements_.length;e++)null!=(n=this.measureTooltipElements_[e]).parentNode&&(n.parentNode.removeChild(n),n=null);if(this.measureTooltips_.length>0)for(e=0;e<this.measureTooltips_.length;e++){var n=this.measureTooltips_[e];this.map_.removeOverlay(n)}this.measureTooltipElements_=[],this.measureTooltips_=[],this.source_.clear(),this.createMeasureTooltip(!0),this.map_.render()},y.prototype.setActive=function(t){this.resetTool(),t?this.map_.addInteraction(this.draw_):this.map_.removeInteraction(this.draw_),this.setVisible(t),this.draw_.setActive(t)},y.prototype.getVisible=function(){return this.vectorLayer_.getVisible()},y.prototype.setVisible=function(t){return this.measureTooltipElements_.forEach(function(e){e.style.display=t?"block":"none"}),this.vectorLayer_.setVisible(t)},y.prototype.setOpacity=function(t){return console.log(t),this.measureTooltipElements_.forEach(function(e){e.style.opacity=t}),this.vectorLayer_.setOpacity(t)},e.exports=y},{"ol/Object":"n4ep","ol/source/Vector":"GKSK","ol/style/Style":"aLMx","ol/style/Fill":"vciJ","ol/style/Stroke":"vIbn","ol/style/Circle":"b45o","ol/interaction/Draw":"uKTt","ol/geom/LineString":"x8R2","ol/Overlay":"ysEj","ol/layer/Vector":"sgAj","ol/sphere":"KXaK","ol/proj":"aoEo","../inherits":"B0d6","../config":"itQ5"}],r0ZT:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("./Object.js")),s=t("./events.js"),l=i(t("./events/Event.js")),u=i(t("./events/EventType.js")),c=t("./geom/Polygon.js"),d=t("./has.js"),h=t("./math.js"),f=t("./proj.js"),p={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},m=function(t){function e(e){t.call(this,u["default"].ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),g=function(t){function e(e){t.call(this);var n=e||{};this.position_=null,this.transform_=f.identityTransform,this.watchId_=void 0,(0,s.listen)(this,(0,a.getChangeEventType)(p.PROJECTION),this.handleProjectionChanged_,this),(0,s.listen)(this,(0,a.getChangeEventType)(p.TRACKING),this.handleTrackingChanged_,this),void 0!==n.projection&&this.setProjection(n.projection),void 0!==n.trackingOptions&&this.setTrackingOptions(n.trackingOptions),this.setTracking(void 0!==n.tracking&&n.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,f.getTransformFromProjections)((0,f.get)("EPSG:4326"),t),this.position_&&this.set(p.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(d.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(p.ACCURACY,e.accuracy),this.set(p.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(p.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(p.HEADING,null===e.heading?void 0:(0,h.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(p.POSITION,n),this.set(p.SPEED,null===e.speed?void 0:e.speed);var i=(0,c.circular)(this.position_,e.accuracy);i.applyTransform(this.transform_),this.set(p.ACCURACY_GEOMETRY,i),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new m(t))},e.prototype.getAccuracy=function(){return this.get(p.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(p.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(p.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(p.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(p.HEADING)},e.prototype.getPosition=function(){return this.get(p.POSITION)},e.prototype.getProjection=function(){return this.get(p.PROJECTION)},e.prototype.getSpeed=function(){return this.get(p.SPEED)},e.prototype.getTracking=function(){return this.get(p.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(p.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(p.PROJECTION,(0,f.get)(t))},e.prototype.setTracking=function(t){this.set(p.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(p.TRACKING_OPTIONS,t)},e}(a["default"]),v=g;n["default"]=v},{"./Object.js":"n4ep","./events.js":"Bvf5","./events/Event.js":"h36w","./events/EventType.js":"eKq7","./geom/Polygon.js":"K0BN","./has.js":"lDpN","./math.js":"RK1r","./proj.js":"aoEo"}],feYO:[function(t,e,n){"use strict";function i(t,e,n){for(var i,r,o,a,l,u,c=[],d=t(0),h=t(1),f=e(d),p=e(h),m=[h,d],g=[p,f],v=[1,0],y={},_=1e5;--_>0&&v.length>0;)o=v.pop(),d=m.pop(),f=g.pop(),(u=o.toString())in y||(c.push(f[0],f[1]),y[u]=!0),a=v.pop(),h=m.pop(),p=g.pop(),r=e(i=t(l=(o+a)/2)),(0,s.squaredSegmentDistance)(r[0],r[1],f[0],f[1],p[0],p[1])<n?(c.push(p[0],p[1]),y[u=a.toString()]=!0):(v.push(a,l,l,o),g.push(p,r,r,f),m.push(h,i,i,d));return c}function r(t,e,n,r,o,a){var u=(0,l.get)("EPSG:4326"),c=Math.cos((0,s.toRadians)(e)),d=Math.sin((0,s.toRadians)(e)),h=Math.cos((0,s.toRadians)(r)),f=Math.sin((0,s.toRadians)(r)),p=Math.cos((0,s.toRadians)(n-t)),m=Math.sin((0,s.toRadians)(n-t)),g=d*f+c*h*p;return i(function(e){if(1<=g)return[n,r];var i=e*Math.acos(g),o=Math.cos(i),a=Math.sin(i),l=m*h,u=c*f-d*h*p,v=Math.atan2(l,u),y=Math.asin(d*o+c*a*Math.cos(v)),_=(0,s.toRadians)(t)+Math.atan2(Math.sin(v)*a*c,o-d*Math.sin(y));return[(0,s.toDegrees)(_),(0,s.toDegrees)(y)]},(0,l.getTransform)(u,o),a)}function o(t,e,n,r,o){var a=(0,l.get)("EPSG:4326");return i(function(i){return[t,e+(n-e)*i]},(0,l.getTransform)(a,r),o)}function a(t,e,n,r,o){var a=(0,l.get)("EPSG:4326");return i(function(i){return[e+(n-e)*i,t]},(0,l.getTransform)(a,r),o)}Object.defineProperty(n,"__esModule",{value:!0}),n.greatCircleArc=r,n.meridian=o,n.parallel=a;var s=t("../../math.js"),l=t("../../proj.js")},{"../../math.js":"RK1r","../../proj.js":"aoEo"}],CZFy:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./coordinate.js"),o=t("./events.js"),a=t("./extent.js"),s=i(t("./geom/GeometryLayout.js")),l=i(t("./geom/LineString.js")),u=i(t("./geom/Point.js")),c=t("./geom/flat/geodesic.js"),d=t("./math.js"),h=t("./proj.js"),f=i(t("./render/EventType.js")),p=i(t("./style/Fill.js")),m=i(t("./style/Stroke.js")),g=i(t("./style/Text.js")),v=new m["default"]({color:"rgba(0,0,0,0.2)"}),y=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],_=function(t){var e=t||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:v,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==e.showLabels&&(this.lonLabelFormatter_=null==e.lonLabelFormatter?r.degreesToStringHDMS.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=null==e.latLabelFormatter?r.degreesToStringHDMS.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=null==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=null==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyle_=void 0!==e.lonLabelStyle?e.lonLabelStyle:new g["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new p["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==e.latLabelStyle?e.latLabelStyle:new g["default"]({font:"12px Calibri,sans-serif",textAlign:"end",fill:new p["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:y,this.setMap(void 0!==e.map?e.map:null)};_.prototype.addMeridian_=function(t,e,n,i,r,o){var s=this.getMeridian_(t,e,n,i,o);if((0,a.intersects)(s.getExtent(),r)){if(this.meridiansLabels_){var l=this.getMeridianPoint_(s,r,o);this.meridiansLabels_[o]={geom:l,text:this.lonLabelFormatter_(t)}}this.meridians_[o++]=s}return o},_.prototype.getMeridianPoint_=function(t,e,n){var i,r=t.getFlatCoordinates(),o=Math.max(e[1],r[1]),a=Math.min(e[3],r[r.length-1]),s=(0,d.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),l=[r[0],s];return n in this.meridiansLabels_?(i=this.meridiansLabels_[n].geom).setCoordinates(l):i=new u["default"](l),i},_.prototype.addParallel_=function(t,e,n,i,r,o){var s=this.getParallel_(t,e,n,i,o);if((0,a.intersects)(s.getExtent(),r)){if(this.parallelsLabels_){var l=this.getParallelPoint_(s,r,o);this.parallelsLabels_[o]={geom:l,text:this.latLabelFormatter_(t)}}this.parallels_[o++]=s}return o},_.prototype.getParallelPoint_=function(t,e,n){var i,r=t.getFlatCoordinates(),o=Math.max(e[0],r[0]),a=Math.min(e[2],r[r.length-2]),s=[(0,d.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),r[1]];return n in this.parallelsLabels_?(i=this.parallelsLabels_[n].geom).setCoordinates(s):i=new u["default"](s),i},_.prototype.createGraticule_=function(t,e,n,i){var r=this.getInterval_(n);if(-1==r)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,l,u=this.toLonLatTransform_(e),c=u[0],f=u[1],p=this.maxLines_,m=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],g=(m=(0,h.transformExtent)(m,this.projection_,"EPSG:4326"))[3],v=m[2],y=m[1],_=m[0];for(c=Math.floor(c/r)*r,l=(0,d.clamp)(c,this.minLon_,this.maxLon_),a=this.addMeridian_(l,y,g,i,t,0),o=0;l!=this.minLon_&&o++<p;)l=Math.max(l-r,this.minLon_),a=this.addMeridian_(l,y,g,i,t,a);for(l=(0,d.clamp)(c,this.minLon_,this.maxLon_),o=0;l!=this.maxLon_&&o++<p;)l=Math.min(l+r,this.maxLon_),a=this.addMeridian_(l,y,g,i,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),f=Math.floor(f/r)*r,s=(0,d.clamp)(f,this.minLat_,this.maxLat_),a=this.addParallel_(s,_,v,i,t,0),o=0;s!=this.minLat_&&o++<p;)s=Math.max(s-r,this.minLat_),a=this.addParallel_(s,_,v,i,t,a);for(s=(0,d.clamp)(f,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<p;)s=Math.min(s+r,this.maxLat_),a=this.addParallel_(s,_,v,i,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},_.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],i=-1,r=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=this.intervals_[s]/2;if(o[0]=e-u,o[1]=n-u,a[0]=e+u,a[1]=n+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=r)break;i=this.intervals_[s]}return i},_.prototype.getMap=function(){return this.map_},_.prototype.getMeridian_=function(t,e,n,i,r){var o=(0,c.meridian)(t,e,n,this.projection_,i),a=this.meridians_[r];return a?(a.setFlatCoordinates(s["default"].XY,o),a.changed()):a=this.meridians_[r]=new l["default"](o,s["default"].XY),a},_.prototype.getMeridians=function(){return this.meridians_},_.prototype.getParallel_=function(t,e,n,i,r){var o=(0,c.parallel)(t,e,n,this.projection_,i),a=this.parallels_[r];return a?(a.setFlatCoordinates(s["default"].XY,o),a.changed()):a=new l["default"](o,s["default"].XY),a},_.prototype.getParallels=function(){return this.parallels_},_.prototype.handlePostCompose_=function(t){var e,n,i,r,o=t.vectorContext,a=t.frameState,s=a.extent,l=a.viewState,u=l.center,c=l.projection,d=l.resolution,f=a.pixelRatio,p=d*d/(4*f*f);for((!this.projection_||!(0,h.equivalent)(this.projection_,c))&&this.updateProjectionInfo_(c),this.createGraticule_(s,u,d,p),o.setFillStrokeStyle(null,this.strokeStyle_),e=0,n=this.meridians_.length;e<n;++e)i=this.meridians_[e],o.drawGeometry(i);for(e=0,n=this.parallels_.length;e<n;++e)i=this.parallels_[e],o.drawGeometry(i);if(this.meridiansLabels_)for(e=0,n=this.meridiansLabels_.length;e<n;++e)r=this.meridiansLabels_[e],this.lonLabelStyle_.setText(r.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(r.geom);if(this.parallelsLabels_)for(e=0,n=this.parallelsLabels_.length;e<n;++e)r=this.parallelsLabels_[e],this.latLabelStyle_.setText(r.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(r.geom)},_.prototype.updateProjectionInfo_=function(t){var e=(0,h.get)("EPSG:4326"),n=t.getWorldExtent(),i=(0,h.transformExtent)(n,e,t);this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=(0,h.getTransform)(e,t),this.toLonLatTransform_=(0,h.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(t.getExtent())),this.projection_=t},_.prototype.setMap=function(t){this.map_&&((0,o.unlistenByKey)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=(0,o.listen)(t,f["default"].POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};var b=_;n["default"]=b},{"./coordinate.js":"HxRU","./events.js":"Bvf5","./extent.js":"IwSU","./geom/GeometryLayout.js":"hsvv","./geom/LineString.js":"x8R2","./geom/Point.js":"FFTU","./geom/flat/geodesic.js":"feYO","./math.js":"RK1r","./proj.js":"aoEo","./render/EventType.js":"tder","./style/Fill.js":"vciJ","./style/Stroke.js":"vIbn","./style/Text.js":"V6H4"}],krGz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./ImageBase.js")),o=i(t("./ImageState.js")),a=t("./events.js"),s=i(t("./events/EventType.js")),l=t("./extent.js"),u=function(t){function e(e,n,i,r,a,s){t.call(this,e,n,i,o["default"].IDLE),this.src_=r,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.state=o["default"].IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=o["default"].ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,l.getHeight)(this.extent)/this.image_.height),this.state=o["default"].LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=o["default"].IDLE&&this.state!=o["default"].ERROR||(this.state=o["default"].LOADING,this.changed(),this.imageListenerKeys_=[(0,a.listenOnce)(this.image_,s["default"].ERROR,this.handleImageError_,this),(0,a.listenOnce)(this.image_,s["default"].LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.unlistenByKey),this.imageListenerKeys_=null},e}(r["default"]),c=u;n["default"]=c},{"./ImageBase.js":"Vfqz","./ImageState.js":"iN8L","./events.js":"Bvf5","./events/EventType.js":"eKq7","./extent.js":"IwSU"}],rqi0:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./TileState.js")),o=t("./easing.js"),a=i(t("./events/Target.js")),s=i(t("./events/EventType.js")),l=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s["default"].CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r["default"].LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r["default"].LOADED){t.interimTile=null;break}t.getState()==r["default"].LOADING?e=t:t.getState()==r["default"].IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:(0,o.easeIn)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a["default"]),u=l;n["default"]=u},{"./TileState.js":"gwpL","./easing.js":"gfrO","./events/Target.js":"mcdO","./events/EventType.js":"eKq7"
}],REYz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=(0,s.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=i(t("./Tile.js")),a=i(t("./TileState.js")),s=t("./dom.js"),l=t("./events.js"),u=i(t("./events/EventType.js")),c=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,a),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==a["default"].LOADING&&(this.unlistenImage_(),this.image_=r()),this.interimTile&&this.interimTile.dispose(),this.state=a["default"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=a["default"].ERROR,this.unlistenImage_(),this.image_=r(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=a["default"].LOADED:this.state=a["default"].EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==a["default"].ERROR&&(this.state=a["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==a["default"].IDLE&&(this.state=a["default"].LOADING,this.changed(),this.imageListenerKeys_=[(0,l.listenOnce)(this.image_,u["default"].ERROR,this.handleImageError_,this),(0,l.listenOnce)(this.image_,u["default"].LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.unlistenByKey),this.imageListenerKeys_=null},e}(o["default"]),d=c;n["default"]=d},{"./Tile.js":"rqi0","./TileState.js":"gwpL","./dom.js":"fRxd","./events.js":"Bvf5","./events/EventType.js":"eKq7"}],GjeS:[function(t,e,n){"use strict";function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function o(t){return r(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function l(t){var e,n,i=t[0],r=new Array(i),o=1<<i-1;for(e=0;e<i;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),r[e]=String.fromCharCode(n),o>>=1;return r.join("")}function u(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(i,r)}Object.defineProperty(n,"__esModule",{value:!0}),n.createOrUpdate=i,n.getKeyZXY=r,n.getKey=o,n.fromKey=a,n.hash=s,n.quadKey=l,n.withinExtentAndZ=u},{}],d5tC:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./structs/LRUCache.js")),o=t("./tilecoord.js"),a=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,o.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove((0,o.getKey)(t.tileCoord)),t.dispose())},this)}},e}(r["default"]),s=a;n["default"]=s},{"./structs/LRUCache.js":"jGvh","./tilecoord.js":"GjeS"}],YLGO:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=(0,h.loadFeaturesXhr)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.defaultLoadFunction=r,n["default"]=void 0;var o=t("./util.js"),a=i(t("./Tile.js")),s=i(t("./TileState.js")),l=t("./dom.js"),u=t("./events.js"),c=t("./extent.js"),d=i(t("./events/EventType.js")),h=t("./featureloader.js"),f=t("./functions.js"),p=function(t){function e(n,i,r,o,a,l,h,p,m,g,v,y,_,b,E){if(t.call(this,n,i,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=g,this.tileKeys=[],this.extent=null,this.sourceRevision_=r,this.wrappedTileCoord=l,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],l){var x=this.extent=m.getTileCoordExtent(l),C=m.getResolution(E),T=p.getZForResolution(C),w=E!=n[0],S=0;if(p.forEachTileCoord(x,T,function(t){var e=(0,c.getIntersection)(x,p.getTileCoordExtent(t)),n=p.getExtent();if(n&&(e=(0,c.getIntersection)(e,n,e)),(0,c.getWidth)(e)/C>=.5&&(0,c.getHeight)(e)/C>=.5){++S;var i=t.toString(),r=g[i];if(!r&&!w){var l=h(t,v,y);r=g[i]=new _(t,null==l?s["default"].EMPTY:s["default"].IDLE,null==l?"":l,o,a),this.sourceTileListenerKeys_.push((0,u.listen)(r,d["default"].CHANGE,b))}!r||w&&r.getState()!=s["default"].LOADED||(r.consumers++,this.tileKeys.push(i))}}.bind(this)),w&&S==this.tileKeys.length&&this.finishLoading_(),E<=n[0]&&this.state!=s["default"].LOADED)for(;E>m.getMinZoom();){var M=new e(n,i,r,o,a,l,h,p,m,g,v,y,_,f.VOID,(--E));if(M.state==s["default"].LOADED){this.interimTile=M;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=s["default"].ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,n=this.tileKeys.length;e<n;++e){var i=this.tileKeys[e],r=this.getTile(i);r.consumers--,0==r.consumers&&(delete this.sourceTiles_[i],r.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(u.unlistenByKey),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(u.unlistenByKey),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=(0,o.getUid)(t);return e in this.context_||(this.context_[e]=(0,l.createCanvasContext2D)()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=(0,o.getUid)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==s["default"].IDLE&&this.setState(s["default"].LOADING),this.state==s["default"].LOADING&&this.tileKeys.forEach(function(n){var i=this.getTile(n);if(i.state==s["default"].IDLE&&(i.setLoader(this.loader_),i.load()),i.state==s["default"].LOADING){var r=(0,u.listen)(i,d["default"].CHANGE,function(n){var r=i.getState();if(r==s["default"].LOADED||r==s["default"].ERROR){var a=(0,o.getUid)(i);r==s["default"].ERROR?e[a]=!0:(--t,delete e[a]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(r),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,n=t-1;n>=0;--n){var i=this.getTile(this.tileKeys[n]).getState();i!=s["default"].LOADED&&--t,i==s["default"].EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(u.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(s["default"].LOADED)):this.setState(e==this.tileKeys.length?s["default"].EMPTY:s["default"].ERROR)},e}(a["default"]),m=p;n["default"]=m},{"./util.js":"YOqM","./Tile.js":"rqi0","./TileState.js":"gwpL","./dom.js":"fRxd","./events.js":"Bvf5","./extent.js":"IwSU","./events/EventType.js":"eKq7","./featureloader.js":"WAmp","./functions.js":"guaG"}],r6g8:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./util.js"),o=i(t("./Tile.js")),a=i(t("./TileState.js")),s=[0,0,4096,4096],l=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,a),this.consumers=0,this.extent_=null,this.format_=r,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=a["default"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||s},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[(0,r.getUid)(t)+","+e]},e.prototype.load=function(){this.state==a["default"].IDLE&&(this.setState(a["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,n){this.setProjection(e),this.setFeatures(t),this.setExtent(n)},e.prototype.onError=function(){this.setState(a["default"].ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(a["default"].LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,n){this.replayGroups_[(0,r.getUid)(t)+","+e]=n},e.prototype.setLoader=function(t){this.loader_=t},e}(o["default"]),u=l;n["default"]=u},{"./util.js":"YOqM","./Tile.js":"rqi0","./TileState.js":"gwpL"}],wUs1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(t){this.source_=t};r.prototype.isAnimated=function(){return!1},r.prototype.getType=function(){return(0,i["abstract"])()},r.prototype.getSource=function(){return this.source_};var o=r;n["default"]=o},{"../util.js":"YOqM"}],qFEE:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../webgl.js"),o=i(t("../webgl/Shader.js")),a=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return r.FRAGMENT_SHADER},e}(o["default"]),s=a;n["default"]=s},{"../webgl.js":"SvAv","../webgl/Shader.js":"wUs1"}],c15H:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../webgl.js"),o=i(t("../webgl/Shader.js")),a=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return r.VERTEX_SHADER},e}(o["default"]),s=a;n["default"]=s},{"../webgl.js":"SvAv","../webgl/Shader.js":"wUs1"}],BnB7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],iwgS:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.DEBUG?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,i.DEBUG?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,i.DEBUG?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,i.DEBUG?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,i.DEBUG?"u_size":"p"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,i.DEBUG?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,i.DEBUG?"a_radius":"g")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],YrKs:[function(t,e,n){"use strict";function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}Object.defineProperty(n,"__esModule",{value:!0}),n.create=i,n.fromTransform=r},{}],gn4l:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../extent.js"),a=i(t("../VectorContext.js")),s=t("../../transform.js"),l=t("../../vec/mat4.js"),u=t("../../webgl.js"),c=function(t){function e(e,n){t.call(this),this.tolerance=e,this.maxExtent=n,this.origin=(0,o.getCenter)(n),this.projectionMatrix_=(0,s.create)(),this.offsetRotateMatrix_=(0,s.create)(),this.offsetScaleMatrix_=(0,s.create)(),this.tmpMat4_=(0,l.create)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){return(0,r["abstract"])()},e.prototype.finish=function(t){(0,r["abstract"])()},e.prototype.setUpProgram=function(t,e,n,i){return(0,r["abstract"])()},e.prototype.shutDownProgram=function(t,e){(0,r["abstract"])()},e.prototype.drawReplay=function(t,e,n,i){(0,r["abstract"])()},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){return(0,r["abstract"])()},e.prototype.drawHitDetectionReplay=function(t,e,n,i,r,o){return r?this.drawHitDetectionReplayOneByOne(t,e,n,i,o):this.drawHitDetectionReplayAll(t,e,n,i)},e.prototype.drawHitDetectionReplayAll=function(t,e,n,i){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0);var r=i(null);return r||void 0},e.prototype.replay=function(t,e,n,i,r,o,a,c,d,h,f){var p,m,g,v,y,_,b,E,x=t.getGL();this.lineStringReplay&&(p=x.isEnabled(x.STENCIL_TEST),m=x.getParameter(x.STENCIL_FUNC),g=x.getParameter(x.STENCIL_VALUE_MASK),v=x.getParameter(x.STENCIL_REF),y=x.getParameter(x.STENCIL_WRITEMASK),_=x.getParameter(x.STENCIL_FAIL),b=x.getParameter(x.STENCIL_PASS_DEPTH_PASS),E=x.getParameter(x.STENCIL_PASS_DEPTH_FAIL),x.enable(x.STENCIL_TEST),x.clear(x.STENCIL_BUFFER_BIT),x.stencilMask(255),x.stencilFunc(x.ALWAYS,1,255),x.stencilOp(x.KEEP,x.KEEP,x.REPLACE),this.lineStringReplay.replay(t,e,n,i,r,o,a,c,d,h,f),x.stencilMask(0),x.stencilFunc(x.NOTEQUAL,1,255)),t.bindBuffer(u.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var C=this.setUpProgram(x,t,r,o),T=(0,s.reset)(this.projectionMatrix_);(0,s.scale)(T,2/(n*r[0]),2/(n*r[1])),(0,s.rotate)(T,-i),(0,s.translate)(T,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var w=(0,s.reset)(this.offsetScaleMatrix_);(0,s.scale)(w,2/r[0],2/r[1]);var S,M=(0,s.reset)(this.offsetRotateMatrix_);return 0!==i&&(0,s.rotate)(M,-i),x.uniformMatrix4fv(C.u_projectionMatrix,!1,(0,l.fromTransform)(this.tmpMat4_,T)),x.uniformMatrix4fv(C.u_offsetScaleMatrix,!1,(0,l.fromTransform)(this.tmpMat4_,w)),x.uniformMatrix4fv(C.u_offsetRotateMatrix,!1,(0,l.fromTransform)(this.tmpMat4_,M)),x.uniform1f(C.u_opacity,a),void 0===d?this.drawReplay(x,t,c,!1):S=this.drawHitDetectionReplay(x,t,c,d,h,f),this.shutDownProgram(x,C),this.lineStringReplay&&(p||x.disable(x.STENCIL_TEST),x.clear(x.STENCIL_BUFFER_BIT),x.stencilFunc(m,v,g),x.stencilMask(y),x.stencilOp(_,E,b)),S},e.prototype.drawElements=function(t,e,n,i){var r=e.hasOESElementIndexUint?u.UNSIGNED_INT:u.UNSIGNED_SHORT,o=i-n,a=n*(e.hasOESElementIndexUint?4:2);t.drawElements(u.TRIANGLES,o,r,a)},e}(a["default"]),d=c;n["default"]=d},{"../../util.js":"YOqM","../../extent.js":"IwSU","../VectorContext.js":"lYEk","../../transform.js":"glB6","../../vec/mat4.js":"YrKs","../../webgl.js":"SvAv"}],SFW8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.triangleIsCounterClockwise=n.EPSILON=n.DEFAULT_LINEWIDTH=n.DEFAULT_TEXTBASELINE=n.DEFAULT_TEXTALIGN=n.DEFAULT_STROKESTYLE=n.DEFAULT_MITERLIMIT=n.DEFAULT_LINEJOIN=n.DEFAULT_LINEDASHOFFSET=n.DEFAULT_LINEDASH=n.DEFAULT_LINECAP=n.DEFAULT_FILLSTYLE=n.DEFAULT_FONT=void 0;var i="10px sans-serif";n.DEFAULT_FONT=i;var r=[0,0,0,1];n.DEFAULT_FILLSTYLE=r;var o="round";n.DEFAULT_LINECAP=o;var a=[];n.DEFAULT_LINEDASH=a;var s=0;n.DEFAULT_LINEDASHOFFSET=s;var l="round";n.DEFAULT_LINEJOIN=l;var u=10;n.DEFAULT_MITERLIMIT=u;var c=[0,0,0,1];n.DEFAULT_STROKESTYLE=c;var d=.5;n.DEFAULT_TEXTALIGN=d;var h=.5;n.DEFAULT_TEXTBASELINE=h;var f=1;n.DEFAULT_LINEWIDTH=f;var p=Number.EPSILON||2.220446049250313e-16;n.EPSILON=p;var m=function(t,e,n,i,r,o){var a=(n-t)*(o-e)-(r-t)*(i-e);return a<=p&&a>=-p?void 0:a>0};n.triangleIsCounterClockwise=m},{}],nfqH:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../webgl.js"),r={STATIC_DRAW:i.STATIC_DRAW,STREAM_DRAW:i.STREAM_DRAW,DYNAMIC_DRAW:i.DYNAMIC_DRAW},o=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:r.STATIC_DRAW};o.prototype.getArray=function(){return this.arr_},o.prototype.getUsage=function(){return this.usage_};var a=o;n["default"]=a},{"../webgl.js":"SvAv"}],HTbc:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../color.js"),s=t("../../extent.js"),l=t("../../obj.js"),u=t("../../geom/flat/transform.js"),c=t("./circlereplay/defaultshader.js"),d=i(t("./circlereplay/defaultshader/Locations.js")),h=i(t("./Replay.js")),f=t("../webgl.js"),p=t("../../webgl.js"),m=i(t("../../webgl/Buffer.js")),g=function(t){function e(e,n){t.call(this,e,n),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){var r,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(r=e,o=n;r<o;r+=i)this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},e.prototype.drawCircle=function(t,e){var n=t.getRadius(),i=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var r=t.getFlatCoordinates();r=(0,u.translate)(r,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},e.prototype.finish=function(t){this.verticesBuffer=new m["default"](this.vertices),this.indicesBuffer=new m["default"](this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(c.fragment,c.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new d["default"](t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,p.FLOAT,!1,16,0),t.enableVertexAttribArray(r.a_instruction),t.vertexAttribPointer(r.a_instruction,1,p.FLOAT,!1,16,8),t.enableVertexAttribArray(r.a_radius),t.vertexAttribPointer(r.a_radius,1,p.FLOAT,!1,16,12),t.uniform2fv(r.u_size,n),t.uniform1f(r.u_pixelRatio,i),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},e.prototype.drawReplay=function(t,e,n,i){var r,o,a,s;if((0,l.isEmpty)(n))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n)},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,l,u,c,d,h,f;for(f=this.startIndices.length-2,u=this.startIndices[f+1],a=this.styleIndices_.length-1;a>=0;--a)for(c=this.styles_[a],this.setFillStyle_(t,c[0]),this.setStrokeStyle_(t,c[1],c[2]),d=this.styleIndices_[a];f>=0&&this.startIndices[f]>=d;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===o||(0,s.intersects)(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=i(h);if(p)return p}f--,u=l}},e.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,l,u,c,d;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),l=this.styleIndices_[i];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],u=this.startIndicesFeature[c],n[(0,r.getUid)(u)]&&(o!==a&&this.drawElements(t,e,o,a),a=d),c--,o=d;o!==a&&this.drawElements(t,e,o,a),o=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},e.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},e.prototype.setFillStrokeStyle=function(t,e){var n,i;if(e){var r=e.getLineDash();this.state_.lineDash=r||f.DEFAULT_LINEDASH;var s=e.getLineDashOffset();this.state_.lineDashOffset=s||f.DEFAULT_LINEDASHOFFSET,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?f.DEFAULT_STROKESTYLE:(0,a.asArray)(n).map(function(t,e){return 3!=e?t/255:t})||f.DEFAULT_STROKESTYLE,i=void 0!==(i=e.getWidth())?i:f.DEFAULT_LINEWIDTH}else n=[0,0,0,0],i=0;var l=t?t.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?f.DEFAULT_FILLSTYLE:(0,a.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||f.DEFAULT_FILLSTYLE,this.state_.strokeColor&&(0,o.equals)(this.state_.strokeColor,n)&&this.state_.fillColor&&(0,o.equals)(this.state_.fillColor,l)&&this.state_.lineWidth===i||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=n,this.state_.lineWidth=i,this.styles_.push([l,n,i]))},e}(h["default"]),v=g;n["default"]=v},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../color.js":"tree","../../extent.js":"IwSU","../../obj.js":"qC1c","../../geom/flat/transform.js":"CVNs","./circlereplay/defaultshader.js":"BnB7","./circlereplay/defaultshader/Locations.js":"iwgS","./Replay.js":"gn4l","../webgl.js":"SFW8","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],pIsA:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],yYKj:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,i.DEBUG?"u_image":"l"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,i.DEBUG?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,i.DEBUG?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,i.DEBUG?"a_rotateWithView":"g")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],VsgE:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"
};n["default"]=i},{}],hsoJ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,n),i}function o(t,e,n,i,o){var a=r(t,i,o);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),a}function a(t,e,n,i){var o=r(t,n,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),o}Object.defineProperty(n,"__esModule",{value:!0}),n.createEmptyTexture=o,n.createTexture=a,n["default"]=void 0;var s=t("../util.js"),l=t("../webgl.js"),u=i(t("../Disposable.js")),c=t("../array.js"),d=t("../events.js"),h=t("../obj.js"),f=i(t("../webgl/ContextEventType.js")),p=function(t){function e(e,n){t.call(this),this.canvas_=e,this.gl_=n,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=(0,c.includes)(l.EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&n.getExtension("OES_element_index_uint"),(0,d.listen)(this.canvas_,f["default"].LOST,this.handleWebGLContextLost,this),(0,d.listen)(this.canvas_,f["default"].RESTORED,this.handleWebGLContextRestored,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindBuffer=function(t,e){var n=this.getGL(),i=e.getArray(),r=(0,s.getUid)(e);if(r in this.bufferCache_){var o=this.bufferCache_[r];n.bindBuffer(t,o.buffer)}else{var a,u=n.createBuffer();n.bindBuffer(t,u),t==l.ARRAY_BUFFER?a=new Float32Array(i):t==l.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(i):new Uint16Array(i)),n.bufferData(t,a,e.getUsage()),this.bufferCache_[r]={buf:e,buffer:u}}},e.prototype.deleteBuffer=function(t){var e=this.getGL(),n=(0,s.getUid)(t),i=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(i.buffer),delete this.bufferCache_[n]},e.prototype.disposeInternal=function(){(0,d.unlistenAll)(this.canvas_);var t=this.getGL();if(!t.isContextLost()){for(var e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(var n in this.programCache_)t.deleteProgram(this.programCache_[n]);for(var i in this.shaderCache_)t.deleteShader(this.shaderCache_[i]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},e.prototype.getShader=function(t){var e=(0,s.getUid)(t);if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),i=n.createShader(t.getType());return n.shaderSource(i,t.getSource()),n.compileShader(i),this.shaderCache_[e]=i,i},e.prototype.getProgram=function(t,e){var n=(0,s.getUid)(t)+"/"+(0,s.getUid)(e);if(n in this.programCache_)return this.programCache_[n];var i=this.getGL(),r=i.createProgram();return i.attachShader(r,this.getShader(t)),i.attachShader(r,this.getShader(e)),i.linkProgram(r),this.programCache_[n]=r,r},e.prototype.handleWebGLContextLost=function(){(0,h.clear)(this.bufferCache_),(0,h.clear)(this.shaderCache_),(0,h.clear)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=o(t,1,1),i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=i},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},e}(u["default"]),m=p;n["default"]=m},{"../util.js":"YOqM","../webgl.js":"SvAv","../Disposable.js":"Kusu","../array.js":"Z5sL","../events.js":"Bvf5","../obj.js":"qC1c","../webgl/ContextEventType.js":"VsgE"}],nz22:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../extent.js"),a=t("../../obj.js"),s=t("./texturereplay/defaultshader.js"),l=i(t("./texturereplay/defaultshader/Locations.js")),u=i(t("./Replay.js")),c=t("../../webgl.js"),d=t("../../webgl/Context.js"),h=function(t){function e(e,n){t.call(this,e,n),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,i=this.getTextures(!0),r=t.getGL();return function(){var o,a;if(!r.isContextLost())for(o=0,a=i.length;o<a;++o)r.deleteTexture(i[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},e.prototype.drawCoordinates=function(t,e,n,i){var r,o,a,s,l,u,c=this.anchorX,d=this.anchorY,h=this.height,f=this.imageHeight,p=this.imageWidth,m=this.opacity,g=this.originX,v=this.originY,y=this.rotateWithView?1:0,_=-this.rotation,b=this.scale,E=this.width,x=Math.cos(_),C=Math.sin(_),T=this.indices.length,w=this.vertices.length;for(r=e;r<n;r+=i)l=t[r]-this.origin[0],u=t[r+1]-this.origin[1],o=w/8,a=-b*c,s=-b*(h-d),this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=g/p,this.vertices[w++]=(v+h)/f,this.vertices[w++]=m,this.vertices[w++]=y,a=b*(E-c),s=-b*(h-d),this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=(g+E)/p,this.vertices[w++]=(v+h)/f,this.vertices[w++]=m,this.vertices[w++]=y,a=b*(E-c),s=b*d,this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=(g+E)/p,this.vertices[w++]=v/f,this.vertices[w++]=m,this.vertices[w++]=y,a=-b*c,s=b*d,this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=g/p,this.vertices[w++]=v/f,this.vertices[w++]=m,this.vertices[w++]=y,this.indices[T++]=o,this.indices[T++]=o+1,this.indices[T++]=o+2,this.indices[T++]=o,this.indices[T++]=o+2,this.indices[T++]=o+3;return w},e.prototype.createTextures=function(t,e,n,i){var o,a,s,l,u=e.length;for(l=0;l<u;++l)a=e[l],(s=(0,r.getUid)(a))in n?o=n[s]:(o=(0,d.createTexture)(i,a,c.CLAMP_TO_EDGE,c.CLAMP_TO_EDGE),n[s]=o),t[l]=o},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(s.fragment,s.vertex);return this.defaultLocations?r=this.defaultLocations:(r=new l["default"](t,o),this.defaultLocations=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,c.FLOAT,!1,32,0),t.enableVertexAttribArray(r.a_offsets),t.vertexAttribPointer(r.a_offsets,2,c.FLOAT,!1,32,8),t.enableVertexAttribArray(r.a_texCoord),t.vertexAttribPointer(r.a_texCoord,2,c.FLOAT,!1,32,16),t.enableVertexAttribArray(r.a_opacity),t.vertexAttribPointer(r.a_opacity,1,c.FLOAT,!1,32,24),t.enableVertexAttribArray(r.a_rotateWithView),t.vertexAttribPointer(r.a_rotateWithView,1,c.FLOAT,!1,32,28),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},e.prototype.drawReplay=function(t,e,n,i){var r,o,s,l=i?this.getHitDetectionTextures():this.getTextures(),u=i?this.hitDetectionGroupIndices:this.groupIndices;if((0,a.isEmpty)(n))for(r=0,o=l.length,s=0;r<o;++r){t.bindTexture(c.TEXTURE_2D,l[r]);var d=u[r];this.drawElements(t,e,s,d),s=d}else this.drawReplaySkipping(t,e,n,l,u)},e.prototype.drawReplaySkipping=function(t,e,n,i,o){var a,s,l=0;for(a=0,s=i.length;a<s;++a){t.bindTexture(c.TEXTURE_2D,i[a]);for(var u=a>0?o[a-1]:0,d=o[a],h=u,f=u;l<this.startIndices.length&&this.startIndices[l]<=d;){var p=this.startIndicesFeature[l];void 0!==n[(0,r.getUid)(p)]?(h!==f&&this.drawElements(t,e,h,f),f=h=l===this.startIndices.length-1?d:this.startIndices[l+1]):f=l===this.startIndices.length-1?d:this.startIndices[l+1],l++}h!==f&&this.drawElements(t,e,h,f)}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,a){var s,l,u,d,h,f=this.startIndices.length-1,p=this.getHitDetectionTextures();for(s=p.length-1;s>=0;--s)for(t.bindTexture(c.TEXTURE_2D,p[s]),l=s>0?this.hitDetectionGroupIndices[s-1]:0,d=this.hitDetectionGroupIndices[s];f>=0&&this.startIndices[f]>=l;){if(u=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===a||(0,o.intersects)(a,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,u,d);var m=i(h);if(m)return m}d=u,f--}},e.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},e.prototype.getTextures=function(t){return(0,r["abstract"])()},e.prototype.getHitDetectionTextures=function(){return(0,r["abstract"])()},e}(u["default"]),f=h;n["default"]=f},{"../../util.js":"YOqM","../../extent.js":"IwSU","../../obj.js":"qC1c","./texturereplay/defaultshader.js":"pIsA","./texturereplay/defaultshader/Locations.js":"yYKj","./Replay.js":"gn4l","../../webgl.js":"SvAv","../../webgl/Context.js":"hsoJ"}],yT3n:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("./TextureReplay.js")),a=i(t("../../webgl/Buffer.js")),s=function(t){function e(e,n){t.call(this,e,n),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(n,0,n.length,i)},e.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(n,0,n.length,i)},e.prototype.finish=function(e){var n=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new a["default"](this.vertices);var i=this.indices;this.indicesBuffer=new a["default"](i);var r={};this.createTextures(this.textures_,this.images_,r,n),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,n),this.images_=null,this.hitDetectionImages_=null,t.prototype.finish.call(this,e)},e.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),i=t.getImage(1),o=t.getImageSize(),a=t.getHitDetectionImage(1),s=t.getOpacity(),l=t.getOrigin(),u=t.getRotateWithView(),c=t.getRotation(),d=t.getSize(),h=t.getScale();0===this.images_.length?this.images_.push(i):(e=this.images_[this.images_.length-1],(0,r.getUid)(e)!=(0,r.getUid)(i)&&(this.groupIndices.push(this.indices.length),this.images_.push(i))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(a):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],(0,r.getUid)(e)!=(0,r.getUid)(a)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(a))),this.anchorX=n[0],this.anchorY=n[1],this.height=d[1],this.imageHeight=o[1],this.imageWidth=o[0],this.opacity=s,this.originX=l[0],this.originY=l[1],this.rotation=c,this.rotateWithView=u,this.scale=h,this.width=d[0]},e.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},e.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},e}(o["default"]),l=s;n["default"]=l},{"../../util.js":"YOqM","./TextureReplay.js":"nz22","../../webgl/Buffer.js":"nfqH"}],Wb3Z:[function(t,e,n){"use strict";function i(t,e,n,i){var o=n-i;return t[e]===t[o]&&t[e+1]===t[o+1]&&(n-e)/i>3&&!!(0,r.linearRing)(t,e,n,i)}Object.defineProperty(n,"__esModule",{value:!0}),n.lineStringIsClosed=i;var r=t("./area.js")},{"./area.js":"w7L4"}],OMDF:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],GCi7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.DEBUG?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,i.DEBUG?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,i.DEBUG?"u_color":"n"),this.u_size=t.getUniformLocation(e,i.DEBUG?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,i.DEBUG?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,i.DEBUG?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,i.DEBUG?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,i.DEBUG?"a_direction":"g")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],QKC4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../color.js"),s=t("../../extent.js"),l=t("../../geom/flat/orient.js"),u=t("../../geom/flat/transform.js"),c=t("../../geom/flat/topology.js"),d=t("../../obj.js"),h=t("../webgl.js"),f=i(t("./Replay.js")),p=t("./linestringreplay/defaultshader.js"),m=i(t("./linestringreplay/defaultshader/Locations.js")),g=t("../../webgl.js"),v=i(t("../../webgl/Buffer.js")),y={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},_=function(t){function e(e,n){t.call(this,e,n),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){var r,a,s,u,d,f,p,m,g=this.vertices.length,v=this.indices.length,_="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,b="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,E=(0,c.lineStringIsClosed)(t,e,n,i),x=v,C=1;for(r=e,a=n;r<a;r+=i){if(d=g/7,f=p,p=m||[t[r],t[r+1]],r===e){if(m=[t[r+i],t[r+i+1]],n-e==2*i&&(0,o.equals)(p,m))break;if(!E){b&&(g=this.addVertices_([0,0],p,m,C*y.BEGIN_LINE_CAP*b,g),g=this.addVertices_([0,0],p,m,-C*y.BEGIN_LINE_CAP*b,g),this.indices[v++]=d+2,this.indices[v++]=d,this.indices[v++]=d+1,this.indices[v++]=d+1,this.indices[v++]=d+3,this.indices[v++]=d+2),g=this.addVertices_([0,0],p,m,C*y.BEGIN_LINE*(b||1),g),x=(g=this.addVertices_([0,0],p,m,-C*y.BEGIN_LINE*(b||1),g))/7-1;continue}f=[t[n-2*i],t[n-2*i+1]],s=m}else{if(r===n-i){if(E){m=s;break}f=f||[0,0],g=this.addVertices_(f,p,[0,0],C*y.END_LINE*(b||1),g),g=this.addVertices_(f,p,[0,0],-C*y.END_LINE*(b||1),g),this.indices[v++]=d,this.indices[v++]=x-1,this.indices[v++]=x,this.indices[v++]=x,this.indices[v++]=d+1,this.indices[v++]=d,b&&(g=this.addVertices_(f,p,[0,0],C*y.END_LINE_CAP*b,g),g=this.addVertices_(f,p,[0,0],-C*y.END_LINE_CAP*b,g),this.indices[v++]=d+2,this.indices[v++]=d,this.indices[v++]=d+1,this.indices[v++]=d+1,this.indices[v++]=d+3,this.indices[v++]=d+2);break}m=[t[r+i],t[r+i+1]]}u=(0,h.triangleIsCounterClockwise)(f[0],f[1],p[0],p[1],m[0],m[1])?-1:1,g=this.addVertices_(f,p,m,u*y.BEVEL_FIRST*(_||1),g),g=this.addVertices_(f,p,m,u*y.BEVEL_SECOND*(_||1),g),g=this.addVertices_(f,p,m,-u*y.MITER_BOTTOM*(_||1),g),r>e&&(this.indices[v++]=d,this.indices[v++]=x-1,this.indices[v++]=x,this.indices[v++]=d+2,this.indices[v++]=d,this.indices[v++]=C*u>0?x:x-1),this.indices[v++]=d,this.indices[v++]=d+2,this.indices[v++]=d+1,x=d+2,C=u,_&&(g=this.addVertices_(f,p,m,u*y.MITER_TOP*_,g),this.indices[v++]=d+1,this.indices[v++]=d+3,this.indices[v++]=d)}E&&(d=d||g/7,u=(0,l.linearRingIsClockwise)([f[0],f[1],p[0],p[1],m[0],m[1]],0,6,2)?1:-1,g=this.addVertices_(f,p,m,u*y.BEVEL_FIRST*(_||1),g),g=this.addVertices_(f,p,m,-u*y.MITER_BOTTOM*(_||1),g),this.indices[v++]=d,this.indices[v++]=x-1,this.indices[v++]=x,this.indices[v++]=d+1,this.indices[v++]=d,this.indices[v++]=C*u>0?x:x-1)},e.prototype.addVertices_=function(t,e,n,i,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=n[0],this.vertices[r++]=n[1],this.vertices[r++]=i,r},e.prototype.isValid_=function(t,e,n,i){var r=n-e;if(r<2*i)return!1;if(r===2*i){var a=[t[e],t[e+1]],s=[t[e+i],t[e+i+1]];return!(0,o.equals)(a,s)}return!0},e.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),i=t.getStride();this.isValid_(n,0,n.length,i)&&(n=(0,u.translate)(n,0,n.length,i,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,i))},e.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,i=t.getEnds();i.unshift(0);var r,o,a=t.getFlatCoordinates(),s=t.getStride();if(i.length>1)for(r=1,o=i.length;r<o;++r)if(this.isValid_(a,i[r-1],i[r],s)){var l=(0,u.translate)(a,i[r-1],i[r],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},e.prototype.drawPolygonCoordinates=function(t,e,n){var i,r;if((0,c.lineStringIsClosed)(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(i=0,r=e.length;i<r;++i)(0,c.lineStringIsClosed)(e[i],0,e[i].length,n)||(e[i].push(e[i][0]),e[i].push(e[i][1])),this.drawCoordinates_(e[i],0,e[i].length,n)},e.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},e.prototype.getCurrentIndex=function(){return this.indices.length},e.prototype.finish=function(t){this.verticesBuffer=new v["default"](this.vertices),this.indicesBuffer=new v["default"](this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(p.fragment,p.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new m["default"](t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_lastPos),t.vertexAttribPointer(r.a_lastPos,2,g.FLOAT,!1,28,0),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,g.FLOAT,!1,28,8),t.enableVertexAttribArray(r.a_nextPos),t.vertexAttribPointer(r.a_nextPos,2,g.FLOAT,!1,28,16),t.enableVertexAttribArray(r.a_direction),t.vertexAttribPointer(r.a_direction,1,g.FLOAT,!1,28,24),t.uniform2fv(r.u_size,n),t.uniform1f(r.u_pixelRatio,i),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},e.prototype.drawReplay=function(t,e,n,i){var r,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),
(0,d.isEmpty)(n))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,n);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},e.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,l,u,c,d;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),l=this.styleIndices_[i];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],u=this.startIndicesFeature[c],n[(0,r.getUid)(u)]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=d),c--,o=d;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=l}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,l,u,c,d,h,f;for(f=this.startIndices.length-2,u=this.startIndices[f+1],a=this.styleIndices_.length-1;a>=0;--a)for(c=this.styles_[a],this.setStrokeStyle_(t,c[0],c[1],c[2]),d=this.styleIndices_[a];f>=0&&this.startIndices[f]>=d;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===o||(0,s.intersects)(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=i(h);if(p)return p}f--,u=l}},e.prototype.setStrokeStyle_=function(t,e,n,i){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,i)},e.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:h.DEFAULT_LINECAP;var i=e.getLineDash();this.state_.lineDash=i||h.DEFAULT_LINEDASH;var r=e.getLineDashOffset();this.state_.lineDashOffset=r||h.DEFAULT_LINEDASHOFFSET;var s=e.getLineJoin();this.state_.lineJoin=void 0!==s?s:h.DEFAULT_LINEJOIN;var l=e.getColor();l=l instanceof CanvasGradient||l instanceof CanvasPattern?h.DEFAULT_STROKESTYLE:(0,a.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_STROKESTYLE;var u=e.getWidth();u=void 0!==u?u:h.DEFAULT_LINEWIDTH;var c=e.getMiterLimit();c=void 0!==c?c:h.DEFAULT_MITERLIMIT,this.state_.strokeColor&&(0,o.equals)(this.state_.strokeColor,l)&&this.state_.lineWidth===u&&this.state_.miterLimit===c||(this.state_.changed=!0,this.state_.strokeColor=l,this.state_.lineWidth=u,this.state_.miterLimit=c,this.styles_.push([l,u,c]))},e}(f["default"]),b=_;n["default"]=b},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../color.js":"tree","../../extent.js":"IwSU","../../geom/flat/orient.js":"SKGF","../../geom/flat/transform.js":"CVNs","../../geom/flat/topology.js":"Wb3Z","../../obj.js":"qC1c","../webgl.js":"SFW8","./Replay.js":"gn4l","./linestringreplay/defaultshader.js":"OMDF","./linestringreplay/defaultshader/Locations.js":"GCi7","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],DB6I:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");n.fragment=s;var l=new a["default"](r.DEBUG?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],Vll5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,i.DEBUG?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"a")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],d2RL:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};i.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var i=n.next;e.prev=n,e.next=i,n.next=e,i&&(i.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},i.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},i.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},i.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},i.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},i.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},i.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},i.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},i.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},i.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},i.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},i.prototype.getLength=function(){return this.length_};var r=i;n["default"]=r},{}],kR56:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../color.js"),s=t("../../extent.js"),l=t("../../obj.js"),u=t("../../geom/flat/contains.js"),c=t("../../geom/flat/orient.js"),d=t("../../geom/flat/transform.js"),h=t("./polygonreplay/defaultshader.js"),f=i(t("./polygonreplay/defaultshader/Locations.js")),p=i(t("./LineStringReplay.js")),m=i(t("./Replay.js")),g=t("../webgl.js"),v=i(t("../../style/Stroke.js")),y=i(t("../../structs/LinkedList.js")),_=i(t("../../structs/RBush.js")),b=t("../../webgl.js"),E=i(t("../../webgl/Buffer.js")),x=function(t){function e(e,n){t.call(this,e,n),this.lineStringReplay=new p["default"](e,n),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n){var i=new y["default"],r=new _["default"];this.processFlatCoordinates_(t,n,i,r,!0);var o=this.getMaxCoords_(i);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new y["default"],maxCoords:void 0,rtree:new _["default"]};l.push(u),this.processFlatCoordinates_(e[a],n,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<l.length;++a){var c=l[a].list,d=c.firstItem(),h=d,f=void 0;do{if(this.getIntersections_(h,r).length){f=!0;break}h=c.nextItem()}while(d!==h);f||this.bridgeHole_(c,l[a].maxCoords[0],i,o[0],r)&&(r.concat(l[a].rtree),this.classifyPoints_(i,r,!1))}}else this.classifyPoints_(i,r,!1);this.triangulate_(i,r)},e.prototype.processFlatCoordinates_=function(t,e,n,i,r){var o,a,s,l,u,d=(0,c.linearRingIsClockwise)(t,0,t.length,e),h=this.vertices.length/2,f=[],p=[];if(r===d){for(l=s=this.createPoint_(t[0],t[1],h++),o=e,a=t.length;o<a;o+=e)u=this.createPoint_(t[o],t[o+1],h++),p.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,s,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var m=t.length-e;for(l=s=this.createPoint_(t[m],t[m+1],h++),o=m-e,a=0;o>=a;o-=e)u=this.createPoint_(t[o],t[o+1],h++),p.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,s,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}i.load(f,p)},e.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,i=[n.p0.x,n.p0.y];do(n=t.nextItem()).p0.x>i[0]&&(i=[n.p0.x,n.p0.y]);while(n!==e);return i},e.prototype.classifyPoints_=function(t,e,n){var i=t.firstItem(),r=i,o=t.nextItem(),a=!1;do{var s=n?(0,g.triangleIsCounterClockwise)(o.p1.x,o.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):(0,g.triangleIsCounterClockwise)(r.p0.x,r.p0.y,r.p1.x,r.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(r,o,t,e),a=!0,o===i&&(i=t.getNextItem()),o=r,t.prevItem()):r.p1.reflex!==s&&(r.p1.reflex=s,a=!0),r=o,o=t.nextItem()}while(r!==i);return a},e.prototype.bridgeHole_=function(t,e,n,i,r){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,c=o.p1,d={x:i,y:c.y,i:-1},h=1/0,f=this.getIntersections_({p0:c,p1:d},r,!0);for(a=0,s=f.length;a<s;++a){var p=f[a],m=this.calculateIntersection_(c,d,p.p0,p.p1,!0),v=Math.abs(c.x-m[0]);v<h&&void 0!==(0,g.triangleIsCounterClockwise)(c.x,c.y,p.p0.x,p.p0.y,p.p1.x,p.p1.y)&&(h=v,u={x:m[0],y:m[1],i:-1},o=p)}if(h===1/0)return!1;if(l=o.p1,h>0){var y=this.getPointsInTriangle_(c,u,o.p1,r);if(y.length){var _=1/0;for(a=0,s=y.length;a<s;++a){var b=y[a],E=Math.atan2(c.y-b.y,d.x-b.x);(E<_||E===_&&b.x<l.x)&&(_=E,l=b)}}}for(o=n.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=n.nextItem();var x={x:c.x,y:c.y,i:c.i,reflex:void 0},C={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=x,this.insertItem_(c,o.p1,t,r),this.insertItem_(C,x,t,r),o.p1=C,t.setFirstItem(),n.concat(t),!0},e.prototype.triangulate_=function(t,e){for(var n=!1,i=this.isSimple_(t,e);t.getLength()>3;)if(i){if(!this.clipEars_(t,e,i,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,i,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(i=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},e.prototype.clipEars_=function(t,e,n,i){var r,o,a,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),d=l,h=t.nextItem(),f=t.getNextItem(),p=!1;do{if(r=d.p0,o=d.p1,a=h.p1,!1===o.reflex){var m=void 0;m=n?0===this.getPointsInTriangle_(r,o,a,e,!0).length:i?this.diagonalIsInside_(f.p1,a,o,r,u.p0):this.diagonalIsInside_(u.p0,r,o,a,f.p1),(n||0===this.getIntersections_({p0:r,p1:a},e).length)&&m&&(n||!1===r.reflex||!1===a.reflex||(0,c.linearRingIsClockwise)([u.p0.x,u.p0.y,r.x,r.y,o.x,o.y,a.x,a.y,f.p1.x,f.p1.y],0,10,2)===!i)&&(this.indices[s++]=r.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(d,h,t,e),h===l&&(l=f),p=!0)}u=t.getPrevItem(),d=t.getCurrItem(),h=t.nextItem(),f=t.getNextItem()}while(d!==l&&t.getLength()>3);return p},e.prototype.resolveSelfIntersections_=function(t,e,n){var i=t.firstItem();t.nextItem();var r=i,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1,n);if(s){var l=!1,u=this.vertices.length,c=this.indices.length,d=u/2,h=t.prevItem();t.removeItem(),e.remove(h),l=h===i;var f=void 0;if(n?(s[0]===r.p0.x&&s[1]===r.p0.y?(t.prevItem(),f=r.p0,o.p0=f,e.remove(r),l=l||r===i):(f=o.p1,r.p1=f,e.remove(o),l=l||o===i),t.removeItem()):(f=this.createPoint_(s[0],s[1],d),r.p1=f,o.p0=f,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[c++]=h.p0.i,this.indices[c++]=h.p1.i,this.indices[c++]=f.i,a=!0,l)break}r=t.getPrevItem(),o=t.nextItem()}while(r!==i);return a},e.prototype.isSimple_=function(t,e){var n=t.firstItem(),i=n;do{if(this.getIntersections_(i,e).length)return!1;i=t.nextItem()}while(i!==n);return!0},e.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),i=t.firstItem(),r=i,o=0;do n[o++]=r.p0.x,n[o++]=r.p0.y,r=t.nextItem();while(r!==i);return(0,c.linearRingIsClockwise)(n,0,e,2)},e.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),i=n;do{var r=this.getIntersections_(i,e);if(r.length){var o=r[0],a=this.vertices.length/2,s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new y["default"],c=new _["default"];this.insertItem_(l,i.p1,u,c),i.p1=l,e.update([Math.min(i.p0.x,l.x),Math.min(i.p0.y,l.y),Math.max(i.p0.x,l.x),Math.max(i.p0.y,l.y)],i);for(var d=t.nextItem();d!==o;)this.insertItem_(d.p0,d.p1,u,c),e.remove(d),t.removeItem(),d=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}i=t.nextItem()}while(i!==n)},e.prototype.createPoint_=function(t,e,n){var i=this.vertices.length;return this.vertices[i++]=t,this.vertices[i++]=e,{x:t,y:e,i:n,reflex:void 0}},e.prototype.insertItem_=function(t,e,n,i){var r={p0:t,p1:e};return n.insertItem(r),i&&i.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},e.prototype.removeItem_=function(t,e,n,i){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,i.remove(e),i.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},e.prototype.getPointsInTriangle_=function(t,e,n,i,r){for(var o=[],a=i.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]),s=0,l=a.length;s<l;++s)for(var c in a[s]){var d=a[s][c];"object"!=typeof d||r&&!d.reflex||d.x===t.x&&d.y===t.y||d.x===e.x&&d.y===e.y||d.x===n.x&&d.y===n.y||-1!==o.indexOf(d)||!(0,u.linearRingContainsXY)([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,d.x,d.y)||o.push(d)}return o},e.prototype.getIntersections_=function(t,e,n){for(var i=t.p0,r=t.p1,o=e.getInExtent([Math.min(i.x,r.x),Math.min(i.y,r.y),Math.max(i.x,r.x),Math.max(i.y,r.y)]),a=[],s=0,l=o.length;s<l;++s){var u=o[s];t!==u&&(n||u.p0!==r||u.p1!==i)&&this.calculateIntersection_(i,r,u.p0,u.p1,n)&&a.push(u)}return a},e.prototype.calculateIntersection_=function(t,e,n,i,r){var o=(i.y-n.y)*(e.x-t.x)-(i.x-n.x)*(e.y-t.y);if(0!==o){var a=((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x))/o,s=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!r&&a>g.EPSILON&&a<1-g.EPSILON&&s>g.EPSILON&&s<1-g.EPSILON||r&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},e.prototype.diagonalIsInside_=function(t,e,n,i,r){if(void 0===e.reflex||void 0===i.reflex)return!1;var o=(n.x-i.x)*(e.y-i.y)>(n.y-i.y)*(e.x-i.x),a=(r.x-i.x)*(e.y-i.y)<(r.y-i.y)*(e.x-i.x),s=(t.x-e.x)*(i.y-e.y)>(t.y-e.y)*(i.x-e.x),l=(n.x-e.x)*(i.y-e.y)<(n.y-e.y)*(i.x-e.x),u=i.reflex?a||o:a&&o,c=e.reflex?l||s:l&&s;return u&&c},e.prototype.drawMultiPolygon=function(t,e){var n,i,r,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),h=0;for(n=0,i=a.length;n<i;++n){var f=a[n];if(f.length>0){var p=(0,d.translate)(c,h,f[0],s,-this.origin[0],-this.origin[1]);if(p.length){var m=[],g=void 0;for(r=1,o=f.length;r<o;++r)f[r]!==f[r-1]&&(g=(0,d.translate)(c,f[r-1],f[r],s,-this.origin[0],-this.origin[1]),m.push(g));this.lineStringReplay.drawPolygonCoordinates(p,m,s),this.drawCoordinates_(p,m,s)}}h=f[f.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},e.prototype.drawPolygon=function(t,e){var n=t.getEnds(),i=t.getStride();if(n.length>0){var r=t.getFlatCoordinates().map(Number),o=(0,d.translate)(r,0,n[0],i,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=n.length;a<s;++a)n[a]!==n[a-1]&&(l=(0,d.translate)(r,n[a-1],n[a],i,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,i),this.drawCoordinates_(o,u,i)}}},e.prototype.finish=function(t){this.verticesBuffer=new E["default"](this.vertices),this.indicesBuffer=new E["default"](this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,i=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),i()}},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(h.fragment,h.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new f["default"](t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,b.FLOAT,!1,8,0),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},e.prototype.drawReplay=function(t,e,n,i){var r,o,a,s,u=t.getParameter(t.DEPTH_FUNC),c=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,l.isEmpty)(n))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(c),t.depthFunc(u))},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,l,u,c,d,h,f;for(f=this.startIndices.length-2,u=this.startIndices[f+1],a=this.styleIndices_.length-1;a>=0;--a)for(c=this.styles_[a],this.setFillStyle_(t,c),d=this.styleIndices_[a];f>=0&&this.startIndices[f]>=d;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===o||(0,s.intersects)(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=i(h);if(p)return p}f--,u=l}},e.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,l,u,c,d;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setFillStyle_(t,s),l=this.styleIndices_[i];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],u=this.startIndicesFeature[c],n[(0,r.getUid)(u)]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=d),c--,o=d;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},e.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?g.DEFAULT_FILLSTYLE:(0,a.asArray)(n).map(function(t,e){return 3!=e?t/255:t})||g.DEFAULT_FILLSTYLE,this.state_.fillColor&&(0,o.equals)(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var i=new v["default"]({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,i)}},e}(m["default"]),C=x;n["default"]=C},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../color.js":"tree","../../extent.js":"IwSU","../../obj.js":"qC1c","../../geom/flat/contains.js":"npHd","../../geom/flat/orient.js":"SKGF","../../geom/flat/transform.js":"CVNs","./polygonreplay/defaultshader.js":"DB6I","./polygonreplay/defaultshader/Locations.js":"Vll5","./LineStringReplay.js":"QKC4","./Replay.js":"gn4l","../webgl.js":"SFW8","../../style/Stroke.js":"vIbn","../../structs/LinkedList.js":"d2RL","../../structs/RBush.js":"m0Ba","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],zruR:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../dom.js"),r=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=(0,i.createCanvasContext2D)(t,t),this.canvas_=this.context_.canvas};r.prototype.get=function(t){return this.entries_[t]||null},r.prototype.add=function(t,e,n,i,r){for(var o=0,a=this.emptyBlocks_.length;o<a;++o){var s=this.emptyBlocks_[o];if(s.width>=e+this.space_&&s.height>=n+this.space_){var l={offsetX:s.x+this.space_,offsetY:s.y+this.space_,image:this.canvas_};return this.entries_[t]=l,i.call(r,this.context_,s.x+this.space_,s.y+this.space_),this.split_(o,s,e+this.space_,n+this.space_),l}}return null},r.prototype.split_=function(t,e,n,i){var r,o;e.width-n>e.height-i?(r={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+i,width:n,height:e.height-i},this.updateBlocks_(t,r,o)):(r={x:e.x+n,y:e.y,width:e.width-n,height:i},o={x:e.x,y:e.y+i,width:e.width,height:e.height-i},this.updateBlocks_(t,r,o))},r.prototype.updateBlocks_=function(t,e,n){var i=[t,1];e.width>0&&e.height>0&&i.push(e),n.width>0&&n.height>0&&i.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,i)};var o=r;n["default"]=o},{"../dom.js":"fRxd"}],mRfv:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../webgl.js"),o=t("../functions.js"),a=i(t("./Atlas.js")),s=256,l=-1,u=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:s,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=l?l:void 0!==r.MAX_TEXTURE_SIZE?r.MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new a["default"](this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new a["default"](this.currentHitSize_,this.space_)]};u.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},u.prototype.getInfo_=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n].get(e);if(r)return r}return null},u.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},u.prototype.add=function(t,e,n,i,r,a){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,n,i,a);if(!s)return null;var l=void 0!==r?r:o.VOID,u=this.add_(!0,t,e,n,l,a);return this.mergeInfos_(s,u)},u.prototype.add_=function(t,e,n,i,r,o){var s,l,u,c,d=t?this.hitAtlases_:this.atlases_;for(u=0,c=d.length;u<c;++u){if(l=(s=d[u]).add(e,n,i,r,o))return l;if(!l&&u===c-1){var h=void 0;t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),s=new a["default"](h,this.space_),d.push(s),++c}}return null};var c=u;n["default"]=c},{"../webgl.js":"SvAv","../functions.js":"guaG","./Atlas.js":"zruR"}],l3ps:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../colorlike.js"),a=t("../../dom.js"),s=i(t("../../geom/GeometryType.js")),l=t("../../has.js"),u=t("../replay.js"),c=t("../webgl.js"),d=i(t("./TextureReplay.js")),h=i(t("../../style/AtlasManager.js")),f=i(t("../../webgl/Buffer.js")),p=function(t){function e(e,n){t.call(this,e,n),this.images_=[],this.textures_=[],this.measureCanvas_=(0,a.createCanvasContext2D)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){if(this.text_){var n=null,i=2,o=2;switch(t.getType()){case s["default"].POINT:case s["default"].MULTI_POINT:i=(n=t.getFlatCoordinates()).length,o=t.getStride();break;case s["default"].CIRCLE:n=t.getCenter();break;case s["default"].LINE_STRING:n=t.getFlatMidpoint();break;case s["default"].MULTI_LINE_STRING:i=(n=t.getFlatMidpoints()).length;break;case s["default"].POLYGON:n=t.getFlatInteriorPoint();break;case s["default"].MULTI_POLYGON:i=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var a,l,u,c,d,h,f,p,m=this.currAtlas_,g=this.text_.split("\n"),v=this.getTextSize_(g),y=Math.round(v[0]*this.textAlign_-this.offsetX_),_=Math.round(v[1]*this.textBaseline_-this.offsetY_),b=this.state_.lineWidth/2*this.state_.scale;for(a=0,l=g.length;a<l;++a)for(d=0,h=m.height*a,u=0,c=(f=g[a].split("")).length;u<c;++u){if(p=m.atlas.getInfo(f[u])){var E=p.image;if(this.anchorX=y-d,this.anchorY=_-h,this.originX=0===u?p.offsetX-b:p.offsetX,this.originY=p.offsetY,this.height=m.height,this.width=0===u||u===f.length-1?m.width[f[u]]+b:m.width[f[u]],this.imageHeight=E.height,this.imageWidth=E.width,0===this.images_.length)this.images_.push(E);else{var x=this.images_[this.images_.length-1];(0,r.getUid)(x)!=(0,r.getUid)(E)&&(this.groupIndices.push(this.indices.length),this.images_.push(E))}this.drawText_(n,0,i,o)}d+=this.width}}},e.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,i=t.length*n.height;return[t.map(function(t){for(var i=0,r=0,o=t.length;r<o;++r){var a=t[r];n.width[a]||e.addCharToAtlas_(a),i+=n.width[a]?n.width[a]:0}return i}).reduce(function(t,e){return Math.max(t,e)}),i]},e.prototype.drawText_=function(t,e,n,i){for(var r=e,o=n;r<o;r+=i)this.drawCoordinates(t,e,n,i)},e.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,i=this.measureCanvas_.getContext("2d");i.font=n.font;var r=Math.ceil(i.measureText(t).width*n.scale);e.atlas.add(t,r,e.height,function(e,i,r){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",l.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,i,r),n.fillColor&&e.fillText(t,i,r)})&&(e.width[t]=r)}},e.prototype.finish=function(e){var n=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new f["default"](this.vertices),this.indicesBuffer=new f["default"](this.indices),this.createTextures(this.textures_,this.images_,{},n),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,t.prototype.finish.call(this,e)},e.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),i=t.getStroke();if(t&&t.getText()&&(n||i)){if(n){var r=n.getColor();e.fillColor=(0,o.asColorLike)(r||c.DEFAULT_FILLSTYLE)}else e.fillColor=null;if(i){var a=i.getColor();e.strokeColor=(0,o.asColorLike)(a||c.DEFAULT_STROKESTYLE),e.lineWidth=i.getWidth()||c.DEFAULT_LINEWIDTH,e.lineCap=i.getLineCap()||c.DEFAULT_LINECAP,e.lineDashOffset=i.getLineDashOffset()||c.DEFAULT_LINEDASHOFFSET,e.lineJoin=i.getLineJoin()||c.DEFAULT_LINEJOIN,e.miterLimit=i.getMiterLimit()||c.DEFAULT_MITERLIMIT;var s=i.getLineDash();e.lineDash=s?s.slice():c.DEFAULT_LINEDASH}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||c.DEFAULT_FONT,e.scale=t.getScale()||1,this.text_=t.getText();var l=u.TEXT_ALIGN[t.getTextAlign()],d=u.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===l?c.DEFAULT_TEXTALIGN:l,this.textBaseline_=void 0===d?c.DEFAULT_TEXTBASELINE:d,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},e.prototype.getAtlas_=function(t){var e=[];for(var n in t)(t[n]||0===t[n])&&(Array.isArray(t[n])?e=e.concat(t[n]):e.push(t[n]));var i=this.calculateHash_(e);if(!this.atlases_[i]){var r=this.measureCanvas_.getContext("2d");r.font=t.font;var o=Math.ceil((1.5*r.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[i]={atlas:new h["default"]({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[i]},e.prototype.calculateHash_=function(t){for(var e="",n=0,i=t.length;n<i;++n)e+=t[n];return e},e.prototype.getTextures=function(t){return this.textures_},e.prototype.getHitDetectionTextures=function(){return this.textures_},e}(d["default"]),m=p;n["default"]=m},{"../../util.js":"YOqM","../../colorlike.js":"GezW","../../dom.js":"fRxd","../../geom/GeometryType.js":"naLT","../../has.js":"lDpN","../replay.js":"v69V","../webgl.js":"SFW8","./TextureReplay.js":"nz22","../../style/AtlasManager.js":"mRfv","../../webgl/Buffer.js":"nfqH"}],zeoj:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../array.js"),o=t("../../extent.js"),a=t("../../obj.js"),s=t("../replay.js"),l=i(t("../ReplayGroup.js")),u=i(t("./CircleReplay.js")),c=i(t("./ImageReplay.js")),d=i(t("./LineStringReplay.js")),h=i(t("./PolygonReplay.js")),f=i(t("./TextReplay.js")),p=[1,1],m={Circle:u["default"],Image:c["default"],LineString:d["default"],Polygon:h["default"],Text:f["default"]},g=function(t){function e(e,n,i){t.call(this),this.maxExtent_=n,this.tolerance_=e,this.renderBuffer_=i,this.replaysByZIndex_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){return[]},e.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var i=this.replaysByZIndex_[e];for(var r in i)n.push(i[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=arguments,i=n.length,r=0;r<i;r++)t=n[r].apply(this,e);return t}},e.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n=this.replaysByZIndex_[e];for(var i in n)n[i].finish(t)}},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,m[e])(this.tolerance_,this.maxExtent_),i[e]=r),r},e.prototype.isEmpty=function(){
return(0,a.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,o,a,l,u){var c,d,h,f,p,m,g=Object.keys(this.replaysByZIndex_).map(Number);for(g.sort(r.numberSafeCompareFunction),c=0,d=g.length;c<d;++c)for(p=this.replaysByZIndex_[g[c].toString()],h=0,f=s.ORDER.length;h<f;++h)m=p[s.ORDER[h]],void 0!==m&&m.replay(t,e,n,i,o,a,l,u,void 0,!1)},e.prototype.replayHitDetection_=function(t,e,n,i,r,o,a,l,u,c,d){var h,f,p,m,g,v,y=Object.keys(this.replaysByZIndex_).map(Number);for(y.sort(function(t,e){return e-t}),h=0,f=y.length;h<f;++h)for(m=this.replaysByZIndex_[y[h].toString()],p=s.ORDER.length-1;p>=0;--p)if(void 0!==(g=m[s.ORDER[p]])&&(v=g.replay(t,e,n,i,r,o,a,l,u,c,d)))return v},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,a,s,l,u,c){var d,h=e.getGL();return h.bindFramebuffer(h.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(d=(0,o.buffer)((0,o.createOrUpdateFromCoordinate)(t),i*this.renderBuffer_)),this.replayHitDetection_(e,t,i,r,p,s,l,u,function(t){var e=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,e),e[3]>0){var n=c(t);if(n)return n}},!0,d)},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,i,r,p,a,s,l,function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0},!1)},e}(l["default"]),v=g;n["default"]=v},{"../../array.js":"Z5sL","../../extent.js":"IwSU","../../obj.js":"qC1c","../replay.js":"v69V","../ReplayGroup.js":"SCQ4","./CircleReplay.js":"HTbc","./ImageReplay.js":"yT3n","./LineStringReplay.js":"QKC4","./PolygonReplay.js":"kR56","./TextReplay.js":"l3ps"}],rKUG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../extent.js"),o=i(t("../../geom/GeometryType.js")),a=i(t("../ReplayType.js")),s=i(t("../VectorContext.js")),l=i(t("./ReplayGroup.js")),u=function(t){function e(e,n,i,r,o,a,s){t.call(this),this.context_=e,this.center_=n,this.extent_=a,this.pixelRatio_=s,this.size_=o,this.rotation_=r,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText_=function(t,e){var n=this.context_,i=t.getReplay(0,a["default"].TEXT);i.setTextStyle(this.textStyle_),i.drawText(e,null),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)()},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case o["default"].POINT:this.drawPoint(t,null);break;case o["default"].LINE_STRING:this.drawLineString(t,null);break;case o["default"].POLYGON:this.drawPolygon(t,null);break;case o["default"].MULTI_POINT:this.drawMultiPoint(t,null);break;case o["default"].MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case o["default"].MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case o["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case o["default"].CIRCLE:this.drawCircle(t,null)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,r.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t,e){var n,i,r=t.getGeometriesArray();for(n=0,i=r.length;n<i;++n)this.drawGeometry(r[n])},e.prototype.drawPoint=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiPoint=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawLineString=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiLineString=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawPolygon=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiPolygon=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawCircle=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.setImageStyle=function(t){this.imageStyle_=t},e.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},e.prototype.setTextStyle=function(t){this.textStyle_=t},e}(s["default"]),c=u;n["default"]=c},{"../../extent.js":"IwSU","../../geom/GeometryType.js":"naLT","../ReplayType.js":"I0Hp","../VectorContext.js":"lYEk","./ReplayGroup.js":"zeoj"}],ZgYw:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../webgl.js"),o=i(t("../../webgl/Fragment.js")),a=i(t("../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");n.vertex=l},{"../../webgl.js":"SvAv","../../webgl/Fragment.js":"qFEE","../../webgl/Vertex.js":"c15H"}],jKpB:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../webgl.js"),r=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,i.DEBUG?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,i.DEBUG?"u_texture":"g"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"c")},o=r;n["default"]=o},{"../../../webgl.js":"SvAv"}],SWVQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../render/Event.js")),a=i(t("../../render/EventType.js")),s=i(t("../../render/webgl/Immediate.js")),l=i(t("../Layer.js")),u=t("./defaultmapshader.js"),c=i(t("./defaultmapshader/Locations.js")),d=t("../../transform.js"),h=t("../../vec/mat4.js"),f=t("../../webgl.js"),p=i(t("../../webgl/Buffer.js")),m=t("../../webgl/Context.js"),g=function(t){function e(e,n){t.call(this,n),this.mapRenderer=e,this.arrayBuffer_=new p["default"]([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=(0,d.create)(),this.projectionMatrix=(0,d.create)(),this.tmpMat4_=(0,h.create)(),this.defaultLocations_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var i=function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(i);var r=(0,m.createEmptyTexture)(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(f.FRAMEBUFFER,o),n.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,r,0),this.texture=r,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer)},e.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(a["default"].PRECOMPOSE,n,t),n.bindBuffer(f.ARRAY_BUFFER,this.arrayBuffer_);var i,r=n.getGL(),o=n.getProgram(u.fragment,u.vertex);this.defaultLocations_?i=this.defaultLocations_:(i=new c["default"](r,o),this.defaultLocations_=i),n.useProgram(o)&&(r.enableVertexAttribArray(i.a_position),r.vertexAttribPointer(i.a_position,2,f.FLOAT,!1,16,0),r.enableVertexAttribArray(i.a_texCoord),r.vertexAttribPointer(i.a_texCoord,2,f.FLOAT,!1,16,8),r.uniform1i(i.u_texture,0)),r.uniformMatrix4fv(i.u_texCoordMatrix,!1,(0,h.fromTransform)(this.tmpMat4_,this.getTexCoordMatrix())),r.uniformMatrix4fv(i.u_projectionMatrix,!1,(0,h.fromTransform)(this.tmpMat4_,this.getProjectionMatrix())),r.uniform1f(i.u_opacity,e.opacity),r.bindTexture(f.TEXTURE_2D,this.getTexture()),r.drawArrays(f.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(a["default"].POSTCOMPOSE,n,t)},e.prototype.dispatchComposeEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=n.viewState,a=r.resolution,l=n.pixelRatio,u=n.extent,c=r.center,d=r.rotation,h=n.size,f=new s["default"](e,c,a,d,h,u,l),p=new o["default"](t,f,n,null,e);i.dispatchEvent(p)}},e.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},e.prototype.getTexture=function(){return this.texture},e.prototype.getProjectionMatrix=function(){return this.projectionMatrix},e.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},e.prototype.prepareFrame=function(t,e,n){return(0,r["abstract"])()},e.prototype.forEachLayerAtPixel=function(t,e,n,i){return(0,r["abstract"])()},e}(l["default"]),v=g;n["default"]=v},{"../../util.js":"YOqM","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/webgl/Immediate.js":"rKUG","../Layer.js":"I2tc","./defaultmapshader.js":"ZgYw","./defaultmapshader/Locations.js":"jKpB","../../transform.js":"glB6","../../vec/mat4.js":"YrKs","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH","../../webgl/Context.js":"hsoJ"}],wxEj:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../reproj/common.js"),o=i(t("../../LayerType.js")),a=i(t("../../ViewHint.js")),s=t("../../dom.js"),l=t("../../extent.js"),u=i(t("./Layer.js")),c=t("../../transform.js"),d=t("../../webgl.js"),h=t("../../webgl/Context.js"),f=function(t){function e(e,n){t.call(this,e,n),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return(0,h.createTexture)(n,e,d.CLAMP_TO_EDGE,d.CLAMP_TO_EDGE)},e.prototype.prepareFrame=function(t,e,n){var i=this.mapRenderer.getGL(),o=t.pixelRatio,s=t.viewState,u=s.center,d=s.resolution,h=s.rotation,f=this.image_,p=this.texture,m=this.getLayer().getSource(),g=t.viewHints,v=t.extent;if(void 0!==e.extent&&(v=(0,l.getIntersection)(v,e.extent)),!g[a["default"].ANIMATING]&&!g[a["default"].INTERACTING]&&!(0,l.isEmpty)(v)){var y=s.projection;if(!r.ENABLE_RASTER_REPROJECTION){var _=m.getProjection();_&&(y=_)}var b=m.getImage(v,d,o,y);if(b&&this.loadImage(b)&&(f=b,p=this.createTexture_(b),this.texture)){var E=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,i,this.texture);t.postRenderFunctions.push(E)}}if(f){var x=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(x.width,x.height,o,u,d,h,f.getExtent()),this.hitTransformationMatrix_=null;var C=this.texCoordMatrix;(0,c.reset)(C),(0,c.scale)(C,1,-1),(0,c.translate)(C,0,-1),this.image_=f,this.texture=p}return!!f},e.prototype.updateProjectionMatrix_=function(t,e,n,i,r,o,a){var s=t*r,l=e*r,u=this.projectionMatrix;(0,c.reset)(u),(0,c.scale)(u,2*n/s,2*n/l),(0,c.rotate)(u,-o),(0,c.translate)(u,a[0]-i[0],a[1]-i[1]),(0,c.scale)(u,(a[2]-a[0])/2,(a[3]-a[1])/2),(0,c.translate)(u,1,1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i){if(this.image_&&this.image_.getImage()){var r=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,r));var o=(0,c.apply)(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>r[0]||o[1]<0||o[1]>r[1])){this.hitCanvasContext_||(this.hitCanvasContext_=(0,s.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?n.call(i,this.getLayer(),a):void 0}}},e.prototype.getHitTransformationMatrix_=function(t,e){var n=(0,c.create)();(0,c.translate)(n,-1,-1),(0,c.scale)(n,2/t[0],2/t[1]),(0,c.translate)(n,0,t[1]),(0,c.scale)(n,1,-1);var i=(0,c.invert)(this.projectionMatrix.slice()),r=(0,c.create)();return(0,c.translate)(r,0,e[1]),(0,c.scale)(r,1,-1),(0,c.scale)(r,e[0]/2,e[1]/2),(0,c.translate)(r,1,1),(0,c.multiply)(r,i),(0,c.multiply)(r,n),r},e}(u["default"]);f.handles=function(t){return t.getType()===o["default"].IMAGE},f.create=function(t,e){return new f(t,e)};var p=f;n["default"]=p},{"../../reproj/common.js":"gSGW","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../extent.js":"IwSU","./Layer.js":"SWVQ","../../transform.js":"glB6","../../webgl.js":"SvAv","../../webgl/Context.js":"hsoJ"}],HeCE:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../../array.js"),s=t("../../css.js"),l=t("../../dom.js"),u=t("../../events.js"),c=t("../../layer/Layer.js"),d=o(t("../../render/Event.js")),h=o(t("../../render/EventType.js")),f=o(t("../../render/webgl/Immediate.js")),p=r(t("../Map.js")),m=o(t("../../source/State.js")),g=o(t("../../structs/LRUCache.js")),v=o(t("../../structs/PriorityQueue.js")),y=t("../../webgl.js"),_=o(t("../../webgl/Context.js")),b=o(t("../../webgl/ContextEventType.js")),E=1024,x=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=s.CLASS_UNSELECTABLE,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=(0,l.createCanvasContext2D)(),this.renderedVisible_=!0,this.gl_=(0,y.getContext)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new _["default"](this.canvas_,this.gl_),(0,u.listen)(this.canvas_,b["default"].LOST,this.handleWebGLContextLost,this),(0,u.listen)(this.canvas_,b["default"].RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new g["default"],this.focus_=null,this.tileTextureQueue_=new v["default"](function(t){var e=t[1],n=t[2],i=e[0]-this.focus_[0],r=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(i*i+r*r)/n}.bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),i=n[0],r=n[3],o=n[4];this.bindTileTexture(i,r,o,y.LINEAR,y.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindTileTexture=function(t,e,n,i,r){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(y.TEXTURE_2D,s.texture),s.magFilter!=i&&(o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,i),s.magFilter=i),s.minFilter!=r&&(o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,r),s.minFilter=r)}else{var l=o.createTexture(),u=t;if(o.bindTexture(y.TEXTURE_2D,l),n>0){var c=this.clipTileContext_.canvas,d=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(c.width=e[0],c.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):d.clearRect(0,0,e[0],e[1]),d.drawImage(u.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,c)}else o.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,u.getImage());o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,i),o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,r),o.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),o.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:l,magFilter:i,minFilter:r})}},e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=this.context_,r=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,l=a.resolution,u=a.center,c=a.rotation,h=new f["default"](i,u,l,c,o,r,s),p=new d["default"](t,h,e,null,i);n.dispatchEvent(p)}},e.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.expireCache_=function(t,e){for(var n,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>E;){if(n=this.textureCache_.peekLast())i.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},e.prototype.getContext=function(){return this.context_},e.prototype.getGL=function(){return this.gl_},e.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},e.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e)e[n].handleWebGLContextLost()},e.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},e.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(y.TEXTURE0),t.blendFuncSeparate(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA,y.ONE,y.ONE_MINUS_SRC_ALPHA),t.disable(y.CULL_FACE),t.disable(y.DEPTH_TEST),t.disable(y.SCISSOR_TEST),t.disable(y.STENCIL_TEST)},e.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},e.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(h["default"].PRECOMPOSE,t);var i=[],r=t.layerStatesArray;(0,a.stableSort)(r,p.sortByZIndex);var o,s,l=t.viewState.resolution;for(o=0,s=r.length;o<s;++o){var u=r[o];(0,c.visibleAtResolution)(u,l)&&u.sourceState==m["default"].READY&&this.getLayerRenderer(u.layer).prepareFrame(t,u,e)&&i.push(u)}var d=t.size[0]*t.pixelRatio,f=t.size[1]*t.pixelRatio;for(this.canvas_.width==d&&this.canvas_.height==f||(this.canvas_.width=d,this.canvas_.height=f),n.bindFramebuffer(y.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(y.COLOR_BUFFER_BIT),n.enable(y.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,s=i.length;o<s;++o){var g=i[o];this.getLayerRenderer(g.layer).composeFrame(t,g,e)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>E&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(h["default"].POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,a){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,d=e.layerStatesArray;for(l=d.length-1;l>=0;--l){var h=d[l],f=h.layer;if((0,c.visibleAtResolution)(h,u.resolution)&&o.call(a,f)&&(s=this.getLayerRenderer(f).forEachFeatureAtCoordinate(t,e,n,i)))return s}},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;a>=0;--a){var u=l[a],d=u.layer;if((0,c.visibleAtResolution)(u,s.resolution)&&i.call(r,d)&&(o=this.getLayerRenderer(d).hasFeatureAtCoordinate(t,e)))return!0}return o},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,a){if(this.getGL().isContextLost())return!1;var s,l,u=e.viewState,d=e.layerStatesArray;for(l=d.length-1;l>=0;--l){var h=d[l],f=h.layer;if((0,c.visibleAtResolution)(h,u.resolution)&&o.call(r,f)&&(s=this.getLayerRenderer(f).forEachLayerAtPixel(t,e,i,r)))return s}},e}(p["default"]),C=x;n["default"]=C},{"../../array.js":"Z5sL","../../css.js":"K4Xi","../../dom.js":"fRxd","../../events.js":"Bvf5","../../layer/Layer.js":"QsxU","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/webgl/Immediate.js":"rKUG","../Map.js":"CSlS","../../source/State.js":"PNQw","../../structs/LRUCache.js":"jGvh","../../structs/PriorityQueue.js":"xnA2","../../webgl.js":"SvAv","../../webgl/Context.js":"hsoJ","../../webgl/ContextEventType.js":"VsgE"}],sAMA:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("./common.js"),a=t("../asserts.js"),s=r(t("../TileRange.js")),l=t("../array.js"),u=t("../extent.js"),c=t("../math.js"),d=t("../size.js"),h=t("../tilecoord.js"),f=[0,0,0],p=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,a.assert)((0,l.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,a.assert)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=(0,u.getTopLeft)(r)),(0,a.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,a.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:o.DEFAULT_TILE_SIZE,(0,a.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new s["default"](Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):r&&this.calculateTileRanges_(r)};p.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,r,a])},p.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,a,l,u=null,c=t[0]-1;for(2===this.zoomFactor_?(a=t[1],l=t[2]):u=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),l=Math.floor(l/2),o=(0,s.createOrUpdate)(a,a,l,l,i)):o=this.getTileRangeForExtentAndZ(u,c,i),e.call(n,c,o))return!0;--c}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return(0,s.createOrUpdate)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},p.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=(0,d.toSize)(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*o[0]*r,s=i[0]+(e.maxX+1)*o[0]*r,l=i[1]+e.minY*o[1]*r,c=i[1]+(e.maxY+1)*o[1]*r;return(0,u.createOrUpdate)(a,l,s,c,n)},p.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=f;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),(0,s.createOrUpdate)(r,i[1],o,i[2],n)},p.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,d.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},p.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=(0,d.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,a=n[1]+t[2]*r[1]*i,s=o+r[0]*i,l=a+r[1]*i;return(0,u.createOrUpdate)(o,a,s,l,e)},p.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},p.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=(0,d.toSize)(this.getTileSize(o),this.tmpSize_),u=i?.5:0,c=i?0:.5,f=Math.floor((t-s[0])/n+u),p=Math.floor((e-s[1])/n+c),m=a*f/l[0],g=a*p/l[1];return i?(m=Math.ceil(m)-1,g=Math.ceil(g)-1):(m=Math.floor(m),g=Math.floor(g)),(0,h.createOrUpdate)(o,m,g,r)},p.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=(0,d.toSize)(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?0:.5,c=Math.floor((t-o[0])/a+l),f=Math.floor((e-o[1])/a+u),p=c/s[0],m=f/s[1];return i?(p=Math.ceil(p)-1,m=Math.ceil(m)-1):(p=Math.floor(p),m=Math.floor(m)),(0,h.createOrUpdate)(n,p,m,r)},p.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,e){var n=(0,l.linearFindNearest)(this.resolutions_,t,e||0);return(0,c.clamp)(n,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var m=p;n["default"]=m},{"./common.js":"vSap","../asserts.js":"E2kQ","../TileRange.js":"e8gP","../array.js":"Z5sL","../extent.js":"IwSU","../math.js":"RK1r","../size.js":"yPgw","../tilecoord.js":"GjeS"}],ORsq:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.getDefaultTileGrid();return e||(e=u(t),t.setDefaultTileGrid(e)),e}function o(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=c(n);if((0,f.containsCoordinate)(o,r))return e;var a=(0,f.getWidth)(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,t.getTileCoordForCoordAndZ(r,i)}function a(t,e,n,i){var r=void 0!==i?i:p["default"].TOP_LEFT,o=l(t,e,n);return new v["default"]({extent:t,origin:(0,f.getCorner)(t,r),resolutions:o,tileSize:n})}function s(t){var e=t||{},n=e.extent||(0,m.get)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:l(n,e.maxZoom,e.tileSize)};return new v["default"](i)}function l(t,e,n){for(var i=void 0!==e?e:d.DEFAULT_MAX_ZOOM,r=(0,f.getHeight)(t),o=(0,f.getWidth)(t),a=(0,h.toSize)(void 0!==n?n:d.DEFAULT_TILE_SIZE),s=Math.max(o/a[0],r/a[1]),l=i+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u}function u(t,e,n,i){return a(c(t),e,n,i)}function c(t){var e=(t=(0,m.get)(t)).getExtent();if(!e){var n=180*m.METERS_PER_UNIT[g["default"].DEGREES]/t.getMetersPerUnit();e=(0,f.createOrUpdate)(-n,-n,n,n)}return e}Object.defineProperty(n,"__esModule",{value:!0}),n.getForProjection=r,n.wrapX=o,n.createForExtent=a,n.createXYZ=s,n.createForProjection=u,n.extentFromProjection=c;var d=t("./tilegrid/common.js"),h=t("./size.js"),f=t("./extent.js"),p=i(t("./extent/Corner.js")),m=t("./proj.js"),g=i(t("./proj/Units.js")),v=i(t("./tilegrid/TileGrid.js"))},{"./tilegrid/common.js":"vSap","./size.js":"yPgw","./extent.js":"IwSU","./extent/Corner.js":"RMGy","./proj.js":"aoEo","./proj/Units.js":"RNSs","./tilegrid/TileGrid.js":"sAMA"}],Chpm:[function(t,e,n){"use strict";
function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.TileSourceEvent=void 0;var r=t("../util.js"),o=i(t("../TileCache.js")),a=i(t("../TileState.js")),s=i(t("../events/Event.js")),l=t("../proj.js"),u=t("../size.js"),c=i(t("./Source.js")),d=t("../tilecoord.js"),h=t("../tilegrid.js"),f=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new o["default"](e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,s,l,u=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)s=(0,d.getKeyZXY)(e,c,h),l=!1,r.containsKey(s)&&(l=(o=r.get(s)).getState()===a["default"].LOADED)&&(l=!1!==i(o)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return(0,r["abstract"])()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,h.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,l.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=(0,u.toSize)(i.getTileSize(t),this.tmpSize);return 1==r?o:(0,u.scale)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=(0,h.wrapX)(i,t,n)),(0,d.withinExtentAndZ)(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(c["default"]),p=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]);n.TileSourceEvent=p;var m=f;n["default"]=m},{"../util.js":"YOqM","../TileCache.js":"d5tC","../TileState.js":"gwpL","../events/Event.js":"h36w","../proj.js":"aoEo","../size.js":"yPgw","./Source.js":"Hr1t","../tilecoord.js":"GjeS","../tilegrid.js":"ORsq"}],m4vQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../webgl.js"),o=i(t("../../webgl/Fragment.js")),a=i(t("../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");n.vertex=l},{"../../webgl.js":"SvAv","../../webgl/Fragment.js":"qFEE","../../webgl/Vertex.js":"c15H"}],AOYt:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../webgl.js"),r=function(t,e){this.u_tileOffset=t.getUniformLocation(e,i.DEBUG?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,i.DEBUG?"u_texture":"e"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"c")},o=r;n["default"]=o},{"../../../webgl.js":"SvAv"}],nO0D:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../../LayerType.js")),o=i(t("../../ImageTile.js")),a=i(t("../../TileRange.js")),s=i(t("../../TileState.js")),l=i(t("../../source/Tile.js")),u=t("../../array.js"),c=t("../../extent.js"),d=t("../../math.js"),h=i(t("./Layer.js")),f=t("./tilelayershader.js"),p=i(t("./tilelayershader/Locations.js")),m=t("../../size.js"),g=t("../../transform.js"),v=t("../../webgl.js"),y=i(t("../../webgl/Buffer.js")),_=function(t){function e(e,n){t.call(this,e,n),this.fragmentShader_=f.fragment,this.vertexShader_=f.vertex,this.locations_=null,this.renderArrayBuffer_=new y["default"]([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),t.prototype.disposeInternal.call(this)},e.prototype.createLoadedTileFinder=function(t,e,n){var i=this.mapRenderer;return function(r,o){return t.forEachLoadedTile(e,r,o,function(t){var e=i.isTileTextureLoaded(t);return e&&(n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t),e})}},e.prototype.handleWebGLContextLost=function(){t.prototype.handleWebGLContextLost.call(this),this.locations_=null},e.prototype.prepareFrame=function(t,e,n){var i=this.mapRenderer,r=n.getGL(),h=t.viewState,f=h.projection,y=this.getLayer(),_=y.getSource();if(!(_ instanceof l["default"]))return!0;var b,E=_.getTileGridForProjection(f),x=E.getZForResolution(h.resolution),C=E.getResolution(x),T=_.getTilePixelSize(x,t.pixelRatio,f),w=T[0]/(0,m.toSize)(E.getTileSize(x),this.tmpSize_)[0],S=C/w,M=_.getTilePixelRatio(w)*_.getGutterForProjection(f),j=h.center,O=t.extent,A=E.getTileRangeForExtentAndZ(O,x);if(this.renderedTileRange_&&this.renderedTileRange_.equals(A)&&this.renderedRevision_==_.getRevision())b=this.renderedFramebufferExtent_;else{var R=A.getSize(),P=Math.max(R[0]*T[0],R[1]*T[1]),I=(0,d.roundUpToPowerOfTwo)(P),L=S*I,k=E.getOrigin(x),D=k[0]+A.minX*T[0]*S,N=k[1]+A.minY*T[1]*S;b=[D,N,D+L,N+L],this.bindFramebuffer(t,I),r.viewport(0,0,I,I),r.clearColor(0,0,0,0),r.clear(v.COLOR_BUFFER_BIT),r.disable(v.BLEND);var F=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(F),this.locations_||(this.locations_=new p["default"](r,F)),n.bindBuffer(v.ARRAY_BUFFER,this.renderArrayBuffer_),r.enableVertexAttribArray(this.locations_.a_position),r.vertexAttribPointer(this.locations_.a_position,2,v.FLOAT,!1,16,0),r.enableVertexAttribArray(this.locations_.a_texCoord),r.vertexAttribPointer(this.locations_.a_texCoord,2,v.FLOAT,!1,16,8),r.uniform1i(this.locations_.u_texture,0);var $={};$[x]={};var G,U,B,H,V,z,W=this.createLoadedTileFinder(_,f,$),q=y.getUseInterimTilesOnError(),Y=!0,K=(0,c.createEmpty)(),X=new a["default"](0,0,0,0);for(H=A.minX;H<=A.maxX;++H)for(V=A.minY;V<=A.maxY;++V)if(U=_.getTile(x,H,V,w,f),void 0===e.extent||(z=E.getTileCoordExtent(U.tileCoord,K),(0,c.intersects)(z,e.extent))){if((B=U.getState())==s["default"].LOADED||B==s["default"].EMPTY||B==s["default"].ERROR&&!q||(U=U.getInterimTile()),(B=U.getState())==s["default"].LOADED){if(i.isTileTextureLoaded(U)){$[x][U.tileCoord.toString()]=U;continue}}else if(B==s["default"].EMPTY||B==s["default"].ERROR&&!q)continue;Y=!1,E.forEachTileCoordParentTileRange(U.tileCoord,W,null,X,K)||(G=E.getTileCoordChildTileRange(U.tileCoord,X,K))&&W(x+1,G)}var J=Object.keys($).map(Number);J.sort(u.numberSafeCompareFunction);for(var Z=new Float32Array(4),Q=0,tt=J.length;Q<tt;++Q){var et=$[J[Q]];for(var nt in et)(U=et[nt])instanceof o["default"]&&(z=E.getTileCoordExtent(U.tileCoord,K),Z[0]=2*(z[2]-z[0])/L,Z[1]=2*(z[3]-z[1])/L,Z[2]=2*(z[0]-b[0])/L-1,Z[3]=2*(z[1]-b[1])/L-1,r.uniform4fv(this.locations_.u_tileOffset,Z),i.bindTileTexture(U,T,M*w,v.LINEAR,v.LINEAR),r.drawArrays(v.TRIANGLE_STRIP,0,4))}Y?(this.renderedTileRange_=A,this.renderedFramebufferExtent_=b,this.renderedRevision_=_.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,_,x,A);var it=i.getTileTextureQueue();this.manageTilePyramid(t,_,E,w,f,O,x,y.getPreload(),function(t){t.getState()!=s["default"].LOADED||i.isTileTextureLoaded(t)||it.isKeyQueued(t.getKey())||it.enqueue([t,E.getTileCoordCenter(t.tileCoord),E.getResolution(t.tileCoord[0]),T,M*w])},this),this.scheduleExpireCache(t,_);var rt=this.texCoordMatrix;return(0,g.reset)(rt),(0,g.translate)(rt,(Math.round(j[0]/C)*C-b[0])/(b[2]-b[0]),(Math.round(j[1]/C)*C-b[1])/(b[3]-b[1])),0!==h.rotation&&(0,g.rotate)(rt,h.rotation),(0,g.scale)(rt,t.size[0]*h.resolution/(b[2]-b[0]),t.size[1]*h.resolution/(b[3]-b[1])),(0,g.translate)(rt,-.5,-.5),!0},e.prototype.forEachLayerAtPixel=function(t,e,n,i){if(this.framebuffer){var r=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=(0,g.apply)(this.texCoordMatrix,r.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?n.call(i,this.getLayer(),l):void 0}},e}(h["default"]);_.handles=function(t){return t.getType()===r["default"].TILE},_.create=function(t,e){return new _(t,e)};var b=_;n["default"]=b},{"../../LayerType.js":"GkHV","../../ImageTile.js":"REYz","../../TileRange.js":"e8gP","../../TileState.js":"gwpL","../../source/Tile.js":"Chpm","../../array.js":"Z5sL","../../extent.js":"IwSU","../../math.js":"RK1r","./Layer.js":"SWVQ","./tilelayershader.js":"m4vQ","./tilelayershader/Locations.js":"AOYt","../../size.js":"yPgw","../../transform.js":"glB6","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],JFJE:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../LayerType.js")),a=i(t("../../ViewHint.js")),s=t("../../extent.js"),l=i(t("../../render/webgl/ReplayGroup.js")),u=t("../vector.js"),c=i(t("./Layer.js")),d=t("../../transform.js"),h=function(t){function e(e,n){t.call(this,e,n),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,s.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.layerState_=e;var i=t.viewState,r=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();r&&!r.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),r.replay(n,i.center,i.resolution,i.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},e.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var n=this.mapRenderer.getContext();e.getDeleteResourcesFunction(n)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_&&this.layerState_){var a=this.mapRenderer.getContext(),s=e.viewState,l=this.getLayer(),u=this.layerState_,c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s.center,s.resolution,s.rotation,e.size,e.pixelRatio,u.opacity,{},function(t){var e=(0,r.getUid)(t);if(!(e in c))return c[e]=!0,i.call(o,t,l)})}},e.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),i=e.viewState,r=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,r.opacity,e.skippedFeatureUids)}return!1},e.prototype.forEachLayerAtPixel=function(t,e,n,i){var r=(0,d.apply)(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(r,e)?n.call(i,this.getLayer(),null):void 0},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e,n){var i=this.getLayer(),r=i.getSource(),o=t.viewHints[a["default"].ANIMATING],c=t.viewHints[a["default"].INTERACTING],d=i.getUpdateWhileAnimating(),h=i.getUpdateWhileInteracting();if(!this.dirty_&&!d&&o||!h&&c)return!0;var f=t.extent,p=t.viewState,m=p.projection,g=p.resolution,v=t.pixelRatio,y=i.getRevision(),_=i.getRenderBuffer(),b=i.getRenderOrder();void 0===b&&(b=u.defaultOrder);var E=(0,s.buffer)(f,_*g);if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==y&&this.renderedRenderOrder_==b&&(0,s.containsExtent)(this.renderedExtent_,E))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var x=new l["default"]((0,u.getTolerance)(g,v),E,i.getRenderBuffer());r.loadFeatures(E,g,m);var C=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,g)),e){var r=this.renderFeature(t,g,v,e,x);this.dirty_=this.dirty_||r}}.bind(this);if(b){var T=[];r.forEachFeatureInExtent(E,function(t){T.push(t)}),T.sort(b),T.forEach(C.bind(this))}else r.forEachFeatureInExtent(E,C);return x.finish(n),this.renderedResolution_=g,this.renderedRevision_=y,this.renderedRenderOrder_=b,this.renderedExtent_=E,this.replayGroup_=x,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=i.length-1;a>=0;--a)o=(0,u.renderFeature)(r,t,i[a],(0,u.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this)||o;else o=(0,u.renderFeature)(r,t,i,(0,u.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this)||o;return o},e}(c["default"]);h.handles=function(t){return t.getType()===o["default"].VECTOR},h.create=function(t,e){return new h(t,e)};var f=h;n["default"]=f},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../extent.js":"IwSU","../../render/webgl/ReplayGroup.js":"zeoj","../vector.js":"UL2L","./Layer.js":"SWVQ","../../transform.js":"glB6"}],iR2a:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./PluggableMap.js")),o=t("./control.js"),a=t("./interaction.js"),s=t("./obj.js"),l=i(t("./renderer/webgl/ImageLayer.js")),u=i(t("./renderer/webgl/Map.js")),c=i(t("./renderer/webgl/TileLayer.js")),d=i(t("./renderer/webgl/VectorLayer.js")),h=function(t){function e(e){(e=(0,s.assign)({},e)).controls||(e.controls=(0,o.defaults)()),e.interactions||(e.interactions=(0,a.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new u["default"](this);return t.registerLayerRenderers([l["default"],c["default"],d["default"]]),t},e}(r["default"]),f=h;n["default"]=f},{"./PluggableMap.js":"UGGs","./control.js":"s9h5","./interaction.js":"VJ6h","./obj.js":"qC1c","./renderer/webgl/ImageLayer.js":"wxEj","./renderer/webgl/Map.js":"HeCE","./renderer/webgl/TileLayer.js":"nO0D","./renderer/webgl/VectorLayer.js":"JFJE"}],Focm:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssertionError",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(n,"Collection",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"Disposable",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"Feature",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"Geolocation",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"Graticule",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"ImageBase",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"ImageCanvas",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"ImageTile",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"Kinetic",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(n,"Map",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(n,"MapBrowserEvent",{enumerable:!0,get:function(){return g["default"]}}),Object.defineProperty(n,"MapBrowserEventHandler",{enumerable:!0,get:function(){return v["default"]}}),Object.defineProperty(n,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return y["default"]}}),Object.defineProperty(n,"MapEvent",{enumerable:!0,get:function(){return _["default"]}}),Object.defineProperty(n,"Object",{enumerable:!0,get:function(){return b["default"]}}),Object.defineProperty(n,"Observable",{enumerable:!0,get:function(){return E["default"]}}),Object.defineProperty(n,"Overlay",{enumerable:!0,get:function(){return x["default"]}}),Object.defineProperty(n,"PluggableMap",{enumerable:!0,get:function(){return C["default"]}}),Object.defineProperty(n,"Tile",{enumerable:!0,get:function(){return T["default"]}}),Object.defineProperty(n,"TileCache",{enumerable:!0,get:function(){return w["default"]}}),Object.defineProperty(n,"TileQueue",{enumerable:!0,get:function(){return S["default"]}}),Object.defineProperty(n,"TileRange",{enumerable:!0,get:function(){return M["default"]}}),Object.defineProperty(n,"VectorImageTile",{enumerable:!0,get:function(){return j["default"]}}),Object.defineProperty(n,"VectorTile",{enumerable:!0,get:function(){return O["default"]}}),Object.defineProperty(n,"View",{enumerable:!0,get:function(){return A["default"]}}),Object.defineProperty(n,"WebGLMap",{enumerable:!0,get:function(){return R["default"]}}),Object.defineProperty(n,"getUid",{enumerable:!0,get:function(){return P.getUid}}),Object.defineProperty(n,"inherits",{enumerable:!0,get:function(){return P.inherits}}),Object.defineProperty(n,"VERSION",{enumerable:!0,get:function(){return P.VERSION}});var r=i(t("./AssertionError.js")),o=i(t("./Collection.js")),a=i(t("./Disposable.js")),s=i(t("./Feature.js")),l=i(t("./Geolocation.js")),u=i(t("./Graticule.js")),c=i(t("./Image.js")),d=i(t("./ImageBase.js")),h=i(t("./ImageCanvas.js")),f=i(t("./ImageTile.js")),p=i(t("./Kinetic.js")),m=i(t("./Map.js")),g=i(t("./MapBrowserEvent.js")),v=i(t("./MapBrowserEventHandler.js")),y=i(t("./MapBrowserPointerEvent.js")),_=i(t("./MapEvent.js")),b=i(t("./Object.js")),E=i(t("./Observable.js")),x=i(t("./Overlay.js")),C=i(t("./PluggableMap.js")),T=i(t("./Tile.js")),w=i(t("./TileCache.js")),S=i(t("./TileQueue.js")),M=i(t("./TileRange.js")),j=i(t("./VectorImageTile.js")),O=i(t("./VectorTile.js")),A=i(t("./View.js")),R=i(t("./WebGLMap.js")),P=t("./util.js")},{"./AssertionError.js":"vMmu","./Collection.js":"qt30","./Disposable.js":"Kusu","./Feature.js":"YPtS","./Geolocation.js":"r0ZT","./Graticule.js":"CZFy","./Image.js":"krGz","./ImageBase.js":"Vfqz","./ImageCanvas.js":"r5gb","./ImageTile.js":"REYz","./Kinetic.js":"Wo60","./Map.js":"y2IR","./MapBrowserEvent.js":"wJox","./MapBrowserEventHandler.js":"pivB","./MapBrowserPointerEvent.js":"ASyy","./MapEvent.js":"NpCs","./Object.js":"n4ep","./Observable.js":"QniN","./Overlay.js":"ysEj","./PluggableMap.js":"UGGs","./Tile.js":"rqi0","./TileCache.js":"d5tC","./TileQueue.js":"BMBd","./TileRange.js":"e8gP","./VectorImageTile.js":"YLGO","./VectorTile.js":"r6g8","./View.js":"dWZ4","./WebGLMap.js":"iR2a","./util.js":"YOqM"}],fJ6s:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("ol"),o=t("ol/interaction"),a=t("ol/sphere"),s=i(t("ol/geom/LineString")),l=i(t("ol/style/Fill")),u=i(t("ol/style/Style")),c=i(t("ol/style/Stroke")),d=i(t("ol/style/Circle")),h=i(t("ol/layer/Vector")),f=i(t("ol/Feature")),p=i(t("ol/source/Vector")),m=t("ol/proj"),g=t("../inherits"),v=t("../config"),y=function _(){o.Pointer.call(this,{handleUpEvent:_.prototype.handleUpEvent,handleDownEvent:_.prototype.handleDownEvent}),this.map_=null,this.helpTooltipElement_=null,this.helpTooltip_=null,this.measureTooltipElement_=null,this.measureTooltip_=null,this.continueLineMsg_="Click to continue drawing the line",this.source_=new p["default"],this.vector_=null,this.startCoordP_=null,this.geom_=new s["default"]([]),this.color_="#5e9e4d",this.__visible=!1,this.setLuminosity(v.Luminosity.DAY)};(0,g.inherits)(y,o.Pointer),y.prototype.setLuminosity=function(t){t===v.Luminosity.DAY?this.color_="#5e9e4d":t===v.Luminosity.NIGHT&&(this.color_="#131b03"),this.vector_&&(this.vector_.getStyle().getStroke().setColor(this.color_),this.vector_.getStyle().getImage().getFill().setColor(this.color_))},y.prototype.handleDownEvent=function(t){this.getActive()&&this.handleUpEvent(t)},y.prototype.handleUpEvent=function(t){this.getActive()&&(this.geom_.setCoordinates([this.startCoordP_,t.coordinate]),this.redraw_())},y.prototype.redraw_=function(){if(this.geom_&&this.getActive()){var t=this.formatLength_(this.geom_);if(t){this.measureTooltipElement_&&(this.measureTooltipElement_.style.display=this.__visible?"block":"none"),this.helpTooltipElement_&&(this.helpTooltipElement_.style.display=this.__visible?"block":"none");var e=this.geom_.getLastCoordinate();this.measureTooltipElement_.innerHTML=t,this.measureTooltip_.setPosition(e),this.helpTooltipElement_.classList.remove("hidden"),this.measureTooltipElement_.className="tooltip tooltip-static",this.measureTooltip_.setOffset([0,-7])}}},y.prototype.setStartCoordinate=function(t){this.startCoordP_=t;var e=[this.startCoordP_];if(this.geom_){var n=this.geom_.getCoordinates();n.length>1&&e.push(n[n.length-1]),this.geom_.setCoordinates(e),e.length>1&&this.redraw_()}},y.prototype.initLayer_=function(){this.vector_=new h["default"]({source:this.source_,style:new u["default"]({fill:new l["default"]({color:"rgba(255, 255, 255, 0.2)"}),stroke:new c["default"]({color:this.color_,width:2}),image:new d["default"]({radius:7,fill:new l["default"]({color:this.color_})})})}),this.map_.addLayer(this.vector_);var t=new f["default"]({name:"ownShipMeasure",geometry:this.geom_});this.source_.addFeature(t),this.createHelpTooltip(),this.createMeasureTooltip()},y.prototype.setMapTool=function(t){this.map_=t,this.initLayer_(),this.setActive(!1)},y.prototype.formatLength_=function(t){var e=t.getCoordinates();if(!(e.length<2)){var n=this.map_.getView().getProjection(),i=(0,m.transform)(e[0],n,"EPSG:4326"),r=(0,m.transform)(e[1],n,"EPSG:4326"),o=(0,a.getDistance)(i,r),s=r[0]-i[0],l=r[1]-i[1],u=180*Math.atan2(s,l)/Math.PI;u<0&&(u=360+u),u=u.toFixed(1);var c="D = ";return c+=o>1852?(Math.round(o/1852*100)/100).toFixed(1)+" nm":(Math.round(100*o)/100).toFixed(1)+" m",c+="<br>Z = "+u+"&deg;"}},y.prototype.createHelpTooltip=function(){this.helpTooltipElement_&&this.helpTooltipElement_.parentNode&&this.helpTooltipElement_.parentNode.removeChild(this.helpTooltipElement_),this.helpTooltipElement_=document.createElement("div"),this.helpTooltipElement_.className="tooltip hidden",this.helpTooltip_=new r.Overlay({element:this.helpTooltipElement_,offset:[15,0],positioning:"center-left"}),this.helpTooltip_.setMap(this.map_),this.map_.addOverlay(this.helpTooltip_)},y.prototype.createMeasureTooltip=function(t){var e=void 0;t&&(e=this.measureTooltipElement_)&&e.parentNode&&e.parentNode.removeChild(e),this.measureTooltipElement_=document.createElement("div"),(e=this.measureTooltipElement_).className="tooltip tooltip-measure",this.measureTooltip_=new r.Overlay({element:e,offset:[0,-15],positioning:"bottom-center"}),this.measureTooltip_.setMap(this.map_),this.map_.addOverlay(this.measureTooltip_)},y.prototype.resetTool=function(){null!==this.map_&&(null!==this.measureTooltipElement_&&(this.measureTooltipElement_.style.display="none"),null!==this.helpTooltipElement_&&(this.helpTooltipElement_.style.display="none"),null!==this.geom_&&null!==this.startCoordP_&&this.geom_.setCoordinates([this.startCoordP_]),this.redraw_())},y.prototype.setActive=function(t){var e=this.map_;null!==this.map_&&(this.resetTool(),null!==this.map_&&(t?this.map_.addInteraction(this):this.map_.removeInteraction(this)),this.map_=e,this.setVisible(t),o.Pointer.prototype.setActive.call(this,t),this.map_.render())},y.prototype.getVisible=function(){return this.vector_.getVisible()},y.prototype.setVisible=function(t){this.__visible=t,this.vector_&&this.vector_.setVisible(t),this.measureTooltip_&&(this.measureTooltipElement_.style.display=t?"block":"none"),this.helpTooltip_&&(this.helpTooltipElement_.style.display=t?"block":"none")},y.prototype.setOpacity=function(t){this.__visible=t,this.vector_&&this.vector_.setOpacity(t),this.measureTooltip_&&(this.measureTooltipElement_.style.opacity=t),this.helpTooltip_&&(this.helpTooltipElement_.style.opacity=t)},e.exports=y},{ol:"Focm","ol/interaction":"VJ6h","ol/sphere":"KXaK","ol/geom/LineString":"x8R2","ol/style/Fill":"vciJ","ol/style/Style":"aLMx","ol/style/Stroke":"vIbn","ol/style/Circle":"b45o","ol/layer/Vector":"sgAj","ol/Feature":"YPtS","ol/source/Vector":"GKSK","ol/proj":"aoEo","../inherits":"B0d6","../config":"itQ5"}],u9f1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/Object")),o=t("ol/proj"),a=t("./inherits"),s=t("ol/extent"),l=t("./config"),u=function(){this.color="#000000",this.map_=null,this.visible_=!1,this.scale_=15,this.centerP_=null,this.setLuminosity(l.Luminosity.DAY)};(0,a.inherits)(u,r["default"]),u.prototype.setMap=function(t){this.map_&&(this.map_.un("postcompose",this.render,this),this.map_.render());var e=this;t&&(t.on("postcompose",function(t){if(e.visible_&&null!=e.centerP_){var n=t.frameState.extent,i=t.frameState.pixelRatio;if((0,s.containsCoordinate)(n,e.centerP_)){var r=(0,o.toLonLat)(e.centerP_,e.map_.getView().getProjection()),a=Math.cos(r[1]*Math.PI/180),l=1;0!=a&&(l=1/a);var u=t.context,c=e.scale_*l,d=e.centerP_,h=e.map_.getPixelFromCoordinate(d);u.lineWidth=1;var f=e.map_.getView().calculateExtent(e.map_.getSize()),p=(f[2]-f[0])/2,m=(f[3]-f[1])/2,g=Math.max(p,m),v=e.map_.getPixelFromCoordinate([d[0],d[1]-g]),y=e.map_.getPixelFromCoordinate([d[0],d[1]+g]);u.strokeStyle=e.color,u.beginPath(),u.moveTo(v[0]*i,v[1]*i),u.lineTo(y[0]*i,y[1]*i),u.closePath(),u.stroke(),v=e.map_.getPixelFromCoordinate([d[0]-g,d[1]]),y=e.map_.getPixelFromCoordinate([d[0]+g,d[1]]),u.beginPath(),u.moveTo(v[0]*i,v[1]*i),u.lineTo(y[0]*i,y[1]*i),u.closePath(),u.stroke(),v=e.map_.getPixelFromCoordinate([d[0],d[1]]);for(var _=(y=e.map_.getPixelFromCoordinate([d[0]+c,d[1]]))[0]-v[0],b=c;b<g;)y=e.map_.getPixelFromCoordinate([d[0],d[1]+b]),u.beginPath(),u.moveTo(y[0]*i-5,y[1]*i),u.lineTo(y[0]*i+5,y[1]*i),u.closePath(),u.stroke(),y=e.map_.getPixelFromCoordinate([d[0],d[1]-b]),u.beginPath(),u.moveTo(y[0]*i-5,y[1]*i),u.lineTo(y[0]*i+5,y[1]*i),u.closePath(),u.stroke(),y=e.map_.getPixelFromCoordinate([d[0]+b,d[1]]),u.beginPath(),u.moveTo(y[0]*i,y[1]*i-5),u.lineTo(y[0]*i,y[1]*i+5),u.closePath(),u.stroke(),y=e.map_.getPixelFromCoordinate([d[0]-b,d[1]]),u.beginPath(),u.moveTo(y[0]*i,y[1]*i-5),u.lineTo(y[0]*i,y[1]*i+5),u.closePath(),u.stroke(),b+=c;for(b=c;b<g;){y=e.map_.getPixelFromCoordinate([d[0],d[1]+b]);var E=Math.abs(y[1]-h[1]);u.beginPath(),u.arc(h[0]*i,h[1]*i,E*i,0,2*Math.PI),u.closePath(),u.stroke(),b+=4*c}var x=e.map_.getSize();u.beginPath(),u.moveTo(x[0]*i-15,x[1]*i-70),u.lineTo(x[0]*i-15,x[1]*i-50),u.lineTo(x[0]*i-15-_*i,x[1]*i-50),u.lineTo(x[0]*i-15-_*i,x[1]*i-70),u.stroke(),u.font="14px Arial",u.textAlign="right",u.fillStyle=e.color,u.fillText(e.scale_+" m",x[0]*i-15,x[1]*i-38)}}}),null!=this.centerP_&&t.getView().setCenter(this.centerP_)),this.map_=t},u.prototype.isVisible=function(){return this.visible_},u.prototype.setVisible=function(t){this.visible_=t,this.map_.render()},u.prototype.setCenterAndScale=function(t,e){if(e){this.scale_=parseInt(e),this.centerP_=t,null!=this.centerP_&&this.map_.getView().setCenter(this.centerP_);var n=[this.centerP_[0]-4*this.scale_,this.centerP_[1]-4*this.scale_,this.centerP_[0]+4*this.scale_,this.centerP_[1]+4*this.scale_];this.map_.getView().fit(n,this.map_.getSize()),this.map_.render()}},u.prototype.setLuminosity=function(t){t===l.Luminosity.DAY?this.color="#000000":t!==l.Luminosity.NIGHT&&t!==l.Luminosity.DUSK||(this.color="#000000")},e.exports=u},{"ol/Object":"n4ep","ol/proj":"aoEo","./inherits":"B0d6","ol/extent":"IwSU","./config":"itQ5"}],TZKB:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Atlas",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(n,"AtlasManager",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"Circle",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"Fill",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"Icon",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"IconImage",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"RegularShape",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"Stroke",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"Style",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return p["default"]}});var r=i(t("./style/Atlas.js")),o=i(t("./style/AtlasManager.js")),a=i(t("./style/Circle.js")),s=i(t("./style/Fill.js")),l=i(t("./style/Icon.js")),u=i(t("./style/IconImage.js")),c=i(t("./style/Image.js")),d=i(t("./style/RegularShape.js")),h=i(t("./style/Stroke.js")),f=i(t("./style/Style.js")),p=i(t("./style/Text.js"))},{"./style/Atlas.js":"zruR","./style/AtlasManager.js":"mRfv","./style/Circle.js":"b45o","./style/Fill.js":"vciJ","./style/Icon.js":"lB4R","./style/IconImage.js":"rGfC","./style/Image.js":"YLA1","./style/RegularShape.js":"LxrW","./style/Stroke.js":"vIbn","./style/Style.js":"aLMx","./style/Text.js":"V6H4"}],VSsd:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/style/Fill")),o=i(t("ol/style/Style")),a=t("ol/style"),s=i(t("ol/style/Circle")),l=i(t("ol/source/Vector")),u=i(t("ol/layer/Vector")),c=i(t("ol/style/Stroke")),d=t("ol/extent"),h=i(t("ol/geom/Point")),f=t("ol/proj"),p=i(t("ol/geom/LineString")),m=t("../inherits"),g=t("../config"),v=function y(t){var e=t||{};u["default"].call(this,t),this.setStyle(null),this.map_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.meridiansLabels_=[],this.parallels_=[],this.parallelsLabels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:y.DEFAULT_STROKE_STYLE_,new r["default"]({color:"rgba(255,255,255,0.4)"}),this.style_=new o["default"]({image:new s["default"],fill:new r["default"],stroke:this.strokeStyle_}),this.baseTextStyle_={font:"12px Calibri,sans-serif",textAlign:"center",fill:new r["default"]({color:"rgba(0,0,0,1)"}),stroke:new c["default"]({color:"rgba(255,255,255,1)",width:3
})},this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.showLabels_=void 0!==e.showLabels&&e.showLabels,this.lonLabelFormatter_=void 0!==e.lonLabelFormatter?e.lonLabelFormatter:null,this.lonLabelPosition_=void 0!==e.lonLabelPosition?y.clamp(e.lonLabelPosition,0,1):1,this.latLabelFormatter_=void 0!==e.latLabelFormatter?e.latLabelFormatter:null,this.latLabelPosition_=void 0!==e.latLabelPosition?y.clamp(e.latLabelPosition,0,1):1,this.setMap(void 0!==e.map?e.map:null),this.setSource(new l["default"]({})),this.visible_=!0};(0,m.inherits)(v,u["default"]),v.prototype.setVisible=function(t){this.visible_=t},v.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},v.DEFAULT_STROKE_STYLE_=new c["default"]({color:"rgba(233,136,61,1)",width:2,lineDash:[.5,4]}),v.DEFAULT_STROKE_STYLE_NIGHT_=new c["default"]({color:"rgba(192,192,192,1)",width:2,lineDash:[.5,4]}),v.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],v.prototype.addMeridian_=function(t,e,n,i,r,o){var a=this.getMeridian_(t,e,n,i,o);return(0,d.intersects)(a.getExtent(),r)&&(this.meridians_[o++]=a),o},v.prototype.addMeridianLabel_=function(t,e,n,i){var r=this.getMeridianPoint_(t,e,n,i),s=new a.Text(this.baseTextStyle_);s.setText(this.lonLabelFormatter_?this.lonLabelFormatter_(t):t.toString()),s.setTextBaseline("bottom"),s.setTextAlign("center");var l=new o["default"]({text:s,image:null});return this.meridiansLabels_[i++]={geom:r,style:l},i},v.prototype.getMeridianPoint_=function(t,e,n,i){var r=v.meridian(t,this.minLat_,this.maxLat_,this.projection_,e),o=n[1]+Math.abs(n[1]-n[3])*this.lonLabelPosition_,a=[r[0][0],o],s=void 0!==this.meridiansLabels_[i]?this.meridiansLabels_[i].geom:new h["default"]([]);return s.setCoordinates(a),s},v.prototype.addParallel_=function(t,e,n,i,r,o){var a=this.getParallel_(t,e,n,i,o);return(0,d.intersects)(a.getExtent(),r)&&(this.parallels_[o++]=a),o},v.prototype.addParallelLabel_=function(t,e,n,i){var r=this.getParallelPoint_(t,e,n,i),s=new a.Text(this.baseTextStyle_);s.setTextBaseline("middle"),s.setText(this.latLabelFormatter_?this.latLabelFormatter_(t):t.toString()),s.setTextAlign("center");var l=new o["default"]({text:s,image:null});return this.parallelsLabels_[i++]={geom:r,style:l},i},v.prototype.getParallelPoint_=function(t,e,n,i){var r=v.parallel(t,this.minLon_,this.maxLon_,this.projection_,e),o=[n[0]+Math.abs(n[0]-n[2])*this.latLabelPosition_,r[1][1]],a=void 0!==this.parallelsLabels_[i]?this.parallelsLabels_[i].geom:new h["default"]([]);return a.setCoordinates(o),a},v.prototype.createGraticule_=function(t,e,n,i){var r=this.getInterval_(n);if(-1==r)return this.meridians_.length=this.parallels_.length=0,void(this.meridiansLabels_.length=this.parallelsLabels_.length=0);var o,a,s,l,u=this.toLonLatTransform_(e),c=u[0],d=u[1],h=this.maxLines_,p=0,m=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],g=(m=(0,f.transformExtent)(m,this.projection_,"EPSG:4326"))[3],y=m[2],_=m[1],b=m[0];for(c=Math.floor(c/r)*r,l=v.clamp(c,this.minLon_,this.maxLon_),a=this.addMeridian_(l,_,g,i,t,0),this.showLabels_&&(p=this.addMeridianLabel_(l,i,t,0)),o=0;l-r>this.minLon_&&o++<h;)l=Math.max(l-r,this.minLon_),a=this.addMeridian_(l,_,g,i,t,a),this.showLabels_&&(p=this.addMeridianLabel_(l,i,t,p));for(l=v.clamp(c,this.minLon_,this.maxLon_),o=0;l+r<this.maxLon_&&o++<h;)l=Math.min(l+r,this.maxLon_),a=this.addMeridian_(l,_,g,i,t,a),this.showLabels_&&(p=this.addMeridianLabel_(l,i,t,p));for(this.meridians_.length=a,this.meridiansLabels_.length=p,d=Math.floor(d/r)*r,s=v.clamp(d,this.minLat_,this.maxLat_),p=0,a=this.addParallel_(s,b,y,i,t,0),this.showLabels_&&(p=this.addParallelLabel_(s,i,t,0)),o=0;s-r>this.minLat_&&o++<h;)s=Math.max(s-r,this.minLat_),a=this.addParallel_(s,b,y,i,t,a),this.showLabels_&&(p=this.addParallelLabel_(s,i,t,p));for(s=v.clamp(d,this.minLat_,this.maxLat_),o=0;s+r<this.maxLat_&&o++<h;)s=Math.min(s+r,this.maxLat_),a=this.addParallel_(s,b,y,i,t,a),this.showLabels_&&(p=this.addParallelLabel_(s,i,t,p));this.parallels_.length=a,this.parallelsLabels_.length=p},v.prototype.getInterval_=function(t){var e,n,i,r=this.projectionCenterLonLat_[0],o=this.projectionCenterLonLat_[1],a=-1,s=Math.pow(this.targetSize_*t,2),l=[],u=[];for(e=0,n=v.intervals_.length;e<n&&(i=v.intervals_[e]/2,l[0]=r-i,l[1]=o-i,u[0]=r+i,u[1]=o+i,this.fromLonLatTransform_(l,l),this.fromLonLatTransform_(u,u),!(Math.pow(u[0]-l[0],2)+Math.pow(u[1]-l[1],2)<=s));++e)a=v.intervals_[e];return a},v.prototype.getMap=function(){return this.map_},v.prototype.getMeridian_=function(t,e,n,i,r){var o=v.meridian(t,e,n,this.projection_,i),a=void 0!==this.meridians_[r]?this.meridians_[r]:new p["default"]([]);return a.setCoordinates(o,"XY"),a},v.prototype.getMeridians=function(){return this.meridians_},v.prototype.getParallel_=function(t,e,n,i,r){var o=v.parallel(t,this.minLon_,this.maxLon_,this.projection_,i),a=void 0!==this.parallels_[r]?this.parallels_[r]:new p["default"]([]);return a.setCoordinates(o,"XY"),a},v.prototype.getParallels=function(){return this.parallels_},v.prototype.handlePostCompose_=function(t){if(this.visible_){var e=t.vectorContext,n=t.frameState,i=n.extent,r=n.viewState,o=r.center,a=r.projection,s=r.resolution,l=n.pixelRatio,u=s*s/(4*l*l);!this.projection_||(0,f.equivalent)(this.projection_,a),this.updateProjectionInfo_(a,i);var c,d,h;for(this.createGraticule_(i,o,s,u),e.setStyle(this.style_),c=0,d=this.meridians_.length;c<d;++c)h=this.meridians_[c],e.drawGeometry(h);for(c=0,d=this.parallels_.length;c<d;++c)h=this.parallels_[c],e.drawGeometry(h);if(this.showLabels_){var p,m;for(c=0,d=this.meridiansLabels_.length;c<d;++c)p=this.meridiansLabels_[c].geom,m=this.meridiansLabels_[c].style,e.setStyle(m),e.drawGeometry(p);for(c=0,d=this.parallelsLabels_.length;c<d;++c)p=this.parallelsLabels_[c].geom,m=this.parallelsLabels_[c].style,e.setStyle(m),e.drawGeometry(p)}}},v.prototype.updateProjectionInfo_=function(t,e){var n=(0,f.get)("EPSG:4326"),i=e,r=(0,f.transformExtent)(i,t,n),o=r[3],a=r[2],s=r[1],l=r[0],u=i[3],c=i[2],h=i[1],p=i[0];this.maxLat_=o,this.maxLon_=a,this.minLat_=s,this.minLon_=l,this.maxLatP_=u,this.maxLonP_=c,this.minLatP_=h,this.minLonP_=p,this.fromLonLatTransform_=(0,f.getTransform)(n,t),this.toLonLatTransform_=(0,f.getTransform)(t,n),this.projectionCenterLonLat_=this.toLonLatTransform_((0,d.getCenter)(e)),this.projection_=t},v.prototype.setMap=function(t){this.map_&&(this.un("postcompose",this.handlePostCompose_,this),this.map_.render()),t&&(t.addLayer(this),this.on("postcompose",this.handlePostCompose_,this),t.render()),this.map_=t},v.line_=function(t,e,n){for(var i,r,o,a,s,l,u=[],c=t(0),d=t(1),h=e(c),f=e(d),p=[d,c],m=[f,h],g=[1,0],y={},_=1e5;--_>0&&g.length>0;)o=g.pop(),c=p.pop(),h=m.pop(),(l=o.toString())in y||(u.push([h[0],h[1]]),y[l]=!0),a=g.pop(),d=p.pop(),f=m.pop(),r=e(i=t(s=(o+a)/2)),v.squaredSegmentDistance(r[0],r[1],h[0],h[1],f[0],f[1])<n?(u.push([f[0],f[1]]),y[l=a.toString()]=!0):(g.push(a,s,s,o),m.push(f,r,r,h),p.push(d,i,i,c));return u},v.squaredSegmentDistance=function(t,e,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return v.squaredDistance(t,e,n,i)},v.squaredDistance=function(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o},v.toRadians=function(t){return t*Math.PI/180},v.toDegrees=function(t){return 180*t/Math.PI},v.greatCircleArc=function(t,e,n,i,r,o){var a=(0,f.get)("EPSG:4326"),s=Math.cos(v.toRadians(e)),l=Math.sin(v.toRadians(e)),u=Math.cos(v.toRadians(i)),c=Math.sin(v.toRadians(i)),d=Math.cos(v.toRadians(n-t)),h=Math.sin(v.toRadians(n-t)),p=l*c+s*u*d;return v.line_(function(e){if(1<=p)return[n,i];var r=e*Math.acos(p),o=Math.cos(r),a=Math.sin(r),f=h*u,m=s*c-l*u*d,g=Math.atan2(f,m),y=Math.asin(l*o+s*a*Math.cos(g)),_=v.toRadians(t)+Math.atan2(Math.sin(g)*a*s,o-l*Math.sin(y));return[v.toDegrees(_),v.toDegrees(y)]},(0,f.getTransform)(a,r),o)},v.meridian=function(t,e,n,i,r){var o=(0,f.get)("EPSG:4326");return v.line_(function(i){return[t,e+(n-e)*i]},(0,f.getTransform)(o,i),r)},v.parallel=function(t,e,n,i,r){var o=(0,f.get)("EPSG:4326");return v.line_(function(i){return[e+(n-e)*i,t]},(0,f.getTransform)(o,i),r)},v.prototype.setLuminosity=function(t){t==g.Luminosity.DAY?(this.strokeStyle_=v.DEFAULT_STROKE_STYLE_,new r["default"]({color:"rgba(255,255,255,0.4)"}),this.style_=new o["default"]({image:new s["default"],fill:new r["default"],stroke:this.strokeStyle_}),this.baseTextStyle_={font:"12px Calibri,sans-serif",textAlign:"center",fill:new r["default"]({color:"rgba(0,0,0,1)"}),stroke:new c["default"]({color:"rgba(255,255,255,1)",width:3})}):t!==g.Luminosity.NIGHT&&t!==g.Luminosity.DUSK||(this.strokeStyle_=v.DEFAULT_STROKE_STYLE_NIGHT_,new r["default"]({color:"rgba(255,255,255,0.4)"}),this.style_=new o["default"]({image:new s["default"],fill:new r["default"],stroke:this.strokeStyle_}),this.baseTextStyle_={font:"12px Calibri,sans-serif",textAlign:"center",fill:new r["default"]({color:"rgba(180,180,180,1)"}),stroke:new c["default"]({color:"rgba(0,0,0,1)",width:3})})},e.exports=v},{"ol/style/Fill":"vciJ","ol/style/Style":"aLMx","ol/style":"TZKB","ol/style/Circle":"b45o","ol/source/Vector":"GKSK","ol/layer/Vector":"sgAj","ol/style/Stroke":"vIbn","ol/extent":"IwSU","ol/geom/Point":"FFTU","ol/proj":"aoEo","ol/geom/LineString":"x8R2","../inherits":"B0d6","../config":"itQ5"}],BOkO:[function(t,e,n){"use strict";function i(t,e,n,i){var r=(0,u.transform)(n,e,t),o=(0,u.getPointResolution)(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var l=t.getMetersPerUnit();void 0!==l&&(o/=l);var c=t.getExtent();if(!c||(0,s.containsCoordinate)(c,r)){var d=(0,u.getPointResolution)(t,o,r)/o;isFinite(d)&&d>0&&(o/=d)}return o}function r(t,e,n,i){var r=n-t,o=i-e,a=Math.sqrt(r*r+o*o);return[Math.round(n+r/a),Math.round(i+o/a)]}function o(t,e,n,i,o,u,c,d,h,f,p){var m=(0,a.createCanvasContext2D)(Math.round(n*t),Math.round(n*e));if(0===h.length)return m.canvas;m.scale(n,n);var g=(0,s.createEmpty)();h.forEach(function(t,e,n){(0,s.extend)(g,t.extent)});var v=(0,s.getWidth)(g),y=(0,s.getHeight)(g),_=(0,a.createCanvasContext2D)(Math.round(n*v/i),Math.round(n*y/i)),b=n/i;h.forEach(function(t,e,n){var i=t.extent[0]-g[0],r=-(t.extent[3]-g[3]),o=(0,s.getWidth)(t.extent),a=(0,s.getHeight)(t.extent);_.drawImage(t.image,f,f,t.image.width-2*f,t.image.height-2*f,i*b,r*b,o*b,a*b)});var E=(0,s.getTopLeft)(c);return d.getTriangles().forEach(function(t,e,o){var a=t.source,s=t.target,c=a[0][0],d=a[0][1],h=a[1][0],f=a[1][1],p=a[2][0],v=a[2][1],y=(s[0][0]-E[0])/u,b=-(s[0][1]-E[1])/u,x=(s[1][0]-E[0])/u,C=-(s[1][1]-E[1])/u,T=(s[2][0]-E[0])/u,w=-(s[2][1]-E[1])/u,S=c,M=d;c=0,d=0;var j=[[h-=S,f-=M,0,0,x-y],[p-=S,v-=M,0,0,T-y],[0,0,h,f,C-b],[0,0,p,v,w-b]],O=(0,l.solveLinearSystem)(j);if(O){m.save(),m.beginPath();var A=(y+x+T)/3,R=(b+C+w)/3,P=r(A,R,y,b),I=r(A,R,x,C),L=r(A,R,T,w);m.moveTo(I[0],I[1]),m.lineTo(P[0],P[1]),m.lineTo(L[0],L[1]),m.clip(),m.transform(O[0],O[2],O[1],O[3],y,b),m.translate(g[0]-S,g[3]-M),m.scale(i/n,-i/n),m.drawImage(_.canvas,0,0),m.restore()}}),p&&(m.save(),m.strokeStyle="black",m.lineWidth=1,d.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-E[0])/u,o=-(i[0][1]-E[1])/u,a=(i[1][0]-E[0])/u,s=-(i[1][1]-E[1])/u,l=(i[2][0]-E[0])/u,c=-(i[2][1]-E[1])/u;m.beginPath(),m.moveTo(a,s),m.lineTo(r,o),m.lineTo(l,c),m.closePath(),m.stroke()}),m.restore()),m.canvas}Object.defineProperty(n,"__esModule",{value:!0}),n.calculateSourceResolution=i,n.render=o;var a=t("./dom.js"),s=t("./extent.js"),l=t("./math.js"),u=t("./proj.js")},{"./dom.js":"fRxd","./extent.js":"IwSU","./math.js":"RK1r","./proj.js":"aoEo"}],gmdY:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../extent.js"),r=t("../math.js"),o=t("../proj.js"),a=10,s=.25,l=function(t,e,n,r,s){this.sourceProj_=t,this.targetProj_=e;var l={},u=(0,o.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return l[e]||(l[e]=u(t)),l[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,i.getWidth)(r)==(0,i.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,i.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,i.getWidth)(this.targetProj_.getExtent()):null;var c=(0,i.getTopLeft)(n),d=(0,i.getTopRight)(n),h=(0,i.getBottomRight)(n),f=(0,i.getBottomLeft)(n),p=this.transformInv_(c),m=this.transformInv_(d),g=this.transformInv_(h),v=this.transformInv_(f);if(this.addQuad_(c,d,h,f,p,m,g,v,a),this.wrapsXInSource_){var y=1/0;this.triangles_.forEach(function(t,e,n){y=Math.min(y,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-y>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-y>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-y>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-y>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}l={}};l.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},l.prototype.addQuad_=function(t,e,n,o,a,l,u,c,d){var h=(0,i.boundingExtent)([a,l,u,c]),f=this.sourceWorldWidth_?(0,i.getWidth)(h)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&f>.5&&f<1,g=!1;if(d>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,i.boundingExtent)([t,e,n,o]);g=(0,i.getWidth)(v)/this.targetWorldWidth_>s||g}!m&&this.sourceProj_.isGlobal()&&f&&(g=f>s||g)}if(g||!this.maxSourceExtent_||(0,i.intersects)(h,this.maxSourceExtent_)){if(!(g||isFinite(a[0])&&isFinite(a[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(c[0])&&isFinite(c[1]))){if(!(d>0))return;g=!0}if(d>0){if(!g){var y,_=[(t[0]+n[0])/2,(t[1]+n[1])/2],b=this.transformInv_(_);y=m?((0,r.modulo)(a[0],p)+(0,r.modulo)(u[0],p))/2-(0,r.modulo)(b[0],p):(a[0]+u[0])/2-b[0];var E=(a[1]+u[1])/2-b[1];g=y*y+E*E>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var x=[(e[0]+n[0])/2,(e[1]+n[1])/2],C=this.transformInv_(x),T=[(o[0]+t[0])/2,(o[1]+t[1])/2],w=this.transformInv_(T);this.addQuad_(t,e,x,T,a,l,C,w,d-1),this.addQuad_(T,x,n,o,w,C,u,c,d-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],M=this.transformInv_(S),j=[(n[0]+o[0])/2,(n[1]+o[1])/2],O=this.transformInv_(j);this.addQuad_(t,S,j,o,a,M,O,c,d-1),this.addQuad_(S,e,n,j,M,l,u,O,d-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,o,a,u,c),this.addTriangle_(t,e,n,a,l,u)}},l.prototype.calculateSourceExtent=function(){var t=(0,i.createEmpty)();return this.triangles_.forEach(function(e,n,r){var o=e.source;(0,i.extendCoordinate)(t,o[0]),(0,i.extendCoordinate)(t,o[1]),(0,i.extendCoordinate)(t,o[2])}),t},l.prototype.getTriangles=function(){return this.triangles_};var u=l;n["default"]=u},{"../extent.js":"IwSU","../math.js":"RK1r","../proj.js":"aoEo"}],o8Mp:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./common.js"),o=i(t("../Tile.js")),a=i(t("../TileState.js")),s=t("../events.js"),l=i(t("../events/EventType.js")),u=t("../extent.js"),c=t("../math.js"),d=t("../reproj.js"),h=i(t("./Triangulation.js")),f=function(t){function e(e,n,i,o,s,l,f,p,m,g,v){t.call(this,s,a["default"].IDLE),this.renderEdges_=void 0!==v&&v,this.pixelRatio_=f,this.gutter_=p,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=o,this.wrappedTileCoord_=l||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var y=o.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent(),b=this.sourceTileGrid_.getExtent(),E=_?(0,u.getIntersection)(y,_):y;if(0!==(0,u.getArea)(E)){var x=e.getExtent();x&&(b=b?(0,u.getIntersection)(b,x):x);var C=o.getResolution(this.wrappedTileCoord_[0]),T=(0,u.getCenter)(E),w=(0,d.calculateSourceResolution)(e,i,T,C);if(!isFinite(w)||w<=0)this.state=a["default"].EMPTY;else{var S=void 0!==g?g:r.ERROR_THRESHOLD;if(this.triangulation_=new h["default"](e,i,E,b,w*S),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(w);var M=this.triangulation_.calculateSourceExtent();if(b&&(e.canWrapX()?(M[1]=(0,c.clamp)(M[1],b[1],b[3]),M[3]=(0,c.clamp)(M[3],b[1],b[3])):M=(0,u.getIntersection)(M,b)),(0,u.getArea)(M)){for(var j=n.getTileRangeForExtentAndZ(M,this.sourceZ_),O=j.minX;O<=j.maxX;O++)for(var A=j.minY;A<=j.maxY;A++){var R=m(this.sourceZ_,O,A,f);R&&this.sourceTiles_.push(R)}0===this.sourceTiles_.length&&(this.state=a["default"].EMPTY)}else this.state=a["default"].EMPTY}else this.state=a["default"].EMPTY}}else this.state=a["default"].EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==a["default"].LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==a["default"].LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=a["default"].ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,d.render)(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=a["default"].LOADED}this.changed()},e.prototype.load=function(){if(this.state==a["default"].IDLE){this.state=a["default"].LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==a["default"].IDLE||r==a["default"].LOADING){t++;var o=(0,s.listen)(e,l["default"].CHANGE,function(n){var i=e.getState();i!=a["default"].LOADED&&i!=a["default"].ERROR&&i!=a["default"].EMPTY||((0,s.unlistenByKey)(o),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==a["default"].IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(s.unlistenByKey),this.sourcesListenerKeys_=null},e}(o["default"]),p=f;n["default"]=p},{"./common.js":"gSGW","../Tile.js":"rqi0","../TileState.js":"gwpL","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","../math.js":"RK1r","../reproj.js":"BOkO","./Triangulation.js":"gmdY"}],dZ35:[function(t,e,n){"use strict";function i(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(r,function(){return(-a[2]-1).toString()}).replace(o,function(){var t=a[0],n=e.getFullTileRange(t);return(0,l.assert)(n,55),(n.getHeight()+a[2]).toString()}):void 0}}function r(t,e){for(var n=t.length,r=new Array(n),a=0;a<n;++a)r[a]=i(t[a],e);return o(r)}function o(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=(0,c.hash)(e),o=(0,u.modulo)(r,t.length);return t[o](e,n,i)}}}function a(t,e,n){}function s(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}Object.defineProperty(n,"__esModule",{value:!0}),n.createFromTemplate=i,n.createFromTemplates=r,n.createFromTileUrlFunctions=o,n.nullTileUrlFunction=a,n.expandUrl=s;var l=t("./asserts.js"),u=t("./math.js"),c=t("./tilecoord.js")},{"./asserts.js":"E2kQ","./math.js":"RK1r","./tilecoord.js":"GjeS"}],qsHJ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};n["default"]=i},{}],P4LM:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../util.js"),s=o(t("../TileState.js")),l=t("../tileurlfunction.js"),u=r(t("./Tile.js")),c=o(t("./TileEventType.js")),d=t("../tilecoord.js"),h=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):l.nullTileUrlFunction,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=(0,a.getUid)(n),r=n.getState();r==s["default"].LOADING?(this.tileLoadingKeys_[i]=!0,e=c["default"].TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==s["default"].ERROR?c["default"].TILELOADERROR:r==s["default"].LOADED||r==s["default"].ABORT?c["default"].TILELOADEND:void 0),null!=e&&this.dispatchEvent(new u.TileSourceEvent(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=(0,l.expandUrl)(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,l.createFromTemplates)(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=(0,d.getKeyZXY)(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(u["default"]),f=h;n["default"]=f},{"../util.js":"YOqM","../TileState.js":"gwpL","../tileurlfunction.js":"dZ35","./Tile.js":"Chpm","./TileEventType.js":"qsHJ","../tilecoord.js":"GjeS"}],rQ5G:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){t.getImage().src=e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../reproj/common.js"),a=t("../util.js"),s=i(t("../ImageTile.js")),l=i(t("../TileCache.js")),u=i(t("../TileState.js")),c=t("../events.js"),d=i(t("../events/EventType.js")),h=t("../proj.js"),f=i(t("../reproj/Tile.js")),p=i(t("./UrlTile.js")),m=t("../tilecoord.js"),g=t("../tilegrid.js"),v=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:r,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:s["default"],this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!o.ENABLE_RASTER_REPROJECTION)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(o.ENABLE_RASTER_REPROJECTION){var i=this.getTileCacheForProjection(e);for(var r in this.tileCache.expireCache(this.tileCache==i?n:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[r];a.expireCache(a==i?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getGutterForProjection=function(t){return o.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&t&&!(0,h.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(o.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!(0,h.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!o.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!(0,h.equivalent)(n,e)){var i=(0,a.getUid)(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,g.getForProjection)(e)),this.tileGridForProjection[i]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!o.ENABLE_RASTER_REPROJECTION)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||(0,h.equivalent)(n,e))return this.tileCache;var i=(0,a.getUid)(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new l["default"](this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},e.prototype.createTile_=function(t,e,n,i,r,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,r),l=s?this.tileUrlFunction(s,i,r):void 0,h=new this.tileClass(a,void 0!==l?u["default"].IDLE:u["default"].EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=o,(0,c.listen)(h,d["default"].CHANGE,this.handleTileChange,this),h},e.prototype.getTile=function(t,e,n,i,r){var a=this.getProjection();if(o.ENABLE_RASTER_REPROJECTION&&a&&r&&!(0,h.equivalent)(a,r)){var s,l=this.getTileCacheForProjection(r),u=[t,e,n],c=(0,m.getKey)(u);l.containsKey(c)&&(s=l.get(c));var d=this.getKey();if(s&&s.key==d)return s;var p=this.getTileGridForProjection(a),g=this.getTileGridForProjection(r),v=this.getTileCoordForTileUrlFunction(u,r),y=new f["default"](a,p,r,g,u,v,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=d,s?(y.interimTile=s,y.refreshInterimChain(),l.replace(c,y)):l.set(c,y),y}return this.getTileInternal(t,e,n,i,a||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var o=null,a=(0,m.getKeyZXY)(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var l=o;o=this.createTile_(t,e,n,i,r,s),l.getState()==u["default"].IDLE?o.interimTile=l.interimTile:o.interimTile=l,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,i,r,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(o.ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(o.ENABLE_RASTER_REPROJECTION){var n=(0,h.get)(t);if(n){var i=(0,a.getUid)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}}},e}(p["default"]),y=v;n["default"]=y},{"../reproj/common.js":"gSGW","../util.js":"YOqM","../ImageTile.js":"REYz","../TileCache.js":"d5tC","../TileState.js":"gwpL","../events.js":"Bvf5","../events/EventType.js":"eKq7","../proj.js":"aoEo","../reproj/Tile.js":"o8Mp","./UrlTile.js":"P4LM","../tilecoord.js":"GjeS","../tilegrid.js":"ORsq"}],DGMa:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./TileImage.js")),o=t("../tilegrid.js"),a=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:(0,o.createXYZ)({extent:(0,o.extentFromProjection)(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),s=a;n["default"]=s},{"./TileImage.js":"rQ5G","../tilegrid.js":"ORsq"}],hU9v:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.ATTRIBUTION=void 0;var r=i(t("./XYZ.js")),o='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.';n.ATTRIBUTION=o;var a=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[o];var r=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",a=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:r,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:a,wrapX:i.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),s=a;n["default"]=s},{"./XYZ.js":"DGMa"}],DImd:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/Object")),o=t("../inherits"),a=function(t){t.nightModeDivName&&(this.nightModeDivName=t.nightModeDivName),this.backgroundLayerGroup_=null};(0,o.inherits)(a,r["default"]),a.prototype.getBackgroundLayerGroup=function(){},a.prototype.setLuminosity=function(){},e.exports=a},{"ol/Object":"n4ep","../inherits":"B0d6"}],E7B3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Group")),o=i(t("ol/layer/Tile")),a=i(t("ol/source/OSM")),s=i(t("ol/source/XYZ")),l=t("../inherits"),u=t("../config"),c=t("./background-provider"),d=function(t){c.call(this,t)};(0,l.inherits)(d,c),d.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r["default"]({title:"Openseamap",zIndex:0,layers:[new o["default"]({title:"OSM",source:new a["default"],zIndex:0}),new o["default"]({title:"Seamark",
source:new s["default"]({url:"http://t1.openseamap.org/seamark/{z}/{x}/{y}.png",attributions:a["default"].ATTRIBUTION}),zIndex:0})]}),this.setLuminosity(u.Luminosity.DAY),this.backgroundLayerGroup_)},d.prototype.setLuminosity=function(t){},e.exports=d},{"ol/layer/Group":"vbcD","ol/layer/Tile":"PqrZ","ol/source/OSM":"hU9v","ol/source/XYZ":"DGMa","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],Bh8J:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Group")),o=i(t("ol/layer/Tile")),a=i(t("ol/source/OSM")),s=i(t("ol/source/XYZ")),l=t("../inherits"),u=t("../config"),c=t("./background-provider"),d=function(t){c.call(this,t)};(0,l.inherits)(d,c),d.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r["default"]({title:"Openseamap",zIndex:0,layers:[new o["default"]({title:"OSM",source:new a["default"]({url:"/gis/openstreetmap/{z}/{x}/{y}.png"}),zIndex:0}),new o["default"]({title:"Seamark",source:new s["default"]({url:"/gis/openseamap/seamark/{z}/{x}/{y}.png",attributions:a["default"].ATTRIBUTION}),zIndex:0})]}),this.setLuminosity(u.Luminosity.DAY),this.backgroundLayerGroup_)},d.prototype.setLuminosity=function(t){},e.exports=d},{"ol/layer/Group":"vbcD","ol/layer/Tile":"PqrZ","ol/source/OSM":"hU9v","ol/source/XYZ":"DGMa","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],T8vV:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Group")),o=i(t("ol/layer/Tile")),a=(i(t("ol/source/OSM")),i(t("ol/source/XYZ"))),s=t("../inherits"),l=t("../config"),u=t("./background-provider"),c=function(t){u.call(this,t)};(0,s.inherits)(c,u),c.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r["default"]({title:"MapProxy background",zIndex:0,layers:[new o["default"]({title:"Map Proxy",source:new a["default"]({url:"/gis/mapproxy/background/{z}/{x}/{y}.png"}),zIndex:0})]}),this.setLuminosity(l.Luminosity.DAY),this.backgroundLayerGroup_)},c.prototype.setLuminosity=function(t){},e.exports=c},{"ol/layer/Group":"vbcD","ol/layer/Tile":"PqrZ","ol/source/OSM":"hU9v","ol/source/XYZ":"DGMa","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],ypFV:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_WMS_VERSION=void 0;var i="1.3.0";n.DEFAULT_WMS_VERSION=i},{}],aLBD:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};n["default"]=i},{}],xJ6k:[function(t,e,n){"use strict";function i(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var i=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+i}Object.defineProperty(n,"__esModule",{value:!0}),n.appendParams=i},{}],uIuF:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var r=i.getResolution(t[0]),a=i.getTileCoordExtent(t,this.tmpExtent_),u=(0,h.toSize)(i.getTileSize(t[0]),this.tmpSize),c=this.gutter_;0!==c&&(u=(0,h.buffer)(u,c,this.tmpSize),a=(0,s.buffer)(a,r*c,a)),1!=e&&(u=(0,h.scale)(u,e,this.tmpSize));var d={SERVICE:"WMS",VERSION:o.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return(0,l.assign)(d,this.params_),this.getRequestUrl_(t,u,a,e,n,d)}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("./common.js"),a=t("../asserts.js"),s=t("../extent.js"),l=t("../obj.js"),u=t("../math.js"),c=t("../proj.js"),d=t("../reproj.js"),h=t("../size.js"),f=i(t("./TileImage.js")),p=i(t("./WMSServerType.js")),m=t("../tilecoord.js"),g=t("../string.js"),v=t("../uri.js"),y=function(t){function e(e){var n=e||{},i=n.params||{},o=!("TRANSPARENT"in i)||i.TRANSPARENT;t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:!o,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:r,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition}),this.gutter_=void 0!==n.gutter?n.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=n.serverType,this.hidpi_=void 0===n.hidpi||n.hidpi,this.tmpExtent_=(0,s.createEmpty)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,n,i){var r=(0,c.get)(n),a=this.getProjection(),u=this.getTileGrid();u||(u=this.getTileGridForProjection(r));var f=u.getTileCoordForCoordAndResolution(t,e);if(!(u.getResolutions().length<=f[0])){var p=u.getResolution(f[0]),m=u.getTileCoordExtent(f,this.tmpExtent_),g=(0,h.toSize)(u.getTileSize(f[0]),this.tmpSize),v=this.gutter_;0!==v&&(g=(0,h.buffer)(g,v,this.tmpSize),m=(0,s.buffer)(m,p*v,m)),a&&a!==r&&(p=(0,d.calculateSourceResolution)(a,r,t,p),m=(0,c.transformExtent)(m,r,a),t=(0,c.transform)(t,r,a));var y={SERVICE:"WMS",VERSION:o.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,l.assign)(y,this.params_,i);var _=Math.floor((t[0]-m[0])/p),b=Math.floor((m[3]-t[1])/p);return y[this.v13_?"I":"X"]=_,y[this.v13_?"J":"Y"]=b,this.getRequestUrl_(f,g,m,1,a||r,y)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,i,r,o){var s=this.urls;if(s){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case p["default"].GEOSERVER:var l=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+l:o.FORMAT_OPTIONS="dpi:"+l;break;case p["default"].MAPSERVER:o.MAP_RESOLUTION=90*i;break;case p["default"].CARMENTA_SERVER:case p["default"].QGIS:o.DPI=90*i;break;default:(0,a.assert)(!1,52)}var c,d,h=r.getAxisOrientation(),f=n;return this.v13_&&"ne"==h.substr(0,2)&&(c=n[0],f[0]=n[1],f[1]=c,c=n[2],f[2]=n[3],f[3]=c),o.BBOX=f.join(","),d=1==s.length?s[0]:s[(0,u.modulo)((0,m.hash)(t),s.length)],(0,v.appendParams)(d,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.updateParams=function(t){(0,l.assign)(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||o.DEFAULT_WMS_VERSION;this.v13_=(0,g.compareVersions)(t,"1.3")>=0},e}(f["default"]),_=y;n["default"]=_},{"./common.js":"ypFV","../asserts.js":"E2kQ","../extent.js":"IwSU","../obj.js":"qC1c","../math.js":"RK1r","../proj.js":"aoEo","../reproj.js":"BOkO","../size.js":"yPgw","./TileImage.js":"rQ5G","./WMSServerType.js":"aLBD","../tilecoord.js":"GjeS","../string.js":"OqZs","../uri.js":"xJ6k"}],fXlG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("ol/layer.js"),o=i(t("ol/source/TileWMS")),a=i(t("jquery")),s=t("../inherits"),l=t("../config"),u=t("./background-provider"),c=function(t){u.call(this,t),t.serverAddress?this.serverAddress=t.serverAddress:this.serverAddress=l.GEOMOD.url+"//wms",this.layerName_=["base","hydrography","aton","dangers"],this.parameters_={LAYERS:"base,hydrography,aton,dangers",TILED:!0,VERSION:"1.1.1",FORMAT:"image/png",WIDTH:256,HEIGHT:256,CRS:"EPSG:3857",SRS:"EPSG:3857",LIGHT_CONDITION:"DAY"},t.serverAddress&&(this.parameters_.LIGHT_CONDITION=t.nightModeDivName)};(0,s.inherits)(c,u),c.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r.Group({title:"Geomod",zIndex:0}),this.addLayerToGroup_(null,this.backgroundLayerGroup_),this.backgroundLayerGroup_)},c.prototype.addLayerToGroup_=function(t,e){var n=this.updateParams_(t,l.Luminosity.DAY),i=new r.Tile({title:"Geomod",zIndex:0,source:new o["default"]({url:this.serverAddress,params:n,attributions:'<a href="www.geomod.fr">GEOMOD</a>'})});this.backgroundLayerGroup_.getLayers().push(i)},c.prototype.updateParams_=function(t,e){var n=this.parameters_;return n.LIGHT_CONDITION=e,n},c.prototype.setLuminosity=function(t){for(var e=this.getBackgroundLayerGroup().getLayers().getArray(),n=0;n<e.length;n++){var i=e[n];i.getSource().updateParams(this.updateParams_(i.get("name"),t))}var r=(0,a["default"])("#"+this.nightModeDivName);r&&r.css("display","none")},e.exports=c},{"ol/layer.js":"x523","ol/source/TileWMS":"uIuF",jquery:"juYr","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],hLny:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("ol/layer.js"),o=i(t("ol/source/TileWMS")),a=(i(t("jquery")),t("../inherits")),s=(t("../config"),t("./background-provider")),l=function(t){s.call(this,t),this.serverAddress="http://sl-techsasgis-prod:8080/geoserver/ows?",this.layerName_=["diffusion:GEBCO_TCM"],this.parameters_={layers:"diffusion:GEBCO_TCM",version:"1.3.0",format:"image/png",width:768,height:384,bbox:"-180,-90,180,90",srs:"EPSG:4326"}};(0,a.inherits)(l,s),l.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r.Group({title:"SHOM",zIndex:0}),this.addLayerToGroup_(null,this.backgroundLayerGroup_),this.backgroundLayerGroup_)},l.prototype.addLayerToGroup_=function(t,e){var n=this.parameters_,i=new r.Tile({title:"SHOM",zIndex:0,source:new o["default"]({url:this.serverAddress,params:n,attributions:'<a href="www.shom.fr">SHOM</a>'})});this.backgroundLayerGroup_.getLayers().push(i)},e.exports=l},{"ol/layer.js":"x523","ol/source/TileWMS":"uIuF",jquery:"juYr","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],gaYW:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=[],r=[],s=[],u=[],c=[],d=void 0!==n?n:[],h=t.SupportedCRS,f=(0,a.get)(h.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,a.get)(h),p=f.getMetersPerUnit(),m="ne"==f.getAxisOrientation().substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(e){if(!(d.length>0)||(0,o.find)(d,function(n){return e.Identifier==n.TileMatrix||-1===e.Identifier.indexOf(":")&&t.Identifier+":"+e.Identifier===n.TileMatrix})){r.push(e.Identifier);var n=28e-5*e.ScaleDenominator/p,a=e.TileWidth,l=e.TileHeight;m?s.push([e.TopLeftCorner[1],e.TopLeftCorner[0]]):s.push(e.TopLeftCorner),i.push(n),u.push(a==l?a:[a,l]),c.push([e.MatrixWidth,-e.MatrixHeight])}}),new l({extent:e,origins:s,resolutions:i,matrixIds:r,tileSizes:u,sizes:c})}Object.defineProperty(n,"__esModule",{value:!0}),n.createFromCapabilitiesMatrixSet=r,n["default"]=void 0;var o=t("../array.js"),a=t("../proj.js"),s=i(t("./TileGrid.js")),l=function(t){function e(e){t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(s["default"]),u=l;n["default"]=u},{"../array.js":"Z5sL","../proj.js":"aoEo","./TileGrid.js":"sAMA"}],z3zt:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={KVP:"KVP",REST:"REST"};n["default"]=i},{}],cSfn:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=t.Contents.Layer,i=(0,s.find)(n,function(t,n,i){return t.Identifier==e.layer});if(null===i)return null;var r,o=t.Contents.TileMatrixSet;(r=i.TileMatrixSetLink.length>1?"projection"in e?(0,s.findIndex)(i.TileMatrixSetLink,function(t,n,i){var r=(0,s.find)(o,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS,a=(0,c.get)(r.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,c.get)(r),l=(0,c.get)(e.projection);return a&&l?(0,c.equivalent)(a,l):r==e.projection}):(0,s.findIndex)(i.TileMatrixSetLink,function(t,n,i){return t.TileMatrixSet==e.matrixSet}):0)<0&&(r=0);var a=i.TileMatrixSetLink[r].TileMatrixSet,u=i.TileMatrixSetLink[r].TileMatrixSetLimits,d=i.Format[0];"format"in e&&(d=e.format),(r=(0,s.findIndex)(i.Style,function(t,n,i){return"style"in e?t.Title==e.style:t.isDefault}))<0&&(r=0);var p=i.Style[r].Identifier,m={};"Dimension"in i&&i.Dimension.forEach(function(t,e,n){var i=t.Identifier,r=t.Default;void 0===r&&(r=t.Value[0]),m[i]=r});var g,v=t.Contents.TileMatrixSet,y=(0,s.find)(v,function(t,e,n){return t.Identifier==a}),_=y.SupportedCRS;if(_&&(g=(0,c.get)(_.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||(0,c.get)(_)),"projection"in e){var b=(0,c.get)(e.projection);b&&(g&&!(0,c.equivalent)(b,g)||(g=b))}var E,x,C=i.WGS84BoundingBox;if(void 0!==C){var T=(0,c.get)("EPSG:4326").getExtent();x=C[0]==T[0]&&C[2]==T[2],E=(0,c.transformExtent)(C,"EPSG:4326",g);var w=g.getExtent();w&&((0,l.containsExtent)(w,E)||(E=void 0))}var S=(0,f.createFromCapabilitiesMatrixSet)(y,E,u),M=[],j=e.requestEncoding;if(j=void 0!==j?j:"","OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(var O=t.OperationsMetadata.GetTile.DCP.HTTP.Get,A=0,R=O.length;A<R;++A)if(O[A].Constraint){var P=(0,s.find)(O[A].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===j&&(j=P[0]),j!==h["default"].KVP)break;(0,s.includes)(P,h["default"].KVP)&&M.push(O[A].href)}else O[A].href&&(j=h["default"].KVP,M.push(O[A].href));return 0===M.length&&(j=h["default"].REST,i.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(d=t.format,M.push(t.template))})),{urls:M,layer:e.layer,matrixSet:a,format:d,projection:g,requestEncoding:j,tileGrid:S,style:p,dimensions:m,wrapX:x,crossOrigin:e.crossOrigin}}function o(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==h["default"].KVP&&(0,u.assign)(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==h["default"].KVP?(0,p.appendParams)(t,n):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t});var i=this.tileGrid,r=this.dimensions_;return function(n,o,a){if(n){var s={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:-n[2]-1};(0,u.assign)(s,r);var l=t;return l=e==h["default"].KVP?(0,p.appendParams)(l,s):l.replace(/\{(\w+?)\}/g,function(t,e){return s[e]})}}}Object.defineProperty(n,"__esModule",{value:!0}),n.optionsFromCapabilities=r,n["default"]=void 0;var a=t("../tileurlfunction.js"),s=t("../array.js"),l=t("../extent.js"),u=t("../obj.js"),c=t("../proj.js"),d=i(t("./TileImage.js")),h=i(t("./WMTSRequestEncoding.js")),f=t("../tilegrid/WMTS.js"),p=t("../uri.js"),m=function(t){function e(e){var n=void 0!==e.requestEncoding?e.requestEncoding:h["default"].KVP,i=e.tileGrid,r=e.urls;void 0===r&&void 0!==e.url&&(r=(0,a.expandUrl)(e.url)),t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:a.nullTileUrlFunction,urls:r,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=(0,a.createFromTileUrlFunctions)(r.map(o.bind(this))))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction((0,a.createFromTileUrlFunctions)(t.map(o.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){(0,u.assign)(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(d["default"]),g=m;n["default"]=g},{"../tileurlfunction.js":"dZ35","../array.js":"Z5sL","../extent.js":"IwSU","../obj.js":"qC1c","../proj.js":"aoEo","./TileImage.js":"rQ5G","./WMTSRequestEncoding.js":"z3zt","../tilegrid/WMTS.js":"gaYW","../uri.js":"xJ6k"}],rTHT:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=t("ol/layer.js"),o=i(t("ol/layer/Tile")),a=i(t("ol/source/OSM")),s=i(t("ol/source/XYZ")),l=t("ol/proj"),u=i(t("ol/tilegrid/WMTS")),c=t("ol/extent"),d=i(t("ol/source/TileWMS")),h=i(t("ol/source/WMTS")),f=t("../inherits"),p=(t("../config"),t("./background-provider")),m=function(t){p.call(this,t)};(0,f.inherits)(m,p),m.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r.Group({title:"Emodnet",zIndex:0,layers:[new o["default"]({title:"OSM",source:new a["default"],zIndex:0}),new o["default"]({title:"Seamark",source:new s["default"]({url:"http://t1.openseamap.org/seamark/{z}/{x}/{y}.png",attributions:a["default"].ATTRIBUTION}),zIndex:0}),new o["default"]({title:"mean_rainbowcolour",extent:(0,l.transformExtent)([-36,25,43,85],"EPSG:4326","EPSG:3857"),opacity:.6,source:new h["default"]({url:"https://tiles.emodnet-bathymetry.eu/v9/{Layer}/{TileMatrixSet}/{TileMatrix}/{TileCol}/{TileRow}.png",layer:"mean_rainbowcolour",requestEncoding:"REST",matrixSet:"inspire_quad",format:"image/png",projection:"EPSG:4326",tileGrid:this.inspireWgs84Grid(12,""),attributions:'<a href="http://www.emodnet-bathymetry.eu/>EMODNET</a>'}),zIndex:0}),new o["default"]({title:"contours",extent:(0,l.transformExtent)([-36,25,43,85],"EPSG:4326","EPSG:3857"),source:new d["default"]({url:"https://ows.emodnet-bathymetry.eu/wms",params:{LAYERS:"contours",TILED:!0},serverType:"geoserver",transition:0}),zIndex:0})]}),this.backgroundLayerGroup_)},m.prototype.inspireWgs84Grid=function(t,e){for(var n=(0,l.get)("EPSG:4326").getExtent(),i=(0,c.getWidth)(n)/512,r=new Array(t),o=new Array(t),a=0;a<t;a++)r[a]=i/Math.pow(2,a),o[a]=a;return new u["default"]({origin:(0,c.getTopLeft)(n),resolutions:r,matrixIds:o})},m.prototype.setLuminosity=function(t){},e.exports=m},{"ol/layer.js":"x523","ol/layer/Tile":"PqrZ","ol/source/OSM":"hU9v","ol/source/XYZ":"DGMa","ol/proj":"aoEo","ol/tilegrid/WMTS":"gaYW","ol/extent":"IwSU","ol/source/TileWMS":"uIuF","ol/source/WMTS":"cSfn","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],MMNL:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Group")),o=i(t("ol/layer/Tile")),a=i(t("ol/source/XYZ")),s=i(t("ol/source/OSM")),l=t("../inherits"),u=t("../config"),c=t("./background-provider"),d=function(t){c.call(this,t)};(0,l.inherits)(d,c),d.prototype.getBackgroundLayerGroup=function(){return null!=this.backgroundLayerGroup_?this.backgroundLayerGroup_:(this.backgroundLayerGroup_=new r["default"]({title:"ARCGIS",zIndex:0,layers:[new o["default"]({title:"Ocean Basemap",source:new a["default"]({url:"https://server.arcgisonline.com/arcgis/rest/services/Ocean_Basemap/MapServer/tile/{z}/{y}/{x}",attributions:"Esri, HERE, Garmin, FAO, NOAA | GEBCO, IHO-IOC GEBCO, NGS, DeLorme"}),minResolution:100,zIndex:0}),new o["default"]({title:"OSM",source:new s["default"],minResolution:0,maxResolution:100,tileSize:256,zIndex:0}),new o["default"]({title:"Seamark",source:new a["default"]({url:"http://t1.openseamap.org/seamark/{z}/{x}/{y}.png",attributions:s["default"].ATTRIBUTION}),zIndex:0})]}),this.setLuminosity(u.Luminosity.DAY),this.backgroundLayerGroup_)},d.prototype.setLuminosity=function(t){},e.exports=d},{"ol/layer/Group":"vbcD","ol/layer/Tile":"PqrZ","ol/source/XYZ":"DGMa","ol/source/OSM":"hU9v","../inherits":"B0d6","../config":"itQ5","./background-provider":"DImd"}],lNSE:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Tile")),o=i(t("ol/source/TileWMS")),a=t("../inherits"),s=t("../config"),l=function(t,e){var n=t||{};r["default"].call(this,n),this.tile=e,this.setSource(new o["default"]({url:"http://services.data.shom.fr/DELMAR/wms/v?",params:{LAYERS:"DELMAR_BDD_WMSV",FORMAT:"image/png"}})),this.luminosity_=s.Luminosity.DAY};(0,a.inherits)(l,r["default"]),l.prototype.setMap=function(t){this.map_=t},e.exports=l},{"ol/layer/Tile":"PqrZ","ol/source/TileWMS":"uIuF","../inherits":"B0d6","../config":"itQ5"}],FbFK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/layer/Tile")),o=i(t("ol/source/TileWMS")),a=t("../inherits"),s=t("../config"),l=function(t,e,n){var i=t||{};r["default"].call(this,i),this.tile=n,this.setSource(new o["default"]({url:e,params:{LAYER:n}})),this.luminosity_=s.Luminosity.DAY};(0,a.inherits)(l,r["default"]),l.prototype.setMap=function(t){this.map_=t},e.exports=l},{"ol/layer/Tile":"PqrZ","ol/source/TileWMS":"uIuF","../inherits":"B0d6","../config":"itQ5"}],ML5k:[function(t,e,n){var i=t("./common-layer"),r=function(t,e){this.wms_url=e,this.options=t,this.layers={}};r.prototype.setMap=function(t){var e=this;Object.keys(e.layers).forEach(function(n){e.layers[n].setMap(t),t.addLayer(e.layers[n])})},r.prototype.performWMSCapabilities=function(t){var e=!1,n=this;t.Capability&&t.Capability.Request&&t.Capability.Request.GetMap&&Array.isArray(t.Capability.Request.GetMap.DCPType)&&t.Capability.Request.GetMap.DCPType.forEach(function(t){!e&&t.HTTP&&t.HTTP&&t.HTTP.Get&&t.HTTP.Get.OnlineResource&&(e=t.HTTP.Get.OnlineResource)}),e&&t&&t.Capability&&t.Capability.Layer&&Array.isArray(t.Capability.Layer.Layer)&&t.Capability.Layer.Layer.reverse().forEach(function(t){t.queryable&&(n.layers[t.Name]=new i(n.options,e,t.Name))})},r.prototype.getLayersName=function(){return Object.keys(this.layers)},e.exports=r},{"./common-layer":"FbFK"}],eAuZ:[function(t,e,n){"use strict";function i(t,e,n){var i,r=n?(0,a.get)(n.featureProjection):null,o=n?(0,a.get)(n.dataProjection):null;if(i=r&&o&&!(0,a.equivalent)(r,o)?Array.isArray(t)?(0,a.transformExtent)(t,o,r):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}Object.defineProperty(n,"__esModule",{value:!0}),n.transformWithOptions=i,n["default"]=void 0;var r=t("../obj.js"),o=t("../util.js"),a=t("../proj.js"),s=function(){this.dataProjection=null,this.defaultFeatureProjection=null};s.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},s.prototype.adaptOptions=function(t){return(0,r.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},s.prototype.getLastExtent=function(){return null},s.prototype.getType=function(){return(0,o["abstract"])()},s.prototype.readFeature=function(t,e){return(0,o["abstract"])()},s.prototype.readFeatures=function(t,e){return(0,o["abstract"])()},s.prototype.readGeometry=function(t,e){return(0,o["abstract"])()},s.prototype.readProjection=function(t){return(0,o["abstract"])()},s.prototype.writeFeature=function(t,e){return(0,o["abstract"])()},s.prototype.writeFeatures=function(t,e){return(0,o["abstract"])()},s.prototype.writeGeometry=function(t,e){return(0,o["abstract"])()};var l=s;n["default"]=l},{"../obj.js":"qC1c","../util.js":"YOqM","../proj.js":"aoEo"}],umOH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=t("../array.js"),a=i(t("../format/Feature.js")),s=i(t("../format/FormatType.js")),l=t("../xml.js"),u=function(t){function e(){t.call(this),this.xmlSerializer_=new XMLSerializer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return s["default"].XML},e.prototype.readFeature=function(t,e){if(t){if("string"==typeof t){var n=(0,l.parse)(t);return this.readFeatureFromDocument(n,e)}return(0,l.isDocument)(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"==typeof t){var n=(0,l.parse)(t);return this.readFeaturesFromDocument(n,e)}return(0,l.isDocument)(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var n=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&(0,o.extend)(n,this.readFeaturesFromNode(i,e));return n},e.prototype.readFeaturesFromNode=function(t,e){return(0,r["abstract"])()},e.prototype.readGeometry=function(t,e){if(t){if("string"==typeof t){var n=(0,l.parse)(t);return this.readGeometryFromDocument(n,e)}return(0,l.isDocument)(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"==typeof t){var e=(0,l.parse)(t);return this.readProjectionFromDocument(e)}return(0,l.isDocument)(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeGeometryNode=function(t,e){return null},e}(a["default"]),c=u;n["default"]=c},{"../util.js":"YOqM","../array.js":"Z5sL","../format/Feature.js":"eAuZ","../format/FormatType.js":"zZrl","../xml.js":"OYOJ"}],Ovgf:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.getGeometry();if(i){var r=it[i.getType()];if(r){var o=e[e.length-1].node;return(0,P.createElementNS)(o.namespaceURI,r)}}}function o(t,e,n,i){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in i?(t.push(i.ele),delete i.ele,e.hasZ=!0):t.push(0),"time"in i?(t.push(i.time),delete i.time,e.hasM=!0):t.push(0),t}function a(t,e,n){var i=S["default"].XY,r=2;if(t.hasZ&&t.hasM?(i=S["default"].XYZM,r=4):t.hasZ?(i=S["default"].XYZ,r=3):t.hasM&&(i=S["default"].XYM,r=3),4!==r){for(var o=0,a=e.length/4;o<a;o++)e[o*r]=e[4*o],e[o*r+1]=e[4*o+1],t.hasZ&&(e[o*r+2]=e[4*o+2]),t.hasM&&(e[o*r+2]=e[4*o+3]);if(e.length=e.length/4*r,n)for(var s=0,l=n.length;s<l;s++)n[s]=n[s]/4*r}return i}function s(t,e){var n=e[e.length-1],i=t.getAttribute("href");null!==i&&(n.link=i),(0,P.parseNode)(N,t,e)}function l(t,e){e[e.length-1].extensionsNode_=t}function u(t,e){var n=(0,P.pushParseAndPop)({},U,t,e);if(n){var i=e[e.length-1];o(i.flatCoordinates,i.layoutOptions,t,n)}}function c(t,e){var n=(0,P.pushParseAndPop)({},V,t,e);if(n){var i=e[e.length-1];o(i.flatCoordinates,i.layoutOptions,t,n)}}function d(t,e){var n=e[e.length-1];(0,P.parseNode)(H,t,e);var i=n.flatCoordinates;n.ends.push(i.length)}function h(t,e){var n=e[0],i=(0,P.pushParseAndPop)({flatCoordinates:[],layoutOptions:{}},G,t,e);if(i){var r=i.flatCoordinates;delete i.flatCoordinates;var o=i.layoutOptions;delete i.layoutOptions;var s=a(o,r),l=new j["default"](r,s);(0,C.transformWithOptions)(l,!1,n);var u=new E["default"](l);return u.setProperties(i),u}}function f(t,e){var n=e[0],i=(0,P.pushParseAndPop)({flatCoordinates:[],ends:[],layoutOptions:{}},B,t,e);if(i){var r=i.flatCoordinates;delete i.flatCoordinates;var o=i.ends;delete i.ends;var s=i.layoutOptions;delete i.layoutOptions;var l=a(s,r,o),u=new O["default"](r,l,o);(0,C.transformWithOptions)(u,!1,n);var c=new E["default"](u);return c.setProperties(i),c}}function p(t,e){var n=e[0],i=(0,P.pushParseAndPop)({},z,t,e);if(i){var r={},s=o([],r,t,i),l=a(r,s),u=new A["default"](s,l);(0,C.transformWithOptions)(u,!1,n);var c=new E["default"](u);return c.setProperties(i),c}}function m(t,e,n){t.setAttribute("href",e);var i=n[n.length-1].properties,r=[i.linkText,i.linkType];(0,P.pushSerializeAndPop)({node:t},q,P.OBJECT_PROPERTY_NODE_FACTORY,r,n,W)}function g(t,e,n){var i=n[n.length-1],r=i.node.namespaceURI,o=i.properties;switch(t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0])),i.geometryLayout){case S["default"].XYZM:0!==e[3]&&(o.time=e[3]);case S["default"].XYZ:0!==e[2]&&(o.ele=e[2]);break;case S["default"].XYM:0!==e[2]&&(o.time=e[2])}var a="rtept"==t.nodeName?X[r]:et[r],s=(0,P.makeSequence)(o,a);(0,P.pushSerializeAndPop)({node:t,properties:o},nt,P.OBJECT_PROPERTY_NODE_FACTORY,s,n,a)}function v(t,e,n){var i=n[0],r=e.getProperties(),o={node:t};o.properties=r;var a=e.getGeometry();if(a.getType()==M["default"].LINE_STRING){var s=(0,C.transformWithOptions)(a,!0,i);o.geometryLayout=s.getLayout(),r.rtept=s.getCoordinates()}var l=n[n.length-1].node,u=Y[l.namespaceURI],c=(0,P.makeSequence)(r,u);(0,P.pushSerializeAndPop)(o,K,P.OBJECT_PROPERTY_NODE_FACTORY,c,n,u)}function y(t,e,n){var i=n[0],r=e.getProperties(),o={node:t};o.properties=r;var a=e.getGeometry();if(a.getType()==M["default"].MULTI_LINE_STRING){var s=(0,C.transformWithOptions)(a,!0,i);r.trkseg=s.getLineStrings()}var l=n[n.length-1].node,u=J[l.namespaceURI],c=(0,P.makeSequence)(r,u);(0,P.pushSerializeAndPop)(o,Z,P.OBJECT_PROPERTY_NODE_FACTORY,c,n,u)}function _(t,e,n){var i={node:t};i.geometryLayout=e.getLayout(),i.properties={},(0,P.pushSerializeAndPop)(i,tt,Q,e.getCoordinates(),n)}function b(t,e,n){var i=n[0],r=n[n.length-1];r.properties=e.getProperties();var o=e.getGeometry();if(o.getType()==M["default"].POINT){var a=(0,C.transformWithOptions)(o,!0,i);r.geometryLayout=a.getLayout(),g(t,a.getCoordinates(),n)}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var E=i(t("../Feature.js")),x=t("../array.js"),C=t("./Feature.js"),T=i(t("./XMLFeature.js")),w=t("./xsd.js"),S=i(t("../geom/GeometryLayout.js")),M=i(t("../geom/GeometryType.js")),j=i(t("../geom/LineString.js")),O=i(t("../geom/MultiLineString.js")),A=i(t("../geom/Point.js")),R=t("../proj.js"),P=t("../xml.js"),I=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],L="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",k={
rte:h,trk:f,wpt:p},D=(0,P.makeStructureNS)(I,{rte:(0,P.makeArrayPusher)(h),trk:(0,P.makeArrayPusher)(f),wpt:(0,P.makeArrayPusher)(p)}),N=(0,P.makeStructureNS)(I,{text:(0,P.makeObjectPropertySetter)(w.readString,"linkText"),type:(0,P.makeObjectPropertySetter)(w.readString,"linkType")}),F=(0,P.makeStructureNS)(I,{rte:(0,P.makeChildAppender)(v),trk:(0,P.makeChildAppender)(y),wpt:(0,P.makeChildAppender)(b)}),$=function(t){function e(e){t.call(this);var n=e||{};this.dataProjection=(0,R.get)("EPSG:4326"),this.readExtensions_=n.readExtensions}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,n=t.length;e<n;++e){var i=t[e];if(this.readExtensions_){var r=i.get("extensionsNode_")||null;this.readExtensions_(i,r)}i.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!(0,x.includes)(I,t.namespaceURI))return null;var n=k[t.localName];if(!n)return null;var i=n(t,[this.getReadOptions(t,e)]);return i?(this.handleReadExtensions_([i]),i):null},e.prototype.readFeaturesFromNode=function(t,e){if(!(0,x.includes)(I,t.namespaceURI))return[];if("gpx"==t.localName){var n=(0,P.pushParseAndPop)([],D,t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_(n),n):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=(0,P.createElementNS)("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi",P.XML_SCHEMA_INSTANCE_URI),n.setAttributeNS(P.XML_SCHEMA_INSTANCE_URI,"xsi:schemaLocation",L),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),(0,P.pushSerializeAndPop)({node:n},F,r,t,[e]),n},e}(T["default"]),G=(0,P.makeStructureNS)(I,{name:(0,P.makeObjectPropertySetter)(w.readString),cmt:(0,P.makeObjectPropertySetter)(w.readString),desc:(0,P.makeObjectPropertySetter)(w.readString),src:(0,P.makeObjectPropertySetter)(w.readString),link:s,number:(0,P.makeObjectPropertySetter)(w.readNonNegativeInteger),extensions:l,type:(0,P.makeObjectPropertySetter)(w.readString),rtept:u}),U=(0,P.makeStructureNS)(I,{ele:(0,P.makeObjectPropertySetter)(w.readDecimal),time:(0,P.makeObjectPropertySetter)(w.readDateTime)}),B=(0,P.makeStructureNS)(I,{name:(0,P.makeObjectPropertySetter)(w.readString),cmt:(0,P.makeObjectPropertySetter)(w.readString),desc:(0,P.makeObjectPropertySetter)(w.readString),src:(0,P.makeObjectPropertySetter)(w.readString),link:s,number:(0,P.makeObjectPropertySetter)(w.readNonNegativeInteger),type:(0,P.makeObjectPropertySetter)(w.readString),extensions:l,trkseg:d}),H=(0,P.makeStructureNS)(I,{trkpt:c}),V=(0,P.makeStructureNS)(I,{ele:(0,P.makeObjectPropertySetter)(w.readDecimal),time:(0,P.makeObjectPropertySetter)(w.readDateTime)}),z=(0,P.makeStructureNS)(I,{ele:(0,P.makeObjectPropertySetter)(w.readDecimal),time:(0,P.makeObjectPropertySetter)(w.readDateTime),magvar:(0,P.makeObjectPropertySetter)(w.readDecimal),geoidheight:(0,P.makeObjectPropertySetter)(w.readDecimal),name:(0,P.makeObjectPropertySetter)(w.readString),cmt:(0,P.makeObjectPropertySetter)(w.readString),desc:(0,P.makeObjectPropertySetter)(w.readString),src:(0,P.makeObjectPropertySetter)(w.readString),link:s,sym:(0,P.makeObjectPropertySetter)(w.readString),type:(0,P.makeObjectPropertySetter)(w.readString),fix:(0,P.makeObjectPropertySetter)(w.readString),sat:(0,P.makeObjectPropertySetter)(w.readNonNegativeInteger),hdop:(0,P.makeObjectPropertySetter)(w.readDecimal),vdop:(0,P.makeObjectPropertySetter)(w.readDecimal),pdop:(0,P.makeObjectPropertySetter)(w.readDecimal),ageofdgpsdata:(0,P.makeObjectPropertySetter)(w.readDecimal),dgpsid:(0,P.makeObjectPropertySetter)(w.readNonNegativeInteger),extensions:l}),W=["text","type"],q=(0,P.makeStructureNS)(I,{text:(0,P.makeChildAppender)(w.writeStringTextNode),type:(0,P.makeChildAppender)(w.writeStringTextNode)}),Y=(0,P.makeStructureNS)(I,["name","cmt","desc","src","link","number","type","rtept"]),K=(0,P.makeStructureNS)(I,{name:(0,P.makeChildAppender)(w.writeStringTextNode),cmt:(0,P.makeChildAppender)(w.writeStringTextNode),desc:(0,P.makeChildAppender)(w.writeStringTextNode),src:(0,P.makeChildAppender)(w.writeStringTextNode),link:(0,P.makeChildAppender)(m),number:(0,P.makeChildAppender)(w.writeNonNegativeIntegerTextNode),type:(0,P.makeChildAppender)(w.writeStringTextNode),rtept:(0,P.makeArraySerializer)((0,P.makeChildAppender)(g))}),X=(0,P.makeStructureNS)(I,["ele","time"]),J=(0,P.makeStructureNS)(I,["name","cmt","desc","src","link","number","type","trkseg"]),Z=(0,P.makeStructureNS)(I,{name:(0,P.makeChildAppender)(w.writeStringTextNode),cmt:(0,P.makeChildAppender)(w.writeStringTextNode),desc:(0,P.makeChildAppender)(w.writeStringTextNode),src:(0,P.makeChildAppender)(w.writeStringTextNode),link:(0,P.makeChildAppender)(m),number:(0,P.makeChildAppender)(w.writeNonNegativeIntegerTextNode),type:(0,P.makeChildAppender)(w.writeStringTextNode),trkseg:(0,P.makeArraySerializer)((0,P.makeChildAppender)(_))}),Q=(0,P.makeSimpleNodeFactory)("trkpt"),tt=(0,P.makeStructureNS)(I,{trkpt:(0,P.makeChildAppender)(g)}),et=(0,P.makeStructureNS)(I,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),nt=(0,P.makeStructureNS)(I,{ele:(0,P.makeChildAppender)(w.writeDecimalTextNode),time:(0,P.makeChildAppender)(w.writeDateTimeTextNode),magvar:(0,P.makeChildAppender)(w.writeDecimalTextNode),geoidheight:(0,P.makeChildAppender)(w.writeDecimalTextNode),name:(0,P.makeChildAppender)(w.writeStringTextNode),cmt:(0,P.makeChildAppender)(w.writeStringTextNode),desc:(0,P.makeChildAppender)(w.writeStringTextNode),src:(0,P.makeChildAppender)(w.writeStringTextNode),link:(0,P.makeChildAppender)(m),sym:(0,P.makeChildAppender)(w.writeStringTextNode),type:(0,P.makeChildAppender)(w.writeStringTextNode),fix:(0,P.makeChildAppender)(w.writeStringTextNode),sat:(0,P.makeChildAppender)(w.writeNonNegativeIntegerTextNode),hdop:(0,P.makeChildAppender)(w.writeDecimalTextNode),vdop:(0,P.makeChildAppender)(w.writeDecimalTextNode),pdop:(0,P.makeChildAppender)(w.writeDecimalTextNode),ageofdgpsdata:(0,P.makeChildAppender)(w.writeDecimalTextNode),dgpsid:(0,P.makeChildAppender)(w.writeNonNegativeIntegerTextNode)}),it={Point:"wpt",LineString:"rte",MultiLineString:"trk"},rt=$;n["default"]=rt},{"../Feature.js":"YPtS","../array.js":"Z5sL","./Feature.js":"eAuZ","./XMLFeature.js":"umOH","./xsd.js":"sD2o","../geom/GeometryLayout.js":"hsvv","../geom/GeometryType.js":"naLT","../geom/LineString.js":"x8R2","../geom/MultiLineString.js":"BRR0","../geom/Point.js":"FFTU","../proj.js":"aoEo","../xml.js":"OYOJ"}],dlCC:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../util.js"),a=i(t("./Feature.js")),s=i(t("./FormatType.js")),l=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return s["default"].JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(r(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(r(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return(0,o["abstract"])()},e.prototype.readFeaturesFromObject=function(t,e){return(0,o["abstract"])()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(r(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return(0,o["abstract"])()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(r(t))},e.prototype.readProjectionFromObject=function(t){return(0,o["abstract"])()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return(0,o["abstract"])()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return(0,o["abstract"])()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return(0,o["abstract"])()},e}(a["default"]),u=l;n["default"]=u},{"../util.js":"YOqM","./Feature.js":"eAuZ","./FormatType.js":"zZrl"}],gVtC:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../events.js"),a=i(t("../events/EventType.js")),s=t("../extent.js"),l=i(t("./Geometry.js")),u=i(t("./GeometryType.js")),c=t("../obj.js"),d=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)(0,o.unlisten)(this.geometries_[t],a["default"].CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)(0,o.listen)(this.geometries_[t],a["default"].CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<(0,s.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,a=r.length;o<a;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,s.createOrUpdateEmpty)(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)(0,s.extend)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return r(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,c.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],r=this.geometries_,o=!1,a=0,s=r.length;a<s;++a){var l=r[a],u=l.getSimplifiedGeometry(t);i.push(u),u!==l&&(o=!0)}if(o){var d=new e(null);return d.setGeometriesArray(i),this.simplifiedGeometryCache[n]=d,d}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return u["default"].GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=(0,s.getCenter)(this.getExtent()));for(var r=this.geometries_,o=0,a=r.length;o<a;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(r(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(l["default"]),h=d;n["default"]=h},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","./Geometry.js":"Y20q","./GeometryType.js":"naLT","../obj.js":"qC1c"}],csgN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)return null;var n;switch(t.type){case I["default"].POINT:n=a(t);break;case I["default"].LINE_STRING:n=s(t);break;case I["default"].POLYGON:n=d(t);break;case I["default"].MULTI_POINT:n=u(t);break;case I["default"].MULTI_LINE_STRING:n=l(t);break;case I["default"].MULTI_POLYGON:n=c(t);break;case I["default"].GEOMETRY_COLLECTION:n=o(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(0,x.transformWithOptions)(n,!1,e)}function o(t,e){var n=t.geometries.map(function(t){return r(t,e)});return new T["default"](n)}function a(t){return new O["default"](t.coordinates)}function s(t){return new w["default"](t.coordinates)}function l(t){return new S["default"](t.coordinates)}function u(t){return new M["default"](t.coordinates)}function c(t){return new j["default"](t.coordinates)}function d(t){return new A["default"](t.coordinates)}function h(t,e){var n,i=(t=(0,x.transformWithOptions)(t,!0,e)).getType();switch(i){case I["default"].POINT:n=y(t,e);break;case I["default"].LINE_STRING:n=p(t,e);break;case I["default"].POLYGON:n=_(t,e);break;case I["default"].MULTI_POINT:n=g(t,e);break;case I["default"].MULTI_LINE_STRING:n=m(t,e);break;case I["default"].MULTI_POLYGON:n=v(t,e);break;case I["default"].GEOMETRY_COLLECTION:n=f(t,e);break;case I["default"].CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}function f(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=(0,R.assign)({},e);return delete n.featureProjection,h(t,n)})}}function p(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function m(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function g(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function v(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function y(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function _(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var b=t("../asserts.js"),E=i(t("../Feature.js")),x=t("./Feature.js"),C=i(t("./JSONFeature.js")),T=i(t("../geom/GeometryCollection.js")),w=i(t("../geom/LineString.js")),S=i(t("../geom/MultiLineString.js")),M=i(t("../geom/MultiPoint.js")),j=i(t("../geom/MultiPolygon.js")),O=i(t("../geom/Point.js")),A=i(t("../geom/Polygon.js")),R=t("../obj.js"),P=t("../proj.js"),I=i(t("../geom/GeometryType.js")),L=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=(0,P.get)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=(0,P.get)(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n=null,i=r((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new E["default"];return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(i),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,r=0,o=i.length;r<o;++r)n.push(this.readFeatureFromObject(i[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return r(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=(0,P.get)(n.properties.name):(0,b.assert)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var r=t.getGeometry();r&&(n.geometry=h(r,e));var o=t.getProperties();return delete o[t.getGeometryName()],(0,R.isEmpty)(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return h(t,this.adaptOptions(e))},e}(C["default"]),k=L;n["default"]=k},{"../asserts.js":"E2kQ","../Feature.js":"YPtS","./Feature.js":"eAuZ","./JSONFeature.js":"dlCC","../geom/GeometryCollection.js":"gVtC","../geom/LineString.js":"x8R2","../geom/MultiLineString.js":"BRR0","../geom/MultiPoint.js":"D9kr","../geom/MultiPolygon.js":"ppKG","../geom/Point.js":"FFTU","../geom/Polygon.js":"K0BN","../obj.js":"qC1c","../proj.js":"aoEo","../geom/GeometryType.js":"naLT"}],aULh:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/source/Vector")),o=i(t("ol/layer/Vector")),a=i(t("ol/format/GPX")),s=i(t("ol/Collection")),l=t("ol/interaction"),u=i(t("ol/format/GeoJSON")),c=i(t("ol/style/Style")),d=i(t("ol/style/Stroke")),h=i(t("ol/style/Fill")),f=i(t("ol/style/Circle")),p=t("../inherits"),m=t("../config"),g=function(t){var e=this,n=t||{};n=Object.assign({source:new r["default"]({}),format:new a["default"],style:function(t,n){return[e.__getStyle(n,t)]}},n),o["default"].call(this,n),this.luminosity_=m.Luminosity.DAY,this.__points=new s["default"]([]),this.__dragInteraction=new l.Modify({layers:[this],features:this.__points,style:null}),this.__selectInteraction=new l.Select({layers:[this],style:null,features:this.__points}),this.__contextMenuHandler=this.__onContextMenuEvent.bind(this),this.__mode="readonly",this.__showLabel=!1,this.__drawInteraction=new l.Draw({source:this.getSource(),type:"Point",layers:[this]}),this.__selectInteraction.on("select",function(t){e.__emitSelectedEvent(t.selected)}),this.__drawInteraction.on("drawend",function(t){t.feature.setId(Math.random().toString(36)),e.__emitSelectedFeature(t.feature)}),this.__featuresCustom=[]};(0,p.inherits)(g,o["default"]),g.prototype.setMap=function(t){function e(t,e){var n=[];if(t.__showLabel)n=t.__featuresCustom;else if(e.pixel){var i=t.map_.forEachFeatureAtPixel(e.pixel,function(t){return t},{layerFilter:function(e){return e===t}});i&&n.push({properties:i.getProperties(),id:i.getId()})}t.__sendEventHoverDisplay(n,t.__showLabel)}this.map_=t;var n=this,i=null;t.getView().on("change:resolution",function(t){var r=n.map_.getView().getZoom();r!==i&&(i=r,e(n,t))}),t.on("moveend",function(t){e(n,t)}),t.on("pointermove",function(t){t.dragging?n.__sendEventHoverDisplay([],!1):e(n,t)})},g.prototype.readonlyMode=function(){this.map_&&this.__mode&&(this.map_.getViewport().removeEventListener("contextmenu",this.__contextMenuHandler),this.map_.removeInteraction(this.__selectInteraction),this.map_.removeInteraction(this.__dragInteraction),this.map_.removeInteraction(this.__drawInteraction),this.__selectInteraction.getFeatures().clear(),this.__mode="readonly")},g.prototype.addMode=function(){this.map_&&(this.map_.getViewport().removeEventListener("contextmenu",this.__contextMenuHandler),this.map_.removeInteraction(this.__dragInteraction),this.map_.addInteraction(this.__drawInteraction),this.map_.removeInteraction(this.__selectInteraction),this.__selectInteraction.getFeatures().clear(),this.__mode="add")},g.prototype.editMode=function(){this.map_&&(this.map_.getViewport().removeEventListener("contextmenu",this.__contextMenuHandler),this.map_.getViewport().addEventListener("contextmenu",this.__contextMenuHandler),this.map_.addInteraction(this.__selectInteraction),this.map_.addInteraction(this.__dragInteraction),this.map_.removeInteraction(this.__drawInteraction),this.__selectInteraction.getFeatures().clear(),this.__mode="edit")},g.prototype.getMode=function(){return this.__mode},g.prototype.setShowLabel=function(t){this.__showLabel=!!t;var e=[];this.getSource().forEachFeature(function(t){e.push({properties:t.getProperties(),id:t.getId()})}),this.__featuresCustom=e,this.__sendEventHoverDisplay(this.__featuresCustom,this.__showLabel),this.changed()},g.prototype.getShowLabel=function(){return this.__showLabel},g.prototype.__sendEventHoverDisplay=function(t,e){var n=new CustomEvent("custom-point-hover",{detail:{features:t,showLabel:e}});this.map_.getTargetElement().dispatchEvent(n)},g.prototype.removePoint=function(t){this.__selectInteraction.getFeatures().clear(),this.getSource().removeFeature(t),this.map_.render(),this.__emitSelectedEvent([]);var e=[];this.getSource().forEachFeature(function(t){e.push({properties:t.getProperties(),id:t.getId()})}),this.__featuresCustom=e,this.__sendEventHoverDisplay(this.__featuresCustom,this.__showLabel)},g.prototype.exportAs=function(t){return t&&"gpx"!==t.toLowerCase()?"csv"===t.toLowerCase()?this.__exportAsCSV():"html"===t.toLowerCase()?this.__exportAsHTML():void 0:this.__exportAsGPX()},g.prototype.importFrom=function(t){if(t&&t.name){var e=t.name.split(".").pop();if(!e||"gpx"===e.toLowerCase())return this.__importFromGPX(t);if(!e||"zip"===e.toLowerCase())return this.__importFromShapeFile(t)}},g.prototype.removeAll=function(){this.getSource().clear(),this.__selectInteraction.getFeatures().clear(),this.__emitSelectedEvent([]),this.__featuresCustom=[],this.__sendEventHoverDisplay(this.__featuresCustom,!1),this.map_.render()},g.prototype.__importFromGPX=function(t){var e=this,n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(t){var n=(new a["default"]).readFeatures(t.target.result,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});n.map(function(t){t.setId(t.getGeometry().getCoordinates()[0]*t.getGeometry().getCoordinates()[1])}),e.getSource().addFeatures(n);var i=[];e.getSource().forEachFeature(function(t){i.push({properties:t.getProperties(),id:t.getId()})}),e.__featuresCustom=i,e.__sendEventHoverDisplay(e.__featuresCustom,e.__showLabel)}},g.prototype.__importFromShapeFile=function(t){var e=this,n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(t){shp(t.target.result).then(function(t){var n=new u["default"];(i=n.readFeatures(t).filter(function(t){return"Point"===t.getGeometry().getType()})).forEach(function(t){t.getGeometry().transform("EPSG:4326","EPSG:3857")}),e.getSource().addFeatures(i);var i=[];e.getSource().forEachFeature(function(t){i.push({properties:t.getProperties(),id:t.getId()})}),e.__featuresCustom=i,e.__sendEventHoverDisplay(e.__featuresCustom,e.__showLabel)})["catch"](function(t){console.log(t)})}},g.prototype.__exportAsGPX=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326();return(new a["default"]).writeFeatures(t)},g.prototype.__exportAsCSV=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326(),e="label;longitude;latitude\n";return t.forEach(function(t){var n=t.getGeometry().getCoordinates();e+=t.getProperties().name+";"+n[0]+";"+n[1]+"\n"}),e},g.prototype.__exportAsHTML=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326(),e="";return t.forEach(function(t){var n=t.getGeometry().getCoordinates();e+="<tr><td>"+t.getProperties().name+'</td><td class="number">'+n[0]+'</td><td class="number">'+n[1]+"</td></tr>"}),'<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Custom point export</title><style>table { width: 100%; border-collapse: collapse }th, td { border: 1px solid black; padding: 8px}.number { text-align: right; }</style></head><body><table><thead><tr><th>Label</th><th>Longitude</th><th>Latitude</th></tr></thead><tbody>'+e+"</tbody></table></body></html>"},g.prototype.__getFeaturesFromEPSG3857ToEPSG4326=function(){var t=[];return this.getSource().forEachFeature(function(e){var n=e.clone();n.getGeometry().transform("EPSG:3857","EPSG:4326"),t.push(n)}),t},g.prototype.__onContextMenuEvent=function(t){var e=this.map_.forEachFeatureAtPixel(this.map_.getEventPixel(t),function(t){if(t.getId())return t});if(e){var n=this.__selectInteraction.getFeatures();n.clear(),n.push(e),t.preventDefault(),t.stopPropagation(),this.__emitContextMenuEvent(e,t)}},g.prototype.__emitSelectedEvent=function(t){var e=new CustomEvent("select-custom-point",{detail:{selected:t||null}});this.map_.getTargetElement().dispatchEvent(e)},g.prototype.__emitSelectedFeature=function(t){var e=new CustomEvent("custom-point-created",{detail:{feature:t}});this.map_.getTargetElement().dispatchEvent(e)},g.prototype.__emitCreatedEvent=function(t){var e=new CustomEvent("custom-point-created",{detail:{feature:t}});this.map_.getTargetElement().dispatchEvent(e),this.__featuresCustom.push({properties:t.getProperties(),id:t.getId()}),this.__sendEventHoverDisplay(this.__featuresCustom,this.__showLabel)},g.prototype.__emitContextMenuEvent=function(t,e){var n=new CustomEvent("custom-point-contextmenu",{detail:{feature:t||null,targetEvent:e}});this.map_.getTargetElement().dispatchEvent(n)},g.prototype.__getStyle=function(t,e,n){var i=new h["default"]({color:"rgba(255,255,255,0.4)"}),r=new d["default"]({color:"#3399CC",width:1.25}),o=new f["default"]({fill:i,stroke:r,radius:5});return new c["default"]({image:o,fill:i,stroke:r})},e.exports=g},{"ol/source/Vector":"GKSK","ol/layer/Vector":"sgAj","ol/format/GPX":"Ovgf","ol/Collection":"qt30","ol/interaction":"VJ6h","ol/format/GeoJSON":"csgN","ol/style/Style":"aLMx","ol/style/Stroke":"vIbn","ol/style/Fill":"vciJ","ol/style/Circle":"b45o","../inherits":"B0d6","../config":"itQ5"}],vavI:[function(t,e,n){"use strict";function i(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],adBL:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SPI=n.TWO_PI=n.FORTPI=n.R2D=n.D2R=n.EPSLN=n.RA6=n.RA4=n.SIXTH=n.HALF_PI=n.SEC_TO_RAD=n.PJD_NODATUM=n.PJD_WGS84=n.PJD_7PARAM=n.PJD_3PARAM=void 0;var i=1;n.PJD_3PARAM=i;var r=2;n.PJD_7PARAM=r;var o=4;n.PJD_WGS84=o;var a=5;n.PJD_NODATUM=a;var s=484813681109536e-20;n.SEC_TO_RAD=s;var l=Math.PI/2;n.HALF_PI=l;var u=.16666666666666666;n.SIXTH=u;var c=.04722222222222222;n.RA4=c;var d=.022156084656084655;n.RA6=d;var h=1e-10;n.EPSLN=h;var f=.017453292519943295;n.D2R=f;var p=57.29577951308232;n.R2D=p;var m=Math.PI/4;n.FORTPI=m;var g=2*Math.PI;n.TWO_PI=g;var v=3.14159265359;n.SPI=v},{}],j2W7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={};n["default"]=i,i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],dy0W:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};n["default"]=i},{}],Zyi3:[function(t,e,n){"use strict";function i(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),o=e.toLowerCase().replace(r,""),a=-1;++a<i.length;)if((n=i[a]).toLowerCase().replace(r,"")===o)return t[n]}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var r=/[\s_\-\/\(\)]/g},{}],wPIQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e,n,i,r={},u=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),c={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*o.D2R},lat_1:function(t){r.lat1=t*o.D2R},lat_2:function(t){r.lat2=t*o.D2R},lat_ts:function(t){r.lat_ts=t*o.D2R},lon_0:function(t){r.long0=t*o.D2R},lon_1:function(t){r.long1=t*o.D2R},lon_2:function(t){r.long2=t*o.D2R},alpha:function(t){r.alpha=parseFloat(t)*o.D2R},lonc:function(t){r.longc=t*o.D2R},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=(0,l["default"])(s["default"],t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*o.D2R},pm:function(t){var e=(0,l["default"])(a["default"],t);r.from_greenwich=(e||parseFloat(t))*o.D2R},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in u)n=u[e],e in c?"function"==typeof(i=c[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=t("./constants/values"),a=i(t("./constants/PrimeMeridian")),s=i(t("./constants/units")),l=i(t("./match"))},{"./constants/values":"adBL","./constants/PrimeMeridian":"j2W7","./constants/units":"dy0W","./match":"Zyi3"}],XDPO:[function(t,e,n){"use strict";function i(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=a}function r(t){return new i(t).output()}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=r;n["default"]=o;var a=1,s=2,l=3,u=4,c=5,d=-1,h=/\s/,f=/[A-Za-z]/,p=/[A-Za-z84]/,m=/[,\]]/,g=/[\d\.E\-\+]/;i.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==u)for(;h.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case a:return this.neutral(t);case s:return this.keyword(t);case u:return this.quoted(t);case c:return this.afterquote(t);case l:return this.number(t);case d:return}},i.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=u);if(m.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},i.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=a)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=a,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=d))):void 0},i.prototype.number=function(t){if(!g.test(t)){if(m.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},i.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=c},i.prototype.keyword=function(t){if(p.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=a)}if(!m.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},i.prototype.neutral=function(t){if(f.test(t))return this.word=t,void(this.state=s);if('"'===t)return this.word="",
void(this.state=u);if(g.test(t))return this.word=t,void(this.state=l);if(!m.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},i.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===d)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)}},{}],SVMu:[function(t,e,n){"use strict";function i(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,o=n.reduce(function(t,e){return r(e,t),t},i);e&&(t[e]=o)}function r(t,e){if(Array.isArray(t)){var n,o=t.shift();if("PARAMETER"===o&&(o=t.shift()),1===t.length)return Array.isArray(t[0])?(e[o]={},void r(t[0],e[o])):void(e[o]=t[0]);if(t.length)if("TOWGS84"!==o)switch(Array.isArray(o)||(e[o]={}),o){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[o]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&r(t[2],e[o]));case"SPHEROID":case"ELLIPSOID":return e[o]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&r(t[3],e[o]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void i(e,o,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return r(t,e[o]);return i(e,o,t)}else e[o]=t;else e[o]=!0}else e[t]=!0}Object.defineProperty(n,"__esModule",{value:!0}),n.sExpr=r},{}],DvLo:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function a(t){return t*d}function s(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===r(t.PROJECTION)?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",a],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",a],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",a],["lat0","latitude_of_origin",a],["lat0","standard_parallel_1",a],["lat1","standard_parallel_1",a],["lat2","standard_parallel_2",a],["azimuth","Azimuth"],["alpha","azimuth",a],["srsCode","name"]].forEach(function(e){return o(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=a(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function l(t){var e=(0,u["default"])(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return(0,c.sExpr)(e,r),s(r),r}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=l;var u=i(t("./parser")),c=t("./process"),d=.017453292519943295},{"./parser":"XDPO","./process":"SVMu"}],l4tk:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?r[t]=(0,a["default"])(arguments[1]):r[t]=(0,s["default"])(arguments[1]):r[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?r.apply(e,t):r(t)});if("string"==typeof t){if(t in r)return r[t]}else"EPSG"in t?r["EPSG:"+t.EPSG]=t:"ESRI"in t?r["ESRI:"+t.ESRI]=t:"IAU2000"in t?r["IAU2000:"+t.IAU2000]=t:console.log(t);return}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=i(t("./global")),a=i(t("./projString")),s=i(t("wkt-parser"));(0,o["default"])(r);var l=r;n["default"]=l},{"./global":"vavI","./projString":"wPIQ","wkt-parser":"DvLo"}],sRMX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return"string"==typeof t}function o(t){return t in d["default"]}function a(t){return m.some(function(e){return t.indexOf(e)>-1})}function s(t){var e=(0,p["default"])(t,"authority");if(e){var n=(0,p["default"])(e,"epsg");return n&&g.indexOf(n)>-1}}function l(t){var e=(0,p["default"])(t,"extension");if(e)return(0,p["default"])(e,"proj4")}function u(t){return"+"===t[0]}function c(t){if(!r(t))return t;if(o(t))return d["default"][t];if(a(t)){var e=(0,h["default"])(t);if(s(e))return d["default"]["EPSG:3857"];var n=l(e);return n?(0,f["default"])(n):e}return u(t)?(0,f["default"])(t):void 0}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var d=i(t("./defs")),h=i(t("wkt-parser")),f=i(t("./projString")),p=i(t("./match")),m=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],g=["3857","900913","3785","102113"],v=c;n["default"]=v},{"./defs":"l4tk","wkt-parser":"DvLo","./projString":"wPIQ","./match":"Zyi3"}],tl4q:[function(t,e,n){"use strict";function i(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],CKuI:[function(t,e,n){"use strict";function i(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],FewH:[function(t,e,n){"use strict";function i(t){return t<0?-1:1}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],OTdC:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return Math.abs(t)<=o.SPI?t:t-(0,a["default"])(t)*o.TWO_PI}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=t("../constants/values"),a=i(t("./sign"))},{"../constants/values":"adBL","./sign":"FewH"}],hNj8:[function(t,e,n){"use strict";function i(t,e,n){var i=t*n,o=.5*t;return i=Math.pow((1-i)/(1+i),o),Math.tan(.5*(r.HALF_PI-e))/i}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var r=t("../constants/values")},{"../constants/values":"adBL"}],EMwv:[function(t,e,n){"use strict";function i(t,e){for(var n,i,o=.5*t,a=r.HALF_PI-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=i=r.HALF_PI-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-a,Math.abs(i)<=1e-10)return a;return-9999}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var r=t("../constants/values")},{"../constants/values":"adBL"}],hotR:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=(0,s["default"])(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function o(t){var e,n,i=t.x,r=t.y;if(r*d.R2D>90&&r*d.R2D<-90&&i*d.R2D>180&&i*d.R2D<-180)return null;if(Math.abs(Math.abs(r)-d.HALF_PI)<=d.EPSLN)return null;if(this.sphere)e=this.x0+this.a*this.k0*(0,l["default"])(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(d.FORTPI+.5*r));else{var o=Math.sin(r),a=(0,u["default"])(this.e,r,o);e=this.x0+this.a*this.k0*(0,l["default"])(i-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t}function a(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=d.HALF_PI-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=(0,c["default"])(this.e,o)))return null}return e=(0,l["default"])(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/msfnz")),l=i(t("../common/adjust_lon")),u=i(t("../common/tsfnz")),c=i(t("../common/phi2z")),d=t("../constants/values"),h=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"];n.names=h;var f={init:r,forward:o,inverse:a,names:h};n["default"]=f},{"../common/msfnz":"CKuI","../common/adjust_lon":"OTdC","../common/tsfnz":"hNj8","../common/phi2z":"EMwv","../constants/values":"adBL"}],gT2V:[function(t,e,n){"use strict";function i(){}function r(t){return t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=i,n.inverse=n.forward=r,n["default"]=n.names=void 0;var o=["longlat","identity"];n.names=o;var a={init:i,forward:r,inverse:r,names:o};n["default"]=a},{}],Yens:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=d.length;return t.names?(d[n]=t,t.names.forEach(function(t){c[t.toLowerCase()]=n}),this):(console.log(e),!0)}function o(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==c[e]&&d[c[e]]?d[c[e]]:void 0}function a(){u.forEach(r)}Object.defineProperty(n,"__esModule",{value:!0}),n.add=r,n.get=o,n.start=a,n["default"]=void 0;var s=i(t("./projections/merc")),l=i(t("./projections/longlat")),u=[s["default"],l["default"]],c={},d=[],h={start:a,add:r,get:o};n["default"]=h},{"./projections/merc":"hotR","./projections/longlat":"gT2V"}],JEJv:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WGS84=n["default"]=void 0;var i={};n["default"]=i,i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var r=i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};n.WGS84=r,i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],kD8A:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function a(t,e,n,i){var r=t*t,o=e*e,a=(r-o)/r,s=0;return i?(r=(t*=1-a*(l.SIXTH+a*(l.RA4+a*l.RA6)))*t,a=0):s=Math.sqrt(a),{es:a,e:s,ep2:(r-o)/o}}function s(t,e,n,i,r){if(!t){var o=(0,c["default"])(u["default"],i);o||(o=u.WGS84),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<l.EPSLN)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.eccentricity=a,n.sphere=s;var l=t("./constants/values"),u=o(t("./constants/Ellipsoid")),c=i(t("./match"))},{"./constants/values":"adBL","./constants/Ellipsoid":"JEJv","./match":"Zyi3"}],imi5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={};n["default"]=i,i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],QPhA:[function(t,e,n){"use strict";function i(t,e,n,i,o,a){var s={};return s.datum_type=void 0===t||"none"===t?r.PJD_NODATUM:r.PJD_WGS84,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=r.PJD_3PARAM),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=r.PJD_7PARAM,s.datum_params[3]*=r.SEC_TO_RAD,s.datum_params[4]*=r.SEC_TO_RAD,s.datum_params[5]*=r.SEC_TO_RAD,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=i,s.es=o,s.ep2=a,s}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./constants/values"),o=i;n["default"]=o},{"./constants/values":"adBL"}],k4o9:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(this instanceof r))return new r(t);e=e||function(t){if(t)throw t};var n=(0,o["default"])(t);if("object"==typeof n){var i=r.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var s=(0,d["default"])(u["default"],n.datumCode);s&&(n.datum_params=s.towgs84?s.towgs84.split(","):null,n.ellps=s.ellipse,n.datumName=s.datumName?s.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var h=(0,l.sphere)(n.a,n.b,n.rf,n.ellps,n.sphere),f=(0,l.eccentricity)(h.a,h.b,h.rf,n.R_A),p=n.datum||(0,c["default"])(n.datumCode,n.datum_params,h.a,h.b,f.es,f.ep2);(0,a["default"])(this,n),(0,a["default"])(this,i),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=f.es,this.e=f.e,this.ep2=f.ep2,this.datum=p,this.init(),e(null,this)}else e(t)}else e(t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=i(t("./parseCode")),a=i(t("./extend")),s=i(t("./projections")),l=t("./deriveConstants"),u=i(t("./constants/Datum")),c=i(t("./datum")),d=i(t("./match"));r.projections=s["default"],r.projections.start();var h=r;n["default"]=h},{"./parseCode":"sRMX","./extend":"tl4q","./projections":"Yens","./deriveConstants":"kD8A","./constants/Datum":"imi5","./datum":"QPhA","./match":"Zyi3"}],sYJ4:[function(t,e,n){"use strict";function i(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===l.PJD_3PARAM?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==l.PJD_7PARAM||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}function r(t,e,n){var i,r,o,a,s=t.x,u=t.y,c=t.z?t.z:0;if(u<-l.HALF_PI&&u>-1.001*l.HALF_PI)u=-l.HALF_PI;else if(u>l.HALF_PI&&u<1.001*l.HALF_PI)u=l.HALF_PI;else{if(u<-l.HALF_PI)return{x:-1/0,y:-1/0,z:t.z};if(u>l.HALF_PI)return{x:1/0,y:1/0,z:t.z}}return s>Math.PI&&(s-=2*Math.PI),r=Math.sin(u),a=Math.cos(u),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+c)*a*Math.cos(s),y:(i+c)*a*Math.sin(s),z:(i*(1-e)+c)*r}}function o(t,e,n,i){var r,o,a,s,u,c,d,h,f,p,m,g,v,y,_,b=t.x,E=t.y,x=t.z?t.z:0;if(r=Math.sqrt(b*b+E*E),o=Math.sqrt(b*b+E*E+x*x),r/n<1e-12){if(y=0,o/n<1e-12)return l.HALF_PI,_=-i,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(E,b);a=x/o,h=(s=r/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*s*s)),f=a*u,v=0;do v++,c=e*(d=n/Math.sqrt(1-e*f*f))/(d+(_=r*h+x*f-d*(1-e*f*f))),g=(m=a*(u=1/Math.sqrt(1-c*(2-c)*s*s)))*h-(p=s*(1-c)*u)*f,h=p,f=m;while(g*g>1e-24&&v<30);return{x:y,y:Math.atan(m/Math.abs(p)),z:_}}function a(t,e,n){if(e===l.PJD_3PARAM)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===l.PJD_7PARAM){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6];return{x:c*(t.x-u*t.y+s*t.z)+i,y:c*(u*t.x+t.y-a*t.z)+r,z:c*(-s*t.x+a*t.y+t.z)+o}}}function s(t,e,n){if(e===l.PJD_3PARAM)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===l.PJD_7PARAM){var i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],d=(t.x-i)/c,h=(t.y-r)/c,f=(t.z-o)/c;return{x:d+u*h-s*f,y:-u*d+h+a*f,z:s*d-a*h+f}}}Object.defineProperty(n,"__esModule",{value:!0}),n.compareDatums=i,n.geodeticToGeocentric=r,n.geocentricToGeodetic=o,n.geocentricToWgs84=a,n.geocentricFromWgs84=s;var l=t("./constants/values")},{"./constants/values":"adBL"}],NAiF:[function(t,e,n){"use strict";function i(t){return t===o.PJD_3PARAM||t===o.PJD_7PARAM}function r(t,e,n){return(0,a.compareDatums)(t,e)?n:t.datum_type===o.PJD_NODATUM||e.datum_type===o.PJD_NODATUM?n:t.es!==e.es||t.a!==e.a||i(t.datum_type)||i(e.datum_type)?(n=(0,a.geodeticToGeocentric)(n,t.es,t.a),i(t.datum_type)&&(n=(0,a.geocentricToWgs84)(n,t.datum_type,t.datum_params)),i(e.datum_type)&&(n=(0,a.geocentricFromWgs84)(n,e.datum_type,e.datum_params)),(0,a.geocentricToGeodetic)(n,e.es,e.a,e.b)):n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=t("./constants/values"),a=t("./datumUtils")},{"./constants/values":"adBL","./datumUtils":"sYJ4"}],Vq45:[function(t,e,n){"use strict";function i(t,e,n){var i,r,o,a=n.x,s=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=a,r="x"):1===o?(i=s,r="y"):(i=l,r="z"),t.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],ZBli:[function(t,e,n){"use strict";function i(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],gYvz:[function(t,e,n){"use strict";function i(t){r(t.x),r(t.y)}function r(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],MYhY:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return(t.datum.datum_type===a.PJD_3PARAM||t.datum.datum_type===a.PJD_7PARAM)&&"WGS84"!==e.datumCode||(e.datum.datum_type===a.PJD_3PARAM||e.datum.datum_type===a.PJD_7PARAM)&&"WGS84"!==t.datumCode}function o(t,e,n){var i;return Array.isArray(n)&&(n=(0,c["default"])(n)),(0,d["default"])(n),t.datum&&e.datum&&r(t,e)&&(n=o(t,i=new u["default"]("WGS84"),n),t=i),"enu"!==t.axis&&(n=(0,l["default"])(t,!1,n)),"longlat"===t.projName?n={x:n.x*a.D2R,y:n.y*a.D2R,z:n.z||0}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=(0,s["default"])(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*a.R2D,y:n.y*a.R2D,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?(0,l["default"])(e,!0,n):n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=o;var a=t("./constants/values"),s=i(t("./datum_transform")),l=i(t("./adjust_axis")),u=i(t("./Proj")),c=i(t("./common/toPoint")),d=i(t("./checkSanity"))},{"./constants/values":"adBL","./datum_transform":"NAiF","./adjust_axis":"Vq45","./Proj":"k4o9","./common/toPoint":"ZBli","./checkSanity":"gYvz"}],Y7vD:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i,r,o;return Array.isArray(n)?(i=(0,l["default"])(t,e,n)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(r=(0,l["default"])(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach(function(i){if(void 0!==t.name&&"geocent"===t.name||void 0!==e.name&&"geocent"===e.name){if("x"===i||"y"===i||"z"===i)return}else if("x"===i||"y"===i)return;r[i]=n[i]}),r))}function o(t){return t instanceof s["default"]?t:t.oProj?t.oProj:(0,s["default"])(t)}function a(t,e,n){t=o(t);var i,a=!1;return void 0===e?(e=t,t=u,a=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=u,a=!0),e=o(e),n?r(t,e,n):(i={forward:function(n){return r(t,e,n)},inverse:function(n){return r(e,t,n)}},a&&(i.oProj=e),i)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=i(t("./Proj")),l=i(t("./transform")),u=(0,s["default"])("WGS84"),c=a;n["default"]=c},{"./Proj":"k4o9","./transform":"MYhY"}],v71g:[function(t,e,n){"use strict";function i(t,e){return e=e||5,d(l({lat:t[1],lon:t[0]}),e)}function r(t){var e=u(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function o(t){var e=u(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function a(t){return t*(Math.PI/180)}function s(t){return t/Math.PI*180}function l(t){var e,n,i,r,o,s,l=t.lat,u=t.lon,d=6378137,h=a(l),f=a(u);s=Math.floor((u+180)/6)+1,180===u&&(s=60),l>=56&&l<64&&u>=3&&u<12&&(s=32),l>=72&&l<84&&(u>=0&&u<9?s=31:u>=9&&u<21?s=33:u>=21&&u<33?s=35:u>=33&&u<42&&(s=37)),o=a(6*(s-1)-180+3),e=d/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h);var p=.9996*e*((r=Math.cos(h)*(f-o))+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,m=.9996*(d*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h))+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));return l<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(p),zoneNumber:s,zoneLetter:c(l)}}function u(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,a,l,c,d,h,f,p,m=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=n-5e5,y=e;i<"N"&&(y-=1e7),h=6*(r-1)-180+3,p=(f=y/.9996/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*f)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*f)+151*g*g*g/96*Math.sin(6*f),o=m/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),a=Math.tan(p)*Math.tan(p),l=.006739496752268451*Math.cos(p)*Math.cos(p),c=.99330562*m/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),d=v/(.9996*o);var _=p-o*Math.tan(p)/c*(d*d/2-(5+3*a+10*l-4*l*l-.06065547077041606)*d*d*d*d/24+(61+90*a+298*l+45*a*a-1.6983531815716497-3*l*l)*d*d*d*d*d*d/720);_=s(_);var b,E=(d-(1+2*a+l)*d*d*d/6+(5-2*l+28*a-3*l*l+.05391597401814761+24*a*a)*d*d*d*d*d/120)/Math.cos(p);if(E=h+s(E),t.accuracy){var x=u({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});b={top:x.lat,right:x.lon,bottom:_,left:E}}else b={lat:_,lon:E};return b}function c(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function d(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+h(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function h(t,e,n){var i=f(n);return p(Math.floor(t/1e5),Math.floor(e/1e5)%20,i)}function f(t){var e=t%_;return 0===e&&(e=_),e}function p(t,e,n){var i=n-1,r=b.charCodeAt(i),o=E.charCodeAt(i),a=r+t-1,s=o+e,l=!1;return a>S&&(a=a-S+x-1,l=!0),(a===C||r<C&&a>C||(a>C||r<C)&&l)&&a++,(a===T||r<T&&a>T||(a>T||r<T)&&l)&&++a===C&&a++,a>S&&(a=a-S+x-1),s>w?(s=s-w+x-1,l=!0):l=!1,(s===C||o<C&&s>C||(s>C||o<C)&&l)&&s++,(s===T||o<T&&s>T||(s>T||o<T)&&l)&&++s===C&&s++,s>w&&(s=s-w+x-1),String.fromCharCode(a)+String.fromCharCode(s)}function m(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var a=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;i=t.substring(o,o+=2);for(var l=f(a),u=g(i.charAt(0),l),c=v(i.charAt(1),l);c<y(s);)c+=2e6;var d=n-o;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var h,p,m,_=d/2,b=0,E=0;return _>0&&(h=1e5/Math.pow(10,_),p=t.substring(o,o+_),b=parseFloat(p)*h,m=t.substring(o+_),E=parseFloat(m)*h),{easting:b+u,northing:E+c,zoneLetter:s,zoneNumber:a,accuracy:h}}function g(t,e){for(var n=b.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(++n===C&&n++,n===T&&n++,n>S){if(r)throw"Bad character: "+t;n=x,r=!0}i+=1e5}return i}function v(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=E.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(++n===C&&n++,n===T&&n++,n>w){if(r)throw"Bad character: "+t;n=x,r=!0}i+=1e5}return i}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}Object.defineProperty(n,"__esModule",{value:!0}),n.forward=i,n.inverse=r,n.toPoint=o,n["default"]=void 0;var _=6,b="AJSAJS",E="AFAFAF",x=65,C=73,T=79,w=86,S=90,M={forward:i,inverse:r,toPoint:o};n["default"]=M},{}],OCKq:[function(t,e,n){"use strict";function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("mgrs");i.fromMGRS=function(t){return new i((0,r.toPoint)(t))},i.prototype.toMGRS=function(t){return(0,r.forward)([this.x,this.y],t)};var o=i;n["default"]=o},{mgrs:"v71g"}],z2DD:[function(t,e,n){"use strict";function i(t){var e=[];e[0]=r-t*(o+t*(a+t*(s+t*l))),e[1]=t*(u-t*(a+t*(s+t*l)));var n=t*t;return e[2]=n*(c-t*(d+t*h)),n*=t,e[3]=n*(f-t*p),e[4]=n*t*m,e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var r=1,o=.25,a=.046875,s=.01953125,l=.01068115234375,u=.75,c=.46875,d=.013020833333333334,h=.007120768229166667,f=.3645833333333333,p=.005696614583333333,m=.3076171875},{}],Yeeq:[function(t,e,n){"use strict";function i(t,e,n,i){
return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],seTr:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){for(var i=1/(1-e),r=t,l=s;l;--l){var u=Math.sin(r),c=1-e*u*u;if(r-=c=((0,o["default"])(r,u,Math.cos(r),n)-t)*(c*Math.sqrt(c))*i,Math.abs(c)<a.EPSLN)return r}return r}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=i(t("./pj_mlfn")),a=t("../constants/values"),s=20},{"./pj_mlfn":"Yeeq","../constants/values":"adBL"}],QGu1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=(0,s["default"])(this.es),this.ml0=(0,l["default"])(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function o(t){var e,n,i,r=t.x,o=t.y,a=(0,c["default"])(r-this.long0),s=Math.sin(o),u=Math.cos(o);if(this.es){var h=u*a,f=Math.pow(h,2),p=this.ep2*Math.pow(u,2),m=Math.pow(p,2),g=Math.abs(u)>d.EPSLN?Math.tan(o):0,v=Math.pow(g,2),y=Math.pow(v,2);e=1-this.es*Math.pow(s,2),h/=Math.sqrt(e);var _=(0,l["default"])(o,s,u,this.en);n=this.a*(this.k0*h*(1+f/6*(1-v+p+f/20*(5-18*v+y+14*p-58*v*p+f/42*(61+179*y-y*v-479*v)))))+this.x0,i=this.a*(this.k0*(_-this.ml0+s*a*h/2*(1+f/12*(5-v+9*p+4*m+f/30*(61+y-58*v+270*p-330*v*p+f/56*(1385+543*y-y*v-3111*v))))))+this.y0}else{var b=u*Math.sin(a);if(Math.abs(Math.abs(b)-1)<d.EPSLN)return 93;if(n=.5*this.a*this.k0*Math.log((1+b)/(1-b))+this.x0,i=u*Math.cos(a)/Math.sqrt(1-Math.pow(b,2)),(b=Math.abs(i))>=1){if(b-1>d.EPSLN)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t}function a(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=(0,u["default"])(e,this.es,this.en),Math.abs(n)<d.HALF_PI){var s=Math.sin(n),l=Math.cos(n),f=Math.abs(l)>d.EPSLN?Math.tan(n):0,p=this.ep2*Math.pow(l,2),m=Math.pow(p,2),g=Math.pow(f,2),v=Math.pow(g,2);e=1-this.es*Math.pow(s,2);var y=o*Math.sqrt(e)/this.k0,_=Math.pow(y,2);i=n-(e*=f)*_/(1-this.es)*.5*(1-_/12*(5+3*g-9*p*g+p-4*m-_/30*(61+90*g-252*p*g+45*v+46*p-_/56*(1385+3633*g+4095*v+1574*v*g)))),r=(0,c["default"])(this.long0+y*(1-_/6*(1+2*g+p-_/20*(5+28*g+24*v+8*p*g+6*p-_/42*(61+662*g+1320*v+720*v*g))))/l)}else i=d.HALF_PI*(0,h["default"])(a),r=0;else{var b=Math.exp(o/this.k0),E=.5*(b-1/b),x=this.lat0+a/this.k0,C=Math.cos(x);e=Math.sqrt((1-Math.pow(C,2))/(1+Math.pow(E,2))),i=Math.asin(e),a<0&&(i=-i),r=0===E&&0===C?0:(0,c["default"])(Math.atan2(E,C)+this.long0)}return t.x=r,t.y=i,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/pj_enfn")),l=i(t("../common/pj_mlfn")),u=i(t("../common/pj_inv_mlfn")),c=i(t("../common/adjust_lon")),d=t("../constants/values"),h=i(t("../common/sign")),f=["Transverse_Mercator","Transverse Mercator","tmerc"];n.names=f;var p={init:r,forward:o,inverse:a,names:f};n["default"]=p},{"../common/pj_enfn":"z2DD","../common/pj_mlfn":"Yeeq","../common/pj_inv_mlfn":"seTr","../common/adjust_lon":"OTdC","../constants/values":"adBL","../common/sign":"FewH"}],Wbp2:[function(t,e,n){"use strict";function i(t){var e=Math.exp(t);return e=(e-1/e)/2}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],XtH0:[function(t,e,n){"use strict";function i(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],yH9W:[function(t,e,n){"use strict";function i(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],cltn:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=Math.abs(t);return e=(0,a["default"])(e*(1+e/((0,o["default"])(1,e)+1))),t<0?-e:e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=i(t("./hypot")),a=i(t("./log1py"))},{"./hypot":"XtH0","./log1py":"yH9W"}],fG5N:[function(t,e,n){"use strict";function i(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return e+n*Math.sin(2*e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],qzda:[function(t,e,n){"use strict";function i(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],a=0;--r>=0;)n=i*o-a+t[r],a=o,o=n;return Math.sin(e)*n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],I44o:[function(t,e,n){"use strict";function i(t){var e=Math.exp(t);return e=(e+1/e)/2}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],oZ2U:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){for(var i,r,s=Math.sin(e),l=Math.cos(e),u=(0,o["default"])(n),c=(0,a["default"])(n),d=2*l*c,h=-2*s*u,f=t.length-1,p=t[f],m=0,g=0,v=0;--f>=0;)i=g,r=m,p=d*(g=p)-i-h*(m=v)+t[f],v=h*g-r+d*m;return[(d=s*c)*p-(h=l*u)*v,d*v+h*p]}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=i(t("./sinh")),a=i(t("./cosh"))},{"./sinh":"Wbp2","./cosh":"I44o"}],FTtI:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=(0,c["default"])(this.cbg,this.lat0);this.Zb=-this.Qn*(i+(0,d["default"])(this.gtu,2*i))}function o(t){var e=(0,f["default"])(t.x-this.long0),n=t.y;n=(0,c["default"])(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(i,a*r),e=Math.atan2(o*r,(0,l["default"])(i,r*a)),e=(0,u["default"])(Math.tan(e));var s,d,p=(0,h["default"])(this.gtu,2*n,2*e);return n+=p[0],e+=p[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,d=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,d=1/0),t.x=s,t.y=d,t}function a(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=(0,h["default"])(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan((0,s["default"])(i));var a=Math.sin(r),u=Math.cos(r),d=Math.sin(i),p=Math.cos(i);r=Math.atan2(a*p,(0,l["default"])(d,p*u)),i=Math.atan2(d,p*u),e=(0,f["default"])(i+this.long0),n=(0,c["default"])(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/sinh")),l=i(t("../common/hypot")),u=i(t("../common/asinhy")),c=i(t("../common/gatg")),d=i(t("../common/clens")),h=i(t("../common/clens_cmplx")),f=i(t("../common/adjust_lon")),p=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"];n.names=p;var m={init:r,forward:o,inverse:a,names:p};n["default"]=m},{"../common/sinh":"Wbp2","../common/hypot":"XtH0","../common/asinhy":"cltn","../common/gatg":"fG5N","../common/clens":"qzda","../common/clens_cmplx":"oZ2U","../common/adjust_lon":"OTdC"}],JmPZ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(void 0===t){if((t=Math.floor(30*((0,o["default"])(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=i(t("./adjust_lon"))},{"./adjust_lon":"OTdC"}],iGGZ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=(0,o["default"])(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*s.D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,a["default"].init.apply(this),this.forward=a["default"].forward,this.inverse=a["default"].inverse}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n["default"]=n.names=n.dependsOn=void 0;var o=i(t("../common/adjust_zone")),a=i(t("./etmerc")),s=t("../constants/values"),l="etmerc";n.dependsOn=l;var u=["Universal Transverse Mercator System","utm"];n.names=u;var c={init:r,names:u,dependsOn:l};n["default"]=c},{"../common/adjust_zone":"JmPZ","./etmerc":"FTtI","../constants/values":"adBL"}],yBpm:[function(t,e,n){"use strict";function i(t,e){return Math.pow((1-t)/(1+t),e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],qYMS:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+l.FORTPI)/(Math.pow(Math.tan(.5*this.lat0+l.FORTPI),this.C)*(0,s["default"])(this.e*t,this.ratexp))}function o(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+l.FORTPI),this.C)*(0,s["default"])(this.e*Math.sin(n),this.ratexp))-l.HALF_PI,t.x=this.C*e,t}function a(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+l.FORTPI)/this.K,1/this.C),r=u;r>0&&(n=2*Math.atan(i*(0,s["default"])(this.e*Math.sin(t.y),-.5*this.e))-l.HALF_PI,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/srat")),l=t("../constants/values"),u=20,c=["gauss"];n.names=c;var d={init:r,forward:o,inverse:a,names:c};n["default"]=d},{"../common/srat":"yBpm","../constants/values":"adBL"}],Li6C:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){s["default"].init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function o(t){var e,n,i,r;return t.x=(0,l["default"])(t.x-this.long0),s["default"].forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function a(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,s["default"].inverse.apply(this,[t]),t.x=(0,l["default"])(t.x+this.long0),t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("./gauss")),l=i(t("../common/adjust_lon")),u=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];n.names=u;var c={init:r,forward:o,inverse:a,names:u};n["default"]=c},{"./gauss":"qYMS","../common/adjust_lon":"OTdC"}],Nwpk:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e*=n,Math.tan(.5*(l.HALF_PI+t))*Math.pow((1-e)/(1+e),.5*n)}function o(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=l.EPSLN&&(this.k0=.5*(1+(0,u["default"])(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=l.EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=l.EPSLN&&(this.k0=.5*this.cons*(0,c["default"])(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/(0,d["default"])(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=(0,c["default"])(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l.HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function a(t){var e,n,i,r,o,a,s=t.x,u=t.y,c=Math.sin(u),h=Math.cos(u),p=(0,f["default"])(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=l.EPSLN&&Math.abs(u+this.lat0)<=l.EPSLN?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(p)),t.x=this.a*e*h*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*h*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,c,this.e))-l.HALF_PI,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=l.EPSLN?(o=(0,d["default"])(this.e,u*this.con,this.con*c),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<l.EPSLN?(e=2*this.a*this.k0/(1+r*Math.cos(p)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(p))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(p))+this.y0),t.x=e*r*Math.sin(p)+this.x0,t))}function s(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=l.EPSLN?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/a),e=Math.abs(this.coslat0)<l.EPSLN?this.lat0>0?(0,f["default"])(this.long0+Math.atan2(t.x,-1*t.y)):(0,f["default"])(this.long0+Math.atan2(t.x,t.y)):(0,f["default"])(this.long0+Math.atan2(t.x*Math.sin(s),a*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=l.EPSLN){if(a<=l.EPSLN)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=a*this.cons/(2*this.a*this.k0),n=this.con*(0,h["default"])(this.e,i),e=this.con*(0,f["default"])(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=l.EPSLN?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/a),e=(0,f["default"])(this.long0+Math.atan2(t.x*Math.sin(r),a*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*(0,h["default"])(this.e,Math.tan(.5*(l.HALF_PI+o)));return t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.ssfn_=r,n.init=o,n.forward=a,n.inverse=s,n["default"]=n.names=void 0;var l=t("../constants/values"),u=i(t("../common/sign")),c=i(t("../common/msfnz")),d=i(t("../common/tsfnz")),h=i(t("../common/phi2z")),f=i(t("../common/adjust_lon")),p=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"];n.names=p;var m={init:o,forward:a,inverse:s,names:p,ssfn_:r};n["default"]=m},{"../constants/values":"adBL","../common/sign":"FewH","../common/msfnz":"CKuI","../common/tsfnz":"hNj8","../common/phi2z":"EMwv","../common/adjust_lon":"OTdC"}],KOKT:[function(t,e,n){"use strict";function i(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l}function r(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t}function o(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),a=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,u=o,c=-1e3,d=0;Math.abs(u-c)>1e-7;){if(++d>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=i,n.forward=r,n.inverse=o,n["default"]=n.names=void 0;var a=["somerc"];n.names=a;var s={init:i,forward:r,inverse:o,names:a};n["default"]=s},{}],nu3N:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=(0,s["default"])(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var u=(0,s["default"])(this.e,this.lat1,Math.sin(this.lat1)),c=(0,s["default"])(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):this.el=(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var d=Math.pow(u,this.bl),h=Math.pow(c,this.bl);r=.5*((i=this.el/d)-1/i);var f=(this.el*this.el-h*d)/(this.el*this.el+h*d),p=(h-d)/(h+d),m=(0,l["default"])(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(f*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=(0,l["default"])(this.long0);var g=(0,l["default"])(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/r),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else i=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))}function o(t){var e,n,i,r=t.x,o=t.y,a=(0,l["default"])(r-this.long0);if(Math.abs(Math.abs(o)-c.HALF_PI)<=c.EPSLN)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(c.FORTPI+i*this.gamma0*.5)),e=-1*i*c.HALF_PI*this.al/this.bl;else{var u=(0,s["default"])(this.e,o,Math.sin(o)),d=this.el/Math.pow(u,this.bl),h=.5*(d-1/d),f=.5*(d+1/d),p=Math.sin(this.bl*a),m=(h*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/f;n=Math.abs(Math.abs(m)-1)<=c.EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-m)/(1+m))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=c.EPSLN?this.al*this.bl*a:this.al*Math.atan2(h*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t}function a(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,d=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<c.EPSLN?(t.x=this.long0,t.y=c.HALF_PI):Math.abs(s+1)<c.EPSLN?(t.x=this.long0,t.y=-1*c.HALF_PI):(t.y=(0,u["default"])(this.e,d),t.x=(0,l["default"])(this.long0-Math.atan2(r*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/tsfnz")),l=i(t("../common/adjust_lon")),u=i(t("../common/phi2z")),c=t("../constants/values"),d=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"];n.names=d;var h={init:r,forward:o,inverse:a,names:d};n["default"]=h},{"../common/tsfnz":"hNj8","../common/adjust_lon":"OTdC","../common/phi2z":"EMwv","../constants/values":"adBL"}],x2us:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<h.EPSLN)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=(0,s["default"])(this.e,e,n),r=(0,l["default"])(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),u=(0,s["default"])(this.e,o,a),c=(0,l["default"])(this.e,this.lat2,o),d=(0,l["default"])(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>h.EPSLN?this.ns=Math.log(i/u)/Math.log(r/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(d,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function o(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=h.EPSLN&&(n=(0,u["default"])(n)*(h.HALF_PI-2*h.EPSLN));var i,r,o=Math.abs(Math.abs(n)-h.HALF_PI);if(o>h.EPSLN)i=(0,l["default"])(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var a=this.ns*(0,c["default"])(e-this.long0);return t.x=this.k0*(r*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(a))+this.y0,t}function a(t){var e,n,i,r,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),n=1):(e=-Math.sqrt(a*a+s*s),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*a,n*s)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=(0,d["default"])(this.e,i)))return null}else r=-h.HALF_PI;return o=(0,c["default"])(l/this.ns+this.long0),t.x=o,t.y=r,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/msfnz")),l=i(t("../common/tsfnz")),u=i(t("../common/sign")),c=i(t("../common/adjust_lon")),d=i(t("../common/phi2z")),h=t("../constants/values"),f=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"];n.names=f;var p={init:r,forward:o,inverse:a,names:f};n["default"]=p},{"../common/msfnz":"CKuI","../common/tsfnz":"hNj8","../common/sign":"FewH","../common/adjust_lon":"OTdC","../common/phi2z":"EMwv","../constants/values":"adBL"}],Ojbk:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function o(t){var e,n,i,r,o,a,l,u=t.x,c=t.y,d=(0,s["default"])(u-this.long0);return e=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/e)-this.s45),i=-d*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),a=this.n*o,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=l*Math.cos(a)/1,t.x=l*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t}function a(t){var e,n,i,r,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,u+=1;while(0===s&&u<15);return u>=15?null:t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=["Krovak","krovak"];n.names=l;var u={init:r,forward:o,inverse:a,names:l};n["default"]=u},{"../common/adjust_lon":"OTdC"}],DWKs:[function(t,e,n){"use strict";function i(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],UFUD:[function(t,e,n){"use strict";function i(t){return 1-.25*t*(1+t/16*(3+1.25*t))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],LSRT:[function(t,e,n){"use strict";function i(t){return.375*t*(1+.25*t*(1+.46875*t))}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],uKn1:[function(t,e,n){"use strict";function i(t){return.05859375*t*t*(1+.75*t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],Yg4A:[function(t,e,n){"use strict";function i(t){return t*t*t*(35/3072)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],HayF:[function(t,e,n){"use strict";function i(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],n9ZX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return Math.abs(t)<o.HALF_PI?t:t-(0,a["default"])(t)*Math.PI}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=t("../constants/values"),a=i(t("./sign"))},{"../constants/values":"adBL","./sign":"FewH"}],TehJ:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],b3S3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.sphere||(this.e0=(0,l["default"])(this.es),this.e1=(0,u["default"])(this.es),this.e2=(0,c["default"])(this.es),this.e3=(0,d["default"])(this.es),this.ml0=this.a*(0,s["default"])(this.e0,this.e1,this.e2,this.e3,this.lat0))}function o(t){var e,n,i=t.x,r=t.y;if(i=(0,f["default"])(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),a=Math.cos(r),l=(0,h["default"])(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),d=c*c,p=this.es*a*a/(1-this.es);e=l*c*(1-d*u*(1/6-(8-u+8*p)*d/120)),n=this.a*(0,s["default"])(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+l*o/a*d*(.5+(5-u+6*p)*d/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var a=this.ml0/this.a+r,s=(0,m["default"])(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-g.HALF_PI)<=g.EPSLN)return t.x=this.long0,t.y=g.HALF_PI,r<0&&(t.y*=-1),t;var l=(0,h["default"])(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),d=i*this.a/l,v=d*d;e=s-l*Math.tan(s)/u*d*d*(.5-(1+3*c)*d*d/24),n=d*(1-v*(c/3+(1+3*c)*c*v/15))/Math.cos(s)}return t.x=(0,f["default"])(n+this.long0),t.y=(0,p["default"])(e),t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/mlfn")),l=i(t("../common/e0fn")),u=i(t("../common/e1fn")),c=i(t("../common/e2fn")),d=i(t("../common/e3fn")),h=i(t("../common/gN")),f=i(t("../common/adjust_lon")),p=i(t("../common/adjust_lat")),m=i(t("../common/imlfn")),g=t("../constants/values"),v=["Cassini","Cassini_Soldner","cass"];n.names=v;var y={init:r,forward:o,inverse:a,names:v};n["default"]=y},{"../common/mlfn":"DWKs","../common/e0fn":"UFUD","../common/e1fn":"LSRT","../common/e2fn":"uKn1","../common/e3fn":"Yg4A","../common/gN":"HayF","../common/adjust_lon":"OTdC","../common/adjust_lat":"n9ZX","../common/imlfn":"TehJ","../constants/values":"adBL"}],WQwV:[function(t,e,n){"use strict";function i(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],gJql:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t,e=Math.abs(this.lat0);if(Math.abs(e-u.HALF_PI)<u.EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<u.EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=(0,c["default"])(this.e,1),this.mmf=.5/(1-this.es),this.apa=s(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=(0,c["default"])(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function o(t){var e,n,i,r,o,a,s,l,h,f,p=t.x,m=t.y;if(p=(0,d["default"])(p-this.long0),this.sphere){if(o=Math.sin(m),f=Math.cos(m),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+f*i:1+this.sinph0*o+this.cosph0*f*i)<=u.EPSLN)return null;e=(n=Math.sqrt(2/n))*f*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*f*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(m+this.phi0)<u.EPSLN)return null;n=u.FORTPI-.5*m,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(s=0,l=0,h=0,i=Math.cos(p),r=Math.sin(p),o=Math.sin(m),a=(0,c["default"])(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,
l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:h=1+this.sinb1*s+this.cosb1*l*i;break;case this.EQUIT:h=1+l*i;break;case this.N_POLE:h=u.HALF_PI+m,a=this.qp-a;break;case this.S_POLE:h=m-u.HALF_PI,a=this.qp+a}if(Math.abs(h)<u.EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),n=this.mode===this.OBLIQ?this.ymf*h*(this.cosb1*s-this.sinb1*l*i):(h=Math.sqrt(2/(1+l*i)))*s*this.ymf,e=this.xmf*h*l*r;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(h=Math.sqrt(a))*r,n=i*(this.mode===this.S_POLE?h:-h)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,a,s,c=t.x/this.a,h=t.y/this.a;if(this.sphere){var f,p=0,m=0;if((n=.5*(f=Math.sqrt(c*c+h*h)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=u.EPSLN?0:Math.asin(h*m/f),c*=m,h=p*f;break;case this.OBLIQ:n=Math.abs(f)<=u.EPSLN?this.phi0:Math.asin(p*this.sinph0+h*m*this.cosph0/f),c*=m*this.cosph0,h=(p-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:h=-h,n=u.HALF_PI-n;break;case this.S_POLE:n-=u.HALF_PI}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,h):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,h*=this.dd,(a=Math.sqrt(c*c+h*h))<u.EPSLN)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*a/this.rq),i=Math.cos(r),c*=r=Math.sin(r),this.mode===this.OBLIQ?(s=i*this.sinb1+h*r*this.cosb1/a,o=this.qp*s,h=a*this.cosb1*i-h*this.sinb1*r):(s=h*r/a,o=this.qp*s,h=a*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(o=c*c+h*h))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(c,h),n=l(Math.asin(s),this.apa)}return t.x=(0,d["default"])(this.long0+e),t.y=n,t}function s(t){var e,n=[];return n[0]=t*g,e=t*t,n[0]+=e*v,n[1]=e*_,e*=t,n[0]+=e*y,n[1]+=e*b,n[2]=e*E,n}function l(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=n.OBLIQ=n.EQUIT=n.N_POLE=n.S_POLE=void 0;var u=t("../constants/values"),c=i(t("../common/qsfnz")),d=i(t("../common/adjust_lon")),h=1;n.S_POLE=h;var f=2;n.N_POLE=f;var p=3;n.EQUIT=p;var m=4;n.OBLIQ=m;var g=.3333333333333333,v=.17222222222222222,y=.10257936507936508,_=.06388888888888888,b=.0664021164021164,E=.016415012942191543,x=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];n.names=x;var C={init:r,forward:o,inverse:a,names:x,S_POLE:h,N_POLE:f,EQUIT:p,OBLIQ:m};n["default"]=C},{"../constants/values":"adBL","../common/qsfnz":"WQwV","../common/adjust_lon":"OTdC"}],f8Id:[function(t,e,n){"use strict";function i(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i},{}],AILi:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){Math.abs(this.lat1+this.lat2)<h.EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=(0,l["default"])(this.e3,this.sin_po,this.cos_po),this.qs1=(0,u["default"])(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=(0,l["default"])(this.e3,this.sin_po,this.cos_po),this.qs2=(0,u["default"])(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=(0,u["default"])(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>h.EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function o(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=(0,u["default"])(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*(0,c["default"])(e-this.long0),a=r*Math.sin(o)+this.x0,s=this.rh-r*Math.cos(o)+this.y0;return t.x=a,t.y=s,t}function a(t){var e,n,i,r,o,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,a=this.phi1z(this.e3,n)),o=(0,c["default"])(r/this.ns0+this.long0),t.x=o,t.y=a,t}function s(t,e){var n,i,r,o,a=(0,d["default"])(.5*e);if(t<h.EPSLN)return a;for(var s=t*t,l=1;l<=25;l++)if(a+=o=.5*(r=1-(i=t*(n=Math.sin(a)))*i)*r/Math.cos(a)*(e/(1-s)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return a;return null}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n.phi1z=s,n["default"]=n.names=void 0;var l=i(t("../common/msfnz")),u=i(t("../common/qsfnz")),c=i(t("../common/adjust_lon")),d=i(t("../common/asinz")),h=t("../constants/values"),f=["Albers_Conic_Equal_Area","Albers","aea"];n.names=f;var p={init:r,forward:o,inverse:a,names:f,phi1z:s};n["default"]=p},{"../common/msfnz":"CKuI","../common/qsfnz":"WQwV","../common/adjust_lon":"OTdC","../common/asinz":"f8Id","../constants/values":"adBL"}],eg9i:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function o(t){var e,n,i,r,o,a,l,c=t.x,d=t.y;return i=(0,s["default"])(c-this.long0),e=Math.sin(d),n=Math.cos(d),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=u.EPSLN?(a=this.x0+1*this.a*n*Math.sin(i)/o,l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(a=this.x0+this.infinity_dist*n*Math.sin(i),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function a(t){var e,n,i,r,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),a=(0,l["default"])(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=(0,s["default"])(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=i(t("../common/asinz")),u=t("../constants/values"),c=["gnom"];n.names=c;var d={init:r,forward:o,inverse:a,names:c};n["default"]=d},{"../common/adjust_lon":"OTdC","../common/asinz":"f8Id","../constants/values":"adBL"}],ayv8:[function(t,e,n){"use strict";function i(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*r.HALF_PI:r.HALF_PI;for(var i,o,a,s,l=Math.asin(.5*e),u=0;u<30;u++)if(o=Math.sin(l),a=Math.cos(l),s=t*o,l+=i=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return l;return NaN}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var r=t("../constants/values")},{"../constants/values":"adBL"}],Soo2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.sphere||(this.k0=(0,u["default"])(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function o(t){var e,n,i=t.x,r=t.y,o=(0,s["default"])(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var a=(0,l["default"])(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*a*.5/this.k0}return t.x=e,t.y=n,t}function a(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=(0,s["default"])(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=(0,c["default"])(this.e,2*t.y*this.k0/this.a),e=(0,s["default"])(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=i(t("../common/qsfnz")),u=i(t("../common/msfnz")),c=i(t("../common/iqsfnz")),d=["cea"];n.names=d;var h={init:r,forward:o,inverse:a,names:d};n["default"]=h},{"../common/adjust_lon":"OTdC","../common/qsfnz":"WQwV","../common/msfnz":"CKuI","../common/iqsfnz":"ayv8"}],oSIa:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function o(t){var e=t.x,n=t.y,i=(0,s["default"])(e-this.long0),r=(0,l["default"])(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function a(t){var e=t.x,n=t.y;return t.x=(0,s["default"])(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=(0,l["default"])(this.lat0+(n-this.y0)/this.a),t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=i(t("../common/adjust_lat")),u=["Equirectangular","Equidistant_Cylindrical","eqc"];n.names=u;var c={init:r,forward:o,inverse:a,names:u};n["default"]=c},{"../common/adjust_lon":"OTdC","../common/adjust_lat":"n9ZX"}],ITh3:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,s["default"])(this.es),this.e1=(0,l["default"])(this.es),this.e2=(0,u["default"])(this.es),this.e3=(0,c["default"])(this.es),this.ml0=this.a*(0,f["default"])(this.e0,this.e1,this.e2,this.e3,this.lat0)}function o(t){var e,n,i,r=t.x,o=t.y,a=(0,d["default"])(r-this.long0);if(i=a*Math.sin(o),this.sphere)Math.abs(o)<=p.EPSLN?(e=this.a*a,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*((0,h["default"])(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=p.EPSLN)e=this.a*a,n=-1*this.ml0;else{var s=(0,m["default"])(this.a,this.e,Math.sin(o))/Math.tan(o);e=s*Math.sin(i),n=this.a*(0,f["default"])(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+s*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t}function a(t){var e,n,i,r,o,a,s,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=p.EPSLN)e=(0,d["default"])(i/this.a+this.long0),n=0;else{var c;for(a=this.lat0+r/this.a,s=i*i/this.a/this.a+a*a,l=a,o=g;o;--o)if(l+=u=-1*(a*(l*(c=Math.tan(l))+1)-l-.5*(l*l+s)*c)/((l-a)/c-1),Math.abs(u)<=p.EPSLN){n=l;break}e=(0,d["default"])(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=p.EPSLN)n=0,e=(0,d["default"])(this.long0+i/this.a);else{var h,m,v,y,_;for(a=(this.ml0+r)/this.a,s=i*i/this.a/this.a+a*a,l=a,o=g;o;--o)if(_=this.e*Math.sin(l),h=Math.sqrt(1-_*_)*Math.tan(l),m=this.a*(0,f["default"])(this.e0,this.e1,this.e2,this.e3,l),v=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(a*(h*(y=m/this.a)+1)-y-.5*h*(y*y+s))/(this.es*Math.sin(2*l)*(y*y+s-2*a*y)/(4*h)+(a-y)*(h*v-2/Math.sin(2*l))-v),Math.abs(u)<=p.EPSLN){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=(0,d["default"])(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/e0fn")),l=i(t("../common/e1fn")),u=i(t("../common/e2fn")),c=i(t("../common/e3fn")),d=i(t("../common/adjust_lon")),h=i(t("../common/adjust_lat")),f=i(t("../common/mlfn")),p=t("../constants/values"),m=i(t("../common/gN")),g=20,v=["Polyconic","poly"];n.names=v;var y={init:r,forward:o,inverse:a,names:v};n["default"]=y},{"../common/e0fn":"UFUD","../common/e1fn":"LSRT","../common/e2fn":"uKn1","../common/e3fn":"Yg4A","../common/adjust_lon":"OTdC","../common/adjust_lat":"n9ZX","../common/mlfn":"DWKs","../constants/values":"adBL","../common/gN":"HayF"}],Lj2h:[function(t,e,n){"use strict";function i(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function r(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/a.SEC_TO_RAD*1e-5,s=r,l=1,u=0;for(e=1;e<=10;e++)l*=o,u+=this.A[e]*l;var c,d=u,h=s,f=1,p=0,m=0,g=0;for(e=1;e<=6;e++)c=p*d+f*h,f=f*d-p*h,p=c,m=m+this.B_re[e]*f-this.B_im[e]*p,g=g+this.B_im[e]*f+this.B_re[e]*p;return t.x=g*this.a+this.x0,t.y=m*this.a+this.y0,t}function o(t){var e,n,i=t.x,r=t.y,o=i-this.x0,s=(r-this.y0)/this.a,l=o/this.a,u=1,c=0,d=0,h=0;for(e=1;e<=6;e++)n=c*s+u*l,u=u*s-c*l,c=n,d=d+this.C_re[e]*u-this.C_im[e]*c,h=h+this.C_im[e]*u+this.C_re[e]*c;for(var f=0;f<this.iterations;f++){var p,m=d,g=h,v=s,y=l;for(e=2;e<=6;e++)p=g*d+m*h,m=m*d-g*h,g=p,v+=(e-1)*(this.B_re[e]*m-this.B_im[e]*g),y+=(e-1)*(this.B_im[e]*m+this.B_re[e]*g);m=1,g=0;var _=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=g*d+m*h,m=m*d-g*h,g=p,_+=e*(this.B_re[e]*m-this.B_im[e]*g),b+=e*(this.B_im[e]*m+this.B_re[e]*g);var E=_*_+b*b;d=(v*_+y*b)/E,h=(y*_-v*b)/E}var x=d,C=h,T=1,w=0;for(e=1;e<=9;e++)T*=x,w+=this.D[e]*T;var S=this.lat0+w*a.SEC_TO_RAD*1e5,M=this.long0+C;return t.x=M,t.y=S,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=i,n.forward=r,n.inverse=o,n["default"]=n.names=n.iterations=void 0;var a=t("../constants/values"),s=1;n.iterations=s;var l=["New_Zealand_Map_Grid","nzmg"];n.names=l;var u={init:i,forward:r,inverse:o,names:l};n["default"]=u},{"../constants/values":"adBL"}],xJNN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){}function o(t){var e=t.x,n=t.y,i=(0,s["default"])(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t}function a(t){t.x-=this.x0,t.y-=this.y0;var e=(0,s["default"])(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=["Miller_Cylindrical","mill"];n.names=l;var u={init:r,forward:o,inverse:a,names:l};n["default"]=u},{"../common/adjust_lon":"OTdC"}],R5dp:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=(0,u["default"])(this.es)}function o(t){var e,n,i=t.x,r=t.y;if(i=(0,s["default"])(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),a=p;a;--a){var l=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=l,Math.abs(l)<h.EPSLN)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var u=Math.sin(r),d=Math.cos(r);n=this.a*(0,c["default"])(r,u,d,this.en),e=this.a*i*d/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t}function a(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=(0,f["default"])((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=(0,f["default"])(Math.sin(e)/this.n)),i=(0,s["default"])(i+this.long0),e=(0,l["default"])(e)):(e=(0,d["default"])(t.y/this.a,this.es,this.en),(r=Math.abs(e))<h.HALF_PI?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=(0,s["default"])(n)):r-h.EPSLN<h.HALF_PI&&(i=this.long0)),t.x=i,t.y=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=i(t("../common/adjust_lat")),u=i(t("../common/pj_enfn")),c=i(t("../common/pj_mlfn")),d=i(t("../common/pj_inv_mlfn")),h=t("../constants/values"),f=i(t("../common/asinz")),p=20,m=["Sinusoidal","sinu"];n.names=m;var g={init:r,forward:o,inverse:a,names:m};n["default"]=g},{"../common/adjust_lon":"OTdC","../common/adjust_lat":"n9ZX","../common/pj_enfn":"z2DD","../common/pj_mlfn":"Yeeq","../common/pj_inv_mlfn":"seTr","../constants/values":"adBL","../common/asinz":"f8Id"}],VUp9:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){}function o(t){for(var e=t.x,n=t.y,i=(0,s["default"])(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var a=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=a,Math.abs(a)<l.EPSLN)break}r/=2,Math.PI/2-Math.abs(n)<l.EPSLN&&(i=0);var u=.900316316158*this.a*i*Math.cos(r)+this.x0,c=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=u,t.y=c,t}function a(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=(0,s["default"])(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=t("../constants/values"),u=["Mollweide","moll"];n.names=u;var c={init:r,forward:o,inverse:a,names:u};n["default"]=c},{"../common/adjust_lon":"OTdC","../constants/values":"adBL"}],CNdR:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){Math.abs(this.lat1+this.lat2)<g.EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=(0,s["default"])(this.es),this.e1=(0,l["default"])(this.es),this.e2=(0,u["default"])(this.es),this.e3=(0,c["default"])(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=(0,d["default"])(this.e,this.sinphi,this.cosphi),this.ml1=(0,h["default"])(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<g.EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=(0,d["default"])(this.e,this.sinphi,this.cosphi),this.ml2=(0,h["default"])(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=(0,h["default"])(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function o(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=(0,h["default"])(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*(0,f["default"])(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t}function a(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=(0,f["default"])(this.long0+o/this.ns),i=(0,p["default"])(this.g-n/this.a),t.x=r,t.y=i,t;var a=this.g-n/this.a;return i=(0,m["default"])(a,this.e0,this.e1,this.e2,this.e3),r=(0,f["default"])(this.long0+o/this.ns),t.x=r,t.y=i,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/e0fn")),l=i(t("../common/e1fn")),u=i(t("../common/e2fn")),c=i(t("../common/e3fn")),d=i(t("../common/msfnz")),h=i(t("../common/mlfn")),f=i(t("../common/adjust_lon")),p=i(t("../common/adjust_lat")),m=i(t("../common/imlfn")),g=t("../constants/values"),v=["Equidistant_Conic","eqdc"];n.names=v;var y={init:r,forward:o,inverse:a,names:v};n["default"]=y},{"../common/e0fn":"UFUD","../common/e1fn":"LSRT","../common/e2fn":"uKn1","../common/e3fn":"Yg4A","../common/msfnz":"CKuI","../common/mlfn":"DWKs","../common/adjust_lon":"OTdC","../common/adjust_lat":"n9ZX","../common/imlfn":"TehJ","../constants/values":"adBL"}],rISK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.R=this.a}function o(t){var e,n,i=t.x,r=t.y,o=(0,s["default"])(i-this.long0);Math.abs(r)<=l.EPSLN&&(e=this.x0+this.R*o,n=this.y0);var a=(0,u["default"])(2*Math.abs(r/Math.PI));(Math.abs(o)<=l.EPSLN||Math.abs(Math.abs(r)-l.HALF_PI)<=l.EPSLN)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var c=.5*Math.abs(Math.PI/o-o/Math.PI),d=c*c,h=Math.sin(a),f=Math.cos(a),p=f/(h+f-1),m=p*p,g=p*(2/h-1),v=g*g,y=Math.PI*this.R*(c*(p-v)+Math.sqrt(d*(p-v)*(p-v)-(v+d)*(m-v)))/(v+d);o<0&&(y=-y),e=this.x0+y;var _=d+p;return y=Math.PI*this.R*(g*_-c*Math.sqrt((v+d)*(d+1)-_*_))/(v+d),n=r>=0?this.y0+y:this.y0-y,t.x=e,t.y=n,t}function a(t){var e,n,i,r,o,a,u,c,d,h,f,p;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,o=(i=t.x/f)*i+(r=t.y/f)*r,f=3*(r*r/(c=-2*(a=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(u=a-2*r*r+i*i)*u*u/c/c/c-9*a*u/c/c)/27)/(d=(a-u*u/3/c)/c)/(h=2*Math.sqrt(-d/3)),Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,n=t.y>=0?(-h*Math.cos(p+Math.PI/3)-u/3/c)*Math.PI:-(-h*Math.cos(p+Math.PI/3)-u/3/c)*Math.PI,e=Math.abs(i)<l.EPSLN?this.long0:(0,s["default"])(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=t("../constants/values"),u=i(t("../common/asinz")),c=["Van_der_Grinten_I","VanDerGrinten","vandg"];n.names=c;var d={init:r,forward:o,inverse:a,names:c};n["default"]=d},{"../common/adjust_lon":"OTdC","../constants/values":"adBL","../common/asinz":"f8Id"}],b4L6:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function o(t){var e,n,i,r,o,a,m,g,v,y,_,b,E,x,C,T,w,S,M,j,O,A,R=t.x,P=t.y,I=Math.sin(t.y),L=Math.cos(t.y),k=(0,s["default"])(R-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=l.EPSLN?(t.x=this.x0+this.a*(l.HALF_PI-P)*Math.sin(k),t.y=this.y0-this.a*(l.HALF_PI-P)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=l.EPSLN?(t.x=this.x0+this.a*(l.HALF_PI+P)*Math.sin(k),t.y=this.y0+this.a*(l.HALF_PI+P)*Math.cos(k),t):(S=this.sin_p12*I+this.cos_p12*L*Math.cos(k),w=(T=Math.acos(S))/Math.sin(T),t.x=this.x0+this.a*w*L*Math.sin(k),t.y=this.y0+this.a*w*(this.cos_p12*I-this.sin_p12*L*Math.cos(k)),t):(e=(0,c["default"])(this.es),n=(0,d["default"])(this.es),i=(0,h["default"])(this.es),r=(0,f["default"])(this.es),Math.abs(this.sin_p12-1)<=l.EPSLN?(o=this.a*(0,u["default"])(e,n,i,r,l.HALF_PI),a=this.a*(0,u["default"])(e,n,i,r,P),t.x=this.x0+(o-a)*Math.sin(k),t.y=this.y0-(o-a)*Math.cos(k),t):Math.abs(this.sin_p12+1)<=l.EPSLN?(o=this.a*(0,u["default"])(e,n,i,r,l.HALF_PI),a=this.a*(0,u["default"])(e,n,i,r,P),t.x=this.x0+(o+a)*Math.sin(k),t.y=this.y0+(o+a)*Math.cos(k),t):(m=I/L,g=(0,p["default"])(this.a,this.e,this.sin_p12),v=(0,p["default"])(this.a,this.e,I),y=Math.atan((1-this.es)*m+this.es*g*this.sin_p12/(v*L)),M=0===(_=Math.atan2(Math.sin(k),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(k)))?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(_)-Math.PI)<=l.EPSLN?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(k)*Math.cos(y)/Math.sin(_)),b=this.e*this.sin_p12/Math.sqrt(1-this.es),T=g*M*(1-(j=M*M)*(C=(E=this.e*this.cos_p12*Math.cos(_)/Math.sqrt(1-this.es))*E)*(1-C)/6+(O=j*M)/8*(x=b*E)*(1-2*C)+(A=O*M)/120*(C*(4-7*C)-3*b*b*(1-7*C))-A*M/48*x),t.x=this.x0+T*Math.sin(_),t.y=this.y0+T*Math.cos(_),t))}function a(t){var e,n,i,r,o,a,v,y,_,b,E,x,C,T,w,S,M,j,O,A,R,P,I;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*l.HALF_PI*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=l.EPSLN?a=this.lat0:(a=(0,m["default"])(r*this.sin_p12+t.y*i*this.cos_p12/e),v=Math.abs(this.lat0)-l.HALF_PI,o=Math.abs(v)<=l.EPSLN?this.lat0>=0?(0,s["default"])(this.long0+Math.atan2(t.x,-t.y)):(0,s["default"])(this.long0-Math.atan2(-t.x,t.y)):(0,s["default"])(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=a,t}return y=(0,c["default"])(this.es),_=(0,d["default"])(this.es),b=(0,h["default"])(this.es),E=(0,f["default"])(this.es),Math.abs(this.sin_p12-1)<=l.EPSLN?(C=(x=this.a*(0,u["default"])(y,_,b,E,l.HALF_PI))-(e=Math.sqrt(t.x*t.x+t.y*t.y)),a=(0,g["default"])(C/this.a,y,_,b,E),o=(0,s["default"])(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=l.EPSLN?(x=this.a*(0,u["default"])(y,_,b,E,l.HALF_PI),C=(e=Math.sqrt(t.x*t.x+t.y*t.y))-x,a=(0,g["default"])(C/this.a,y,_,b,E),o=(0,s["default"])(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),S=Math.atan2(t.x,t.y),T=(0,p["default"])(this.a,this.e,this.sin_p12),M=Math.cos(S),O=-(j=this.e*this.cos_p12*M)*j/(1-this.es),A=3*this.es*(1-O)*this.sin_p12*this.cos_p12*M/(1-this.es),I=1-O*(P=(R=e/T)-O*(1+O)*Math.pow(R,3)/6-A*(1+3*O)*Math.pow(R,4)/24)*P/2-R*P*P*P/6,w=Math.asin(this.sin_p12*Math.cos(P)+this.cos_p12*Math.sin(P)*M),o=(0,s["default"])(this.long0+Math.asin(Math.sin(S)*Math.sin(P)/Math.cos(w))),a=Math.atan((1-this.es*I*this.sin_p12/Math.sin(w))*Math.tan(w)/(1-this.es)),t.x=o,t.y=a,t)}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=t("../constants/values"),u=i(t("../common/mlfn")),c=i(t("../common/e0fn")),d=i(t("../common/e1fn")),h=i(t("../common/e2fn")),f=i(t("../common/e3fn")),p=i(t("../common/gN")),m=i(t("../common/asinz")),g=i(t("../common/imlfn")),v=["Azimuthal_Equidistant","aeqd"];n.names=v;var y={init:r,forward:o,inverse:a,names:v};n["default"]=y},{"../common/adjust_lon":"OTdC","../constants/values":"adBL","../common/mlfn":"DWKs","../common/e0fn":"UFUD","../common/e1fn":"LSRT","../common/e2fn":"uKn1","../common/e3fn":"Yg4A","../common/gN":"HayF","../common/asinz":"f8Id","../common/imlfn":"TehJ"}],pVEv:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function o(t){var e,n,i,r,o,a,l,c=t.x,d=t.y;return i=(0,s["default"])(c-this.long0),e=Math.sin(d),n=Math.cos(d),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=u.EPSLN)&&(a=1*this.a*n*Math.sin(i),l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=l,t}function a(t){var e,n,i,r,o,a,c;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=(0,l["default"])(e/this.a),i=Math.sin(n),r=Math.cos(n),a=this.long0,Math.abs(e)<=u.EPSLN?(c=this.lat0,t.x=a,t.y=c,t):(c=(0,l["default"])(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-u.HALF_PI,Math.abs(o)<=u.EPSLN?(a=this.lat0>=0?(0,s["default"])(this.long0+Math.atan2(t.x,-t.y)):(0,s["default"])(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=c,t):(a=(0,s["default"])(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=a,t.y=c,t))}Object.defineProperty(n,"__esModule",{value:!0}),n.init=r,n.forward=o,n.inverse=a,n["default"]=n.names=void 0;var s=i(t("../common/adjust_lon")),l=i(t("../common/asinz")),u=t("../constants/values"),c=["ortho"];n.names=c;var d={init:r,forward:o,inverse:a,names:c};n["default"]=d},{"../common/adjust_lon":"OTdC","../common/asinz":"f8Id","../constants/values":"adBL"}],lXbo:[function(t,e,n){"use strict";function i(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l.HALF_PI-l.FORTPI/2?this.face=u.TOP:this.lat0<=-(l.HALF_PI-l.FORTPI/2)?this.face=u.BOTTOM:Math.abs(this.long0)<=l.FORTPI?this.face=u.FRONT:Math.abs(this.long0)<=l.HALF_PI+l.FORTPI?this.face=this.long0>0?u.RIGHT:u.LEFT:this.face=u.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function r(t){var e,n,i,r,o,d,h={x:0,y:0},f={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===u.TOP)r=l.HALF_PI-e,n>=l.FORTPI&&n<=l.HALF_PI+l.FORTPI?(f.value=c.AREA_0,i=n-l.HALF_PI):n>l.HALF_PI+l.FORTPI||n<=-(l.HALF_PI+l.FORTPI)?(f.value=c.AREA_1,i=n>0?n-l.SPI:n+l.SPI):n>-(l.HALF_PI+l.FORTPI)&&n<=-l.FORTPI?(f.value=c.AREA_2,i=n+l.HALF_PI):(f.value=c.AREA_3,i=n);else if(this.face===u.BOTTOM)r=l.HALF_PI+e,n>=l.FORTPI&&n<=l.HALF_PI+l.FORTPI?(f.value=c.AREA_0,i=-n+l.HALF_PI):n<l.FORTPI&&n>=-l.FORTPI?(f.value=c.AREA_1,i=-n):n<-l.FORTPI&&n>=-(l.HALF_PI+l.FORTPI)?(f.value=c.AREA_2,i=-n-l.HALF_PI):(f.value=c.AREA_3,i=n>0?-n+l.SPI:-n-l.SPI);else{var p,m,g,v,y,_;this.face===u.RIGHT?n=s(n,+l.HALF_PI):this.face===u.BACK?n=s(n,+l.SPI):this.face===u.LEFT&&(n=s(n,-l.HALF_PI)),v=Math.sin(e),y=Math.cos(e),_=Math.sin(n),p=y*Math.cos(n),m=y*_,g=v,this.face===u.FRONT?i=a(r=Math.acos(p),g,m,f):this.face===u.RIGHT?i=a(r=Math.acos(m),g,-p,f):this.face===u.BACK?i=a(r=Math.acos(-p),g,-m,f):this.face===u.LEFT?i=a(r=Math.acos(-m),g,p,f):(r=i=0,f.value=c.AREA_0)}return d=Math.atan(12/l.SPI*(i+Math.acos(Math.sin(i)*Math.cos(l.FORTPI))-l.HALF_PI)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(d)*Math.cos(d))/(1-Math.cos(Math.atan(1/Math.cos(i))))),f.value===c.AREA_1?d+=l.HALF_PI:f.value===c.AREA_2?d+=l.SPI:f.value===c.AREA_3&&(d+=1.5*l.SPI),h.x=o*Math.cos(d),h.y=o*Math.sin(d),h.x=h.x*this.a+this.x0,h.y=h.y*this.a+this.y0,t.x=h.x,t.y=h.y,t}function o(t){var e,n,i,r,o,a,d,h,f,p,m,g,v={lam:0,phi:0},y={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?y.value=c.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(y.value=c.AREA_1,e-=l.HALF_PI):t.x<0&&-t.x>=Math.abs(t.y)?(y.value=c.AREA_2,e=e<0?e+l.SPI:e-l.SPI):(y.value=c.AREA_3,e+=l.HALF_PI),f=l.SPI/12*Math.tan(e),o=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),a=Math.atan(o),(d=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?d=-1:d>1&&(d=1),this.face===u.TOP)h=Math.acos(d),v.phi=l.HALF_PI-h,y.value===c.AREA_0?v.lam=a+l.HALF_PI:y.value===c.AREA_1?v.lam=a<0?a+l.SPI:a-l.SPI:y.value===c.AREA_2?v.lam=a-l.HALF_PI:v.lam=a;else if(this.face===u.BOTTOM)h=Math.acos(d),v.phi=h-l.HALF_PI,y.value===c.AREA_0?v.lam=-a+l.HALF_PI:y.value===c.AREA_1?v.lam=-a:y.value===c.AREA_2?v.lam=-a-l.HALF_PI:v.lam=a<0?-a-l.SPI:-a+l.SPI;else{var _,b,E;f=(_=d)*_,b=(f+=(E=f>=1?0:Math.sqrt(1-f)*Math.sin(a))*E)>=1?0:Math.sqrt(1-f),y.value===c.AREA_1?(f=b,b=-E,E=f):y.value===c.AREA_2?(b=-b,E=-E):y.value===c.AREA_3&&(f=b,b=E,E=-f),this.face===u.RIGHT?(f=_,_=-b,b=f):this.face===u.BACK?(_=-_,b=-b):this.face===u.LEFT&&(f=_,_=b,b=-f),v.phi=Math.acos(-E)-l.HALF_PI,v.lam=Math.atan2(b,_),this.face===u.RIGHT?v.lam=s(v.lam,-l.HALF_PI):this.face===u.BACK?v.lam=s(v.lam,-l.SPI):this.face===u.LEFT&&(v.lam=s(v.lam,+l.HALF_PI))}return 0!==this.es&&(p=v.phi<0?1:0,m=Math.tan(v.phi),g=this.b/Math.sqrt(m*m+this.one_minus_f_squared),v.phi=Math.atan(Math.sqrt(this.a*this.a-g*g)/(this.one_minus_f*g)),p&&(v.phi=-v.phi)),v.lam+=this.long0,t.x=v.lam,t.y=v.phi,t}function a(t,e,n,i){var r;return t<l.EPSLN?(i.value=c.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=l.FORTPI?i.value=c.AREA_0:r>l.FORTPI&&r<=l.HALF_PI+l.FORTPI?(i.value=c.AREA_1,r-=l.HALF_PI):r>l.HALF_PI+l.FORTPI||r<=-(l.HALF_PI+l.FORTPI)?(i.value=c.AREA_2,r=r>=0?r-l.SPI:r+l.SPI):(i.value=c.AREA_3,r+=l.HALF_PI)),r}function s(t,e){var n=t+e;
return n<-l.SPI?n+=l.TWO_PI:n>+l.SPI&&(n-=l.TWO_PI),n}Object.defineProperty(n,"__esModule",{value:!0}),n.init=i,n.forward=r,n.inverse=o,n["default"]=n.names=void 0;var l=t("../constants/values"),u={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},c={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},d=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];n.names=d;var h={init:i,forward:r,inverse:o,names:d};n["default"]=h},{"../constants/values":"adBL"}],bFqz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}function o(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function a(t){var e=(0,u["default"])(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*p);i<0?i=0:i>=g&&(i=g-1),n=l.R2D*(n-m*i);var r={x:v(c[i],n)*e,y:v(d[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*h+this.x0,r.y=r.y*this.a*f+this.y0,r}function s(t){var e={x:(t.x-this.x0)/(this.a*h),y:Math.abs(t.y-this.y0)/(this.a*f)};if(e.y>=1)e.x/=c[g][0],e.y=t.y<0?-l.HALF_PI:l.HALF_PI;else{var n=Math.floor(e.y*g);for(n<0?n=0:n>=g&&(n=g-1);;)if(d[n][0]>e.y)--n;else{if(!(d[n+1][0]<=e.y))break;++n}var i=d[n],o=5*(e.y-i[0])/(d[n+1][0]-i[0]);o=r(function(t){return(v(i,t)-e.y)/y(i,t)},o,l.EPSLN,100),e.x/=v(c[n],o),e.y=(5*n+o)*l.D2R,t.y<0&&(e.y=-e.y)}return e.x=(0,u["default"])(e.x+this.long0),e}Object.defineProperty(n,"__esModule",{value:!0}),n.init=o,n.forward=a,n.inverse=s,n["default"]=n.names=void 0;var l=t("../constants/values"),u=i(t("../common/adjust_lon")),c=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],d=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],h=.8487,f=1.3523,p=l.R2D/5,m=1/p,g=18,v=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},y=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])},_=["Robinson","robin"];n.names=_;var b={init:o,forward:a,inverse:s,names:_};n["default"]=b},{"../constants/values":"adBL","../common/adjust_lon":"OTdC"}],HoV9:[function(t,e,n){"use strict";function i(){this.name="geocent"}function r(t){return(0,a.geodeticToGeocentric)(t,this.es,this.a)}function o(t){return(0,a.geocentricToGeodetic)(t,this.es,this.a,this.b)}Object.defineProperty(n,"__esModule",{value:!0}),n.init=i,n.forward=r,n.inverse=o,n["default"]=n.names=void 0;var a=t("../datumUtils"),s=["Geocentric","geocentric","geocent","Geocent"];n.names=s;var l={init:i,forward:r,inverse:o,names:s};n["default"]=l},{"../datumUtils":"sYJ4"}],o7tE:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){t.Proj.projections.add(o["default"]),t.Proj.projections.add(a["default"]),t.Proj.projections.add(s["default"]),t.Proj.projections.add(l["default"]),t.Proj.projections.add(u["default"]),t.Proj.projections.add(c["default"]),t.Proj.projections.add(d["default"]),t.Proj.projections.add(h["default"]),t.Proj.projections.add(f["default"]),t.Proj.projections.add(p["default"]),t.Proj.projections.add(m["default"]),t.Proj.projections.add(g["default"]),t.Proj.projections.add(v["default"]),t.Proj.projections.add(y["default"]),t.Proj.projections.add(_["default"]),t.Proj.projections.add(b["default"]),t.Proj.projections.add(E["default"]),t.Proj.projections.add(x["default"]),t.Proj.projections.add(C["default"]),t.Proj.projections.add(T["default"]),t.Proj.projections.add(w["default"]),t.Proj.projections.add(S["default"]),t.Proj.projections.add(M["default"]),t.Proj.projections.add(j["default"]),t.Proj.projections.add(O["default"]),t.Proj.projections.add(A["default"]),t.Proj.projections.add(R["default"])}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var o=i(t("./lib/projections/tmerc")),a=i(t("./lib/projections/etmerc")),s=i(t("./lib/projections/utm")),l=i(t("./lib/projections/sterea")),u=i(t("./lib/projections/stere")),c=i(t("./lib/projections/somerc")),d=i(t("./lib/projections/omerc")),h=i(t("./lib/projections/lcc")),f=i(t("./lib/projections/krovak")),p=i(t("./lib/projections/cass")),m=i(t("./lib/projections/laea")),g=i(t("./lib/projections/aea")),v=i(t("./lib/projections/gnom")),y=i(t("./lib/projections/cea")),_=i(t("./lib/projections/eqc")),b=i(t("./lib/projections/poly")),E=i(t("./lib/projections/nzmg")),x=i(t("./lib/projections/mill")),C=i(t("./lib/projections/sinu")),T=i(t("./lib/projections/moll")),w=i(t("./lib/projections/eqdc")),S=i(t("./lib/projections/vandg")),M=i(t("./lib/projections/aeqd")),j=i(t("./lib/projections/ortho")),O=i(t("./lib/projections/qsc")),A=i(t("./lib/projections/robin")),R=i(t("./lib/projections/geocent"))},{"./lib/projections/tmerc":"QGu1","./lib/projections/etmerc":"FTtI","./lib/projections/utm":"iGGZ","./lib/projections/sterea":"Li6C","./lib/projections/stere":"Nwpk","./lib/projections/somerc":"KOKT","./lib/projections/omerc":"nu3N","./lib/projections/lcc":"x2us","./lib/projections/krovak":"Ojbk","./lib/projections/cass":"b3S3","./lib/projections/laea":"gJql","./lib/projections/aea":"AILi","./lib/projections/gnom":"eg9i","./lib/projections/cea":"Soo2","./lib/projections/eqc":"oSIa","./lib/projections/poly":"ITh3","./lib/projections/nzmg":"Lj2h","./lib/projections/mill":"xJNN","./lib/projections/sinu":"R5dp","./lib/projections/moll":"VUp9","./lib/projections/eqdc":"CNdR","./lib/projections/vandg":"rISK","./lib/projections/aeqd":"b4L6","./lib/projections/ortho":"pVEv","./lib/projections/qsc":"lXbo","./lib/projections/robin":"bFqz","./lib/projections/geocent":"HoV9"}],HchQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./core")),o=i(t("./Proj")),a=i(t("./Point")),s=i(t("./common/toPoint")),l=i(t("./defs")),u=i(t("./transform")),c=i(t("mgrs")),d=i(t("../projs"));r["default"].defaultDatum="WGS84",r["default"].Proj=o["default"],r["default"].WGS84=new r["default"].Proj("WGS84"),r["default"].Point=a["default"],r["default"].toPoint=s["default"],r["default"].defs=l["default"],r["default"].transform=u["default"],r["default"].mgrs=c["default"],r["default"].version="__VERSION__",(0,d["default"])(r["default"]);var h=r["default"];n["default"]=h},{"./core":"Y7vD","./Proj":"k4o9","./Point":"OCKq","./common/toPoint":"ZBli","./defs":"l4tk","./transform":"MYhY",mgrs:"v71g","../projs":"o7tE"}],Ps3q:[function(t,e,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t,e){for(var n,r,o,a,s,l,u,c="",d=0;d<t.length;)a=(n=t.charCodeAt(d++))>>2,s=(3&n)<<4|(r=t.charCodeAt(d++))>>4,l=(15&r)<<2|(o=t.charCodeAt(d++))>>6,u=63&o,isNaN(r)?l=u=64:isNaN(o)&&(u=64),c=c+i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(u);return c},n.decode=function(t,e){var n,r,o,a,s,l,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)n=i.indexOf(t.charAt(c++))<<2|(a=i.indexOf(t.charAt(c++)))>>4,r=(15&a)<<4|(s=i.indexOf(t.charAt(c++)))>>2,o=(3&s)<<6|(l=i.indexOf(t.charAt(c++))),u+=String.fromCharCode(n),64!=s&&(u+=String.fromCharCode(r)),64!=l&&(u+=String.fromCharCode(o));return u}},{}],yh9p:[function(t,e,n){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function r(t){var e=i(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function o(t,e,n){return 3*(e+n)/4-n}function a(t){var e,n,r=i(t),a=r[0],s=r[1],l=new h(o(t,a,s)),u=0,c=s>0?a-4:a;for(n=0;n<c;n+=4)e=d[t.charCodeAt(n)]<<18|d[t.charCodeAt(n+1)]<<12|d[t.charCodeAt(n+2)]<<6|d[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===s&&(e=d[t.charCodeAt(n)]<<2|d[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===s&&(e=d[t.charCodeAt(n)]<<10|d[t.charCodeAt(n+1)]<<4|d[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l}function s(t){return c[t>>18&63]+c[t>>12&63]+c[t>>6&63]+c[63&t]}function l(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(s(i));return r.join("")}function u(t){for(var e,n=t.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(l(t,o,o+16383>a?a:o+16383));return 1===i?(e=t[n-1],r.push(c[e>>2]+c[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],r.push(c[e>>10]+c[e>>4&63]+c[e<<2&63]+"=")),r.join("")}n.byteLength=r,n.toByteArray=a,n.fromByteArray=u;for(var c=[],d=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,m=f.length;p<m;++p)c[p]=f[p],d[f.charCodeAt(p)]=p;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},{}],JgNJ:[function(t,e,n){n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?r-1:0,h=n?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=u}return(f?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*l-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+f]=255&a,f+=p,a/=256,u-=8);t[n+f-p]|=128*m}},{}],REa7:[function(t,e,n){var i={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},{}],dskh:[function(t,e,n){function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return s(this,t,e,n)}function s(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,n,i):"string"==typeof e?d(t,e,n):p(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,i){return l(e),e<=0?o(t,e):void 0!==n?"string"==typeof i?o(t,e).fill(n,i):o(t,e).fill(n):o(t,e)}function c(t,e){if(l(e),t=o(t,e<0?0:0|m(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(e,n),r=(t=o(t,i)).write(e,n);return r!==i&&(t=t.slice(0,r)),t}function h(t,e){var n=e.length<0?0:0|m(e.length);t=o(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i),a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=h(t,e),t}function p(t,e){if(a.isBuffer(e)){var n=0|m(e.length);return 0===(t=o(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||X(e.length)?o(t,0):h(t,e);if("Buffer"===e.type&&tt(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),a.alloc(+t)}function v(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(t).length;default:if(i)return z(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function _(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function b(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=a.from(e,i)),a.isBuffer(e))return 0===e.length?-1:E(t,e,n,i,r);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):E(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function E(t,e,n,i,r){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var a,s=1,l=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,l/=2,u/=2,n/=2}if(r){var c=-1;for(a=n;a<l;a++)if(o(t,a)===o(e,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*s}else-1!==c&&(a-=a-c),c=-1}else for(n+u>l&&(n=l-u),a=n;a>=0;a--){for(var d=!0,h=0;h<u;h++)if(o(t,a+h)!==o(e,h)){d=!1;break}if(d)return a}return-1}function x(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function C(t,e,n,i){return K(z(e,t.length-n),t,n,i)}function T(t,e,n,i){return K(W(e),t,n,i)}function w(t,e,n,i){return T(t,e,n,i)}function S(t,e,n,i){return K(Y(e),t,n,i)}function M(t,e,n,i){return K(q(e,t.length-n),t,n,i)}function j(t,e,n){return 0===e&&n===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,u=t[r],c=null,d=u>239?4:u>223?3:u>191?2:1;if(r+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,d=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=d}return A(i)}function A(t){var e=t.length;if(e<=et)return String.fromCharCode.apply(String,t);for(var n="",i=0;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=et));return n}function R(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function I(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=V(t[o]);return r}function L(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,i,r,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function N(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function F(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function $(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(t,e,n,i,r){return r||$(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,n,i,23,4),n+4}function U(t,e,n,i,r){return r||$(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,n,i,52,8),n+8}function B(t){if((t=H(t).replace(nt,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function q(t,e){for(var n,i,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=(n=t.charCodeAt(a))>>8,r=n%256,o.push(r),o.push(i);return o}function Y(t){return Z.toByteArray(B(t))}function K(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}function X(t){return t!=t}var J=(arguments[3],arguments[3]),Z=t("base64-js"),Q=t("ieee754"),tt=t("isarray");n.Buffer=a,n.SlowBuffer=g,n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==J.TYPED_ARRAY_SUPPORT?J.TYPED_ARRAY_SUPPORT:i(),n.kMaxLength=r(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return s(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return u(null,t,e,n)},a.allocUnsafe=function(t){return c(null,t)},a.allocUnsafeSlow=function(t){return c(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!tt(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=a.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):y.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,i,r){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),l=Math.min(o,s),u=this.slice(i,r),c=t.slice(e,n),d=0;d<l;++d)if(u[d]!==c[d]){o=u[d],s=c[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},a.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var et=4096;a.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var r=e-t;n=new a(r,(void 0));for(var o=0;o<r;++o)n[o]=this[o+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},a.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||k(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),Q.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),Q.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),Q.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),Q.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||D(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||D(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return G(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return G(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!a.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:z(new a(t,i).toString()),l=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%l]}return this};var nt=/[^+\/0-9A-Za-z-_]/g},{"base64-js":"yh9p",ieee754:"JgNJ",isarray:"REa7",buffer:"dskh"}],untT:[function(t,e,n){var i=(t("buffer").Buffer,t("buffer").Buffer);if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==i,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(o){try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,s=new a;s.append(r),n.blob=0===s.getBlob("application/zip").size}catch(o){n.blob=!1}}}},{buffer:"dskh"}],tbG5:[function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o];
},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},a={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],sRJQ:[function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?lt[t]:lt[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>K-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>K-t.bi_valid,t.bi_valid+=n-K):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function u(t,e,n){l(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function d(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var n,i,r,o,a,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(o=0;o<=Y;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<q;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>p&&(o=p,m++),l[2*i+1]=o,i>u||(t.bl_count[o]++,a=0,i>=f&&(a=h[i-f]),s=l[2*i],t.opt_len+=s*(o+a),d&&(t.static_len+=s*(c[2*i+1]+a)));if(0!==m){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>u||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function f(t,e,n){var i,r,o=new Array(Y+1),a=0;for(i=1;i<=Y;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=c(o[s]++,s))}}function p(){var t,e,n,i,o,a=new Array(Y+1);for(n=0,i=0;i<B-1;i++)for(ct[i]=n,t=0;t<1<<et[i];t++)ut[n++]=i;for(ut[n-1]=i,o=0,i=0;i<16;i++)for(pt[i]=o,t=0;t<1<<nt[i];t++)lt[o++]=i;for(o>>=7;i<z;i++)for(pt[i]=o<<7,t=0;t<1<<nt[i]-7;t++)lt[256+o++]=i;for(e=0;e<=Y;e++)a[e]=0;for(t=0;t<=143;)at[2*t+1]=8,t++,a[8]++;for(;t<=255;)at[2*t+1]=9,t++,a[9]++;for(;t<=279;)at[2*t+1]=7,t++,a[7]++;for(;t<=287;)at[2*t+1]=8,t++,a[8]++;for(f(at,V+1,a),t=0;t<z;t++)st[2*t+1]=5,st[2*t]=c(t,5);dt=new r(at,et,H+1,V,Y),ht=new r(st,nt,0,z,Y),ft=new r(new Array(0),it,0,W,X)}function m(t){var e;for(e=0;e<V;e++)t.dyn_ltree[2*e]=0;for(e=0;e<z;e++)t.dyn_dtree[2*e]=0;for(e=0;e<W;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,n,i){g(t),i&&(s(t,n),s(t,~n)),P.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function y(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function _(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&y(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!y(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function b(t,e,n){var i,r,o,s,c=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],r=t.pending_buf[t.l_buf+c],c++,0===i?u(t,r,e):(u(t,(o=ut[r])+H+1,e),0!==(s=et[o])&&l(t,r-=ct[o],s),u(t,o=a(--i),n),0!==(s=nt[o])&&l(t,i-=pt[o],s));while(c<t.last_lit);u(t,J,e)}function E(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=q,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)_(t,o,n);r=l;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],_(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,_(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),f(o,u,t.bl_count)}function x(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<u?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*Z]++):s<=10?t.bl_tree[2*Q]++:t.bl_tree[2*tt]++,s=0,o=r,0===a?(l=138,u=3):r===a?(l=6,u=3):(l=7,u=4))}function C(t,e,n){var i,r,o=-1,a=e[1],s=0,c=7,d=4;for(0===a&&(c=138,d=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<c&&r===a)){if(s<d){do u(t,r,t.bl_tree);while(0!=--s)}else 0!==r?(r!==o&&(u(t,r,t.bl_tree),s--),u(t,Z,t.bl_tree),l(t,s-3,2)):s<=10?(u(t,Q,t.bl_tree),l(t,s-3,3)):(u(t,tt,t.bl_tree),l(t,s-11,7));s=0,o=r,0===a?(c=138,d=3):r===a?(c=6,d=3):(c=7,d=4)}}function T(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),E(t,t.bl_desc),e=W-1;e>=3&&0===t.bl_tree[2*rt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function w(t,e,n,i){var r;for(l(t,e-257,5),l(t,n-1,5),l(t,i-4,4),r=0;r<i;r++)l(t,t.bl_tree[2*rt[r]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,n-1)}function S(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return L;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<H;e++)if(0!==t.dyn_ltree[2*e])return k;return L}function M(t){mt||(p(),mt=!0),t.l_desc=new o(t.dyn_ltree,dt),t.d_desc=new o(t.dyn_dtree,ht),t.bl_desc=new o(t.bl_tree,ft),t.bi_buf=0,t.bi_valid=0,m(t)}function j(t,e,n,i){l(t,(N<<1)+(i?1:0),3),v(t,e,n,!0)}function O(t){l(t,F<<1,3),u(t,J,at),d(t)}function A(t,e,n,i){var r,o,a=0;t.level>0?(t.strm.data_type===D&&(t.strm.data_type=S(t)),E(t,t.l_desc),E(t,t.d_desc),a=T(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?j(t,e,n,i):t.strategy===I||o===r?(l(t,(F<<1)+(i?1:0),3),b(t,at,st)):(l(t,($<<1)+(i?1:0),3),w(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),b(t,t.dyn_ltree,t.dyn_dtree)),m(t),i&&g(t)}function R(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ut[n]+H+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1}var P=t("../utils/common"),I=4,L=0,k=1,D=2,N=0,F=1,$=2,G=3,U=258,B=29,H=256,V=H+1+B,z=30,W=19,q=2*V+1,Y=15,K=16,X=7,J=256,Z=16,Q=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ot=512,at=new Array(2*(V+2));i(at);var st=new Array(2*z);i(st);var lt=new Array(ot);i(lt);var ut=new Array(U-G+1);i(ut);var ct=new Array(B);i(ct);var dt,ht,ft,pt=new Array(z);i(pt);var mt=!1;n._tr_init=M,n._tr_stored_block=j,n._tr_flush_block=A,n._tr_tally=R,n._tr_align=O},{"../utils/common":"tbG5"}],uxo6:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do o=o+(r=r+e[i++]|0)|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}e.exports=i},{}],X4kj:[function(t,e,n){"use strict";function i(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function r(t,e,n,i){var r=o,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}var o=i();e.exports=r},{}],gMAY:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],BLBk:[function(t,e,n){"use strict";function i(t,e){return t.msg=L[e],e}function r(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(A.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){R._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,i){var r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,A.arraySet(e,t.input,t.next_in,r,n),1===t.state.wrap?t.adler=P(t.adler,e,r,n):2===t.state.wrap&&(t.adler=I(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)}function d(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-dt?t.strstart-(t.w_size-dt):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+ct,f=u[o+a-1],p=u[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do if(u[(n=e)+a]===p&&u[n+a-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do;while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(i=ct-(h-o),o=h-ct,i>a){if(t.match_start=e,a=i,i>=s)break;f=u[o+a-1],p=u[o+a]}}while((e=d[e&c])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function h(t){var e,n,i,r,o,a=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-dt)){A.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do i=t.head[--e],t.head[e]=i>=a?i-a:0;while(--n);e=n=a;do i=t.prev[--e],t.prev[e]=i>=a?i-a:0;while(--n);r+=a}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=ut)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ut-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ut)););}while(t.lookahead<dt&&0!==t.strm.avail_in)}function f(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===k)return bt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return bt;if(t.strstart-t.block_start>=t.w_size-dt&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===F?(s(t,!0),0===t.strm.avail_out?xt:Ct):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),bt)}function p(t,e){for(var n,i;;){if(t.lookahead<dt){if(h(t),t.lookahead<dt&&e===k)return bt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ut&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-dt&&(t.match_length=d(t,n)),t.match_length>=ut)if(i=R._tr_tally(t,t.strstart-t.match_start,t.match_length-ut),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ut){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=t.strstart<ut-1?t.strstart:ut-1,e===F?(s(t,!0),0===t.strm.avail_out?xt:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:Et}function m(t,e){for(var n,i,r;;){if(t.lookahead<dt){if(h(t),t.lookahead<dt&&e===k)return bt;if(0===t.lookahead)break}if(n=0,t.lookahead>=ut&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ut-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-dt&&(t.match_length=d(t,n),t.match_length<=5&&(t.strategy===W||t.match_length===ut&&t.strstart-t.match_start>4096)&&(t.match_length=ut-1)),t.prev_length>=ut&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-ut,i=R._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ut),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ut-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length);if(t.match_available=0,t.match_length=ut-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return bt}else if(t.match_available){if((i=R._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return bt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=R._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ut-1?t.strstart:ut-1,e===F?(s(t,!0),0===t.strm.avail_out?xt:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:Et}function g(t,e){for(var n,i,r,o,a=t.window;;){if(t.lookahead<=ct){if(h(t),t.lookahead<=ct&&e===k)return bt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ut&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=t.strstart+ct;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);t.match_length=ct-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ut?(n=R._tr_tally(t,1,t.match_length-ut),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===F?(s(t,!0),0===t.strm.avail_out?xt:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:Et}function v(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===k)return bt;break}if(t.match_length=0,n=R._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return bt}return t.insert=0,e===F?(s(t,!0),0===t.strm.avail_out?xt:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?bt:Et}function y(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function _(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=O[t.level].max_lazy,t.good_match=O[t.level].good_length,t.nice_match=O[t.level].nice_length,t.max_chain_length=O[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ut-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*st),this.dyn_dtree=new A.Buf16(2*(2*ot+1)),this.bl_tree=new A.Buf16(2*(2*at+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(lt+1),this.heap=new A.Buf16(2*rt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*rt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ft:yt,t.adler=2===e.wrap?0:1,e.last_flush=k,R._tr_init(e),G):i(t,B)}function x(t){var e=E(t);return e===G&&_(t.state),e}function C(t,e){return t&&t.state?2!==t.state.wrap?B:(t.state.gzhead=e,G):B}function T(t,e,n,r,o,a){if(!t)return B;var s=1;if(e===z&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>Q||n!==Z||r<8||r>15||e<0||e>9||a<0||a>K)return i(t,B);8===r&&(r=9);var l=new b;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+ut-1)/ut),l.window=new A.Buf8(2*l.w_size),l.head=new A.Buf16(l.hash_size),l.prev=new A.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new A.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,x(t)}function w(t,e){return T(t,e,Z,tt,et,X)}function S(t,e){var n,s,c,d;if(!t||!t.state||e>$||e<0)return t?i(t,B):B;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===_t&&e!==F)return i(t,0===t.avail_out?V:B);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ft)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=I(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pt):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),l(s,Tt),s.status=yt);else{var h=Z+(s.w_bits-8<<4)<<8;h|=(s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(h|=ht),h+=31-h%31,s.status=yt,u(s,h),0!==s.strstart&&(u(s,t.adler>>>16),u(s,65535&t.adler)),t.adler=1}if(s.status===pt)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=I(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=I(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=mt)}else s.status=mt;if(s.status===mt)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=I(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=I(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=gt)}else s.status=gt;if(s.status===gt)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=I(t.adler,s.pending_buf,s.pending-c,c)),a(t),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(t.adler=I(t.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=vt)}else s.status=vt;if(s.status===vt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=yt)):s.status=yt),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,G}else if(0===t.avail_in&&r(e)<=r(n)&&e!==F)return i(t,V);if(s.status===_t&&0!==t.avail_in)return i(t,V);if(0!==t.avail_in||0!==s.lookahead||e!==k&&s.status!==_t){var f=s.strategy===q?v(s,e):s.strategy===Y?g(s,e):O[s.level].func(s,e);if(f!==xt&&f!==Ct||(s.status=_t),f===bt||f===xt)return 0===t.avail_out&&(s.last_flush=-1),G;if(f===Et&&(e===D?R._tr_align(s):e!==$&&(R._tr_stored_block(s,0,0,!1),e===N&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,G}return e!==F?G:s.wrap<=0?U:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(u(s,t.adler>>>16),u(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?G:U)}function M(t){var e;return t&&t.state?(e=t.state.status)!==ft&&e!==pt&&e!==mt&&e!==gt&&e!==vt&&e!==yt&&e!==_t?i(t,B):(t.state=null,e===yt?i(t,H):G):B}function j(t,e){var n,i,r,a,s,l,u,c,d=e.length;if(!t||!t.state)return B;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==ft||n.lookahead)return B;for(1===a&&(t.adler=P(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new A.Buf8(n.w_size),A.arraySet(c,e,d-n.w_size,n.w_size,0),e=c,d=n.w_size),s=t.avail_in,l=t.next_in,u=t.input,t.avail_in=d,t.next_in=0,t.input=e,h(n);n.lookahead>=ut;){i=n.strstart,r=n.lookahead-(ut-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ut-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=ut-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ut-1,n.match_available=0,t.next_in=l,t.input=u,t.avail_in=s,n.wrap=a,G}var O,A=t("../utils/common"),R=t("./trees"),P=t("./adler32"),I=t("./crc32"),L=t("./messages"),k=0,D=1,N=3,F=4,$=5,G=0,U=1,B=-2,H=-3,V=-5,z=-1,W=1,q=2,Y=3,K=4,X=0,J=2,Z=8,Q=9,tt=15,et=8,nt=29,it=256,rt=it+1+nt,ot=30,at=19,st=2*rt+1,lt=15,ut=3,ct=258,dt=ct+ut+1,ht=32,ft=42,pt=69,mt=73,gt=91,vt=103,yt=113,_t=666,bt=1,Et=2,xt=3,Ct=4,Tt=3;O=[new y(0,0,0,0,f),new y(4,4,8,4,p),new y(4,5,16,8,p),new y(4,6,32,32,p),new y(4,4,16,16,m),new y(8,16,32,32,m),new y(8,16,128,128,m),new y(8,32,128,256,m),new y(32,128,258,1024,m),new y(32,258,258,4096,m)],n.deflateInit=w,n.deflateInit2=T,n.deflateReset=x,n.deflateResetKeep=E,n.deflateSetHeader=C,n.deflate=S,n.deflateEnd=M,n.deflateSetDictionary=j,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":"tbG5","./trees":"sRJQ","./adler32":"uxo6","./crc32":"X4kj","./messages":"gMAY"}],Q3ZD:[function(t,e,n){"use strict";function i(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var r=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var l=new r.Buf8(256),u=0;u<256;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1,n.string2buf=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return i(t,t.length)},n.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,o,a,s=e||t.length,u=new Array(2*s);for(r=0,n=0;n<s;)if((o=t[n++])<128)u[r++]=o;else if((a=l[o])>4)u[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<s;)o=o<<6|63&t[n++],a--;a>1?u[r++]=65533:o<65536?u[r++]=o:(o-=65536,u[r++]=55296|o>>10&1023,u[r++]=56320|1023&o)}return i(u,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+l[t[n]]>e?n:e}},{"./common":"tbG5"}],bdtv:[function(t,e,n){"use strict";function i(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=i},{}],nFS2:[function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=l.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==m)throw new Error(c[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===h.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,r))!==m)throw new Error(c[n]);this._dict_set=!0}}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return(e=e||{}).raw=!0,r(t,e)}function a(t,e){return(e=e||{}).gzip=!0,r(t,e)}var s=t("./zlib/deflate"),l=t("./utils/common"),u=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,f=0,p=4,m=0,g=1,v=2,y=-1,_=0,b=8;i.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?p:f,"string"==typeof t?r.input=u.string2buf(t):"[object ArrayBuffer]"===h.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new l.Buf8(o),r.next_out=0,r.avail_out=o),(n=s.deflate(r,i))!==g&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==p&&i!==v)||("string"===this.options.to?this.onData(u.buf2binstring(l.shrinkBuf(r.output,r.next_out))):this.onData(l.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==g);return i===p?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):i!==v||(this.onEnd(m),r.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=o,n.gzip=a},{"./zlib/deflate":"BLBk","./utils/common":"tbG5","./utils/strings":"Q3ZD","./zlib/messages":"gMAY","./zlib/zstream":"bdtv"}],LP5M:[function(t,e,n){"use strict";var i=30,r=12;e.exports=function(t,e){var n,o,a,s,l,u,c,d,h,f,p,m,g,v,y,_,b,E,x,C,T,w,S,M,j;n=t.state,o=t.next_in,M=t.input,a=o+(t.avail_in-5),s=t.next_out,j=t.output,l=s-(e-t.avail_out),u=s+(t.avail_out-257),c=n.dmax,d=n.wsize,h=n.whave,f=n.wnext,p=n.window,m=n.hold,g=n.bits,v=n.lencode,y=n.distcode,_=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{g<15&&(m+=M[o++]<<g,g+=8,m+=M[o++]<<g,g+=8),E=v[m&_];e:for(;;){if(m>>>=x=E>>>24,g-=x,0===(x=E>>>16&255))j[s++]=65535&E;else{if(!(16&x)){if(0==(64&x)){E=v[(65535&E)+(m&(1<<x)-1)];continue e}if(32&x){n.mode=r;break t}t.msg="invalid literal/length code",n.mode=i;break t}C=65535&E,(x&=15)&&(g<x&&(m+=M[o++]<<g,g+=8),C+=m&(1<<x)-1,m>>>=x,g-=x),g<15&&(m+=M[o++]<<g,g+=8,m+=M[o++]<<g,g+=8),E=y[m&b];n:for(;;){if(m>>>=x=E>>>24,g-=x,!(16&(x=E>>>16&255))){if(0==(64&x)){E=y[(65535&E)+(m&(1<<x)-1)];continue n}t.msg="invalid distance code",n.mode=i;break t}if(T=65535&E,g<(x&=15)&&(m+=M[o++]<<g,(g+=8)<x&&(m+=M[o++]<<g,g+=8)),(T+=m&(1<<x)-1)>c){t.msg="invalid distance too far back",n.mode=i;break t}if(m>>>=x,g-=x,T>(x=s-l)){if((x=T-x)>h&&n.sane){t.msg="invalid distance too far back",n.mode=i;break t}if(w=0,S=p,0===f){if(w+=d-x,x<C){C-=x;do j[s++]=p[w++];while(--x);w=s-T,S=j}}else if(f<x){if(w+=d+f-x,(x-=f)<C){C-=x;do j[s++]=p[w++];while(--x);if(w=0,f<C){C-=x=f;do j[s++]=p[w++];while(--x);w=s-T,S=j}}}else if(w+=f-x,x<C){C-=x;do j[s++]=p[w++];while(--x);w=s-T,S=j}for(;C>2;)j[s++]=S[w++],j[s++]=S[w++],j[s++]=S[w++],C-=3;C&&(j[s++]=S[w++],C>1&&(j[s++]=S[w++]))}else{w=s-T;do j[s++]=j[w++],j[s++]=j[w++],j[s++]=j[w++],C-=3;while(C>2);C&&(j[s++]=j[w++],C>1&&(j[s++]=j[w++]))}break}}break}}while(o<a&&s<u);o-=C=g>>3,m&=(1<<(g-=C<<3))-1,t.next_in=o,t.next_out=s,t.avail_in=o<a?a-o+5:5-(o-a),t.avail_out=s<u?u-s+257:257-(s-u),n.hold=m,n.bits=g}},{}],uNlq:[function(t,e,n){"use strict";var i=t("../utils/common"),r=15,o=852,a=592,s=0,l=1,u=2,c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,p,m,g,v,y){var _,b,E,x,C,T,w,S,M,j=y.bits,O=0,A=0,R=0,P=0,I=0,L=0,k=0,D=0,N=0,F=0,$=null,G=0,U=new i.Buf16(r+1),B=new i.Buf16(r+1),H=null,V=0;for(O=0;O<=r;O++)U[O]=0;for(A=0;A<p;A++)U[e[n+A]]++;for(I=j,P=r;P>=1&&0===U[P];P--);if(I>P&&(I=P),0===P)return m[g++]=20971520,m[g++]=20971520,y.bits=1,0;for(R=1;R<P&&0===U[R];R++);for(I<R&&(I=R),D=1,O=1;O<=r;O++)if(D<<=1,(D-=U[O])<0)return-1;if(D>0&&(t===s||1!==P))return-1;for(B[1]=0,O=1;O<r;O++)B[O+1]=B[O]+U[O];for(A=0;A<p;A++)0!==e[n+A]&&(v[B[e[n+A]]++]=A);if(t===s?($=H=v,T=19):t===l?($=c,G-=257,H=d,V-=257,T=256):($=h,H=f,T=-1),F=0,A=0,O=R,C=g,L=I,k=0,E=-1,x=(N=1<<I)-1,t===l&&N>o||t===u&&N>a)return 1;for(;;){w=O-k,v[A]<T?(S=0,M=v[A]):v[A]>T?(S=H[V+v[A]],M=$[G+v[A]]):(S=96,M=0),_=1<<O-k,R=b=1<<L;do m[C+(F>>k)+(b-=_)]=w<<24|S<<16|M|0;while(0!==b);for(_=1<<O-1;F&_;)_>>=1;if(0!==_?(F&=_-1,F+=_):F=0,A++,0==--U[O]){if(O===P)break;O=e[n+v[A]]}if(O>I&&(F&x)!==E){for(0===k&&(k=I),C+=R,D=1<<(L=O-k);L+k<P&&!((D-=U[L+k])<=0);)L++,D<<=1;if(N+=1<<L,t===l&&N>o||t===u&&N>a)return 1;m[E=F&x]=I<<24|L<<16|C-g|0}}return 0!==F&&(m[C+F]=O-k<<24|64<<16|0),y.bits=I,0}},{"../utils/common":"tbG5"}],GIDK:[function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=N,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new y.Buf32(mt),e.distcode=e.distdyn=new y.Buf32(gt),e.sane=1,e.back=-1,O):P}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,o(t)):P}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?P:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,a(t))):P}function l(t,e){var n,i;return t?(i=new r,t.state=i,i.window=null,(n=s(t,e))!==O&&(t.state=null),n):P}function u(t){return l(t,yt)}function c(t){if(_t){var e;for(g=new y.Buf32(512),v=new y.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(x(T,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;x(w,t.lens,0,32,v,0,t.work,{bits:5}),_t=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function d(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,
o.window=new y.Buf8(o.wsize)),i>=o.wsize?(y.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),y.arraySet(o.window,e,n-i,r,o.wnext),(i-=r)?(y.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}function h(t,e){var n,r,o,a,s,l,u,h,f,p,m,g,v,mt,gt,vt,yt,_t,bt,Et,xt,Ct,Tt,wt,St=0,Mt=new y.Buf8(4),jt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return P;(n=t.state).mode===Y&&(n.mode=K),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,h=n.hold,f=n.bits,p=l,m=u,Ct=O;t:for(;;)switch(n.mode){case N:if(0===n.wrap){n.mode=K;break}for(;f<16;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(2&n.wrap&&35615===h){n.check=0,Mt[0]=255&h,Mt[1]=h>>>8&255,n.check=b(n.check,Mt,2,0),h=0,f=0,n.mode=F;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=ht;break}if((15&h)!==D){t.msg="unknown compression method",n.mode=ht;break}if(f-=4,xt=8+(15&(h>>>=4)),0===n.wbits)n.wbits=xt;else if(xt>n.wbits){t.msg="invalid window size",n.mode=ht;break}n.dmax=1<<xt,t.adler=n.check=1,n.mode=512&h?W:Y,h=0,f=0;break;case F:for(;f<16;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(n.flags=h,(255&n.flags)!==D){t.msg="unknown compression method",n.mode=ht;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ht;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Mt[0]=255&h,Mt[1]=h>>>8&255,n.check=b(n.check,Mt,2,0)),h=0,f=0,n.mode=$;case $:for(;f<32;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}n.head&&(n.head.time=h),512&n.flags&&(Mt[0]=255&h,Mt[1]=h>>>8&255,Mt[2]=h>>>16&255,Mt[3]=h>>>24&255,n.check=b(n.check,Mt,4,0)),h=0,f=0,n.mode=G;case G:for(;f<16;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Mt[0]=255&h,Mt[1]=h>>>8&255,n.check=b(n.check,Mt,2,0)),h=0,f=0,n.mode=U;case U:if(1024&n.flags){for(;f<16;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Mt[0]=255&h,Mt[1]=h>>>8&255,n.check=b(n.check,Mt,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=B;case B:if(1024&n.flags&&((g=n.length)>l&&(g=l),g&&(n.head&&(xt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,r,a,g,xt)),512&n.flags&&(n.check=b(n.check,r,g,a)),l-=g,a+=g,n.length-=g),n.length))break t;n.length=0,n.mode=H;case H:if(2048&n.flags){if(0===l)break t;g=0;do xt=r[a+g++],n.head&&xt&&n.length<65536&&(n.head.name+=String.fromCharCode(xt));while(xt&&g<l);if(512&n.flags&&(n.check=b(n.check,r,g,a)),l-=g,a+=g,xt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=V;case V:if(4096&n.flags){if(0===l)break t;g=0;do xt=r[a+g++],n.head&&xt&&n.length<65536&&(n.head.comment+=String.fromCharCode(xt));while(xt&&g<l);if(512&n.flags&&(n.check=b(n.check,r,g,a)),l-=g,a+=g,xt)break t}else n.head&&(n.head.comment=null);n.mode=z;case z:if(512&n.flags){for(;f<16;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ht;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Y;break;case W:for(;f<32;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}t.adler=n.check=i(h),h=0,f=0,n.mode=q;case q:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=f,R;t.adler=n.check=1,n.mode=Y;case Y:if(e===M||e===j)break t;case K:if(n.last){h>>>=7&f,f-=7&f,n.mode=ut;break}for(;f<3;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}switch(n.last=1&h,f-=1,3&(h>>>=1)){case 0:n.mode=X;break;case 1:if(c(n),n.mode=nt,e===j){h>>>=2,f-=2;break t}break;case 2:n.mode=Q;break;case 3:t.msg="invalid block type",n.mode=ht}h>>>=2,f-=2;break;case X:for(h>>>=7&f,f-=7&f;f<32;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ht;break}if(n.length=65535&h,h=0,f=0,n.mode=J,e===j)break t;case J:n.mode=Z;case Z:if(g=n.length){if(g>l&&(g=l),g>u&&(g=u),0===g)break t;y.arraySet(o,r,a,g,s),l-=g,a+=g,u-=g,s+=g,n.length-=g;break}n.mode=Y;break;case Q:for(;f<14;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(n.nlen=257+(31&h),h>>>=5,f-=5,n.ndist=1+(31&h),h>>>=5,f-=5,n.ncode=4+(15&h),h>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ht;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;f<3;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}n.lens[jt[n.have++]]=7&h,h>>>=3,f-=3}for(;n.have<19;)n.lens[jt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Tt={bits:n.lenbits},Ct=x(C,n.lens,0,19,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Ct){t.msg="invalid code lengths set",n.mode=ht;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;vt=(St=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,yt=65535&St,!((gt=St>>>24)<=f);){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(yt<16)h>>>=gt,f-=gt,n.lens[n.have++]=yt;else{if(16===yt){for(wt=gt+2;f<wt;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(h>>>=gt,f-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=ht;break}xt=n.lens[n.have-1],g=3+(3&h),h>>>=2,f-=2}else if(17===yt){for(wt=gt+3;f<wt;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}f-=gt,xt=0,g=3+(7&(h>>>=gt)),h>>>=3,f-=3}else{for(wt=gt+7;f<wt;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}f-=gt,xt=0,g=11+(127&(h>>>=gt)),h>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ht;break}for(;g--;)n.lens[n.have++]=xt}}if(n.mode===ht)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ht;break}if(n.lenbits=9,Tt={bits:n.lenbits},Ct=x(T,n.lens,0,n.nlen,n.lencode,0,n.work,Tt),n.lenbits=Tt.bits,Ct){t.msg="invalid literal/lengths set",n.mode=ht;break}if(n.distbits=6,n.distcode=n.distdyn,Tt={bits:n.distbits},Ct=x(w,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Tt),n.distbits=Tt.bits,Ct){t.msg="invalid distances set",n.mode=ht;break}if(n.mode=nt,e===j)break t;case nt:n.mode=it;case it:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=f,E(t,m),s=t.next_out,o=t.output,u=t.avail_out,a=t.next_in,r=t.input,l=t.avail_in,h=n.hold,f=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;vt=(St=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,yt=65535&St,!((gt=St>>>24)<=f);){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(vt&&0==(240&vt)){for(_t=gt,bt=vt,Et=yt;vt=(St=n.lencode[Et+((h&(1<<_t+bt)-1)>>_t)])>>>16&255,yt=65535&St,!(_t+(gt=St>>>24)<=f);){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}h>>>=_t,f-=_t,n.back+=_t}if(h>>>=gt,f-=gt,n.back+=gt,n.length=yt,0===vt){n.mode=lt;break}if(32&vt){n.back=-1,n.mode=Y;break}if(64&vt){t.msg="invalid literal/length code",n.mode=ht;break}n.extra=15&vt,n.mode=rt;case rt:if(n.extra){for(wt=n.extra;f<wt;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ot;case ot:for(;vt=(St=n.distcode[h&(1<<n.distbits)-1])>>>16&255,yt=65535&St,!((gt=St>>>24)<=f);){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(0==(240&vt)){for(_t=gt,bt=vt,Et=yt;vt=(St=n.distcode[Et+((h&(1<<_t+bt)-1)>>_t)])>>>16&255,yt=65535&St,!(_t+(gt=St>>>24)<=f);){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}h>>>=_t,f-=_t,n.back+=_t}if(h>>>=gt,f-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=ht;break}n.offset=yt,n.extra=15&vt,n.mode=at;case at:if(n.extra){for(wt=n.extra;f<wt;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ht;break}n.mode=st;case st:if(0===u)break t;if(g=m-u,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ht;break}g>n.wnext?(g-=n.wnext,v=n.wsize-g):v=n.wnext-g,g>n.length&&(g=n.length),mt=n.window}else mt=o,v=s-n.offset,g=n.length;g>u&&(g=u),u-=g,n.length-=g;do o[s++]=mt[v++];while(--g);0===n.length&&(n.mode=it);break;case lt:if(0===u)break t;o[s++]=n.length,u--,n.mode=it;break;case ut:if(n.wrap){for(;f<32;){if(0===l)break t;l--,h|=r[a++]<<f,f+=8}if(m-=u,t.total_out+=m,n.total+=m,m&&(t.adler=n.check=n.flags?b(n.check,o,m,s-m):_(n.check,o,m,s-m)),m=u,(n.flags?h:i(h))!==n.check){t.msg="incorrect data check",n.mode=ht;break}h=0,f=0}n.mode=ct;case ct:if(n.wrap&&n.flags){for(;f<32;){if(0===l)break t;l--,h+=r[a++]<<f,f+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ht;break}h=0,f=0}n.mode=dt;case dt:Ct=A;break t;case ht:Ct=I;break t;case ft:return L;case pt:default:return P}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=h,n.bits=f,(n.wsize||m!==t.avail_out&&n.mode<ht&&(n.mode<ut||e!==S))&&d(t,t.output,t.next_out,m-t.avail_out)?(n.mode=ft,L):(p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,n.total+=m,n.wrap&&m&&(t.adler=n.check=n.flags?b(n.check,o,m,t.next_out-m):_(n.check,o,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===nt||n.mode===J?256:0),(0===p&&0===m||e===S)&&Ct===O&&(Ct=k),Ct)}function f(t){if(!t||!t.state)return P;var e=t.state;return e.window&&(e.window=null),t.state=null,O}function p(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?P:(n.head=e,e.done=!1,O):P}function m(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==q?P:n.mode===q&&_(1,e,i,0)!==n.check?I:d(t,e,i,i)?(n.mode=ft,L):(n.havedict=1,O):P}var g,v,y=t("../utils/common"),_=t("./adler32"),b=t("./crc32"),E=t("./inffast"),x=t("./inftrees"),C=0,T=1,w=2,S=4,M=5,j=6,O=0,A=1,R=2,P=-2,I=-3,L=-4,k=-5,D=8,N=1,F=2,$=3,G=4,U=5,B=6,H=7,V=8,z=9,W=10,q=11,Y=12,K=13,X=14,J=15,Z=16,Q=17,tt=18,et=19,nt=20,it=21,rt=22,ot=23,at=24,st=25,lt=26,ut=27,ct=28,dt=29,ht=30,ft=31,pt=32,mt=852,gt=592,vt=15,yt=vt,_t=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=o,n.inflateInit=u,n.inflateInit2=l,n.inflate=h,n.inflateEnd=f,n.inflateGetHeader=p,n.inflateSetDictionary=m,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":"tbG5","./adler32":"uxo6","./crc32":"X4kj","./inffast":"LP5M","./inftrees":"uNlq"}],xUUw:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],WIli:[function(t,e,n){"use strict";function i(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=i},{}],faQk:[function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(c[n]);if(this.header=new h,a.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=l.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=a.inflateSetDictionary(this.strm,e.dictionary))!==u.Z_OK))throw new Error(c[n])}function r(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}function o(t,e){return(e=e||{}).raw=!0,r(t,e)}var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=t("./zlib/gzheader"),f=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r,o,c,d=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?d.input=l.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new s.Buf8(h),d.next_out=0,d.avail_out=h),(n=a.inflate(d,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&p&&(n=a.inflateSetDictionary(this.strm,p)),n===u.Z_BUF_ERROR&&!0===m&&(n=u.Z_OK,m=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==u.Z_STREAM_END&&(0!==d.avail_in||i!==u.Z_FINISH&&i!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(r=l.utf8border(d.output,d.next_out),o=d.next_out-r,c=l.buf2string(d.output,r),d.next_out=o,d.avail_out=h-o,o&&s.arraySet(d.output,d.output,r,o,0),this.onData(c)):this.onData(s.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(i=u.Z_FINISH),i===u.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):i!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),d.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=o,n.ungzip=r},{"./zlib/inflate":"GIDK","./utils/common":"tbG5","./utils/strings":"Q3ZD","./zlib/constants":"xUUw","./zlib/messages":"gMAY","./zlib/zstream":"bdtv","./zlib/gzheader":"WIli"}],f4vO:[function(t,e,n){"use strict";var i=t("./lib/utils/common").assign,r=t("./lib/deflate"),o=t("./lib/inflate"),a=t("./lib/zlib/constants"),s={};i(s,r,o,a),e.exports=s},{"./lib/utils/common":"tbG5","./lib/deflate":"nFS2","./lib/inflate":"faQk","./lib/zlib/constants":"xUUw"}],p7rG:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako");n.uncompressInputType=i?"uint8array":"array",n.compressInputType=i?"uint8array":"array",n.magic="\b\0",n.compress=function(t,e){return r.deflateRaw(t,{level:e.level||-1})},n.uncompress=function(t){return r.inflateRaw(t)}},{pako:"f4vO"}],XfO6:[function(t,e,n){"use strict";n.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},n.DEFLATE=t("./flate")},{"./flate":"p7rG"}],EKho:[function(t,e,n){var i=(t("buffer").Buffer,t("buffer").Buffer);e.exports=function(t,e){return new i(t,e)},e.exports.test=function(t){return i.isBuffer(t)}},{buffer:"dskh"}],dvMn:[function(t,e,n){"use strict";function i(t){return t}function r(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function o(t){var e=65536,i=[],r=t.length,o=n.getTypeOf(t),a=0,s=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,u(0))}}catch(l){s=!1}if(!s){for(var c="",d=0;d<t.length;d++)c+=String.fromCharCode(t[d]);return c}for(;a<r&&e>1;)try{"array"===o||"nodebuffer"===o?i.push(String.fromCharCode.apply(null,t.slice(a,Math.min(a+e,r)))):i.push(String.fromCharCode.apply(null,t.subarray(a,Math.min(a+e,r)))),a+=e}catch(l){e=Math.floor(e/2)}return i.join("")}function a(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var s=t("./support"),l=t("./compressions"),u=t("./nodeBuffer");n.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},n.arrayBuffer2Blob=function(t,e){n.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(i){try{var r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return r.append(t),r.getBlob(e)}catch(i){throw new Error("Bug : can't construct the Blob.")}}},n.applyFromCharCode=o;var c={};c.string={string:i,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:function(t){return r(t,u(t.length))}},c.array={string:o,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(t)}},c.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return u(new Uint8Array(t))}},c.uint8array={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return u(t)}},c.nodebuffer={string:o,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:i},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return c[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":s.nodebuffer&&u.test(t)?"nodebuffer":s.uint8array&&t instanceof Uint8Array?"uint8array":s.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!s[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.findCompression=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n}},{"./support":"untT","./compressions":"XfO6","./nodeBuffer":"EKho"}],cvyR:[function(t,e,n){"use strict";var i=t("./utils"),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var n="string"!==i.getTypeOf(t);void 0===e&&(e=0);var o=0;e^=-1;for(var a=0,s=t.length;a<s;a++)o=n?t[a]:t.charCodeAt(a),e=e>>>8^r[255&(e^o)];return-1^e}},{"./utils":"dvMn"}],Ctqd:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],lUr3:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!1,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],PO9O:[function(t,e,n){"use strict";function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=i},{}],Sm7R:[function(t,e,n){"use strict";for(var i=t("./utils"),r=t("./support"),o=t("./nodeBuffer"),a=new Array(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;a[254]=a[254]=1;var l=function(t){var e,n,i,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),a=0,o=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},u=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e},c=function(t){var e,n,r,o,s=t.length,l=new Array(2*s);for(n=0,e=0;e<s;)if((r=t[e++])<128)l[n++]=r;else if((o=a[r])>4)l[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<s;)r=r<<6|63&t[e++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};n.utf8encode=function(t){return r.nodebuffer?o(t,"utf-8"):l(t)},n.utf8decode=function(t){if(r.nodebuffer)return i.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],n=0,o=(t=i.transformTo(r.uint8array?"uint8array":"array",t)).length;n<o;){var a=u(t,Math.min(n+65536,o));r.uint8array?e.push(c(t.subarray(n,a))):e.push(c(t.slice(n,a))),n=a}return e.join("")}},{"./utils":"dvMn","./support":"untT","./nodeBuffer":"EKho"}],HQ3O:[function(t,e,n){"use strict";var i=t("./utils"),r=function(){this.data=[]};r.prototype={append:function(t){t=i.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=r},{"./utils":"dvMn"}],toTn:[function(t,e,n){"use strict";var i=t("./utils"),r=function(t){this.data=new Uint8Array(t),this.index=0};r.prototype={append:function(t){0!==t.length&&(t=i.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=r},{"./utils":"dvMn"}],e4aZ:[function(t,e,n){"use strict";var i=t("./support"),r=t("./utils"),o=t("./crc32"),a=t("./signature"),s=t("./defaults"),l=t("./base64"),u=t("./compressions"),c=t("./compressedObject"),d=t("./nodeBuffer"),h=t("./utf8"),f=t("./stringWriter"),p=t("./uint8ArrayWriter"),m=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===r.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},g=function(t){var e=m(t);return"string"===r.getTypeOf(e)?!t.options.binary&&i.nodebuffer?d(e,"utf-8"):t.asBinary():e},v=function(t){var e=m(this);return null==e?"":(this.options.base64&&(e=l.decode(e)),e=t&&this.options.binary?O.utf8decode(e):r.transformTo("string",e),t||this.options.binary||(e=r.transformTo("string",O.utf8encode(e))),e)},y=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};y.prototype={asText:function(){return v.call(this,!0)},asBinary:function(){return v.call(this,!1)},asNodeBuffer:function(){var t=g(this);return r.transformTo("nodebuffer",t)},asUint8Array:function(){var t=g(this);return r.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var _=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},b=function(t){return!0!==(t=t||{}).base64||null!==t.binary&&void 0!==t.binary||(t.binary=!0),(t=r.extend(t,s)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t},E=function(t,e,n){var i,o=r.getTypeOf(e);if("string"==typeof(n=b(n)).unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=C(t)),n.createFolders&&(i=x(t))&&T.call(this,i,!0),n.dir||null==e)n.base64=!1,n.binary=!1,e=null,o=null;else if("string"===o)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=r.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(o||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===o&&(e=r.transformTo("uint8array",e))}var a=new y(t,e,n);return this.files[t]=a,a},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},C=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},T=function(t,e){return e=void 0!==e&&e,t=C(t),this.files[t]||E.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},w=function(t,e,n){var i,a=new c;return t._data instanceof c?(a.uncompressedSize=t._data.uncompressedSize,a.crc32=t._data.crc32,0===a.uncompressedSize||t.dir?(e=u.STORE,a.compressedContent="",a.crc32=0):t._data.compressionMethod===e.magic?a.compressedContent=t._data.getCompressedContent():(i=t._data.getContent(),a.compressedContent=e.compress(r.transformTo(e.compressInputType,i),n))):((i=g(t))&&0!==i.length&&!t.dir||(e=u.STORE,i=""),a.uncompressedSize=i.length,a.crc32=o(i),a.compressedContent=e.compress(r.transformTo(e.compressInputType,i),n)),a.compressedSize=a.compressedContent.length,a.compressionMethod=e.magic,a},S=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16},M=function(t,e){return 63&(t||0)},j=function(t,e,n,i,s,l){n.compressedContent;var u,c,d,f,p=l!==h.utf8encode,m=r.transformTo("string",l(e.name)),g=r.transformTo("string",h.utf8encode(e.name)),v=e.comment||"",y=r.transformTo("string",l(v)),b=r.transformTo("string",h.utf8encode(v)),E=g.length!==e.name.length,x=b.length!==v.length,C=e.options,T="",w="",j="";d=e._initialMetadata.dir!==e.dir?e.dir:C.dir,f=e._initialMetadata.date!==e.date?e.date:C.date;var O=0,A=0;d&&(O|=16),"UNIX"===s?(A=798,O|=S(e.unixPermissions,d)):(A=20,O|=M(e.dosPermissions,d)),u=f.getHours(),u<<=6,u|=f.getMinutes(),u<<=5,u|=f.getSeconds()/2,c=f.getFullYear()-1980,c<<=4,c|=f.getMonth()+1,c<<=5,c|=f.getDate(),E&&(w=_(1,1)+_(o(m),4)+g,T+="up"+_(w.length,2)+w),x&&(j=_(1,1)+_(this.crc32(y),4)+b,T+="uc"+_(j.length,2)+j);var R="";return R+="\n\0",R+=p||!E&&!x?"\0\0":"\0\b",R+=n.compressionMethod,R+=_(u,2),R+=_(c,2),R+=_(n.crc32,4),R+=_(n.compressedSize,4),R+=_(n.uncompressedSize,4),R+=_(m.length,2),R+=_(T.length,2),{fileRecord:a.LOCAL_FILE_HEADER+R+m+T,dirRecord:a.CENTRAL_FILE_HEADER+_(A,2)+R+_(y.length,2)+"\0\0\0\0"+_(O,4)+_(i,4)+m+T+y,compressedObject:n}},O={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,i,o,a=[];for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],o=new y(i.name,i._data,r.extend(i.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,o)&&a.push(o));return a},file:function(t,e,n){if(1===arguments.length){if(r.isRegExp(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return t=this.root+t,E.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(r.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=this.root+t,n=T.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){t=r.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode}),r.checkSupport(t.type),"darwin"!==t.platform&&"freebsd"!==t.platform&&"linux"!==t.platform&&"sunos"!==t.platform||(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,i=[],o=0,s=0,c=r.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var d in this.files)if(this.files.hasOwnProperty(d)){var m=this.files[d],g=m.options.compression||t.compression.toUpperCase(),v=u[g];if(!v)throw new Error(g+" is not a valid compression method !");var y=m.options.compressionOptions||t.compressionOptions||{},b=w.call(this,m,v,y),E=j.call(this,d,m,b,o,t.platform,t.encodeFileName);o+=E.fileRecord.length+b.compressedSize,s+=E.dirRecord.length,i.push(E)}var x;x=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+_(i.length,2)+_(i.length,2)+_(s,4)+_(o,4)+_(c.length,2)+c;var C=t.type.toLowerCase();for(e="uint8array"===C||"arraybuffer"===C||"blob"===C||"nodebuffer"===C?new p(o+s+x.length):new f(o+s+x.length),n=0;n<i.length;n++)e.append(i[n].fileRecord),e.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)e.append(i[n].dirRecord);e.append(x);var T=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(t.type.toLowerCase(),T);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",T),t.mimeType);case"base64":return t.base64?l.encode(T):T;default:return T}},crc32:function(t,e){return o(t,e)},utf8encode:function(t){return r.transformTo("string",h.utf8encode(t))},utf8decode:function(t){return h.utf8decode(t)}};e.exports=O},{"./support":"untT","./utils":"dvMn","./crc32":"cvyR","./signature":"Ctqd","./defaults":"lUr3","./base64":"Ps3q","./compressions":"XfO6","./compressedObject":"PO9O","./nodeBuffer":"EKho","./utf8":"Sm7R","./stringWriter":"HQ3O","./uint8ArrayWriter":"toTn"}],YPnC:[function(t,e,n){"use strict";function i(t){this.data=null,this.length=0,this.index=0,this.zero=0}var r=t("./utils");i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),
this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=i},{"./utils":"dvMn"}],mMy6:[function(t,e,n){"use strict";function i(t,e){this.data=t,e||(this.data=o.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var r=t("./dataReader"),o=t("./utils");i.prototype=new r,i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":"YPnC","./utils":"dvMn"}],BGqa:[function(t,e,n){"use strict";function i(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}var r=t("./dataReader");i.prototype=new r,i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":"YPnC"}],LYMO:[function(t,e,n){"use strict";function i(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}var r=t("./arrayReader");i.prototype=new r,i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./arrayReader":"BGqa"}],jkIo:[function(t,e,n){"use strict";function i(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}var r=t("./uint8ArrayReader");i.prototype=new r,i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"./uint8ArrayReader":"LYMO"}],dFUs:[function(t,e,n){"use strict";function i(t,e){this.options=t,this.loadOptions=e}var r=t("./stringReader"),o=t("./utils"),a=t("./compressedObject"),s=t("./object"),l=t("./support"),u=0,c=3;i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var i=t.index;t.setIndex(e);var r=t.readData(n);return t.setIndex(i),r}},prepareContent:function(t,e,n,i,r){return function(){var t=o.transformTo(i.uncompressInputType,this.getCompressedContent()),e=i.uncompress(t);if(e.length!==r)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=o.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=o.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===u&&(this.dosPermissions=63&this.externalFileAttributes),t===c&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new r(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),i=t.readString(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new r(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new r(t.value);return 1!==e.readInt(1)?null:s.crc32(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readString(t.length-5))}return null}},e.exports=i},{"./stringReader":"mMy6","./utils":"dvMn","./compressedObject":"PO9O","./object":"e4aZ","./support":"untT"}],rAgE:[function(t,e,n){"use strict";function i(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var r=t("./stringReader"),o=t("./nodeBufferReader"),a=t("./uint8ArrayReader"),s=t("./arrayReader"),l=t("./utils"),u=t("./signature"),c=t("./zipEntry"),d=t("./support");t("./object");i.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+l.pretty(e)+", expected "+l.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=d.uint8array?"uint8array":"array",n=l.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===u.CENTRAL_FILE_HEADER;)(t=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,u.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){var e=l.getTypeOf(t);if(l.checkSupport(e),"string"!==e||d.uint8array)if("nodebuffer"===e)this.reader=new o(t);else if(d.uint8array)this.reader=new a(l.transformTo("uint8array",t));else{if(!d.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new s(l.transformTo("array",t))}else this.reader=new r(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},{"./stringReader":"mMy6","./nodeBufferReader":"jkIo","./uint8ArrayReader":"LYMO","./arrayReader":"BGqa","./utils":"dvMn","./signature":"Ctqd","./zipEntry":"dFUs","./support":"untT","./object":"e4aZ"}],gtSA:[function(t,e,n){"use strict";var i=t("./base64"),r=t("./utf8"),o=t("./utils"),a=t("./zipEntries");e.exports=function(t,e){var n,s,l,u;for((e=o.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode})).base64&&(t=i.decode(t)),n=(s=new a(t,e)).files,l=0;l<n.length;l++)u=n[l],this.file(u.fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:e.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},{"./base64":"Ps3q","./utf8":"Sm7R","./utils":"dvMn","./zipEntries":"rAgE"}],HgYz:[function(t,e,n){"use strict";var i=t("./utils");n.string2binary=function(t){return i.string2binary(t)},n.string2Uint8Array=function(t){return i.transformTo("uint8array",t)},n.uint8Array2String=function(t){return i.transformTo("string",t)},n.string2Blob=function(t){var e=i.transformTo("arraybuffer",t);return i.arrayBuffer2Blob(e)},n.arrayBuffer2Blob=function(t){return i.arrayBuffer2Blob(t)},n.transformTo=function(t,e){return i.transformTo(t,e)},n.getTypeOf=function(t){return i.getTypeOf(t)},n.checkSupport=function(t){return i.checkSupport(t)},n.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,n.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,n.pretty=function(t){return i.pretty(t)},n.findCompression=function(t){return i.findCompression(t)},n.isRegExp=function(t){return i.isRegExp(t)}},{"./utils":"dvMn"}],miM6:[function(t,e,n){"use strict";function i(t,e){return this instanceof i?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t},void 0):new i(t,e)}var r=t("./base64");i.prototype=t("./object"),i.prototype.load=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.utils=t("./deprecatedPublicUtils"),i.base64={encode:function(t){return r.encode(t)},decode:function(t){return r.decode(t)}},i.compressions=t("./compressions"),e.exports=i},{"./base64":"Ps3q","./object":"e4aZ","./load":"gtSA","./support":"untT","./defaults":"lUr3","./deprecatedPublicUtils":"HgYz","./compressions":"XfO6"}],maFN:[function(t,e,n){"use strict";var i=t("jszip");e.exports=function(t){var e=new i(t).file(/.+/),n={};return e.forEach(function(t){"shp"===t.name.slice(-3).toLowerCase()||"dbf"===t.name.slice(-3).toLowerCase()?n[t.name]=t.asNodeBuffer():n[t.name]=t.asText()}),n}},{jszip:"miM6"}],uUPe:[function(t,e,n){function i(){var t,e;a=!0;for(var n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}a=!1}function r(t){1!==f.push(t)||a||o()}var o,a,s=(arguments[3],arguments[3]),l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,c=new l(i),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),o=function(){d.data=u=++u%2}}else if(s.setImmediate||void 0===s.MessageChannel)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var t=s.document.createElement("script");t.onreadystatechange=function(){i(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},s.document.documentElement.appendChild(t)}:function(){setTimeout(i,0)};else{var h=new s.MessageChannel;h.port1.onmessage=i,o=function(){h.port2.postMessage(0)}}var f=[];e.exports=r},{}],xz3w:[function(t,e,n){"use strict";function i(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,t!==i&&l(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){p(function(){var i;try{i=e(n)}catch(r){return m.reject(t,r)}i===t?m.reject(t,new TypeError("Cannot resolve promise with itself")):m.resolve(t,i)})}function s(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function n(e){r||(r=!0,m.reject(t,e))}function i(e){r||(r=!0,m.resolve(t,e))}var r=!1,o=u(function(){e(i,n)});"error"===o.status&&n(o.value)}function u(t,e){var n={};try{n.value=t(e),n.status="success"}catch(i){n.status="error",n.value=i}return n}function c(t){return t instanceof this?t:m.resolve(new this(i),t)}function d(t){var e=new this(i);return m.reject(e,t)}function h(t){function e(t,e){n.resolve(t).then(function(t){a[e]=t,++s!==r||o||(o=!0,m.resolve(u,a))},function(t){o||(o=!0,m.reject(u,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,o=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,u=new this(i);++l<r;)e(t[l],l);return u}function f(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o,a=-1,s=new this(i);++a<n;)o=t[a],e.resolve(o).then(function(t){r||(r=!0,m.resolve(s,t))},function(t){r||(r=!0,m.reject(s,t))});return s}var p=t("immediate"),m={},g=["REJECTED"],v=["FULFILLED"],y=["PENDING"];e.exports=r,r.prototype["finally"]=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===v||"function"!=typeof e&&this.state===g)return this;var n=new this.constructor(i);return this.state!==y?a(n,this.state===v?t:e,this.outcome):this.queue.push(new o(n,t,e)),n},o.prototype.callFulfilled=function(t){m.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){m.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},m.resolve=function(t,e){var n=u(s,e);if("error"===n.status)return m.reject(t,n.value);var i=n.value;if(i)l(t,i);else{t.state=v,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},m.reject=function(t,e){t.state=g,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},r.resolve=c,r.reject=d,r.all=h,r.race=f},{immediate:"uUPe"}],daZ4:[function(t,e,n){function i(t){return new o(function(e,n){var i=t.slice(-3),o=new XMLHttpRequest;o.open("GET",t,!0),"prj"!==i&&"cpg"!==i&&(o.responseType="arraybuffer"),o.addEventListener("load",function(){return o.status>399?"prj"===i||"cpg"===i?e(!1):n(new Error(o.status)):e("prj"!==i&&"cpg"!==i?new r(o.response):o.response)},!1),o.send()})}var r=(t("buffer").Buffer,t("buffer").Buffer),o=t("lie");e.exports=i},{lie:"xz3w",buffer:"dskh"}],Ff1v:[function(t,e,n){"use strict";function i(t){for(var e,n,i=0,r=1,o=t.length;r<o;)e=n||t[0],i+=((n=t[r])[0]-e[0])*(n[1]+e[1]),r++;return i>0}function r(t,e){return i(e)||!t.length?t.push([e]):t[t.length-1].push(e),t}function o(t){return t?function(e,n){return t.inverse([e.readDoubleLE(n),e.readDoubleLE(n+8)])}:function(t,e){return[t.readDoubleLE(e),t.readDoubleLE(e+8)]}}function a(t,e){return this instanceof a?(this.buffer=t,this.shpFuncs(e),this.rows=this.getRows(),void 0):new a(t,e)}a.prototype.parsePoint=function(t){return{type:"Point",coordinates:this.parseCoord(t,0)}},a.prototype.parseZPoint=function(t){var e=this.parsePoint(t);return e.coordinates.push(t.readDoubleLE(16)),e},a.prototype.parsePointArray=function(t,e,n){for(var i=[],r=0;r<n;)i.push(this.parseCoord(t,e)),e+=16,r++;return i},a.prototype.parseZPointArray=function(t,e,n,i){for(var r=0;r<n;)i[r].push(t.readDoubleLE(e)),r++,e+=8;return i},a.prototype.parseArrayGroup=function(t,e,n,i,r){for(var o,a,s=[],l=0,u=0;l<i;)n+=4,o=u,(a=(u=++l===i?r:t.readInt32LE(n))-o)&&(s.push(this.parsePointArray(t,e,a)),e+=a<<4);return s},a.prototype.parseZArrayGroup=function(t,e,n,i){for(var r=0;r<n;)i[r]=this.parseZPointArray(t,e,i[r].length,i[r]),e+=i[r].length<<3,r++;return i},a.prototype.parseMultiPoint=function(t){var e={},n=this.parseCoord(t,0),i=this.parseCoord(t,16);e.bbox=[n[0],n[1],i[0],i[1]];var r=t.readInt32LE(32,!0);return 1===r?(e.type="Point",e.coordinates=this.parseCoord(t,36)):(e.type="MultiPoint",e.coordinates=this.parsePointArray(t,36,r)),e},a.prototype.parseZMultiPoint=function(t){var e,n=this.parseMultiPoint(t);if("Point"===n.type)return n.coordinates.push(t.readDoubleLE(72)),n;var i=52+((e=n.coordinates.length)<<4);return n.coordinates=this.parseZPointArray(t,i,e,n.coordinates),n},a.prototype.parsePolyline=function(t){var e={},n=this.parseCoord(t,0),i=this.parseCoord(t,16);e.bbox=[n[0],n[1],i[0],i[1]];var r,o=t.readInt32LE(32),a=t.readInt32LE(36);return 1===o?(e.type="LineString",r=44,e.coordinates=this.parsePointArray(t,r,a)):(e.type="MultiLineString",r=40+(o<<2),e.coordinates=this.parseArrayGroup(t,r,40,o,a)),e},a.prototype.parseZPolyline=function(t){var e,n=this.parsePolyline(t),i=n.coordinates.length;return"LineString"===n.type?(e=60+(i<<4),n.coordinates=this.parseZPointArray(t,e,i,n.coordinates),n):(e=56+(n.coordinates.reduce(function(t,e){return t+e.length},0)<<4)+(i<<2),n.coordinates=this.parseZArrayGroup(t,e,i,n.coordinates),n)},a.prototype.polyFuncs=function(t){return"LineString"===t.type?(t.type="Polygon",t.coordinates=[t.coordinates],t):(t.coordinates=t.coordinates.reduce(r,[]),1===t.coordinates.length?(t.type="Polygon",t.coordinates=t.coordinates[0],t):(t.type="MultiPolygon",t))},a.prototype.parsePolygon=function(t){return this.polyFuncs(this.parsePolyline(t))},a.prototype.parseZPolygon=function(t){return this.polyFuncs(this.parseZPolyline(t))};var s={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};a.prototype.shpFuncs=function(t){var e=this.getShpCode();if(e>20&&(e-=20),!(e in s))throw new Error("I don't know that shp type");this.parseFunc=this[s[e]],this.parseCoord=o(t)},a.prototype.getShpCode=function(){return this.parseHeader().shpCode},a.prototype.parseHeader=function(){var t=this.buffer.slice(0,100);return{length:t.readInt32BE(24),version:t.readInt32LE(28),shpCode:t.readInt32LE(32),bbox:[t.readDoubleLE(36),t.readDoubleLE(44),t.readDoubleLE(52),t.readDoubleLE(52)]}},a.prototype.getRows=function(){for(var t,e=100,n=this.buffer.byteLength,i=[];e<n;)t=this.getRow(e),e+=8,e+=t.len,t.type&&i.push(this.parseFunc(t.data));return i},a.prototype.getRow=function(t){var e=this.buffer.slice(t,t+12),n=e.readInt32BE(4)<<1,i=this.buffer.slice(t+12,t+n+8);return{id:e.readInt32BE(0),len:n,data:i,type:e.readInt32LE(8)}},e.exports=function(t,e){return new a(t,e).rows}},{}],aZ4O:[function(t,e,n){arguments[3],arguments[3];!function(n){"use strict";function i(t,e,n){return e<=t&&t<=n}function r(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function o(t){return 0<=t&&t<=127}function a(t){this.tokens=[].slice.call(t),this.tokens.reverse()}function s(t,e){if(t)throw TypeError("Decoder error");return e||65533}function l(t){throw TypeError("The code point "+t+" could not be encoded.")}function u(t){return t=String(t).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(U,t)?U[t]:null}function c(t,e){return e&&e[t]||null}function d(t,e){var n=e.indexOf(t);return-1===n?null:n}function h(t){if(!("encoding-indexes"in n))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return n["encoding-indexes"][t]}function f(t,e){if(!(this instanceof f))throw TypeError("Called as a function. Did you forget 'new'?");t=void 0!==t?String(t):W,e=r(e),this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var n=u(t);if(null===n||"replacement"===n.name)throw RangeError("Unknown encoding: "+t);if(!z[n.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");return this._encoding=n,Boolean(e.fatal)&&(this._error_mode="fatal"),Boolean(e.ignoreBOM)&&(this._ignoreBOM=!0),Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM),this}function p(t,e){if(!(this instanceof p))throw TypeError("Called as a function. Did you forget 'new'?");if(e=r(e),this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(e.fatal)?"fatal":"replacement",Boolean(e.NONSTANDARD_allowLegacyEncoding)){var i=u(t=void 0!==t?String(t):W);if(null===i||"replacement"===i.name)throw RangeError("Unknown encoding: "+t);if(!V[i.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=i}else this._encoding=u("utf-8"),void 0!==t&&"console"in n&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");return Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase()),this}function m(t){var e=t.fatal,n=0,r=0,o=0,a=128,l=191;this.handler=function(t,u){if(u===F&&0!==o)return o=0,s(e);if(u===F)return $;if(0===o){if(i(u,0,127))return u;if(i(u,194,223))o=1,n=31&u;else if(i(u,224,239))224===u&&(a=160),237===u&&(l=159),o=2,n=15&u;else{if(!i(u,240,244))return s(e);240===u&&(a=144),244===u&&(l=143),o=3,n=7&u}return null}if(!i(u,a,l))return n=o=r=0,a=128,l=191,t.prepend(u),s(e);if(a=128,l=191,n=n<<6|63&u,(r+=1)!==o)return null;var c=n;return n=o=r=0,c}}function g(t){t.fatal,this.handler=function(t,e){if(e===F)return $;if(N(e))return e;var n,r;i(e,128,2047)?(n=1,r=192):i(e,2048,65535)?(n=2,r=224):i(e,65536,1114111)&&(n=3,r=240);for(var o=[(e>>6*n)+r];n>0;){var a=e>>6*(n-1);o.push(128|63&a),n-=1}return o}}function v(t,e){var n=e.fatal;this.handler=function(e,i){if(i===F)return $;if(o(i))return i;var r=t[i-128];return null===r?s(n):r}}function y(t,e){e.fatal,this.handler=function(e,n){if(n===F)return $;if(N(n))return n;var i=d(n,t);return null===i&&l(n),i+128}}function _(t){var e=t.fatal,n=0,r=0,a=0;this.handler=function(t,l){if(l===F&&0===n&&0===r&&0===a)return $;var u;if(l!==F||0===n&&0===r&&0===a||(n=0,r=0,a=0,s(e)),0!==a){u=null,i(l,48,57)&&(u=function(t){if(t>39419&&t<189e3||t>1237575)return null;if(7457===t)return 59335;var e,n=0,i=0,r=h("gb18030-ranges");for(e=0;e<r.length;++e){var o=r[e];if(!(o[0]<=t))break;n=o[0],i=o[1]}return i+t-n}(10*(126*(10*(n-129)+r-48)+a-129)+l-48));var d=[r,a,l];return n=0,r=0,a=0,null===u?(t.prepend(d),s(e)):u}if(0!==r)return i(l,129,254)?(a=l,null):(t.prepend([r,l]),n=0,r=0,s(e));if(0!==n){if(i(l,48,57))return r=l,null;var f=n,p=null;n=0;var m=l<127?64:65;return(i(l,64,126)||i(l,128,254))&&(p=190*(f-129)+(l-m)),null===(u=null===p?null:c(p,h("gb18030")))&&o(l)&&t.prepend(l),null===u?s(e):u}return o(l)?l:128===l?8364:i(l,129,254)?(n=l,null):s(e)}}function b(t,e){t.fatal,this.handler=function(t,n){if(n===F)return $;if(N(n))return n;if(58853===n)return l(n);if(e&&8364===n)return 128;var i=d(n,h("gb18030"));if(null!==i){var r=i%190;return[D(i/190)+129,r+(r<63?64:65)]}if(e)return l(n);i=function(t){if(59335===t)return 7457;var e,n=0,i=0,r=h("gb18030-ranges");for(e=0;e<r.length;++e){var o=r[e];if(!(o[1]<=t))break;n=o[1],i=o[0]}return i+t-n}(n);var o=D(i/10/126/10),a=D((i-=10*o*126*10)/10/126),s=D((i-=10*a*126)/10);return[o+129,a+48,s+129,i-10*s+48]}}function E(t){var e=t.fatal,n=0;this.handler=function(t,r){if(r===F&&0!==n)return n=0,s(e);if(r===F&&0===n)return $;if(0!==n){var a=n,l=null;n=0;var u=r<127?64:98;switch((i(r,64,126)||i(r,161,254))&&(l=157*(a-129)+(r-u)),l){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var d=null===l?null:c(l,h("big5"));return null===d&&o(r)&&t.prepend(r),null===d?s(e):d}return o(r)?r:i(r,129,254)?(n=r,null):s(e)}}function x(t){t.fatal,this.handler=function(t,e){if(e===F)return $;if(N(e))return e;var n=function(t){var e=H=H||h("big5").map(function(t,e){return e<5024?null:t});return 9552===t||9566===t||9569===t||9578===t||21313===t||21317===t?e.lastIndexOf(t):d(t,e)}(e);if(null===n)return l(e);var i=D(n/157)+129;if(i<161)return l(e);var r=n%157;return[i,r+(r<63?64:98)]}}function C(t){var e=t.fatal,n=!1,r=0;this.handler=function(t,a){if(a===F&&0!==r)return r=0,s(e);if(a===F&&0===r)return $;if(142===r&&i(a,161,223))return r=0,65216+a;if(143===r&&i(a,161,254))return n=!0,r=a,null;if(0!==r){var l=r;r=0;var u=null;return i(l,161,254)&&i(a,161,254)&&(u=c(94*(l-161)+(a-161),h(n?"jis0212":"jis0208"))),n=!1,i(a,161,254)||t.prepend(a),null===u?s(e):u}return o(a)?a:142===a||143===a||i(a,161,254)?(r=a,null):s(e)}}function T(t){t.fatal,this.handler=function(t,e){if(e===F)return $;if(N(e))return e;if(165===e)return 92;if(8254===e)return 126;if(i(e,65377,65439))return[142,e-65377+161];8722===e&&(e=65293);var n=d(e,h("jis0208"));return null===n?l(e):[D(n/94)+161,n%94+161]}}function w(t){var e=t.fatal,n=0,r=1,o=2,a=3,l=4,u=5,d=6,f=n,p=n,m=0,g=!1;this.handler=function(t,v){switch(f){default:case n:return 27===v?(f=u,null):i(v,0,127)&&14!==v&&15!==v&&27!==v?(g=!1,v):v===F?$:(g=!1,s(e));case r:return 27===v?(f=u,null):92===v?(g=!1,165):126===v?(g=!1,8254):i(v,0,127)&&14!==v&&15!==v&&27!==v&&92!==v&&126!==v?(g=!1,v):v===F?$:(g=!1,s(e));case o:return 27===v?(f=u,null):i(v,33,95)?(g=!1,65344+v):v===F?$:(g=!1,s(e));case a:return 27===v?(f=u,null):i(v,33,126)?(g=!1,m=v,f=l,null):v===F?$:(g=!1,s(e));case l:if(27===v)return f=u,s(e);if(i(v,33,126)){f=a;var y=c(94*(m-33)+v-33,h("jis0208"));return null===y?s(e):y}return v===F?(f=a,t.prepend(v),s(e)):(f=a,s(e));case u:return 36===v||40===v?(m=v,f=d,null):(t.prepend(v),g=!1,f=p,s(e));case d:var _=m;m=0;var b=null;if(40===_&&66===v&&(b=n),40===_&&74===v&&(b=r),40===_&&73===v&&(b=o),36!==_||64!==v&&66!==v||(b=a),null!==b){f=f=b;var E=g;return g=!0,E?s(e):null}return t.prepend([_,v]),g=!1,f=p,s(e)}}}function S(t){t.fatal;var e=0,n=1,i=2,r=e;this.handler=function(t,o){if(o===F&&r!==e)return t.prepend(o),r=e,[27,40,66];if(o===F&&r===e)return $;if(!(r!==e&&r!==n||14!==o&&15!==o&&27!==o))return l(65533);if(r===e&&N(o))return o;if(r===n&&(N(o)&&92!==o&&126!==o||165==o||8254==o)){if(N(o))return o;if(165===o)return 92;if(8254===o)return 126}if(N(o)&&r!==e)return t.prepend(o),r=e,[27,40,66];if((165===o||8254===o)&&r!==n)return t.prepend(o),r=n,[27,40,74];8722===o&&(o=65293);var a=d(o,h("jis0208"));return null===a?l(o):r!==i?(t.prepend(o),r=i,[27,36,66]):[D(a/94)+33,a%94+33]}}function M(t){var e=t.fatal,n=0;this.handler=function(t,r){if(r===F&&0!==n)return n=0,s(e);if(r===F&&0===n)return $;if(0!==n){var a=n,l=null;n=0;var u=r<127?64:65,d=a<160?129:193;if((i(r,64,126)||i(r,128,252))&&(l=188*(a-d)+r-u),i(l,8836,10715))return 48508+l;var f=null===l?null:c(l,h("jis0208"));return null===f&&o(r)&&t.prepend(r),null===f?s(e):f}return o(r)||128===r?r:i(r,161,223)?65216+r:i(r,129,159)||i(r,224,252)?(n=r,null):s(e)}}function j(t){t.fatal,this.handler=function(t,e){if(e===F)return $;if(N(e)||128===e)return e;if(165===e)return 92;if(8254===e)return 126;if(i(e,65377,65439))return e-65377+161;8722===e&&(e=65293);var n=function(t){return(B=B||h("jis0208").map(function(t,e){return i(e,8272,8835)?null:t})).indexOf(t)}(e);if(null===n)return l(e);var r=D(n/188),o=n%188;return[r+(r<31?129:193),o+(o<63?64:65)]}}function O(t){var e=t.fatal,n=0;this.handler=function(t,r){if(r===F&&0!==n)return n=0,s(e);if(r===F&&0===n)return $;if(0!==n){var a=n,l=null;n=0,i(r,65,254)&&(l=190*(a-129)+(r-65));var u=null===l?null:c(l,h("euc-kr"));
return null===l&&o(r)&&t.prepend(r),null===u?s(e):u}return o(r)?r:i(r,129,254)?(n=r,null):s(e)}}function A(t){t.fatal,this.handler=function(t,e){if(e===F)return $;if(N(e))return e;var n=d(e,h("euc-kr"));return null===n?l(e):[D(n/190)+129,n%190+65]}}function R(t,e){var n=t>>8,i=255&t;return e?[n,i]:[i,n]}function P(t,e){var n=e.fatal,r=null,o=null;this.handler=function(e,a){if(a===F&&(null!==r||null!==o))return s(n);if(a===F&&null===r&&null===o)return $;if(null===r)return r=a,null;var l;if(l=t?(r<<8)+a:(a<<8)+r,r=null,null!==o){var u=o;return o=null,i(l,56320,57343)?65536+1024*(u-55296)+(l-56320):(e.prepend(R(l,t)),s(n))}return i(l,55296,56319)?(o=l,null):i(l,56320,57343)?s(n):l}}function I(t,e){e.fatal,this.handler=function(e,n){if(n===F)return $;if(i(n,0,65535))return R(n,t);var r=R(55296+(n-65536>>10),t),o=R(56320+(n-65536&1023),t);return r.concat(o)}}function L(t){t.fatal,this.handler=function(t,e){return e===F?$:o(e)?e:63360+e-128}}function k(t){t.fatal,this.handler=function(t,e){return e===F?$:N(e)?e:i(e,63360,63487)?e-63360+128:l(e)}}"undefined"!=typeof e&&e.exports&&!n["encoding-indexes"]&&t("./encoding-indexes.js");var D=Math.floor,N=o,F=-1;a.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.pop():F},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.pop());else this.tokens.push(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.shift());else this.tokens.unshift(t)}};var $=-1,G=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","ascii","cp1252","cp819","csisolatin1","ibm819","iso-8859-1","iso-ir-100","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","us-ascii","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],U={};G.forEach(function(t){t.encodings.forEach(function(t){t.labels.forEach(function(e){U[e]=t})})});var B,H,V={},z={},W="utf-8";Object.defineProperty&&(Object.defineProperty(f.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(f.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(f.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}})),f.prototype.decode=function(t,e){var n;n="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=r(e),this._do_not_flush||(this._decoder=z[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1),this._do_not_flush=Boolean(e.stream);for(var i,o=new a(n),s=[];;){var l=o.read();if(l===F)break;if((i=this._decoder.handler(o,l))===$)break;null!==i&&(Array.isArray(i)?s.push.apply(s,i):s.push(i))}if(!this._do_not_flush){do{if((i=this._decoder.handler(o,o.read()))===$)break;null!==i&&(Array.isArray(i)?s.push.apply(s,i):s.push(i))}while(!o.endOfStream());this._decoder=null}return function(t){var e,n;return e=["UTF-8","UTF-16LE","UTF-16BE"],n=this._encoding.name,-1===e.indexOf(n)||this._ignoreBOM||this._BOMseen||(t.length>0&&65279===t[0]?(this._BOMseen=!0,t.shift()):t.length>0&&(this._BOMseen=!0)),function(t){for(var e="",n=0;n<t.length;++n){var i=t[n];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode(55296+(i>>10),56320+(1023&i)))}return e}(t)}.call(this,s)},Object.defineProperty&&Object.defineProperty(p.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),p.prototype.encode=function(t,e){t=void 0===t?"":String(t),e=r(e),this._do_not_flush||(this._encoder=V[this._encoding.name]({fatal:"fatal"===this._fatal})),this._do_not_flush=Boolean(e.stream);for(var n,i=new a(function(t){for(var e=String(t),n=e.length,i=0,r=[];i<n;){var o=e.charCodeAt(i);if(o<55296||o>57343)r.push(o);else if(56320<=o&&o<=57343)r.push(65533);else if(55296<=o&&o<=56319)if(i===n-1)r.push(65533);else{var a=e.charCodeAt(i+1);if(56320<=a&&a<=57343){var s=1023&o,l=1023&a;r.push(65536+(s<<10)+l),i+=1}else r.push(65533)}i+=1}return r}(t)),o=[];;){var s=i.read();if(s===F)break;if((n=this._encoder.handler(i,s))===$)break;Array.isArray(n)?o.push.apply(o,n):o.push(n)}if(!this._do_not_flush){for(;(n=this._encoder.handler(i,i.read()))!==$;)Array.isArray(n)?o.push.apply(o,n):o.push(n);this._encoder=null}return new Uint8Array(o)},V["UTF-8"]=function(t){return new g(t)},z["UTF-8"]=function(t){return new m(t)},"encoding-indexes"in n&&G.forEach(function(t){"Legacy single-byte encodings"===t.heading&&t.encodings.forEach(function(t){var e=t.name,n=h(e.toLowerCase());z[e]=function(t){return new v(n,t)},V[e]=function(t){return new y(n,t)}})}),z.GBK=function(t){return new _(t)},V.GBK=function(t){return new b(t,(!0))},V.gb18030=function(t){return new b(t)},z.gb18030=function(t){return new _(t)},V.Big5=function(t){return new x(t)},z.Big5=function(t){return new E(t)},V["EUC-JP"]=function(t){return new T(t)},z["EUC-JP"]=function(t){return new C(t)},V["ISO-2022-JP"]=function(t){return new S(t)},z["ISO-2022-JP"]=function(t){return new w(t)},V.Shift_JIS=function(t){return new j(t)},z.Shift_JIS=function(t){return new M(t)},V["EUC-KR"]=function(t){return new A(t)},z["EUC-KR"]=function(t){return new O(t)},V["UTF-16BE"]=function(t){return new I((!0),t)},z["UTF-16BE"]=function(t){return new P((!0),t)},V["UTF-16LE"]=function(t){return new I((!1),t)},z["UTF-16LE"]=function(t){return new P((!1),t)},V["x-user-defined"]=function(t){return new k(t)},z["x-user-defined"]=function(t){return new L(t)},n.TextEncoder||(n.TextEncoder=p),n.TextDecoder||(n.TextDecoder=f),"undefined"!=typeof e&&e.exports&&(e.exports={TextEncoder:n.TextEncoder,TextDecoder:n.TextDecoder,EncodingIndexes:n["encoding-indexes"]})}(this||{})},{"./encoding-indexes.js":"mQfy"}],A4NG:[function(t,e,n){e.exports=t("./lib/encoding.js")},{"./lib/encoding.js":"aZ4O"}],Wugr:[function(t,e,n){function i(t,e){for(var n in t)e[n]=t[n]}function r(t,e,n){return a(t,e,n)}var o=t("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(i(o,n),n.Buffer=r),r.prototype=Object.create(a.prototype),i(a,r),r.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},r.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=a(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},r.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},r.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:"dskh"}],z0rv:[function(t,e,n){"use strict";function i(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function r(t){var e=i(t);if("string"!=typeof e&&(y.isEncoding===_||!_(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){var e;switch(this.encoding=r(t),this.encoding){case"utf16le":this.text=h,this.end=f,e=4;break;case"utf8":this.fillLast=u,e=4;break;case"base64":this.text=p,this.end=m,e=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t,e,n){var i=e.length-1;if(i<n)return 0;var r=a(e[i]);return r>=0?(r>0&&(t.lastNeed=r-1),r):--i<n||-2===r?0:(r=a(e[i]))>=0?(r>0&&(t.lastNeed=r-2),r):--i<n||-2===r?0:(r=a(e[i]))>=0?(r>0&&(2===r?r=0:t.lastNeed=r-3),r):0}function l(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}function u(t){var e=this.lastTotal-this.lastNeed,n=l(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){var n=s(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function h(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function f(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function p(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function m(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function g(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}var y=t("safe-buffer").Buffer,_=y.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=d,o.prototype.text=c,o.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},{"safe-buffer":"Wugr"}],WJJW:[function(t,e,n){function i(t){var e=new o;return(e.write(t)+e.end()).replace(/\0/g,"").trim()}function r(t){if(!t)return i;try{new TextDecoder(t.trim())}catch(e){var n=a.exec(t);n&&(t="windows-"+n[1])}return function(e){var n=new TextDecoder(t);return(n.decode(e,{stream:!0})+n.decode()).replace(/\0/g,"").trim()}}t("text-encoding-polyfill");var o=t("string_decoder").StringDecoder;e.exports=r;var a=/^(?:ASNI\s)?(\d+)$/m},{"text-encoding-polyfill":"A4NG",string_decoder:"z0rv"}],QzSK:[function(t,e,n){function i(t){var e={};return e.lastUpdated=new Date(t.readUInt8(1)+1900,t.readUInt8(2),t.readUInt8(3)),e.records=t.readUInt32LE(4),e.headerLen=t.readUInt16LE(8),e.recLen=t.readUInt16LE(10),e}function r(t,e,n){for(var i=[],r=32;r<e&&(i.push({name:n(t.slice(r,r+11)),dataType:String.fromCharCode(t.readUInt8(r+11)),len:t.readUInt8(r+16),decimal:t.readUInt8(r+17)}),13!==t.readUInt8(r+32));)r+=32;return i}function o(t,e,n,i,r){var o=r(t.slice(e,e+n));switch(i){case"N":case"F":case"O":return parseFloat(o,10);case"D":return new Date(o.slice(0,4),parseInt(o.slice(4,6),10)-1,o.slice(6,8));case"L":return"y"===o.toLowerCase()||"t"===o.toLowerCase();default:return o}}function a(t,e,n,i){for(var r,a,s={},l=0,u=n.length;l<u;)r=o(t,e,(a=n[l]).len,a.dataType,i),e+=a.len,void 0!==r&&(s[a.name]=r),l++;return s}var s=t("./decoder");e.exports=function(t,e){for(var n=s(e),o=i(t),l=r(t,o.headerLen-1,n),u=2+(l.length+1<<5),c=o.recLen,d=o.records,h=[];d;)h.push(a(t,u,l,n)),u+=c,d--;return h}},{"./decoder":"WJJW"}],fOR4:[function(t,e,n){!function(){function t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function n(){return 1}function i(t){d||"string"==typeof t||"number"==typeof t||(d=!0,console.error(new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof t).stack))}function r(t){return this instanceof r?("number"==typeof t&&(t={max:t}),t||(t={}),this._max=t.max,(!this._max||"number"!=typeof this._max||this._max<=0)&&(this._max=1/0),this._lengthCalculator=t.length||n,"function"!=typeof this._lengthCalculator&&(this._lengthCalculator=n),this._allowStale=t.stale||!1,this._maxAge=t.maxAge||null,this._dispose=t.dispose,this.reset(),void 0):new r(t)}function o(t,e,n){i(e);var r=t._cache[e];return r&&(a(t,r)?(u(t,r),t._allowStale||(r=void 0)):n&&function(t,e){l(t,e),e.lu=t._mru++,t._lruList[e.lu]=e}(t,r),r&&(r=r.value)),r}function a(t,e){if(!e||!e.maxAge&&!t._maxAge)return!1;var n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t._maxAge&&n>t._maxAge}function s(t){for(;t._lru<t._mru&&t._length>t._max;)u(t,t._lruList[t._lru])}function l(t,e){for(delete t._lruList[e.lu];t._lru<t._mru&&!t._lruList[t._lru];)t._lru++}function u(t,e){e&&(t._dispose&&t._dispose(e.key,e.value),t._length-=e.length,t._itemCount--,delete t._cache[e.key],l(t,e))}function c(t,e,n,i,r,o){this.key=t,this.value=e,this.lu=n,this.length=i,this.now=r,o&&(this.maxAge=o)}"object"==typeof e&&e.exports?e.exports=r:this.LRUCache=r;var d=!1;Object.defineProperty(r.prototype,"max",{set:function(t){(!t||"number"!=typeof t||t<=0)&&(t=1/0),this._max=t,this._length>this._max&&s(this)},get:function(){return this._max},enumerable:!0}),Object.defineProperty(r.prototype,"lengthCalculator",{set:function(t){if("function"!=typeof t)for(var e in this._lengthCalculator=n,this._length=this._itemCount,this._cache)this._cache[e].length=1;else for(var e in this._lengthCalculator=t,this._length=0,this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=this._cache[e].length;this._length>this._max&&s(this)},get:function(){return this._lengthCalculator},enumerable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this._length},enumerable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0}),r.prototype.forEach=function(t,e){e=e||this;for(var n=0,i=this._itemCount,r=this._mru-1;r>=0&&n<i;r--)if(this._lruList[r]){n++;var o=this._lruList[r];a(this,o)&&(u(this,o),this._allowStale||(o=void 0)),o&&t.call(e,o.value,o.key,this)}},r.prototype.keys=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var i=this._lruList[n];t[e++]=i.key}return t},r.prototype.values=function(){for(var t=new Array(this._itemCount),e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var i=this._lruList[n];t[e++]=i.value}return t},r.prototype.reset=function(){if(this._dispose&&this._cache)for(var t in this._cache)this._dispose(t,this._cache[t].value);this._cache=Object.create(null),this._lruList=Object.create(null),this._mru=0,this._lru=0,this._length=0,this._itemCount=0},r.prototype.dump=function(){for(var t=[],e=0,n=this._mru-1;n>=0&&e<this._itemCount;n--)if(this._lruList[n]){var i=this._lruList[n];a(this,i)||(++e,t.push({k:i.key,v:i.value,e:i.now+(i.maxAge||0)}))}return t},r.prototype.dumpLru=function(){return this._lruList},r.prototype.set=function(e,n,r){r=r||this._maxAge,i(e);var o=r?Date.now():0,a=this._lengthCalculator(n);if(t(this._cache,e))return a>this._max?(u(this,this._cache[e]),!1):(this._dispose&&this._dispose(e,this._cache[e].value),this._cache[e].now=o,this._cache[e].maxAge=r,this._cache[e].value=n,this._length+=a-this._cache[e].length,this._cache[e].length=a,this.get(e),this._length>this._max&&s(this),!0);var l=new c(e,n,(this._mru++),a,o,r);return l.length>this._max?(this._dispose&&this._dispose(e,n),!1):(this._length+=l.length,this._lruList[l.lu]=this._cache[e]=l,this._itemCount++,this._length>this._max&&s(this),!0)},r.prototype.has=function(e){return i(e),!!t(this._cache,e)&&!a(this,this._cache[e])},r.prototype.get=function(t){return i(t),o(this,t,!0)},r.prototype.peek=function(t){return i(t),o(this,t,!1)},r.prototype.pop=function(){var t=this._lruList[this._lru];return u(this,t),t||null},r.prototype.del=function(t){i(t),u(this,this._cache[t])},r.prototype.load=function(t){this.reset();for(var e=Date.now(),n=t.length-1;n>=0;n--){var r=t[n];i(r.k);var o=r.e||0;if(0===o)this.set(r.k,r.v);else{var a=o-e;a>0&&this.set(r.k,r.v,a)}}}}()},{}],YEQ1:[function(t,e,n){function i(t){if(!t)throw new Error("forgot to pass buffer");return a.isBuffer(t)?t:t instanceof s.ArrayBuffer?new a(t):t.buffer instanceof s.ArrayBuffer?new a(1===t.BYTES_PER_ELEMENT?t:t.buffer):void 0}function r(t,e){return"string"==typeof t&&m.has(t)?f.resolve(m.get(t)):r.getShapefile(t,e).then(function(e){return"string"==typeof t&&m.set(t,e),e})}function o(t,e){return c(t).then(function(t){return r.parseZip(t,e)})}var a=(t("buffer").Buffer,arguments[3],t("buffer").Buffer),s=arguments[3],l=t("proj4");l["default"]&&(l=l["default"]);var u=t("./unzip"),c=t("./binaryajax"),d=t("./parseShp"),h=t("parsedbf"),f=t("lie"),p=t("lru-cache"),m=new p({max:20});r.combine=function(t){for(var e={type:"FeatureCollection",features:[]},n=0,i=t[0].length;n<i;)e.features.push({type:"Feature",geometry:t[0][n],properties:t[1][n]}),n++;return e},r.parseZip=function(t,e){var n;t=i(t);var o=u(t),a=[];for(n in e=e||[],o)-1===n.indexOf("__MACOSX")&&("shp"===n.slice(-3).toLowerCase()?(a.push(n.slice(0,-4)),o[n.slice(0,-3)+n.slice(-3).toLowerCase()]=o[n]):"prj"===n.slice(-3).toLowerCase()?o[n.slice(0,-3)+n.slice(-3).toLowerCase()]=l(o[n]):"json"===n.slice(-4).toLowerCase()||e.indexOf(n.split(".").pop())>-1?a.push(n.slice(0,-3)+n.slice(-3).toLowerCase()):"dbf"!==n.slice(-3).toLowerCase()&&"cpg"!==n.slice(-3).toLowerCase()||(o[n.slice(0,-3)+n.slice(-3).toLowerCase()]=o[n]));if(!a.length)throw new Error("no layers founds");var s=a.map(function(t){var n,i,a=t.lastIndexOf(".");return a>-1&&t.slice(a).indexOf("json")>-1?(n=JSON.parse(o[t])).fileName=t.slice(0,a):e.indexOf(t.slice(a+1))>-1?(n=o[t]).fileName=t:(o[t+".dbf"]&&(i=h(o[t+".dbf"],o[t+".cpg"])),(n=r.combine([d(o[t+".shp"],o[t+".prj"]),i])).fileName=t),n});return 1===s.length?s[0]:s},r.getShapefile=function(t,e){return"string"==typeof t?".zip"===t.slice(-4).toLowerCase()?o(t,e):f.all([f.all([c(t+".shp"),c(t+".prj")]).then(function(t){return d(t[0],!!t[1]&&l(t[1]))}),f.all([c(t+".dbf"),c(t+".cpg")]).then(function(t){return h(t[0],t[1])})]).then(r.combine):new f(function(e){e(r.parseZip(t))})},r.parseShp=function(t,e){return t=i(t),a.isBuffer(e)&&(e=e.toString()),"string"==typeof e?(e=l(e),d(t,e)):d(t)},r.parseDbf=function(t,e){return t=i(t),h(t,e)},e.exports=r},{proj4:"HchQ","./unzip":"maFN","./binaryajax":"daZ4","./parseShp":"Ff1v",parsedbf:"QzSK",lie:"xz3w","lru-cache":"fOR4",buffer:"dskh"}],n2Cr:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/style/Fill")),o=i(t("ol/style/Stroke")),a=i(t("ol/style/Style")),s=i(t("ol/geom/Point")),l=i(t("ol/style/Circle")),u=i(t("ol/source/Vector")),c=i(t("ol/format/GPX")),d=i(t("ol/Collection")),h=t("ol/interaction"),f=i(t("ol/Feature")),p=i(t("ol/geom/LineString")),m=t("ol/events/condition"),g=i(t("ol/layer/Vector")),v=i(t("ol/format/GeoJSON")),y=i(t("shpjs")),_=t("../inherits"),b=t("../config"),E={read:{stroke:new o["default"]({color:"rgba(63, 81, 181, 1)",width:3}),fill:new r["default"]({color:"rgba(63, 81, 181, 0.1)"})},select:{stroke:new o["default"]({color:"rgba(33, 150, 243, 1)",width:3}),fill:new r["default"]({color:"rgba(33, 150, 243, 0.1)"})}},x={select:{stroke:new o["default"]({color:"white",width:4})}},C={read:{radius:6,stroke:new o["default"]({color:"#E8EAF6",width:2}),fill:new r["default"]({color:"#7986CB"})},select:{radius:6,stroke:new o["default"]({color:"#E3F2FD",width:2}),fill:new r["default"]({color:"#64B5F6"})}},T=function(t){var e=E[t],n=x[t],i=C[t];return function(t){var r=t.getGeometry(),o=[new a["default"](n),new a["default"](e),new a["default"]({geometry:function(t){return new s["default"](t.getGeometry().getCoordinates()[0])},image:new l["default"](i)})].filter(function(t){return t});return"LineString"===r.getType()&&r.forEachSegment(function(t,e){o.push(new a["default"]({geometry:new s["default"](e),image:new l["default"](i)}))}),o}},w=function(t){var e=t||{};e=Object.assign({source:new u["default"]({}),format:new c["default"],style:T("read")},e),g["default"].call(this,e);var n=this;this.luminosity_=b.Luminosity.DAY,this.__listenSimpleClickKey=null,this.__points=new d["default"]([]),this.__mode="readonly",this.__selectedCoordinateOnContextMenu=null,this.__selectedFeatureOnContextMenu=null,this.__contextMenuHandler=this.__onContextMenuEvent.bind(this),this.__drawInteraction=new h.Draw({source:this.getSource(),type:"LineString",layers:[this]}),this.__selectInteraction=new h.Select({layers:[this],style:T("select")}),this.__selectedFeatures=this.__selectInteraction.getFeatures(),this.__modifyInteraction=new h.Modify({features:this.__selectedFeatures,deleteCondition:function(t){return(0,m.shiftKeyOnly)(t)&&(0,m.singleClick)(t)}}),this.__drawInteraction.on("drawend",function(t){t.feature.setId(Math.random().toString(36))}),this.__selectedFeatures.on("add",function(t){$(document).on("keyup",function(t){46===t.keyCode&&n.__selectedFeatures.forEach(function(t){n.__selectedFeatures.remove(t),n.getSource().getFeatures().forEach(function(e){e.getId()===t.getId()&&n.getSource().removeFeature(e)})})})})};(0,_.inherits)(w,g["default"]),w.prototype.setMap=function(t){this.map_=t},w.prototype.readonlyMode=function(){this.__mode="readonly",this.map_&&(this.map_.removeInteraction(this.__selectInteraction),this.map_.removeInteraction(this.__modifyInteraction),this.map_.removeInteraction(this.__drawInteraction),this.map_.getViewport().removeEventListener("contextmenu",this.__contextMenuHandler))},w.prototype.addMode=function(){this.__mode="add",this.map_&&(this.map_.removeInteraction(this.__selectInteraction),this.map_.removeInteraction(this.__modifyInteraction),this.map_.addInteraction(this.__drawInteraction),this.map_.getViewport().removeEventListener("contextmenu",this.__contextMenuHandler))},w.prototype.editMode=function(){this.__mode="edit",this.map_&&(this.map_.addInteraction(this.__selectInteraction),this.map_.addInteraction(this.__modifyInteraction),this.map_.removeInteraction(this.__drawInteraction),this.map_.getViewport().addEventListener("contextmenu",this.__contextMenuHandler))},w.prototype.getMode=function(){return this.__mode},w.prototype.exportAs=function(t){return t&&"gpx"!==t.toLowerCase()?"csv"===t.toLowerCase()?this.__exportAsCSV():"html"===t.toLowerCase()?this.__exportAsHTML():"rtz"===t.toLowerCase()?this.__exportAsRTZ():void 0:this.__exportAsGPX()},w.prototype.importFrom=function(t){if(t&&t.name){var e=t.name.split(".").pop();if(!e||"gpx"===e.toLowerCase())return this.__importFromGPX(t);if(!e||"rtz"===e.toLowerCase())return this.__importFromRTZ(t);if(!e||"zip"===e.toLowerCase())return this.__importFromShapeFile(t)}},w.prototype.removeAll=function(){this.getSource().clear(),this.__selectInteraction.getFeatures().clear(),this.map_.render()},w.prototype.updateSelectedCoordinates=function(t){t=t.map(function(t){return parseFloat(t)});var e=this,n=this.__selectedFeatureOnContextMenu.getGeometry().getCoordinates().map(function(n){return n[0]===e.__selectedCoordinateOnContextMenu[0]&&n[1]===e.__selectedCoordinateOnContextMenu[1]?transform(t,"EPSG:4326","EPSG:3857"):n});this.__selectedFeatureOnContextMenu.getGeometry().setCoordinates(n)},w.prototype.__importFromRTZ=function(t){var e=this,n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(t){var n=$(t.target.result).filter("route"),i=n.children("waypoints");console.log(n.children("waypoints")),i.each(function(t){var n=[],r=$(i[t]).children("waypoint");r.each(function(t){var e=r[t].querySelector("position"),i=transform([parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))],"EPSG:4326","EPSG:3857");n.push(i)});var o=new f["default"](new p["default"](n));e.getSource().addFeature(o)})}},w.prototype.__importFromGPX=function(t){var e=this,n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(t){var n=(new c["default"]).readFeatures(t.target.result,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"});(n=n.filter(function(t){return"LineString"===t.getGeometry().getType()})).map(function(t){t.setId(Math.random().toString(36))}),e.getSource().addFeatures(n)}},w.prototype.__importFromShapeFile=function(t){var e=this,n=new FileReader;n.readAsArrayBuffer(t),n.onload=function(t){(0,y["default"])(t.target.result).then(function(t){var n=(new v["default"]).readFeatures(t).filter(function(t){return"LineString"===t.getGeometry().getType()||"Polygon"===t.getGeometry().getType()});n.forEach(function(t){console.log(t.getGeometry().getCoordinates()),t.getGeometry().transform("EPSG:4326","EPSG:3857"),console.log(t.getGeometry().getCoordinates())}),e.getSource().addFeatures(n)})["catch"](function(t){console.log(t)})}},w.prototype.__exportAsGPX=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326();return(new c["default"]).writeFeatures(t)},w.prototype.__exportAsCSV=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326(),e="route;point;longitude;latitude\n",n=1;return t.forEach(function(t){var i=t.getGeometry().getCoordinates();if(Array.isArray(i)){var r=1;i.forEach(function(t){e+=n+";"+r+";"+t[0]+";"+t[1]+"\n",r++})}e+=";;;\n",n++}),e},w.prototype.__exportAsHTML=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326(),e=1,n=[];return t.forEach(function(t){var i=t.getGeometry().getCoordinates(),r=[];if(Array.isArray(i)){var o=1;i.forEach(function(t){r.push("<tr><td>"+o+'</td><td class="number">'+t[0]+'</td><td class="number">'+t[1]+"</td></tr>"),o++})}n.push("<h3>Route "+e+"</h3><table><thead><tr><th>Point n</th><th>Longitude</th><th>Latitude</th></tr></thead><tbody>"+r.join("")+"</tbody></table>"),e++}),'<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Custom route export</title><style>table { width: 100%; border-collapse: collapse }th, td { border: 1px solid black; padding: 8px}.number { text-align: right; }</style></head><body>'+n.join("")+"</body></html>"},w.prototype.__exportAsRTZ=function(){var t=this.__getFeaturesFromEPSG3857ToEPSG4326(),e=[];return t.forEach(function(t){var n=t.getGeometry().getCoordinates(),i=[];if(Array.isArray(n)){var r=1;n.forEach(function(t){i.push('<waypoint id="'+r+'" name="orth'+r+'"><position lat="'+t[1]+'" lon="'+t[0]+'"/></waypoint>'),r++})}e.push("<waypoints>"+i.join("")+"</waypoints>")}),'<?xml version="1.0" encoding="UTF-8"?><route xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.acme.com/RTZ/1/0" version="1.0" xsi:schemaLocation="http://www.acme.com/RTZ/1/0 rtz.xsd"><routeInfo routeName="Ortho191373"/>'+e.join("")+"</route>"},w.prototype.__getFeaturesFromEPSG3857ToEPSG4326=function(){var t=[];return this.getSource().forEachFeature(function(e){var n=e.clone();n.getGeometry().transform("EPSG:3857","EPSG:4326"),t.push(n)}),t},w.prototype.__onContextMenuEvent=function(t){t.preventDefault();var e=this.map_.forEachFeatureAtPixel(this.map_.getEventPixel(t),function(t){if(t.getId())return t});if(e){var n=e.getGeometry().getClosestPoint(this.map_.getCoordinateFromPixel(this.map_.getEventPixel(t))),i=Number.MAX_VALUE,r=null;e.getGeometry().getCoordinates().forEach(function(t){new s["default"]([t[0],t[1]]),line=new p["default"]([[t[0],t[1]],[n[0],n[1]]]),i>line.getLength()&&(i=line.getLength(),r=t)}),this.__selectedCoordinateOnContextMenu=r,this.__selectedFeatureOnContextMenu=e,this.__emitContextMenuEvent(r,e)}},w.prototype.__emitContextMenuEvent=function(t,e){var n=new CustomEvent("custom-route-contextmenu",{detail:{coordinate:t||null,feature:e||null}});this.map_.getTargetElement().dispatchEvent(n)},w.prototype.removeRoute=function(t){this.__selectInteraction.getFeatures().clear(),this.getSource().removeFeature(t),this.map_.render()},e.exports=w},{"ol/style/Fill":"vciJ","ol/style/Stroke":"vIbn","ol/style/Style":"aLMx","ol/geom/Point":"FFTU","ol/style/Circle":"b45o","ol/source/Vector":"GKSK","ol/format/GPX":"Ovgf","ol/Collection":"qt30",
"ol/interaction":"VJ6h","ol/Feature":"YPtS","ol/geom/LineString":"x8R2","ol/events/condition":"YmKF","ol/layer/Vector":"sgAj","ol/format/GeoJSON":"csgN",shpjs:"YEQ1","../inherits":"B0d6","../config":"itQ5"}],nT5S:[function(t,e,n){var i=function(t,e,n){this.__name=t||null,this.__visible=!0,this.__opacity=1,this.layer=e||null,this.children=n||[]};i.prototype.setLayer=function(t){this.layer=t},i.prototype.getName=function(){return this.__name},i.prototype.addChild=function(t){this.children.push(t)},i.prototype.removeChild=function(t){var e=this.children.findIndex(function(e){return e.__name===t});-1!==e&&this.children.splice(e,1)},i.prototype.hadChild=function(){return 0!==this.children.length},i.prototype.findChild=function(t){return this.children.find(function(e){return e.__name===t})},i.prototype.getChildren=function(){return this.children},i.prototype.childrenName=function(){return this.children.map(function(t){return t.getName()})},i.prototype.setVisible=function(t){this.__visible=t,this.hadChild()?this.children.forEach(function(e){e&&e.setVisible&&e.setVisible(t)}):this.layer&&this.layer.setVisible&&this.layer.setVisible(t)},i.prototype.getVisible=function(){return this.__visible},i.prototype.setOpacity=function(t){this.__opacity=t,this.hadChild()?this.children.forEach(function(e){e.layer&&e.setOpacity&&e.setOpacity(t)}):this.layer&&this.layer.setOpacity&&this.layer.setOpacity(t)},i.prototype.getOpacity=function(){return this.__opacity},e.exports.BranchLayers=i;var r=function(){this.branches=[new i("layers.boundaries"),new i("layers.commons"),new i("layers.casino"),new i("layers.mission"),new i("layers.custom")]};r.prototype.getChild=function(t){var e=this.branches.find(function(e){return e.__name===t});if(e)return e;throw new Error("Cannot found branch with `"+t+"` in tree")},r.prototype.childrenName=function(){return this.branches.map(function(t){return t.getName()})},e.exports.TreeLayers=r},{}],ArEP:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/Feature")),o=i(t("ol/style/Fill")),a=i(t("ol/style/Stroke")),s=i(t("ol/layer/Vector")),l=i(t("ol/source/Vector")),u=i(t("ol/format/GPX")),c=i(t("ol/geom/Point")),d=t("ol/proj"),h=i(t("ol/style/Style")),f=i(t("ol/style/Icon")),p=t("ol/style"),m=t("../inherits"),g=t("../config"),v={DEBTR:"garnstart.png",FINTR:"garnstopp.png"},y=function(t,e,n){var i=t||{},r=this;i=Object.assign({source:new l["default"]({}),format:new u["default"],style:function(t,e){var n=t.getProperties().event,i=new h["default"]({image:new f["default"]({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:r.__assetsDirectory+"/icons/"+v[n.ActionCode]}),text:new p.Text({font:"12px Calibri,sans-serif",fill:new o["default"]({color:"#000"}),stroke:new a["default"]({color:"#fff",width:2}),offsetY:-25,text:e>300?"":n.Field1+" - "+n.Field2})});return[i]}},i),s["default"].call(this,i),this.luminosity_=g.Luminosity.DAY,this.__data=e,this.__assetsDirectory=n};(0,m.inherits)(y,s["default"]),y.prototype.setMap=function(t){this.map_=t,this.__createFeatures()},y.prototype.__createFeatures=function(){var t=this;this.__data.forEach(function(e){var n=(0,d.transform)([e.Longitude,e.Latitude],"EPSG:4326","EPSG:3857"),i=new r["default"](new c["default"](n));i.setProperties({event:e}),t.getSource().addFeature(i)})},e.exports=y},{"ol/Feature":"YPtS","ol/style/Fill":"vciJ","ol/style/Stroke":"vIbn","ol/layer/Vector":"sgAj","ol/source/Vector":"GKSK","ol/format/GPX":"Ovgf","ol/geom/Point":"FFTU","ol/proj":"aoEo","ol/style/Style":"aLMx","ol/style/Icon":"lB4R","ol/style":"TZKB","../inherits":"B0d6","../config":"itQ5"}],WgVZ:[function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=t("./casino-layer"),o=function(t,e){this.options=t,this.layers={},this.__assetsDirectory=e};o.prototype.loadData=function(t){if(t&&"object"===i(t)){var e=this;Object.keys(t).forEach(function(n){e.layers[n]=new r(this.options,t[n],e.__assetsDirectory)})}},o.prototype.setMap=function(t){var e=this;Object.keys(e.layers).forEach(function(n){e.layers[n].setMap(t),t.addLayer(e.layers[n])})},o.prototype.getLayersName=function(){return Object.keys(this.layers)},e.exports=o},{"./casino-layer":"ArEP"}],ZjmX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/geom/LineString")),o=i(t("ol/layer/Vector")),a=i(t("ol/style/Style")),s=i(t("ol/style/Icon")),l=(i(t("ol/format/GPX")),i(t("ol/Feature"))),u=i(t("ol/style/Stroke")),c=i(t("ol/geom/Point")),d=(i(t("ol/geom/SimpleGeometry")),i(t("ol/Object")),i(t("ol/source/Vector"))),h=t("ol/proj"),f=i(t("ol/style/Fill")),p=t("ol/style"),m=t("../inherits"),g=t("../config"),v={DEBTR:"garnstart.png",FINTR:"garnstopp.png"},y=function(t,e){var n=t||{};this.trace_=new r["default"]([]),this.coordinatesP=[],n.style=function(t,n){return this.setStyleFunction(t,n,e)}.bind(this),o["default"].call(this,n),this.luminosity_=g.Luminosity.DAY,this.setSource(new d["default"]({})),this.setZIndex(20),this.lineFeature=new l["default"]({geometry:this.trace_}),this.traceId=1,this.lineFeature.setId(this.traceId),this.lineFeature.setStyle(new a["default"]({stroke:new u["default"]({color:"#01ff01",width:3})})),this.getSource().addFeature(this.lineFeature)};(0,m.inherits)(y,o["default"]),y.prototype.setStyleFunction=function(t,e,n){var i=t.getProperties().event;return new a["default"]({image:new s["default"]({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:n+"/icons/"+v[i.ActionCode]}),text:new p.Text({font:"12px Calibri,sans-serif",fill:new f["default"]({color:"#000"}),stroke:new u["default"]({color:"#fff",width:2}),offsetY:-25,text:e>300?"":i.Field1+" - "+i.Field2})})},y.prototype.setMap=function(t){this.map_=t},y.prototype.addFeatures=function(t){var e=(0,h.transform)([t.Longitude,t.Latitude],"EPSG:4326","EPSG:3857"),n=new l["default"](new c["default"](e));n.setProperties({event:t}),this.getSource().addFeature(n)},y.prototype.addTrace=function(t){for(var e=new r["default"]([]),n=[],i=null,o=0;o<t.length;o++)i=(0,h.fromLonLat)([t[o+1],t[o]],this.map_.getView().getProjection()),n.push(i),o++;e.setCoordinates(n,"XY");var s=new l["default"]({geometry:e});s.setStyle(new a["default"]({stroke:new u["default"]({color:"#01ff01",width:3})})),this.getSource().addFeature(s)},y.prototype.addPointToTraceRT=function(t){var e=(0,h.fromLonLat)([t[1],t[0]],this.map_.getView().getProjection());this.trace_.appendCoordinate(e,"XY"),this.getSource().removeFeature(this.getSource().getFeatureById(this.traceId)),this.lineFeature=new l["default"]({geometry:this.trace_}),this.lineFeature.setId(this.traceId),this.lineFeature.setStyle(new a["default"]({stroke:new u["default"]({color:"#01ff01",width:3})})),this.getSource().addFeature(this.lineFeature)},y.prototype.clearTraceRT=function(){this.trace_=new r["default"]([]),this.traceId++,this.lineFeature=new l["default"]({geometry:this.trace_}),this.lineFeature.setId(this.traceId),this.lineFeature.setStyle(new a["default"]({stroke:new u["default"]({color:"#01ff01",width:3})})),this.getSource().addFeature(this.lineFeature)},e.exports=y},{"ol/geom/LineString":"x8R2","ol/layer/Vector":"sgAj","ol/style/Style":"aLMx","ol/style/Icon":"lB4R","ol/format/GPX":"Ovgf","ol/Feature":"YPtS","ol/style/Stroke":"vIbn","ol/geom/Point":"FFTU","ol/geom/SimpleGeometry":"F2mr","ol/Object":"n4ep","ol/source/Vector":"GKSK","ol/proj":"aoEo","ol/style/Fill":"vciJ","ol/style":"TZKB","../inherits":"B0d6","../config":"itQ5"}],XuAv:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/source/Vector")),o=i(t("ol/layer/Vector")),a=i(t("ol/style/Icon")),s=i(t("ol/Feature")),l=i(t("ol/geom/Point")),u=t("ol/proj"),c=i(t("ol/style/Style")),d=t("../inherits"),h=t("../config"),f=function(t,e){var n=t||{};n.style=function(t,n){return this.setStyleFunction(t,n,e)}.bind(this),o["default"].call(this,n),this.map_=null,this.visible_=!0,this.setSource(new r["default"]({})),this.setZIndex(10),this.luminosity_=h.Luminosity.DAY};(0,d.inherits)(f,o["default"]),f.prototype.setVisible=function(t){this.visible_=t},f.prototype.setStyleFunction=function(t,e,n){var i=n||"/",r=i+"/"+this.luminosity_+"/PO_ARPATG01.png",o=[21,21],s=t.get("state");return t.get("name")===h.MobileType.AIS&&(o=[17,25],r=i+"/"+this.luminosity_+"/PO_AISVES01.png",s===h.MobileStatus.SLEEPING?r=i+"/"+this.luminosity_+"/PO_AISVES02.png":s===h.MobileStatus.DANGER&&(r=i+"/"+this.luminosity_+"/PO_AISVES03.png")),[new c["default"]({image:new a["default"]({anchor:[.5,.5],size:o,opacity:1,scale:1,rotation:t.get("heading"),src:r})})]},f.prototype.setMap=function(t){this.map_=t},f.prototype.addAIS=function(t){if(this.getSource().clear(),this.visible_)for(var e=0;e<t.length;e++){var n=t[e],i=n[2],r=n[3],o=n[4],a=n[5],c=n[6],d=(0,u.fromLonLat)([r,i],this.map_.getView().getProjection()),h=new l["default"](d),f=new s["default"]({name:a,state:c,heading:o*(Math.PI/180),geometry:h});this.getSource().addFeature(f)}},f.prototype.setLuminosity=function(t){this.luminosity_=t;try{this.getSource().getFeatures()[0].changed()}catch(e){}},e.exports=f},{"ol/source/Vector":"GKSK","ol/layer/Vector":"sgAj","ol/style/Icon":"lB4R","ol/Feature":"YPtS","ol/geom/Point":"FFTU","ol/proj":"aoEo","ol/style/Style":"aLMx","../inherits":"B0d6","../config":"itQ5"}],rRbN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/source/Vector")),o=i(t("ol/layer/Vector")),a=t("../inherits"),s=t("../config"),l=function(t,e){var n=t||{};o["default"].call(this,n),this.map_=null,this.setSource(new r["default"]({})),this.luminosity_=s.Luminosity.DAY};(0,a.inherits)(l,o["default"]),e.exports=l},{"ol/source/Vector":"GKSK","ol/layer/Vector":"sgAj","../inherits":"B0d6","../config":"itQ5"}],iUaH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var r=i(t("ol/control/Control")),o=t("../inherits"),a=(t("../config"),function(t){var e=t||{},n=void 0!==e.className?e.className:"geolayer-wind",i=(void 0!==e.label&&e.label,void 0!==e.windTipLabel?e.windTipLabel:"Wind arrow");this.canvasElement_=document.createElement("canvas"),this.canvasElement_.className=n,this.canvasElement_.setAttribute("type","canvas"),this.canvasElement_.title=i;var o=n,a=document.createElement("div");a.className=o,a.appendChild(this.canvasElement_),r["default"].call(this,{element:a,target:e.target}),this.direction_=void 0,this.force_=void 0});(0,o.inherits)(a,r["default"]),a.prototype.setForceAndDirection=function(t,e){this.direction_=e,this.force_=t,this.render_()},a.prototype.render_=function(){var t,e=window.getComputedStyle(this.canvasElement_),n=e.getPropertyValue("content");if(n){n=n.replace(/\\/g,"").replace(/"{/g,"{").replace(/}"/g,"}");try{t=JSON.parse(n)}catch(i){console.log(i)}this.canvasElement_.width=t.width,this.canvasElement_.height=t.height;var r=this.canvasElement_.getContext("2d");if(r.clearRect(0,0,this.canvasElement_.width,this.canvasElement_.height),this.force_&&0!=this.force_){r.save(),r.translate(this.canvasElement_.width/2,this.canvasElement_.height/2),r.rotate((180+this.direction_)*Math.PI/180);var o=this.canvasElement_.width/2*.75,a=t["arrow-color"],s=t["arrow-width"],l=t["arrow-cap"];r.strokeStyle=a,r.lineWidth=s,r.lineCap=l,this.canvasElement_.width;var u=this.force_/50|0,c=(this.force_-50*u)/10|0,d=(this.force_-(50*u+10*c))/5|0;r.beginPath(),r.moveTo(0,2-o),r.lineTo(0,o-2),r.moveTo(-10,o-10),r.lineTo(0,o),r.lineTo(10,o-10),r.stroke();var h=-o;s=e.getPropertyValue("barbule-width"),l=e.getPropertyValue("barbule-cap"),s=t["barbule-width"],l=t["barbule-cap"],r.fillStyle=a,r.lineWidth=s,r.lineCap=l;for(var f=0;f<u;f++)r.beginPath(),r.moveTo(0,h),r.lineTo(20,h),r.lineTo(0,h+20),r.closePath(),r.fill(),h+=20;for(u>0&&(h+=10),f=0;f<c;f++)r.beginPath(),r.moveTo(0,h),r.lineTo(20,h-20),r.stroke(),h+=10;1==d&&(h==-o&&(h+=10),r.beginPath(),r.moveTo(0,h),r.lineTo(10,h-10),r.stroke()),r.restore()}}else console.log("No style defined for the wind control.")},e.exports=a},{"ol/control/Control":"OZyS","../inherits":"B0d6","../config":"itQ5"}],MgjV:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}t("ol/ol.css"),t("ol-ext/dist/ol-ext.css");var r=t("ol/control.js"),o=i(t("ol/control/Attribution")),a=i(t("ol/interaction/DragZoom")),s=i(t("ol/interaction/MouseWheelZoom")),l=i(t("ol/control/Zoom")),u=i(t("ol/Map")),c=i(t("ol/format/WMSCapabilities")),d=t("ol/extent"),h=i(t("ol/View")),f=i(t("ol/interaction/DragPan")),p=t("ol/interaction.js"),m=t("ol/proj"),g=t("ol/layer"),v=i(t("jquery")),y=t("./config"),_=t("./own-ship/own-ship-layer"),b=t("./own-ship/own-ship-mobile-layer"),E=t("./tool/tool-measure"),x=t("./tool/tool-own-ship-measure"),C=t("./station-view"),T=t("./utils/graticule"),w=t("./background/open-sea-map-background-provider"),S=t("./background/open-sea-map-proxy-background-provider"),M=t("./background/map-proxy-background-provider"),j=t("./background/geomod-background-provider"),O=t("./background/geoserver-background-provider"),A=t("./background/emodnet-background-provider"),R=t("./background/arcgis-background-provider"),P=t("./boundaries/boundaries-layer"),I=t("./commons/common-layers"),L=t("./custom/custom-points"),k=t("./custom/custom-routes"),D=t("./utils/tree-layers").TreeLayers,N=t("./utils/tree-layers").BranchLayers,F=t("./casino/casino-layers"),$=t("./trawling/trawling-layer"),G=t("./own-ship/ais-layer"),U=t("./own-ship/multibeam-sounder-layer"),B=t("./controls/wind-control"),H=(0,m.get)("EPSG:3857"),V=[19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135,.29858214169740677,.14929107084870338],z=function(t,e,n){var i=t||{};this.wms_server=n||"",this.mapDivName=y.MAP_COMPONENT_NAME,this.osmNightModeDivName=y.OSM_NIGHT_MODE_COMPONENT_NAME,i.map&&(this.mapDivName=i.map),i.OSMNightMode&&(this.osmNightModeDivName=i.OSMNightMode),this.serverAddress=void 0,i.serverAddress&&(this.serverAddress=i.serverAddress),this.map_=null,this.ownShipLayer_=null,this.shipsLayers_=[],this.autoCenter_=!1,this.windControl_=null,this.rotateControl_=null,this.scaleLine_=null,this.luminosity_=y.Luminosity.DAY,this.graticule_=null,this.measureTool_=null,this.ownShipMeasureTool_=null,this.stationView_=null,this.assetsDirectory=e||"/",this.layers={},this.treeLayers=new D,this.__onSelectCustomPointHandler=null,this.__onCustomPointContextMenuHandler=null,this.__onCustomPointCreatedHandler=null,this.__onCustomRouteContextMenuHandler=null,this.init(),this.resize()};z.prototype.resize=function(){try{this.map_.updateSize()}catch(t){}},z.prototype.getMap=function(){return this.map_},z.prototype.init=function(){var t=this;this.scaleLine_=new r.ScaleLine({units:"nautical"});var e=new o["default"]({collapsible:!0});this.map_=new u["default"]({target:this.mapDivName,interactions:(0,p.defaults)().extend([new f["default"],new a["default"],new s["default"]({useAnchor:!0})]),controls:(0,r.defaults)({attribution:!1}).extend([this.scaleLine_,new l["default"]({className:"tsa-map-zoom"}),e])}),this.map_.on("moveend",function(e){t.map_.getView().getZoom()>10?t.scaleLine_.setUnits("metric"):t.scaleLine_.setUnits("nautical")}),this.transform_=(0,m.getTransform)("EPSG:4326",this.map_.getView().getProjection().getCode()),this.backgroundLayerGroup=this.getBackgroundLayerGroup(),this.backgroundProvidersMap={};var n={serverAddress:this.serverAddress,nightModeDivName:this.osmNightModeDivName};this.createBackgroundProviders(n),this.setMarineBackground("Arcgis"),this.addGraticule(),this.addStationView(),this.addView(),this.setZoom(y.INITIAL_ZOOM),this.setCenter(y.INITIAL_POSITION[0],y.INITIAL_POSITION[1]),this.addMeasureTool(),this.addOwnshipMeasureTool(),this.addOwnShipRouteTraceLayer(),this.addCustomMultiBeamSounderLayer(),this.addAISLayer(),this.addMobilesLayer(),this.addOwnShipLayer(),this.map_.once("postrender",function(e){t.windControl_=new B({}),t.map_.addControl(t.windControl_)}),this.map_.on("change:size",function(e){var n=(0,v["default"])("#"+t.osmNightModeDivName),i=(0,v["default"])("#"+t.mapDivName);n&&i&&(n.css("top",i.offset().top),n.css("left",i.offset().left),n.width(i.width()),n.height(i.height()))}),this.updateOSMNightModeSize_(),this.addCustomPointLayer(),this.addCustomRouteLayer(),this.cssLoaded=!1},z.prototype.addCasinoLayers=function(t){var e=this;this.casinoLayer=new F({},this.assetsDirectory),this.casinoLayer.loadData(t),Object.keys(this.casinoLayer.layers).forEach(function(t){e.treeLayers.getChild("layers.casino").addChild(new N(t,e.casinoLayer.layers[t]))}),this.casinoLayer.setMap(this.map_)},z.prototype.addTrawlingLayer=function(){this.trawlingLayer=new $({},this.assetsDirectory),this.trawlingLayer.setMap(this.map_),this.map_.addLayer(this.trawlingLayer)},z.prototype.addTrawlingFeature=function(t){this.trawlingLayer.addFeatures(t)},z.prototype.addTrawlingTrace=function(t){this.trawlingLayer.addTrace(t)},z.prototype.addPointToTraceRT=function(t){this.trawlingLayer.addPointToTraceRT(t)},z.prototype.clearTraceRT=function(){this.trawlingLayer.clearTraceRT()},z.prototype.addCustomPointLayer=function(){this.customPointLayer=new L({}),this.customPointLayer.setMap(this.map_),this.map_.addLayer(this.customPointLayer),this.treeLayers.getChild("layers.custom").addChild(new N("layers.custom.points",this.customPointLayer))},z.prototype.addCustomRouteLayer=function(){this.customRouteLayer=new k({}),this.customRouteLayer.setMap(this.map_),this.map_.addLayer(this.customRouteLayer),this.treeLayers.getChild("layers.custom").addChild(new N("layers.custom.routes",this.customRouteLayer))},z.prototype.addAISLayer=function(){this.AISLayer=new G({},this.assetsDirectory),this.AISLayer.setMap(this.map_),this.map_.addLayer(this.AISLayer),this.treeLayers.getChild("layers.mission").addChild(new N("layers.mission.ais",this.AISLayer))},z.prototype.addCustomMultiBeamSounderLayer=function(){this.customMultiBeamSounderLayer=new U({}),this.customMultiBeamSounderLayer.setMap(this.map_),this.map_.addLayer(this.customMultiBeamSounderLayer),this.treeLayers.getChild("layers.mission").addChild(new N("layers.mission.multibeam",this.customMultiBeamSounderLayer))},z.prototype.toggleCustomPointLayerMode=function(t){t&&"add"===t?(this.customRouteLayer.readonlyMode(),this.customPointLayer.addMode()):t&&"edit"===t?(this.customRouteLayer.readonlyMode(),this.customPointLayer.editMode()):t&&"readonly"!==t||this.customPointLayer.readonlyMode()},z.prototype.toggleCustomRouteLayerMode=function(t){t&&"add"===t?(this.customPointLayer.readonlyMode(),this.customRouteLayer.addMode()):t&&"edit"===t?(this.customPointLayer.readonlyMode(),this.customRouteLayer.editMode()):t&&"readonly"!==t||this.customRouteLayer.readonlyMode()},z.prototype.addCommonLayers=function(t){var e=this,n=(new c["default"]).read(t);this.commonLayers=new I({},this.wms_server),this.commonLayers.performWMSCapabilities(n),this.commonLayers.setMap(this.map_),this.commonLayers.getLayersName().forEach(function(t){e.treeLayers.getChild("layers.commons").addChild(new N(t,e.commonLayers.layers[t]))})},z.prototype.addMobilesLayer=function(){this.mobilesLayer_=new b({},this.assetsDirectory),this.mobilesLayer_.setMap(this.map_),this.treeLayers.getChild("layers.mission").addChild(new N("layers.mission.mobile",this.mobilesLayer_)),this.map_.addLayer(this.mobilesLayer_),this.layers.mobiles=this.mobilesLayer_},z.prototype.addMeasureTool=function(){this.measureTool_=new E,this.measureTool_.setMap(this.map_),this.layers.measureTool=this.measureTool_},z.prototype.getMeasureTool=function(){return this.measureTool_},z.prototype.addOwnshipMeasureTool=function(){this.ownShipMeasureTool_=new x,this.ownShipMeasureTool_.setMapTool(this.map_),this.layers.ownShipMeasureTool=this.ownShipMeasureTool_},z.prototype.getOwnShipMeasureTool=function(){return this.ownShipMeasureTool_},z.prototype.addView=function(){var t=(0,d.applyTransform)([-180,-85,180,85],this.transform_),e=new h["default"]({projection:H,resolutions:V,extent:t});this.map_.setView(e)},z.prototype.addStationView=function(){this.stationView_=new C,this.stationView_.setMap(this.map_)},z.prototype.addBoundariesLayer=function(t){this.boundariesLayer=new P({},"DELMAR_BDD_WMSV"),this.boundariesLayer.setMap(this.map_),this.map_.addLayer(this.boundariesLayer),this.treeLayers.getChild("layers.boundaries").addChild(new N(name,this.boundariesLayer))},z.prototype.showStationView=function(t){this.scaleLine_.element.style.visibility=t?"hidden":"visible",this.stationView_.setVisible(t),this.enablePanTools(!t&&!this.stationView_.isVisible())},z.prototype.enablePanTools=function(t){var e,n;this.map_.getInteractions().forEach(function(t){t instanceof f["default"]&&(e=t),t instanceof a["default"]&&(n=t)},this),t?(e||this.map_.addInteraction(new f["default"]({})),n||this.map_.addInteraction(new a["default"]({}))):(e&&this.map_.removeInteraction(e),n&&this.map_.removeInteraction(n))},z.prototype.setStationViewCenterAndScale=function(t,e,n){var i=(0,m.fromLonLat)([e,t],this.map_.getView().getProjection());this.stationView_.setCenterAndScale(i,n)},z.prototype.addGraticule=function(){this.graticule_=new T({showLabels:!0,lonLabelFormatter:function(t){for(;t<-180||t>180;)t<-180&&(t=360+t),t>180&&(t=-360+t);var e=Math.abs(Math.round(1e3*t)/1e3);return e+=t<0?"W":t>0?"E":""},lonLabelPosition:.02,latLabelFormatter:function(t){var e=Math.abs(Math.round(1e3*t)/1e3);return e+=t<0?"S":t>0?"N":""},latLabelPosition:.05}),this.graticule_.setMap(this.map_),this.showGraticule(!1)},z.prototype.render=function(){if(this.map_.updateSize(),this.autoCenter_&&!this.stationView_.isVisible()){var t=this.ownShipLayer_.getOwnShipFeature().getCoordinate();if(t&&t.length>1)return void this.map_.getView().setCenter(t)}this.map_.render()},z.prototype.addOwnShipRouteTraceLayer=function(){this.ownShipLayer_=new _,this.ownShipLayer_.setMap(this.map_),this.ownShipLayer_.setZIndex(20),this.map_.addLayer(this.ownShipLayer_),this.treeLayers.getChild("layers.mission").addChild(new N("layers.mission.ownShipRoute",this.ownShipLayer_.routeLayer)),this.treeLayers.getChild("layers.mission").addChild(new N("layers.mission.ownShipTrace",this.ownShipLayer_.traceLayer)),this.layers.ownShip=this.ownShipLayer_},z.prototype.addOwnShipLayer=function(){this.ownShipLayer_=new _,this.ownShipLayer_.setZIndex(20),this.ownShipLayer_.setMap(this.map_),this.map_.addLayer(this.ownShipLayer_),this.treeLayers.getChild("layers.mission").addChild(new N("layers.mission.ownShip",this.ownShipLayer_)),this.layers.ownShip=this.ownShipLayer_},z.prototype.addShipsLayer=function(){var t=this.shipsLayers_.push(new _);this.shipsLayers_[t-1].setMap(this.map_),this.map_.addLayer(this.shipsLayers_[t-1])},z.prototype.setAutoCenterMode=function(t){this.autoCenter_=t,this.autoCenter_&&this.render(),this.enablePanTools(!t&&!this.stationView_.isVisible())},z.prototype.setShowTraceMode=function(t){this.ownShipLayer_.showTrace(t)},z.prototype.setShowRouteMode=function(t){this.ownShipLayer_.showRoute(t)},z.prototype.setShowAISMode=function(t){this.AISLayer.setVisible(t)},z.prototype.setOwnShipGeometry=function(t,e,n,i){this.ownShipLayer_.getOwnShipFeature().setShipGeometry(t,e,n,i)},z.prototype.setShipsGeometry=function(t,e,n,i,r){this.shipsLayers_[t].getOwnShipFeature().setShipGeometry(e,n,i,r)},z.prototype.setShipsText=function(t,e){this.shipsLayers_[t].setText(e)},z.prototype.setShipsTextAndIcon=function(t,e,n){this.shipsLayers_[t].setTextAndIcon(e,n,this.assetsDirectory)},z.prototype.setShipProperties=function(t,e){this.shipsLayers_[t].setShipProperties(e)},z.prototype.setColorTrace=function(t){this.ownShipLayer_.setColorLineTrace(t)},z.prototype.setShipsColorTrace=function(t,e){this.shipsLayers_[t].setColorLineTrace(e)},z.prototype.setOwnShipData=function(t,e,n,i,r,o,a){var s=(0,m.fromLonLat)([e,t],this.map_.getView().getProjection());this.ownShipLayer_.setLengthVector(a),this.ownShipLayer_.getOwnShipFeature().setOwnShipData(s,n,i,r,o),this.ownShipMeasureTool_.setStartCoordinate(s)},z.prototype.setShipsData=function(t,e,n,i,r,o,a,s){var l=(0,m.fromLonLat)([n,e],this.map_.getView().getProjection());this.shipsLayers_[t].getOwnShipFeature().setOwnShipData(l,i,r,o,a)},z.prototype.showSMF=function(t){this.ownShipLayer_.getOwnShipFeature().getOwnShipSMF().setVisible(t)},z.prototype.setSMFData=function(t){this.ownShipLayer_.getOwnShipFeature().getOwnShipSMF().setData(t)},z.prototype.setMobiles=function(t){this.mobilesLayer_.addMobiles(t)},z.prototype.setAIS=function(t){this.AISLayer.addAIS(t)},z.prototype.setOwnShipTrace=function(t){for(var e=[],n=null,i=0;i<t.length;i++)n=(0,m.fromLonLat)([t[i+1],t[i]],this.map_.getView().getProjection()),e.push(n),i++;this.ownShipLayer_.getOwnShipFeature().setTrace(e)},z.prototype.setOwnShipRoute=function(t){for(var e=[],n=null,i=0;i<t.length;i++)n=(0,m.fromLonLat)([t[i+1],t[i]],this.map_.getView().getProjection()),e.push(n),i++;this.ownShipLayer_.getOwnShipFeature().setRoute(e)},z.prototype.setOwnShipSymbolType=function(t){this.ownShipLayer_.setOwnShipSymbolType(t)},z.prototype.setShipsSymbolType=function(t,e){this.shipsLayers_[t].setOwnShipSymbolType(e)},z.prototype.setShipsTrace=function(t,e){for(var n=[],i=null,r=0;r<e.length;r++)i=(0,m.fromLonLat)([e[r+1],e[r]],this.map_.getView().getProjection()),n.push(i),r++;this.shipsLayers_[t].getOwnShipFeature().setTrace(n)},z.prototype.setWindForceAndDirection=function(t,e){null!==this.windControl_&&this.windControl_.setForceAndDirection(t,e)},z.prototype.showGraticule=function(t){this.graticule_.setVisible(t),this.map_.render()},z.prototype.getBackgroundProvider=function(){return this.backgroundProvider},z.prototype.getBackgroundLayerGroup=function(){return null!==this.backgroundLayerGroup&&void 0!==this.backgroundLayerGroup||(this.backgroundLayerGroup=new g.Group({title:"Overlays",layers:[]}),this.map_.addLayer(this.backgroundLayerGroup)),this.backgroundLayerGroup},z.prototype.setZoom=function(t){this.map_.getView().setZoom(t)},z.prototype.setCenter=function(t,e){this.map_.getView().setCenter((0,m.transform)([t,e],"EPSG:4326","EPSG:3857"))},z.prototype.zoomOut=function(){var t=this.map_.getView(),e=t.getZoom();t.setZoom(e-1)},z.prototype.zoomIn=function(){var t=this.map_.getView(),e=t.getZoom();t.setZoom(e+1)},z.prototype.transform=function(t,e,n){return(0,m.transform)(t,e,n)},z.prototype.createBackgroundProviders=function(t){this.backgroundProvidersMap[y.BackgroundProviderType.OPENSEAMAP]=new w(t),this.backgroundProvidersMap[y.BackgroundProviderType.OPENSEAMAPPROXY]=new S(t),this.backgroundProvidersMap[y.BackgroundProviderType.MAPPROXY]=new M(t),this.backgroundProvidersMap[y.BackgroundProviderType.GEOMOD]=new j(t),this.backgroundProvidersMap[y.BackgroundProviderType.GEOSERVER]=new O(t),this.backgroundProvidersMap[y.BackgroundProviderType.EMODNET]=new A(t),this.backgroundProvidersMap[y.BackgroundProviderType.ARCGIS]=new R(t)},z.prototype.setMarineBackground=function(t){this.backgroundLayerGroup.getLayers().clear(),this.backgroundProvider=this.backgroundProvidersMap[t],this.backgroundLayerGroup.getLayers().push(this.backgroundProvider.getBackgroundLayerGroup()),this.setLuminosity(this.luminosity_)},z.prototype.setLuminosity=function(t){this.luminosity_=t,this.cssSheetLoaded_()},z.prototype.cssSheetLoaded_=function(){var t=this.getLuminosity();this.windControl_&&(this.windControl_.render_(),this.ownShipLayer_.setLuminosity(t),this.graticule_.setLuminosity(t),this.stationView_.setLuminosity(t),this.ownShipMeasureTool_.setLuminosity(t),this.measureTool_.setLuminosity(t),this.AISLayer.setLuminosity(t),this.mobilesLayer_.setLuminosity(t),this.getMap().render(),this.cssLoaded=!1)},z.prototype.getLuminosity=function(t){return this.luminosity_},z.prototype.updateOSMNightModeSize_=function(){var t=(0,v["default"])("#"+this.osmNightModeDivName),e=(0,v["default"])("#"+this.mapDivName);t&&(t.css("top",e.offset().top),t.css("left",e.offset().left),t.width(e.width()),t.height(e.height()))},z.prototype.setLayerVisibility=function(t,e){var n=this;this.treeLayers.childrenName().forEach(function(i){return t===i?n.treeLayers.getChild(t).setVisible(e):n.treeLayers.getChild(i).hadChild()?n.treeLayers.getChild(i).getChildren().forEach(function(n){n.getName()===t&&n.setVisible(e)}):void 0})},z.prototype.setLayerOpacity=function(t,e){var n=this;this.treeLayers.childrenName().forEach(function(i){return t===i?n.treeLayers.getChild(t).setOpacity(e):n.treeLayers.getChild(i).hadChild()?n.treeLayers.getChild(i).getChildren().forEach(function(n){n.getName()===t&&n.setOpacity(e)}):void 0})},z.prototype.onSelectCustomPoint=function(t){this.__onSelectCustomPointHandler&&this.map_.getTargetElement().removeEventListener("select-custom-point",this.__onSelectCustomPointHandler),this.map_.getTargetElement().addEventListener("select-custom-point",t),this.__onSelectCustomPointHandler=t},z.prototype.onCustomPointContextMenu=function(t){this.__onCustomPointContextMenuHandler&&this.map_.getTargetElement().removeEventListener("custom-point-contextmenu",this.__onCustomPointContextMenuHandler),this.map_.getTargetElement().addEventListener("custom-point-contextmenu",t),this.__onCustomPointContextMenuHandler=t},z.prototype.onCustomPointCreated=function(t){this.__onCustomPointCreatedHandler&&this.map_.getTargetElement().removeEventListener("custom-point-created",this.__onCustomPointCreatedHandler),this.map_.getTargetElement().addEventListener("custom-point-created",t),this.__onCustomPointCreatedHandler=t},z.prototype.onCustomPointHover=function(t){this.__onCustomPointHoverHandler&&this.map_.getTargetElement().removeEventListener("custom-point-hover",this.__onCustomPointHoverHandler),this.map_.getTargetElement().addEventListener("custom-point-hover",t),this.__onCustomPointHoverHandler=t},z.prototype.removeCustomPoint=function(t){t&&this.customPointLayer.removePoint(t)},z.prototype.exportCustomPoint=function(t){return this.customPointLayer.exportAs(t)},z.prototype.importCustomPoint=function(t){return this.customPointLayer.importFrom(t)},z.prototype.removeAllCustomPoints=function(){return this.customPointLayer.removeAll()},z.prototype.getCustomPointMode=function(){return this.customPointLayer.getMode()},z.prototype.setCustomPointShowLabel=function(t){this.customPointLayer.setShowLabel(t)},z.prototype.getCustomPointShowLabel=function(){return this.customPointLayer.getShowLabel()},z.prototype.exportCustomRoutes=function(t){return this.customRouteLayer.exportAs(t)},z.prototype.importCustomRoute=function(t){return this.customRouteLayer.importFrom(t)},z.prototype.removeAllCustomRoutes=function(){return this.customRouteLayer.removeAll()},z.prototype.getCustomRouteMode=function(){return this.customRouteLayer.getMode()},z.prototype.onCustomRouteContextMenu=function(t){this.__onCustomRouteContextMenuHandler&&this.map_.getTargetElement().removeEventListener("custom-route-contextmenu",this.__onCustomRouteContextMenuHandler),this.map_.getTargetElement().addEventListener("custom-route-contextmenu",t),this.__onCustomRouteContextMenuHandler=t},z.prototype.updateSelectedRouteCoordinate=function(t){return this.customRouteLayer.updateSelectedCoordinates(t)},z.prototype.removeCustomRoute=function(t){t&&this.customRouteLayer.removeRoute(t)},e.exports=z},{"ol/ol.css":"mQfy","ol-ext/dist/ol-ext.css":"mQfy","ol/control.js":"s9h5","ol/control/Attribution":"KuDp","ol/interaction/DragZoom":"bIDt","ol/interaction/MouseWheelZoom":"Iq9y","ol/control/Zoom":"JAQ2","ol/Map":"y2IR","ol/format/WMSCapabilities":"Fu5l","ol/extent":"IwSU","ol/View":"dWZ4","ol/interaction/DragPan":"mTmZ","ol/interaction.js":"VJ6h","ol/proj":"aoEo","ol/layer":"x523",jquery:"juYr","./config":"itQ5","./own-ship/own-ship-layer":"Lt40","./own-ship/own-ship-mobile-layer":"wVAT",
"./tool/tool-measure":"RiWG","./tool/tool-own-ship-measure":"fJ6s","./station-view":"u9f1","./utils/graticule":"VSsd","./background/open-sea-map-background-provider":"E7B3","./background/open-sea-map-proxy-background-provider":"Bh8J","./background/map-proxy-background-provider":"T8vV","./background/geomod-background-provider":"fXlG","./background/geoserver-background-provider":"hLny","./background/emodnet-background-provider":"rTHT","./background/arcgis-background-provider":"MMNL","./boundaries/boundaries-layer":"lNSE","./commons/common-layers":"ML5k","./custom/custom-points":"aULh","./custom/custom-routes":"n2Cr","./utils/tree-layers":"nT5S","./casino/casino-layers":"WgVZ","./trawling/trawling-layer":"ZjmX","./own-ship/ais-layer":"XuAv","./own-ship/multibeam-sounder-layer":"rRbN","./controls/wind-control":"iUaH"}],RNY7:[function(t,e,n){"use strict";t("./css/geolayer.css"),t("./css/geolayer_DAY.css");var i=t("./carto-component"),r={};r.carto=r.carto||t("./config"),r.global=void 0,r.isDef=function(t){return void 0!==t},r.carto.CartoComponent=i,r.carto.ownship={OwnShipLayer:t("./own-ship/own-ship-layer"),OwnShipFeature:t("./own-ship/own-ship-feature"),OwnShipSMF:t("./own-ship/own-ship-smf"),SpeedVector:t("./own-ship/own-ship-speedvector")},r.carto.tool={Measure:t("./tool/tool-measure"),OwnShipMeasure:t("./tool/tool-own-ship-measure")},r.carto.StationView=t("./station-view"),r.carto.Graticule=t("./utils/graticule"),r.carto.OpenSeaMapBackgroundProvider=t("./background/open-sea-map-background-provider"),r.carto.OpenSeaMapProxyBackgroundProvider=t("./background/open-sea-map-proxy-background-provider"),r.carto.MapProxyBackgroundProvider=t("./background/map-proxy-background-provider"),r.carto.GeomodBackgroundProvider=t("./background/geomod-background-provider"),r.carto.EmodnetBackgroundProvider=t("./background/emodnet-background-provider"),r.carto.control={Wind:t("./controls/wind-control")},e.exports=r},{"./css/geolayer.css":"mQfy","./css/geolayer_DAY.css":"mQfy","./carto-component":"MgjV","./config":"itQ5","./own-ship/own-ship-layer":"Lt40","./own-ship/own-ship-feature":"c4Xi","./own-ship/own-ship-smf":"FYL5","./own-ship/own-ship-speedvector":"lkl9","./tool/tool-measure":"RiWG","./tool/tool-own-ship-measure":"fJ6s","./station-view":"u9f1","./utils/graticule":"VSsd","./background/open-sea-map-background-provider":"E7B3","./background/open-sea-map-proxy-background-provider":"Bh8J","./background/map-proxy-background-provider":"T8vV","./background/geomod-background-provider":"fXlG","./background/emodnet-background-provider":"rTHT","./controls/wind-control":"iUaH"}]},{},["RNY7"],"geolayer"),parcelRequire=function(t,e,n,i){function r(n,i){function o(t){return r(o.resolve(t))}if(!e[n]){if(!t[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!i&&l)return l(n,!0);if(a)return a(n,!0);if(s&&"string"==typeof n)return s(n);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}o.resolve=function(e){return t[n][1][e]||e},o.cache={};var c=e[n]=new r.Module(n);t[n][0].call(c.exports,o,c,c.exports,this)}return e[n].exports}var o,a="function"==typeof parcelRequire&&parcelRequire,s="function"==typeof require&&require;r.isParcelRequire=!0,r.Module=function(t){this.id=t,this.bundle=r,this.exports={}},r.modules=t,r.cache=e,r.parent=a,r.register=function(e,n){t[e]=[function(t,e){e.exports=n},{}]};for(var l=0;l<n.length;l++)try{r(n[l])}catch(t){o||(o=t)}if(n.length){var u=r(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):i&&(this[i]=u)}if(parcelRequire=r,o)throw o;return r}({YOqM:[function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function o(t){return t.ol_uid||(t.ol_uid=String(++a))}Object.defineProperty(n,"__esModule",{value:!0}),n["abstract"]=i,n.inherits=r,n.getUid=o,n.VERSION=void 0;var a=0,s="5.3.3";n.VERSION=s},{}],vMmu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("./util.js"),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.VERSION?i.VERSION:"v"+i.VERSION.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),o=r;n["default"]=o},{"./util.js":"YOqM"}],ucwT:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ADD:"add",REMOVE:"remove"};n["default"]=i},{}],baqo:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={PROPERTYCHANGE:"propertychange"};n["default"]=i},{}],qC1c:[function(t,e,n){"use strict";function i(t){for(var e in t)delete t[e]}function r(t){var e=[];for(var n in t)e.push(t[n]);return e}function o(t){var e;for(e in t)return!1;return!e}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.getValues=r,n.isEmpty=o,n.assign=void 0;var a="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var a=n[r];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])}return i};n.assign=a},{}],Bvf5:[function(t,e,n){"use strict";function i(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&h(t),n.call(i,e)};return t.boundListener=e,e}function r(t,e,n,i){for(var r,o=0,a=t.length;o<a;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function o(t,e){var n=a(t);return n?n[e]:void 0}function a(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function s(t){delete t.ol_lm}function l(t,e){var n=o(t,e);if(n){for(var i=0,r=n.length;i<r;++i)t.removeEventListener(e,n[i].boundListener),(0,p.clear)(n[i]);n.length=0;var l=a(t);l&&(delete l[e],0===Object.keys(l).length&&s(t))}}function u(t,e,n,o,s){var l=a(t,!0),u=l[e];u||(u=l[e]=[]);var c=r(u,n,o,!1);return c?s||(c.callOnce=!1):(c={bindTo:o,callOnce:!!s,listener:n,target:t,type:e},t.addEventListener(e,i(c)),u.push(c)),c}function c(t,e,n,i){return u(t,e,n,i,!0)}function d(t,e,n,i){var a=o(t,e);if(a){var s=r(a,n,i,!0);s&&h(s)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&l(t.target,t.type)}(0,p.clear)(t)}}function f(t){var e=a(t);if(e)for(var n in e)l(t,n)}Object.defineProperty(n,"__esModule",{value:!0}),n.bindListener=i,n.findListener=r,n.getListeners=o,n.listen=u,n.listenOnce=c,n.unlisten=d,n.unlistenByKey=h,n.unlistenAll=f;var p=t("./obj.js")},{"./obj.js":"qC1c"}],Kusu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){};var r=i;n["default"]=r},{}],guaG:[function(t,e,n){"use strict";function i(){return!0}function r(){return!1}function o(){}Object.defineProperty(n,"__esModule",{value:!0}),n.TRUE=i,n.FALSE=r,n.VOID=o},{}],h36w:[function(t,e,n){"use strict";function i(t){t.stopPropagation()}function r(t){t.preventDefault()}Object.defineProperty(n,"__esModule",{value:!0}),n.stopPropagation=i,n.preventDefault=r,n["default"]=void 0;var o=function(t){this.propagationStopped,this.type=t,this.target=null};o.prototype.preventDefault=function(){this.propagationStopped=!0},o.prototype.stopPropagation=function(){this.propagationStopped=!0};var a=o;n["default"]=a},{}],mcdO:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../Disposable.js")),o=t("../events.js"),a=t("../functions.js"),s=i(t("./Event.js")),l=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s["default"](t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,l=r.length;o<l;++o)if(!1===r[o].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,a.VOID);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){(0,o.unlistenAll)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=a.VOID,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(r["default"]),u=l;n["default"]=u},{"../Disposable.js":"Kusu","../events.js":"Bvf5","../functions.js":"guaG","./Event.js":"h36w"}],eKq7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};n["default"]=i},{}],QniN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)(0,o.unlistenByKey)(t[e]);else(0,o.unlistenByKey)(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.unByKey=r,n["default"]=void 0;var o=t("./events.js"),a=i(t("./events/Target.js")),s=i(t("./events/EventType.js")),l=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(s["default"].CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,o.listen)(this,t[r],e);return i}return(0,o.listen)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=(0,o.listenOnce)(this,t[r],e);return i}return(0,o.listenOnce)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)(0,o.unlisten)(this,t[n],e);else(0,o.unlisten)(this,t,e)},e}(a["default"]),u=l;n["default"]=u},{"./events.js":"Bvf5","./events/Target.js":"mcdO","./events/EventType.js":"eKq7"}],n4ep:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return h.hasOwnProperty(t)?h[t]:h[t]="change:"+t}Object.defineProperty(n,"__esModule",{value:!0}),n.getChangeEventType=r,n["default"]=n.ObjectEvent=void 0;var o=t("./util.js"),a=i(t("./ObjectEventType.js")),s=i(t("./Observable.js")),l=i(t("./events/Event.js")),u=t("./obj.js"),c=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]);n.ObjectEvent=c;var d=function(t){function e(e){t.call(this),(0,o.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return(0,u.assign)({},this.values_)},e.prototype.notify=function(t,e){var n;n=r(t),this.dispatchEvent(new c(n,t,e)),n=a["default"].PROPERTYCHANGE,this.dispatchEvent(new c(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(s["default"]),h={},f=d;n["default"]=f},{"./util.js":"YOqM","./ObjectEventType.js":"baqo","./Observable.js":"QniN","./events/Event.js":"h36w","./obj.js":"qC1c"}],qt30:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.CollectionEvent=void 0;var r=i(t("./AssertionError.js")),o=i(t("./CollectionEventType.js")),a=i(t("./Object.js")),s=i(t("./events/Event.js")),l={LENGTH:"length"},u=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]);n.CollectionEvent=u;var c=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(l.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new u(o["default"].ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new u(o["default"].REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new u(o["default"].REMOVE,i)),this.dispatchEvent(new u(o["default"].ADD,e))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(l.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new r["default"](58)},e}(a["default"]),d=c;n["default"]=d},{"./AssertionError.js":"vMmu","./CollectionEventType.js":"ucwT","./Object.js":"n4ep","./events/Event.js":"h36w"}],E2kQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new o["default"](e)}Object.defineProperty(n,"__esModule",{value:!0}),n.assert=r;var o=i(t("./AssertionError.js"))},{"./AssertionError.js":"vMmu"}],YPtS:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){return"function"==typeof t?t:(Array.isArray(t)?e=t:((0,s.assert)("function"==typeof t.getZIndex,41),e=[t]),function(){return e});var e}Object.defineProperty(n,"__esModule",{value:!0}),n.createStyleFunction=a,n["default"]=void 0;var s=t("./asserts.js"),l=t("./events.js"),u=o(t("./events/EventType.js")),c=r(t("./Object.js")),d=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,l.listen)(this,(0,c.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,l.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=(0,l.listen)(t,u["default"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?a(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){(0,l.unlisten)(this,(0,c.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,(0,l.listen)(this,(0,c.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(c["default"]),h=d;n["default"]=h},{"./asserts.js":"E2kQ","./events.js":"Bvf5","./events/EventType.js":"eKq7","./Object.js":"n4ep"}],Z5sL:[function(t,e,n){"use strict";function i(t,e,n){for(var i,o,a=n||r,s=0,l=t.length,u=!1;s<l;)(o=+a(t[i=s+(l-s>>1)],e))<0?s=i+1:(l=i,u=!o);return u?s:~s}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function a(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function s(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function l(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function u(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function c(t,e){for(var n,i=t.length>>>0,r=0;r<i;r++)if(e(n=t[r],r,t))return n;return null}function d(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function h(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}function f(t,e){var n;return t.every(function(i,r){return n=r,!e(i,r,t)})?-1:n}function p(t,e,n){var i=e||r;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}Object.defineProperty(n,"__esModule",{value:!0}),n.binarySearch=i,n.numberSafeCompareFunction=r,n.includes=o,n.linearFindNearest=a,n.reverseSubArray=s,n.extend=l,n.remove=u,n.find=c,n.equals=d,n.stableSort=h,n.findIndex=f,n.isSorted=p},{}],RMGy:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};n["default"]=i},{}],kaLu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};n["default"]=i},{}],IwSU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=f(),n=0,i=t.length;n<i;++n)x(e,t[n]);return e}function o(t,e,n){return p(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function u(t,e){return d(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function h(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=J["default"].UNKNOWN;return a<n?l|=J["default"].LEFT:a>r&&(l|=J["default"].RIGHT),s<i?l|=J["default"].BELOW:s>o&&(l|=J["default"].ABOVE),l===J["default"].UNKNOWN&&(l=J["default"].INTERSECTING),l}function f(){return[1/0,1/0,-1/0,-1/0]}function p(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function m(t){return p(1/0,1/0,-1/0,-1/0,t)}function g(t,e){var n=t[0],i=t[1];return p(n,i,n,i,e)}function v(t,e){return C(m(e),t)}function y(t,e,n,i,r){return T(m(r),t,e,n,i)}function _(t,e){return w(m(e),t)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var n=0,i=e.length;n<i;++n)x(t,e[n]);return t}function T(t,e,n,i,r){for(;n<i;n+=r)S(t,e[n],e[n+1]);return t}function w(t,e){for(var n=0,i=e.length;n<i;++n)C(t,e[n]);return t}function S(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function M(t,e,n){var i;return(i=e.call(n,O(t)))?i:(i=e.call(n,A(t)))?i:(i=e.call(n,U(t)))?i:(i=e.call(n,G(t)))||!1}function j(t){var e=0;return V(t)||(e=B(t)*k(t)),e}function O(t){return[t[0],t[1]]}function A(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function P(t,e){var n;return e===X["default"].BOTTOM_LEFT?n=O(t):e===X["default"].BOTTOM_RIGHT?n=A(t):e===X["default"].TOP_LEFT?n=G(t):e===X["default"].TOP_RIGHT?n=U(t):(0,K.assert)(!1,13),n}function I(t,e){var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-i)}function L(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,d=a*s,h=a*l,f=t[0],m=t[1],g=f-u+h,v=f-u-h,y=f+u-h,_=f+u+h,b=m-c-d,E=m-c+d,x=m+c+d,C=m+c-d;return p(Math.min(g,v,y,_),Math.min(b,E,x,C),Math.max(g,v,y,_),Math.max(b,E,x,C),r)}function k(t){return t[3]-t[1]}function D(t,e){return j(N(t,e))}function N(t,e,n){var i=n||f();return H(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):m(i),i}function F(t){return B(t)+k(t)}function $(t){return[t[2]-t[0],t[3]-t[1]]}function G(t){return[t[0],t[3]]}function U(t){return[t[2],t[3]]}function B(t){return t[2]-t[0]}function H(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function V(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function q(t,e,n){var i=!1,r=h(t,e),o=h(t,n);if(r===J["default"].INTERSECTING||o===J["default"].INTERSECTING)i=!0;else{var a,s,l=t[0],u=t[1],c=t[2],d=t[3],f=e[0],p=e[1],m=n[0],g=n[1],v=(g-p)/(m-f);o&J["default"].ABOVE&&!(r&J["default"].ABOVE)&&(i=(a=m-(g-d)/v)>=l&&a<=c),i||!(o&J["default"].RIGHT)||r&J["default"].RIGHT||(i=(s=g-(m-c)*v)>=u&&s<=d),i||!(o&J["default"].BELOW)||r&J["default"].BELOW||(i=(a=m-(g-u)/v)>=l&&a<=c),i||!(o&J["default"].LEFT)||r&J["default"].LEFT||(i=(s=g-(m-l)*v)>=u&&s<=d)}return i}function Y(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),o([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}Object.defineProperty(n,"__esModule",{value:!0}),n.boundingExtent=r,n.buffer=a,n.clone=s,n.closestSquaredDistanceXY=l,n.containsCoordinate=u,n.containsExtent=c,n.containsXY=d,n.coordinateRelationship=h,n.createEmpty=f,n.createOrUpdate=p,n.createOrUpdateEmpty=m,n.createOrUpdateFromCoordinate=g,n.createOrUpdateFromCoordinates=v,n.createOrUpdateFromFlatCoordinates=y,n.createOrUpdateFromRings=_,n.equals=b,n.extend=E,n.extendCoordinate=x,n.extendCoordinates=C,n.extendFlatCoordinates=T,n.extendRings=w,n.extendXY=S,n.forEachCorner=M,n.getArea=j,n.getBottomLeft=O,n.getBottomRight=A,n.getCenter=R,n.getCorner=P,n.getEnlargedArea=I,n.getForViewAndSize=L,n.getHeight=k,n.getIntersectionArea=D,n.getIntersection=N,n.getMargin=F,n.getSize=$,n.getTopLeft=G,n.getTopRight=U,n.getWidth=B,n.intersects=H,n.isEmpty=V,n.returnOrUpdate=z,n.scaleFromCenter=W,n.intersectsSegment=q,n.applyTransform=Y;var K=t("./asserts.js"),X=i(t("./extent/Corner.js")),J=i(t("./extent/Relationship.js"))},{"./asserts.js":"E2kQ","./extent/Corner.js":"RMGy","./extent/Relationship.js":"kaLu"}],hsvv:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};n["default"]=i},{}],naLT:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};n["default"]=i},{}],CVNs:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var a=o||[],s=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];a[s++]=r[0]*u+r[2]*c+r[4],a[s++]=r[1]*u+r[3]*c+r[5]}return o&&a.length!=s&&(a.length=s),a}function r(t,e,n,i,r,o,a){for(var s=a||[],l=Math.cos(r),u=Math.sin(r),c=o[0],d=o[1],h=0,f=e;f<n;f+=i){var p=t[f]-c,m=t[f+1]-d;s[h++]=c+p*l-m*u,s[h++]=d+p*u+m*l;for(var g=f+2;g<f+i;++g)s[h++]=t[g]}return a&&s.length!=h&&(s.length=h),s}function o(t,e,n,i,r,o,a,s){for(var l=s||[],u=a[0],c=a[1],d=0,h=e;h<n;h+=i){var f=t[h]-u,p=t[h+1]-c;l[d++]=u+r*f,l[d++]=c+o*p;for(var m=h+2;m<h+i;++m)l[d++]=t[m]}return s&&l.length!=d&&(l.length=d),l}function a(t,e,n,i,r,o,a){for(var s=a||[],l=0,u=e;u<n;u+=i){s[l++]=t[u]+r,s[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)s[l++]=t[c]}return a&&s.length!=l&&(s.length=l),s}Object.defineProperty(n,"__esModule",{value:!0}),n.transform2D=i,n.rotate=r,n.scale=o,n.translate=a},{}],RK1r:[function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t){return(0,h.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function o(t,e,n,i,r,o){var s=r-n,l=o-i;if(0!==s||0!==l){var u=((t-n)*s+(e-i)*l)/(s*s+l*l);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=l*u)}return a(t,e,n,i)}function a(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function s(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var d=new Array(e),h=e-1;h>=0;h--){d[h]=t[h][e]/t[h][h];for(var f=h-1;f>=0;f--)t[f][e]-=t[f][h]*d[h]}return d}function l(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function c(t,e){var n=t%e;return n*e<0?n+e:n}function d(t,e,n){return t+n*(e-t)}Object.defineProperty(n,"__esModule",{value:!0}),n.clamp=i,n.roundUpToPowerOfTwo=r,n.squaredSegmentDistance=o,n.squaredDistance=a,n.solveLinearSystem=s,n.toDegrees=l,n.toRadians=u,n.modulo=c,n.lerp=d,n.cosh=void 0;var h=t("./asserts.js"),f="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};n.cosh=f},{"./asserts.js":"E2kQ"}],KXaK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=n||h,r=(0,c.toRadians)(t[1]),o=(0,c.toRadians)(e[1]),a=(o-r)/2,s=(0,c.toRadians)(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function o(t,e){for(var n=0,i=0,o=t.length;i<o-1;++i)n+=r(t[i],t[i+1],e);return n}function a(t,e){var n=e||{},i=n.radius||h,r=n.projection||"EPSG:3857",s=t.getType();s!==d["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(r,"EPSG:4326"));var l,u,c,f,p,m,g=0;switch(s){case d["default"].POINT:case d["default"].MULTI_POINT:break;case d["default"].LINE_STRING:case d["default"].LINEAR_RING:g=o(l=t.getCoordinates(),i);break;case d["default"].MULTI_LINE_STRING:case d["default"].POLYGON:for(c=0,f=(l=t.getCoordinates()).length;c<f;++c)g+=o(l[c],i);break;case d["default"].MULTI_POLYGON:for(c=0,f=(l=t.getCoordinates()).length;c<f;++c)for(p=0,m=(u=l[c]).length;p<m;++p)g+=o(u[p],i);break;case d["default"].GEOMETRY_COLLECTION:var v=t.getGeometries();for(c=0,f=v.length;c<f;++c)g+=a(v[c],e);break;default:throw new Error("Unsupported geometry type: "+s)}return g}function s(t,e){for(var n=0,i=t.length,r=t[i-1][0],o=t[i-1][1],a=0;a<i;a++){var s=t[a][0],l=t[a][1];n+=(0,c.toRadians)(s-r)*(2+Math.sin((0,c.toRadians)(o))+Math.sin((0,c.toRadians)(l))),r=s,o=l}return n*e*e/2}function l(t,e){var n=e||{},i=n.radius||h,r=n.projection||"EPSG:3857",o=t.getType();o!==d["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(r,"EPSG:4326"));var a,u,c,f,p,m,g=0;switch(o){case d["default"].POINT:case d["default"].MULTI_POINT:case d["default"].LINE_STRING:case d["default"].MULTI_LINE_STRING:case d["default"].LINEAR_RING:break;case d["default"].POLYGON:for(a=t.getCoordinates(),g=Math.abs(s(a[0],i)),c=1,f=a.length;c<f;++c)g-=Math.abs(s(a[c],i));break;case d["default"].MULTI_POLYGON:for(c=0,f=(a=t.getCoordinates()).length;c<f;++c)for(u=a[c],g+=Math.abs(s(u[0],i)),p=1,m=u.length;p<m;++p)g-=Math.abs(s(u[p],i));break;case d["default"].GEOMETRY_COLLECTION:var v=t.getGeometries();for(c=0,f=v.length;c<f;++c)g+=l(v[c],e);break;default:throw new Error("Unsupported geometry type: "+o)}return g}function u(t,e,n,i){var r=i||h,o=(0,c.toRadians)(t[1]),a=(0,c.toRadians)(t[0]),s=e/r,l=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(n)),u=a+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(l));return[(0,c.toDegrees)(u),(0,c.toDegrees)(l)]}Object.defineProperty(n,"__esModule",{value:!0}),n.getDistance=r,n.getLength=a,n.getArea=l,n.offset=u,n.DEFAULT_RADIUS=void 0;var c=t("./math.js"),d=i(t("./geom/GeometryType.js")),h=6371008.8;n.DEFAULT_RADIUS=h},{"./math.js":"RK1r","./geom/GeometryType.js":"naLT"}],RNSs:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.METERS_PER_UNIT=void 0;var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};n.METERS_PER_UNIT=r,r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937;var o=i;n["default"]=o},{}],lDHS:[function(t,e,n){arguments[3],arguments[3];Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("./Units.js"),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,
this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.METERS_PER_UNIT[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var o=r;n["default"]=o},{"./Units.js":"RNSs"}],yEvQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=c,s=0;s<i;s+=r){o[s]=a*t[s]/180;var l=u*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function o(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r)o[a]=180*t[a]/c,o[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return o}Object.defineProperty(n,"__esModule",{value:!0}),n.fromEPSG4326=r,n.toEPSG4326=o,n.PROJECTIONS=n.WORLD_EXTENT=n.EXTENT=n.HALF_SIZE=n.RADIUS=void 0;var a=t("../math.js"),s=i(t("./Projection.js")),l=i(t("./Units.js")),u=6378137;n.RADIUS=u;var c=Math.PI*u;n.HALF_SIZE=c;var d=[-c,-c,c,c];n.EXTENT=d;var h=[-180,-85,180,85];n.WORLD_EXTENT=h;var f=function(t){function e(e){t.call(this,{code:e,units:l["default"].METERS,extent:d,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/(0,a.cosh)(e[1]/u)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];n.PROJECTIONS=p},{"../math.js":"RK1r","./Projection.js":"lDHS","./Units.js":"RNSs"}],fhYH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.PROJECTIONS=n.METERS_PER_UNIT=n.EXTENT=n.RADIUS=void 0;var r=i(t("./Projection.js")),o=i(t("./Units.js")),a=6378137;n.RADIUS=a;var s=[-180,-90,180,90];n.EXTENT=s;var l=Math.PI*a/180;n.METERS_PER_UNIT=l;var u=function(t){function e(e,n){t.call(this,{code:e,units:o["default"].DEGREES,extent:s,axisOrientation:n,global:!0,metersPerUnit:l,worldExtent:s})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),c=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:EPSG::4326","neu"),new u("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("urn:x-ogc:def:crs:EPSG:4326","neu")];n.PROJECTIONS=c},{"./Projection.js":"lDHS","./Units.js":"RNSs"}],vyhW:[function(t,e,n){"use strict";function i(){a={}}function r(t){return a[t]||null}function o(t,e){a[t]=e}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.get=r,n.add=o;var a={}},{}],Aiuk:[function(t,e,n){"use strict";function i(){l={}}function r(t,e,n){var i=t.getCode(),r=e.getCode();i in l||(l[i]={}),l[i][r]=n}function o(t,e){var n=t.getCode(),i=e.getCode(),r=l[n][i];return delete l[n][i],(0,s.isEmpty)(l[n])&&delete l[n],r}function a(t,e){var n;return t in l&&e in l[t]&&(n=l[t][e]),n}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.add=r,n.remove=o,n.get=a;var s=t("../obj.js"),l={}},{"../obj.js":"qC1c"}],aoEo:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function s(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function l(t){L.add(t.getCode(),t),(0,k.add)(t,t,a)}function u(t){t.forEach(l)}function c(t){return"string"==typeof t?L.get(t):t||null}function d(t,e,n,i){var r,o=(t=c(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==I["default"].DEGREES&&!i||i==I["default"].DEGREES)r=e;else{var a=E(t,c("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),r=((0,M.getDistance)(s.slice(0,2),s.slice(2,4))+(0,M.getDistance)(s.slice(4,6),s.slice(6,8)))/2;var l=i?I.METERS_PER_UNIT[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}return r}function h(t){u(t),t.forEach(function(e){t.forEach(function(t){e!==t&&(0,k.add)(e,t,a)})})}function f(t,e,n,i){t.forEach(function(t){e.forEach(function(e){(0,k.add)(t,e,n),(0,k.add)(e,t,i)})})}function p(){L.clear(),(0,k.clear)()}function m(t,e){return t?"string"==typeof t?c(t):t:c(e)}function g(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,a=void 0!==n?n:new Array(r),s=0;s<r;s+=o){var l=t([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=e[s+u]}return a}}function v(t,e,n,i){var r=c(t),o=c(e);(0,k.add)(r,o,g(n)),(0,k.add)(o,r,g(i))}function y(t,e){return C(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function _(t,e){var n=C(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=(0,O.modulo)(i+180,360)-180),n}function b(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:E(t,e)===a&&n}function E(t,e){var n=t.getCode(),i=e.getCode(),r=(0,k.get)(n,i);return r||(r=s),r}function x(t,e){return E(c(t),c(e))}function C(t,e,n){return x(e,n)(t,void 0,t.length)}function T(t,e,n){var i=x(e,n);return(0,j.applyTransform)(t,i)}function w(t,e,n){return E(e,n)(t)}function S(){h(A.PROJECTIONS),h(R.PROJECTIONS),f(R.PROJECTIONS,A.PROJECTIONS,A.fromEPSG4326,A.toEPSG4326)}Object.defineProperty(n,"__esModule",{value:!0}),n.cloneTransform=a,n.identityTransform=s,n.addProjection=l,n.addProjections=u,n.get=c,n.getPointResolution=d,n.addEquivalentProjections=h,n.addEquivalentTransforms=f,n.clearAllProjections=p,n.createProjection=m,n.createTransformFromCoordinateTransform=g,n.addCoordinateTransforms=v,n.fromLonLat=y,n.toLonLat=_,n.equivalent=b,n.getTransformFromProjections=E,n.getTransform=x,n.transform=C,n.transformExtent=T,n.transformWithProjections=w,n.addCommon=S,Object.defineProperty(n,"Projection",{enumerable:!0,get:function(){return P["default"]}}),Object.defineProperty(n,"METERS_PER_UNIT",{enumerable:!0,get:function(){return I.METERS_PER_UNIT}});var M=t("./sphere.js"),j=t("./extent.js"),O=t("./math.js"),A=t("./proj/epsg3857.js"),R=t("./proj/epsg4326.js"),P=o(t("./proj/Projection.js")),I=r(t("./proj/Units.js")),L=r(t("./proj/projections.js")),k=t("./proj/transforms.js");S()},{"./sphere.js":"KXaK","./extent.js":"IwSU","./math.js":"RK1r","./proj/epsg3857.js":"yEvQ","./proj/epsg4326.js":"fhYH","./proj/Projection.js":"lDHS","./proj/Units.js":"RNSs","./proj/projections.js":"vyhW","./proj/transforms.js":"Aiuk"}],glB6:[function(t,e,n){"use strict";function i(){return[1,0,0,1,0,0]}function r(t){return a(t,1,0,0,1,0,0)}function o(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=e[0],u=e[1],c=e[2],d=e[3],h=e[4],f=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*d,t[3]=i*c+o*d,t[4]=n*h+r*f+a,t[5]=i*h+o*f+s,t}function a(t,e,n,i,r,o,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function l(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function u(t,e){var n=Math.cos(e),i=Math.sin(e);return o(t,a(g,n,i,-i,n,0,0))}function c(t,e,n){return o(t,a(g,e,0,0,n,0,0))}function d(t,e,n){return o(t,a(g,1,0,0,1,e,n))}function h(t,e,n,i,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=a*i*u-s*i*l+e,t[5]=a*r*l+s*r*u+n,t}function f(t){var e=p(t);(0,m.assert)(0!==e,32);var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5];return t[0]=o/e,t[1]=-i/e,t[2]=-r/e,t[3]=n/e,t[4]=(r*s-o*a)/e,t[5]=-(n*s-i*a)/e,t}function p(t){return t[0]*t[3]-t[1]*t[2]}Object.defineProperty(n,"__esModule",{value:!0}),n.create=i,n.reset=r,n.multiply=o,n.set=a,n.setFromArray=s,n.apply=l,n.rotate=u,n.scale=c,n.translate=d,n.compose=h,n.invert=f,n.determinant=p;var m=t("./asserts.js"),g=new Array(6)},{"./asserts.js":"E2kQ"}],Y20q:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../Object.js")),a=t("../extent.js"),s=t("./flat/transform.js"),l=t("../proj.js"),u=i(t("../proj/Units.js")),c=t("../transform.js"),d=(0,c.create)(),h=function(t){function e(){t.call(this),this.extent_=(0,a.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return(0,r["abstract"])()},e.prototype.closestPointXY=function(t,e,n,i){return(0,r["abstract"])()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return(0,r["abstract"])()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,a.returnOrUpdate)(this.extent_,t)},e.prototype.rotate=function(t,e){(0,r["abstract"])()},e.prototype.scale=function(t,e,n){(0,r["abstract"])()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return(0,r["abstract"])()},e.prototype.getType=function(){return(0,r["abstract"])()},e.prototype.applyTransform=function(t){(0,r["abstract"])()},e.prototype.intersectsExtent=function(t){return(0,r["abstract"])()},e.prototype.translate=function(t,e){(0,r["abstract"])()},e.prototype.transform=function(t,e){var n=(0,l.get)(t),i=n.getUnits()==u["default"].TILE_PIXELS?function(t,i,r){var o=n.getExtent(),u=n.getWorldExtent(),h=(0,a.getHeight)(u)/(0,a.getHeight)(o);return(0,c.compose)(d,u[0],u[3],h,-h,0,0,0),(0,s.transform2D)(t,0,t.length,r,d,i),(0,l.getTransform)(n,e)(t,i,r)}:(0,l.getTransform)(n,e);return this.applyTransform(i),this},e}(o["default"]),f=h;n["default"]=f},{"../util.js":"YOqM","../Object.js":"n4ep","../extent.js":"IwSU","./flat/transform.js":"CVNs","../proj.js":"aoEo","../proj/Units.js":"RNSs","../transform.js":"glB6"}],F2mr:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e;return 2==t?e=c["default"].XY:3==t?e=c["default"].XYZ:4==t&&(e=c["default"].XYZM),e}function o(t){var e;return t==c["default"].XY?e=2:t==c["default"].XYZ||t==c["default"].XYM?e=3:t==c["default"].XYZM&&(e=4),e}function a(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return(0,d.transform2D)(i,0,i.length,r,e,n)}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.getStrideForLayout=o,n.transformGeom2D=a,n["default"]=void 0;var s=t("../util.js"),l=t("../extent.js"),u=i(t("./Geometry.js")),c=i(t("./GeometryLayout.js")),d=t("./flat/transform.js"),h=t("../obj.js"),f=function(t){function e(){t.call(this),this.layout=c["default"].XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return(0,l.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return(0,s["abstract"])()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,h.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=o(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){(0,s["abstract"])()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=o(t);else{for(var a=0;a<n;++a){if(0===e.length)return this.layout=c["default"].XY,void(this.stride=2);e=e[0]}t=r(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,d.rotate)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=(0,l.getCenter)(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();(0,d.scale)(o,0,o.length,a,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();(0,d.translate)(n,0,n.length,i,t,e,n),this.changed()}},e}(u["default"]),p=f;n["default"]=p},{"../util.js":"YOqM","../extent.js":"IwSU","./Geometry.js":"Y20q","./GeometryLayout.js":"hsvv","./flat/transform.js":"CVNs","../obj.js":"qC1c"}],w7L4:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=a*s-o*l,o=s,a=l}return r/2}function r(t,e,n,r){for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];o+=i(t,e,l,r),e=l}return o}function o(t,e,n,i){for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];o+=r(t,e,l,i),e=l[l.length-1]}return o}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRing=i,n.linearRings=r,n.linearRingss=o},{}],U50t:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){var s,l=t[e],u=t[e+1],d=t[n]-l,h=t[n+1]-u;if(0===d&&0===h)s=e;else{var f=((r-l)*d+(o-u)*h)/(d*d+h*h);if(f>1)s=n;else{if(f>0){for(var p=0;p<i;++p)a[p]=(0,c.lerp)(t[e+p],t[n+p],f);return void(a.length=i)}s=e}}for(var m=0;m<i;++m)a[m]=t[s+m];a.length=i}function r(t,e,n,i,r){var o=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],u=(0,c.squaredDistance)(o,a,s,l);u>r&&(r=u),o=s,a=l}return r}function o(t,e,n,i,o){for(var a=0,s=n.length;a<s;++a){var l=n[a];o=r(t,e,l,i,o),e=l}return o}function a(t,e,n,i,r){for(var a=0,s=n.length;a<s;++a){var l=n[a];r=o(t,e,l,i,r),e=l[l.length-1]}return r}function s(t,e,n,r,o,a,s,l,u,d,h){if(e==n)return d;var f,p;if(0===o){if((p=(0,c.squaredDistance)(s,l,t[e],t[e+1]))<d){for(f=0;f<r;++f)u[f]=t[e+f];return u.length=r,p}return d}for(var m=h||[NaN,NaN],g=e+r;g<n;)if(i(t,g-r,g,r,s,l,m),(p=(0,c.squaredDistance)(s,l,m[0],m[1]))<d){for(d=p,f=0;f<r;++f)u[f]=m[f];u.length=r,g+=r}else g+=r*Math.max((Math.sqrt(p)-Math.sqrt(d))/o|0,1);if(a&&(i(t,n-r,e,r,s,l,m),(p=(0,c.squaredDistance)(s,l,m[0],m[1]))<d)){for(d=p,f=0;f<r;++f)u[f]=m[f];u.length=r}return d}function l(t,e,n,i,r,o,a,l,u,c,d){for(var h=d||[NaN,NaN],f=0,p=n.length;f<p;++f){var m=n[f];c=s(t,e,m,i,r,o,a,l,u,c,h),e=m}return c}function u(t,e,n,i,r,o,a,s,u,c,d){for(var h=d||[NaN,NaN],f=0,p=n.length;f<p;++f){var m=n[f];c=l(t,e,m,i,r,o,a,s,u,c,h),e=m[m.length-1]}return c}Object.defineProperty(n,"__esModule",{value:!0}),n.maxSquaredDelta=r,n.arrayMaxSquaredDelta=o,n.multiArrayMaxSquaredDelta=a,n.assignClosestPoint=s,n.assignClosestArrayPoint=l,n.assignClosestMultiArrayPoint=u;var c=t("../../math.js")},{"../../math.js":"RK1r"}],Wjyi:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)t[e++]=a[s];return e}function o(t,e,n,i,o){for(var a=o||[],s=0,l=0,u=n.length;l<u;++l){var c=r(t,e,n[l],i);a[s++]=c,e=c}return a.length=s,a}function a(t,e,n,i,r){for(var a=r||[],s=0,l=0,u=n.length;l<u;++l){var c=o(t,e,n[l],i,a[s]);a[s++]=c,e=c[c.length-1]}return a.length=s,a}Object.defineProperty(n,"__esModule",{value:!0}),n.deflateCoordinate=i,n.deflateCoordinates=r,n.deflateCoordinatesArray=o,n.deflateMultiCoordinatesArray=a},{}],a4id:[function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=void 0!==r?r:[],a=0,s=e;s<n;s+=i)o[a++]=t.slice(s,s+i);return o.length=a,o}function r(t,e,n,r,o){for(var a=void 0!==o?o:[],s=0,l=0,u=n.length;l<u;++l){var c=n[l];a[s++]=i(t,e,c,r,a[s]),e=c}return a.length=s,a}function o(t,e,n,i,o){for(var a=void 0!==o?o:[],s=0,l=0,u=n.length;l<u;++l){var c=n[l];a[s++]=r(t,e,c,i,a[s]),e=c[c.length-1]}return a.length=s,a}Object.defineProperty(n,"__esModule",{value:!0}),n.inflateCoordinates=i,n.inflateCoordinatesArray=r,n.inflateMultiCoordinatesArray=o},{}],y5ZM:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,l){var u=void 0!==l?l:[];return a||(n=s(t,e,n,i,o,u,0),t=u,e=0,i=2),u.length=r(t,e,n,i,o,u,0),u}function r(t,e,n,i,r,o,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,n-i],c=0;u.length>0;){for(var d=u.pop(),f=u.pop(),p=0,m=t[f],g=t[f+1],v=t[d],y=t[d+1],_=f+i;_<d;_+=i){var b=t[_],E=t[_+1],x=(0,h.squaredSegmentDistance)(b,E,m,g,v,y);x>p&&(c=_,p=x)}p>r&&(l[(c-e)/i]=1,f+i<c&&u.push(f,c),c+i<d&&u.push(c,d))}for(var C=0;C<s;++C)l[C]&&(o[a++]=t[e+C*i],o[a++]=t[e+C*i+1]);return a}function o(t,e,n,i,o,a,s,l){for(var u=0,c=n.length;u<c;++u){var d=n[u];s=r(t,e,d,i,o,a,s),l.push(s),e=d}return s}function a(t,e,n,i,r,a,s,l){for(var u=0,c=n.length;u<c;++u){var d=n[u],h=[];s=o(t,e,d,i,r,a,s,h),l.push(h),e=d[d.length-1]}return s}function s(t,e,n,i,r,o,a){if(n<=e+i){for(;e<n;e+=i)o[a++]=t[e],o[a++]=t[e+1];return a}var s=t[e],l=t[e+1];o[a++]=s,o[a++]=l;var u=s,c=l;for(e+=i;e<n;e+=i)u=t[e],c=t[e+1],(0,h.squaredDistance)(s,l,u,c)>r&&(o[a++]=u,o[a++]=c,s=u,l=c);return u==s&&c==l||(o[a++]=u,o[a++]=c),a}function l(t,e){return e*Math.round(t/e)}function u(t,e,n,i,r,o,a){if(e==n)return a;var s,u,c=l(t[e],r),d=l(t[e+1],r);e+=i,o[a++]=c,o[a++]=d;do if(s=l(t[e],r),u=l(t[e+1],r),(e+=i)==n)return o[a++]=s,o[a++]=u,a;while(s==c&&u==d);for(;e<n;){var h=l(t[e],r),f=l(t[e+1],r);if(e+=i,h!=s||f!=u){var p=s-c,m=u-d,g=h-c,v=f-d;p*v==m*g&&(p<0&&g<p||p==g||p>0&&g>p)&&(m<0&&v<m||m==v||m>0&&v>m)?(s=h,u=f):(o[a++]=s,o[a++]=u,c=s,d=u,s=h,u=f)}}return o[a++]=s,o[a++]=u,a}function c(t,e,n,i,r,o,a,s){for(var l=0,c=n.length;l<c;++l){var d=n[l];a=u(t,e,d,i,r,o,a),s.push(a),e=d}return a}function d(t,e,n,i,r,o,a,s){for(var l=0,u=n.length;l<u;++l){var d=n[l],h=[];a=c(t,e,d,i,r,o,a,h),s.push(h),e=d[d.length-1]}return a}Object.defineProperty(n,"__esModule",{value:!0}),n.simplifyLineString=i,n.douglasPeucker=r,n.douglasPeuckerArray=o,n.douglasPeuckerMultiArray=a,n.radialDistance=s,n.snap=l,n.quantize=u,n.quantizeArray=c,n.quantizeMultiArray=d;var h=t("../../math.js")},{"../../math.js":"RK1r"}],n01p:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../extent.js"),o=i(t("./GeometryLayout.js")),a=i(t("./GeometryType.js")),s=i(t("./SimpleGeometry.js")),l=t("./flat/area.js"),u=t("./flat/closest.js"),c=t("./flat/deflate.js"),d=t("./flat/inflate.js"),h=t("./flat/simplify.js"),f=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,r.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return(0,l.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,d.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o["default"].XY)},e.prototype.getType=function(){return a["default"].LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(s["default"]),p=f;n["default"]=p},{"../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/area.js":"w7L4","./flat/closest.js":"U50t","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/simplify.js":"y5ZM"}],FFTU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../extent.js"),o=i(t("./GeometryType.js")),a=i(t("./SimpleGeometry.js")),s=t("./flat/deflate.js"),l=t("../math.js"),u=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=(0,l.squaredDistance)(t,e,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,r.createOrUpdateFromCoordinate)(this.flatCoordinates,t)},e.prototype.getType=function(){return o["default"].POINT},e.prototype.intersectsExtent=function(t){return(0,r.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a["default"]),c=u;n["default"]=c},{"../extent.js":"IwSU","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/deflate.js":"Wjyi","../math.js":"RK1r"}],npHd:[function(t,e,n){"use strict";function i(t,e,n,i,o){return!(0,s.forEachCorner)(o,function(o){return!r(t,e,n,i,o[0],o[1])})}function r(t,e,n,i,r,o){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-s)*(o-l)-(r-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(r-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function o(t,e,n,i,o,a){if(0===n.length)return!1;if(!r(t,e,n[0],i,o,a))return!1;for(var s=1,l=n.length;s<l;++s)if(r(t,n[s-1],n[s],i,o,a))return!1;return!0}function a(t,e,n,i,r,a){if(0===n.length)return!1;for(var s=0,l=n.length;s<l;++s){var u=n[s];if(o(t,e,u,i,r,a))return!0;e=u[u.length-1]}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRingContainsExtent=i,n.linearRingContainsXY=r,n.linearRingsContainsXY=o,n.linearRingssContainsXY=a;var s=t("../../extent.js")},{"../../extent.js":"IwSU"}],QVo3:[function(t,e,n){"use strict";function i(t,e,n,i,r,s,l){for(var u,c,d,h,f,p,m,g=r[s+1],v=[],y=0,_=n.length;y<_;++y){var b=n[y];for(h=t[b-i],p=t[b-i+1],u=e;u<b;u+=i)f=t[u],m=t[u+1],(g<=p&&m<=g||p<=g&&g<=m)&&(d=(g-p)/(m-p)*(f-h)+h,v.push(d)),h=f,p=m}var E=NaN,x=-1/0;for(v.sort(o.numberSafeCompareFunction),h=v[0],u=1,c=v.length;u<c;++u){f=v[u];var C=Math.abs(f-h);C>x&&(d=(h+f)/2,(0,a.linearRingsContainsXY)(t,e,n,i,d,g)&&(E=d,x=C)),h=f}return isNaN(E)&&(E=r[s]),l?(l.push(E,g,x),l):[E,g,x]}function r(t,e,n,r,o){for(var a=[],s=0,l=n.length;s<l;++s){var u=n[s];a=i(t,e,u,r,o,2*s,a),e=u[u.length-1]}return a}Object.defineProperty(n,"__esModule",{value:!0}),n.getInteriorPointOfArray=i,n.getInteriorPointsOfMultiArray=r;var o=t("../../array.js"),a=t("./contains.js")},{"../../array.js":"Z5sL","./contains.js":"npHd"}],bS2z:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var a,s=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],a=r.call(o,s,l))return a;s[0]=l[0],s[1]=l[1]}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.forEach=i},{}],RGtZ:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o=(0,l.extendFlatCoordinates)((0,l.createEmpty)(),t,e,n,i);return!!(0,l.intersects)(r,o)&&(!!(0,l.containsExtent)(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||(0,c.forEach)(t,e,n,i,function(t,e){return(0,l.intersectsSegment)(r,t,e)}))}function r(t,e,n,r,o){for(var a=0,s=n.length;a<s;++a){if(i(t,e,n[a],r,o))return!0;e=n[a]}return!1}function o(t,e,n,r,o){return!!(i(t,e,n,r,o)||(0,u.linearRingContainsXY)(t,e,n,r,o[0],o[1])||(0,u.linearRingContainsXY)(t,e,n,r,o[0],o[3])||(0,u.linearRingContainsXY)(t,e,n,r,o[2],o[1])||(0,u.linearRingContainsXY)(t,e,n,r,o[2],o[3]))}function a(t,e,n,r,a){if(!o(t,e,n[0],r,a))return!1;if(1===n.length)return!0;for(var s=1,l=n.length;s<l;++s)if((0,u.linearRingContainsExtent)(t,n[s-1],n[s],r,a)&&!i(t,n[s-1],n[s],r,a))return!1;return!0}function s(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var l=n[o];if(a(t,e,l,i,r))return!0;e=l[l.length-1]}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n.intersectsLineString=i,n.intersectsLineStringArray=r,n.intersectsLinearRing=o,n.intersectsLinearRingArray=a,n.intersectsLinearRingMultiArray=s;var l=t("../../extent.js"),u=t("./contains.js"),c=t("./segments.js")},{"../../extent.js":"IwSU","./contains.js":"npHd","./segments.js":"bS2z"}],BiuG:[function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}Object.defineProperty(n,"__esModule",{value:!0}),n.coordinates=i},{}],SKGF:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];r+=(s-o)*(l+a),o=s,a=l}return r>0}function r(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,l=n.length;s<l;++s){var u=n[s],c=i(t,e,u,r);if(0===s){if(a&&c||!a&&!c)return!1}else if(a&&!c||!a&&c)return!1;e=u}return!0}function o(t,e,n,i,o){for(var a=0,s=n.length;a<s;++a)if(!r(t,e,n[a],i,o))return!1;return!0}function a(t,e,n,r,o){for(var a=void 0!==o&&o,s=0,u=n.length;s<u;++s){var c=n[s],d=i(t,e,c,r);(0===s?a&&d||!a&&!d:a&&!d||!a&&d)&&(0,l.coordinates)(t,e,c,r),e=c}return e}function s(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=a(t,e,n[o],i,r);return e}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRingIsClockwise=i,n.linearRingIsOriented=r,n.linearRingsAreOriented=o,n.orientLinearRings=a,n.orientLinearRingsArray=s;var l=t("./reverse.js")},{"./reverse.js":"BiuG"}],K0BN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i){for(var r=n||32,o=[],a=0;a<r;++a)(0,l.extend)(o,(0,m.offset)(t,e,2*Math.PI*a/r,i));return o.push(o[0],o[1]),new S(o,c["default"].XY,[o.length])}function o(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new S(o,c["default"].XY,[o.length])}function a(t,e,n){for(var i=e||32,r=t.getStride(),o=t.getLayout(),a=t.getCenter(),l=r*(i+1),u=new Array(l),c=0;c<l;c+=r){u[c]=0,u[c+1]=0;for(var d=2;d<r;d++)u[c+d]=a[d]}var h=[u.length],f=new S(u,o,h);return s(f,a,t.getRadius(),n),f}function s(t,e,n,i){for(var r=t.getFlatCoordinates(),o=t.getStride(),a=r.length/o-1,s=i||0,l=0;l<=a;++l){var u=l*o,c=s+2*(0,w.modulo)(l,a)*Math.PI/a;r[u]=e[0]+n*Math.cos(c),r[u+1]=e[1]+n*Math.sin(c)}t.changed()}Object.defineProperty(n,"__esModule",{value:!0}),n.circular=r,n.fromExtent=o,n.fromCircle=a,n.makeRegular=s,n["default"]=void 0;var l=t("../array.js"),u=t("../extent.js"),c=i(t("./GeometryLayout.js")),d=i(t("./GeometryType.js")),h=i(t("./LinearRing.js")),f=i(t("./Point.js")),p=i(t("./SimpleGeometry.js")),m=t("../sphere.js"),g=t("./flat/area.js"),v=t("./flat/closest.js"),y=t("./flat/contains.js"),_=t("./flat/deflate.js"),b=t("./flat/inflate.js"),E=t("./flat/interiorpoint.js"),x=t("./flat/intersectsextent.js"),C=t("./flat/orient.js"),T=t("./flat/simplify.js"),w=t("../math.js"),S=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,l.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,u.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,v.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return(0,y.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return(0,g.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,C.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,b.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,u.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,
E.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new f["default"](this.getFlatInteriorPoint(),c["default"].XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new h["default"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],l=new h["default"](e.slice(r,s),t);i.push(l),r=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,C.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,C.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=(0,T.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,c["default"].XY,i)},e.prototype.getType=function(){return d["default"].POLYGON},e.prototype.intersectsExtent=function(t){return(0,x.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,_.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(p["default"]),M=S;n["default"]=M},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./LinearRing.js":"n01p","./Point.js":"FFTU","./SimpleGeometry.js":"F2mr","../sphere.js":"KXaK","./flat/area.js":"w7L4","./flat/closest.js":"U50t","./flat/contains.js":"npHd","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interiorpoint.js":"QVo3","./flat/intersectsextent.js":"RGtZ","./flat/orient.js":"SKGF","./flat/simplify.js":"y5ZM","../math.js":"RK1r"}],SvAv:[function(t,e,n){"use strict";function i(t,e){for(var n=U.length,i=0;i<n;++i)try{var r=t.getContext(U[i],e);if(r)return r}catch(o){}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.getContext=i,n.EXTENSIONS=n.MAX_TEXTURE_SIZE=n.HAS=n.DEBUG=n.FRAMEBUFFER=n.COMPILE_STATUS=n.CLAMP_TO_EDGE=n.TEXTURE0=n.TEXTURE_2D=n.TEXTURE_WRAP_T=n.TEXTURE_WRAP_S=n.TEXTURE_MIN_FILTER=n.TEXTURE_MAG_FILTER=n.LINEAR=n.LINK_STATUS=n.VERTEX_SHADER=n.FRAGMENT_SHADER=n.RGBA=n.FLOAT=n.UNSIGNED_INT=n.UNSIGNED_SHORT=n.UNSIGNED_BYTE=n.SCISSOR_TEST=n.DEPTH_TEST=n.STENCIL_TEST=n.BLEND=n.CULL_FACE=n.DYNAMIC_DRAW=n.STATIC_DRAW=n.STREAM_DRAW=n.ELEMENT_ARRAY_BUFFER=n.ARRAY_BUFFER=n.ONE_MINUS_SRC_ALPHA=n.TRIANGLE_STRIP=n.TRIANGLES=n.COLOR_BUFFER_BIT=n.COLOR_ATTACHMENT0=n.SRC_ALPHA=n.ONE=void 0;var r=1;n.ONE=r;var o=770;n.SRC_ALPHA=o;var a=36064;n.COLOR_ATTACHMENT0=a;var s=16384;n.COLOR_BUFFER_BIT=s;var l=4;n.TRIANGLES=l;var u=5;n.TRIANGLE_STRIP=u;var c=771;n.ONE_MINUS_SRC_ALPHA=c;var d=34962;n.ARRAY_BUFFER=d;var h=34963;n.ELEMENT_ARRAY_BUFFER=h;var f=35040;n.STREAM_DRAW=f;var p=35044;n.STATIC_DRAW=p;var m=35048;n.DYNAMIC_DRAW=m;var g=2884;n.CULL_FACE=g;var v=3042;n.BLEND=v;var y=2960;n.STENCIL_TEST=y;var _=2929;n.DEPTH_TEST=_;var b=3089;n.SCISSOR_TEST=b;var E=5121;n.UNSIGNED_BYTE=E;var x=5123;n.UNSIGNED_SHORT=x;var C=5125;n.UNSIGNED_INT=C;var T=5126;n.FLOAT=T;var w=6408;n.RGBA=w;var S=35632;n.FRAGMENT_SHADER=S;var M=35633;n.VERTEX_SHADER=M;var j=35714;n.LINK_STATUS=j;var O=9729;n.LINEAR=O;var A=10240;n.TEXTURE_MAG_FILTER=A;var R=10241;n.TEXTURE_MIN_FILTER=R;var P=10242;n.TEXTURE_WRAP_S=P;var I=10243;n.TEXTURE_WRAP_T=I;var L=3553;n.TEXTURE_2D=L;var k=33984;n.TEXTURE0=k;var D=33071;n.CLAMP_TO_EDGE=D;var N=35713;n.COMPILE_STATUS=N;var F=36160;n.FRAMEBUFFER=F;var $,G,U=["experimental-webgl","webgl","webkit-3d","moz-webgl"],B=!0;n.DEBUG=B,n.MAX_TEXTURE_SIZE=$,n.EXTENSIONS=G;var H=!1;if(n.HAS=H,"undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var V=document.createElement("canvas"),z=i(V,{failIfMajorPerformanceCaveat:!0});z&&(n.HAS=H=!0,n.MAX_TEXTURE_SIZE=$=z.getParameter(z.MAX_TEXTURE_SIZE),n.EXTENSIONS=G=z.getSupportedExtensions())}catch(W){}},{}],lDpN:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"WEBGL",{enumerable:!0,get:function(){return i.HAS}}),n.MSPOINTER=n.POINTER=n.TOUCH=n.GEOLOCATION=n.CANVAS_LINE_DASH=n.DEVICE_PIXEL_RATIO=n.MAC=n.WEBKIT=n.SAFARI=n.FIREFOX=void 0;var i=t("./webgl.js"),r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",o=-1!==r.indexOf("firefox");n.FIREFOX=o;var a=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom");n.SAFARI=a;var s=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge");n.WEBKIT=s;var l=-1!==r.indexOf("macintosh");n.MAC=l;var u=window.devicePixelRatio||1;n.DEVICE_PIXEL_RATIO=u;var c=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(e){}return t}();n.CANVAS_LINE_DASH=c;var d="geolocation"in navigator;n.GEOLOCATION=d;var h="ontouchstart"in window;n.TOUCH=h;var f="PointerEvent"in window;n.POINTER=f;var p=!!navigator.msPointerEnabled;n.MSPOINTER=p},{"./webgl.js":"SvAv"}],r0ZT:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("./Object.js")),s=t("./events.js"),l=i(t("./events/Event.js")),u=i(t("./events/EventType.js")),c=t("./geom/Polygon.js"),d=t("./has.js"),h=t("./math.js"),f=t("./proj.js"),p={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},m=function(t){function e(e){t.call(this,u["default"].ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),g=function(t){function e(e){t.call(this);var n=e||{};this.position_=null,this.transform_=f.identityTransform,this.watchId_=void 0,(0,s.listen)(this,(0,a.getChangeEventType)(p.PROJECTION),this.handleProjectionChanged_,this),(0,s.listen)(this,(0,a.getChangeEventType)(p.TRACKING),this.handleTrackingChanged_,this),void 0!==n.projection&&this.setProjection(n.projection),void 0!==n.trackingOptions&&this.setTrackingOptions(n.trackingOptions),this.setTracking(void 0!==n.tracking&&n.tracking)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,f.getTransformFromProjections)((0,f.get)("EPSG:4326"),t),this.position_&&this.set(p.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if(d.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(p.ACCURACY,e.accuracy),this.set(p.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(p.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(p.HEADING,null===e.heading?void 0:(0,h.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(p.POSITION,n),this.set(p.SPEED,null===e.speed?void 0:e.speed);var i=(0,c.circular)(this.position_,e.accuracy);i.applyTransform(this.transform_),this.set(p.ACCURACY_GEOMETRY,i),this.changed()},e.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new m(t))},e.prototype.getAccuracy=function(){return this.get(p.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(p.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(p.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(p.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(p.HEADING)},e.prototype.getPosition=function(){return this.get(p.POSITION)},e.prototype.getProjection=function(){return this.get(p.PROJECTION)},e.prototype.getSpeed=function(){return this.get(p.SPEED)},e.prototype.getTracking=function(){return this.get(p.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(p.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(p.PROJECTION,(0,f.get)(t))},e.prototype.setTracking=function(t){this.set(p.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(p.TRACKING_OPTIONS,t)},e}(a["default"]),v=g;n["default"]=v},{"./Object.js":"n4ep","./events.js":"Bvf5","./events/Event.js":"h36w","./events/EventType.js":"eKq7","./geom/Polygon.js":"K0BN","./has.js":"lDpN","./math.js":"RK1r","./proj.js":"aoEo"}],OqZs:[function(t,e,n){"use strict";function i(t,e,n){var i=void 0!==n?t.toFixed(n):""+t,r=i.indexOf(".");return(r=-1===r?i.length:r)>e?i:new Array(1+e-r).join("0")+i}function r(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),a=parseInt(i[r]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}Object.defineProperty(n,"__esModule",{value:!0}),n.padNumber=i,n.compareVersions=r},{}],HxRU:[function(t,e,n){"use strict";function i(t,e){return t[0]+=e[0],t[1]+=e[1],t}function r(t,e){var n=e.getRadius(),i=e.getCenter(),r=i[0],o=i[1],a=t[0]-r,s=t[1]-o;0===a&&0===s&&(a=1);var l=Math.sqrt(a*a+s*s);return[r+n*a/l,o+n*s/l]}function o(t,e){var n,i,r=t[0],o=t[1],a=e[0],s=e[1],l=a[0],u=a[1],c=s[0],d=s[1],h=c-l,f=d-u,p=0===h&&0===f?0:(h*(r-l)+f*(o-u))/(h*h+f*f||0);return p<=0?(n=l,i=u):p>=1?(n=c,i=d):(n=l+p*h,i=u+p*f),[n,i]}function a(t){return function(e){return g(e,t)}}function s(t,e,n){var i=(0,v.modulo)(e+180,360)-180,r=Math.abs(3600*i),o=n||0,a=Math.pow(10,o),s=Math.floor(r/3600),l=Math.floor((r-3600*s)/60),u=r-3600*s-60*l;return(u=Math.ceil(u*a)/a)>=60&&(u=0,l+=1),l>=60&&(l=0,s+=1),s+" "+(0,y.padNumber)(l,2)+" "+(0,y.padNumber)(u,2,o)+""+(0==i?"":" "+t.charAt(i<0?1:0))}function l(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function u(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function c(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function d(t,e){return t[0]*=e,t[1]*=e,t}function h(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function f(t,e){return Math.sqrt(h(t,e))}function p(t,e){return h(t,o(t,e))}function m(t,e){return t?s("NS",t[1],e)+" "+s("EW",t[0],e):""}function g(t,e){return l(t,"{x}, {y}",e)}Object.defineProperty(n,"__esModule",{value:!0}),n.add=i,n.closestOnCircle=r,n.closestOnSegment=o,n.createStringXY=a,n.degreesToStringHDMS=s,n.format=l,n.equals=u,n.rotate=c,n.scale=d,n.squaredDistance=h,n.distance=f,n.squaredDistanceToSegment=p,n.toStringHDMS=m,n.toStringXY=g;var v=t("./math.js"),y=t("./string.js")},{"./math.js":"RK1r","./string.js":"OqZs"}],o7G9:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){var l=NaN,u=NaN,c=(n-e)/i;if(1===c)l=t[e],u=t[e+1];else if(2==c)l=(1-r)*t[e]+r*t[e+i],u=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==c){for(var d=t[e],h=t[e+1],f=0,p=[0],m=e+i;m<n;m+=i){var g=t[m],v=t[m+1];f+=Math.sqrt((g-d)*(g-d)+(v-h)*(v-h)),p.push(f),d=g,h=v}var y=r*f,_=(0,a.binarySearch)(p,y);if(_<0){var b=(y-p[-_-2])/(p[-_-1]-p[-_-2]),E=e+(-_-2)*i;l=(0,s.lerp)(t[E],t[E+i],b),u=(0,s.lerp)(t[E+1],t[E+i+1],b)}else l=t[e+_*i],u=t[e+_*i+1]}return o?(o[0]=l,o[1]=u,o):[l,u]}function r(t,e,n,i,r,o){if(n==e)return null;var a;if(r<t[e+i-1])return o?((a=t.slice(e,e+i))[i-1]=r,a):null;if(t[n-1]<r)return o?((a=t.slice(n-i,n))[i-1]=r,a):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var l=e/i,u=n/i;l<u;){var c=l+u>>1;r<t[(c+1)*i-1]?u=c:l=c+1}var d=t[l*i-1];if(r==d)return t.slice((l-1)*i,(l-1)*i+i);var h=(r-d)/(t[(l+1)*i-1]-d);a=[];for(var f=0;f<i-1;++f)a.push((0,s.lerp)(t[(l-1)*i+f],t[l*i+f],h));return a.push(r),a}function o(t,e,n,i,o,a,s){if(s)return r(t,e,n[n.length-1],i,o,a);var l;if(o<t[i-1])return a?((l=t.slice(0,i))[i-1]=o,l):null;if(t[t.length-1]<o)return a?((l=t.slice(t.length-i))[i-1]=o,l):null;for(var u=0,c=n.length;u<c;++u){var d=n[u];if(e!=d){if(o<t[e+i-1])return null;if(o<=t[d-1])return r(t,e,d,i,o,!1);e=d}}return null}Object.defineProperty(n,"__esModule",{value:!0}),n.interpolatePoint=i,n.lineStringCoordinateAtM=r,n.lineStringsCoordinateAtM=o;var a=t("../../array.js"),s=t("../../math.js")},{"../../array.js":"Z5sL","../../math.js":"RK1r"}],ofva:[function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e],o=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],u=t[s+1];a+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return a}function r(t,e,n,r){var o=i(t,e,n,r),a=t[n-r]-t[e],s=t[n-r+1]-t[e+1];return o+=Math.sqrt(a*a+s*s)}Object.defineProperty(n,"__esModule",{value:!0}),n.lineStringLength=i,n.linearRingLength=r},{}],x8R2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryLayout.js")),s=i(t("./GeometryType.js")),l=i(t("./SimpleGeometry.js")),u=t("./flat/closest.js"),c=t("./flat/deflate.js"),d=t("./flat/inflate.js"),h=t("./flat/interpolate.js"),f=t("./flat/intersectsextent.js"),p=t("./flat/length.js"),m=t("./flat/segments.js"),g=t("./flat/simplify.js"),v=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,u.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return(0,m.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=a["default"].XYM&&this.layout!=a["default"].XYZM)return null;var n=void 0!==e&&e;return(0,h.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return(0,d.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return(0,h.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return(0,p.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=(0,g.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,a["default"].XY)},e.prototype.getType=function(){return s["default"].LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,f.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,c.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(l["default"]),y=v;n["default"]=y},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/closest.js":"U50t","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interpolate.js":"o7G9","./flat/intersectsextent.js":"RGtZ","./flat/length.js":"ofva","./flat/segments.js":"bS2z","./flat/simplify.js":"y5ZM"}],feYO:[function(t,e,n){"use strict";function i(t,e,n){for(var i,r,o,a,l,u,c=[],d=t(0),h=t(1),f=e(d),p=e(h),m=[h,d],g=[p,f],v=[1,0],y={},_=1e5;--_>0&&v.length>0;)o=v.pop(),d=m.pop(),f=g.pop(),(u=o.toString())in y||(c.push(f[0],f[1]),y[u]=!0),a=v.pop(),h=m.pop(),p=g.pop(),r=e(i=t(l=(o+a)/2)),(0,s.squaredSegmentDistance)(r[0],r[1],f[0],f[1],p[0],p[1])<n?(c.push(p[0],p[1]),y[u=a.toString()]=!0):(v.push(a,l,l,o),g.push(p,r,r,f),m.push(h,i,i,d));return c}function r(t,e,n,r,o,a){var u=(0,l.get)("EPSG:4326"),c=Math.cos((0,s.toRadians)(e)),d=Math.sin((0,s.toRadians)(e)),h=Math.cos((0,s.toRadians)(r)),f=Math.sin((0,s.toRadians)(r)),p=Math.cos((0,s.toRadians)(n-t)),m=Math.sin((0,s.toRadians)(n-t)),g=d*f+c*h*p;return i(function(e){if(1<=g)return[n,r];var i=e*Math.acos(g),o=Math.cos(i),a=Math.sin(i),l=m*h,u=c*f-d*h*p,v=Math.atan2(l,u),y=Math.asin(d*o+c*a*Math.cos(v)),_=(0,s.toRadians)(t)+Math.atan2(Math.sin(v)*a*c,o-d*Math.sin(y));return[(0,s.toDegrees)(_),(0,s.toDegrees)(y)]},(0,l.getTransform)(u,o),a)}function o(t,e,n,r,o){var a=(0,l.get)("EPSG:4326");return i(function(i){return[t,e+(n-e)*i]},(0,l.getTransform)(a,r),o)}function a(t,e,n,r,o){var a=(0,l.get)("EPSG:4326");return i(function(i){return[e+(n-e)*i,t]},(0,l.getTransform)(a,r),o)}Object.defineProperty(n,"__esModule",{value:!0}),n.greatCircleArc=r,n.meridian=o,n.parallel=a;var s=t("../../math.js"),l=t("../../proj.js")},{"../../math.js":"RK1r","../../proj.js":"aoEo"}],tder:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"};n["default"]=i},{}],tree:[function(t,e,n){"use strict";function i(t){return"string"==typeof t?t:l(t)}function r(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}function o(t){return Array.isArray(t)?t:f(t)}function a(t){var e,n,i,o,a;if(h.exec(t)&&(t=r(t)),d.exec(t)){var l,c=t.length-1;l=c<=4?1:2;var f=4===c||8===c;e=parseInt(t.substr(1+0*l,l),16),n=parseInt(t.substr(1+1*l,l),16),i=parseInt(t.substr(1+2*l,l),16),o=f?parseInt(t.substr(1+3*l,l),16):255,1==l&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,f&&(o=(o<<4)+o)),a=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?s(a=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((a=t.slice(4,-1).split(",").map(Number)).push(1),s(a)):(0,u.assert)(!1,14);return a}function s(t){return t[0]=(0,c.clamp)(t[0]+.5|0,0,255),t[1]=(0,c.clamp)(t[1]+.5|0,0,255),t[2]=(0,c.clamp)(t[2]+.5|0,0,255),t[3]=(0,c.clamp)(t[3],0,1),t}function l(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}Object.defineProperty(n,"__esModule",{value:!0}),n.asString=i,n.asArray=o,n.normalize=s,n.toString=l,n.fromString=void 0;var u=t("./asserts.js"),c=t("./math.js"),d=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,h=/^([a-z]*)$/i,f=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0==(3&r++)&&(delete t[o],--e)}i=a(n),t[n]=i,++e}return i}}();n.fromString=f},{"./asserts.js":"E2kQ","./math.js":"RK1r"}],vciJ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=t("../color.js"),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,r.asString)(t):this.checksum_=(0,i.getUid)(this.color_):this.checksum_="f-"}return this.checksum_};var a=o;n["default"]=a},{"../util.js":"YOqM","../color.js":"tree"}],vIbn:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,i.getUid)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var o=r;n["default"]=o},{"../util.js":"YOqM"}],t7pG:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINT:"point",LINE:"line"};n["default"]=i},{}],V6H4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./Fill.js")),o=i(t("./TextPlacement.js")),a="#333",s=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new r["default"]({color:a}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:o["default"].POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};s.prototype.clone=function(){return new s({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},s.prototype.getOverflow=function(){return this.overflow_},s.prototype.getFont=function(){return this.font_},s.prototype.getMaxAngle=function(){return this.maxAngle_},s.prototype.getPlacement=function(){return this.placement_},s.prototype.getOffsetX=function(){return this.offsetX_},s.prototype.getOffsetY=function(){return this.offsetY_},s.prototype.getFill=function(){return this.fill_},s.prototype.getRotateWithView=function(){return this.rotateWithView_},s.prototype.getRotation=function(){return this.rotation_},s.prototype.getScale=function(){return this.scale_},s.prototype.getStroke=function(){return this.stroke_},s.prototype.getText=function(){return this.text_},s.prototype.getTextAlign=function(){return this.textAlign_},s.prototype.getTextBaseline=function(){return this.textBaseline_},s.prototype.getBackgroundFill=function(){return this.backgroundFill_},s.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},s.prototype.getPadding=function(){return this.padding_},s.prototype.setOverflow=function(t){this.overflow_=t},s.prototype.setFont=function(t){this.font_=t},s.prototype.setMaxAngle=function(t){this.maxAngle_=t},s.prototype.setOffsetX=function(t){this.offsetX_=t},s.prototype.setOffsetY=function(t){this.offsetY_=t},s.prototype.setPlacement=function(t){this.placement_=t},s.prototype.setFill=function(t){this.fill_=t},s.prototype.setRotation=function(t){this.rotation_=t},s.prototype.setScale=function(t){this.scale_=t},s.prototype.setStroke=function(t){this.stroke_=t},s.prototype.setText=function(t){this.text_=t},s.prototype.setTextAlign=function(t){this.textAlign_=t},s.prototype.setTextBaseline=function(t){this.textBaseline_=t},s.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},s.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},s.prototype.setPadding=function(t){this.padding_=t};var l=s;n["default"]=l},{"./Fill.js":"vciJ","./TextPlacement.js":"t7pG"}],CZFy:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./coordinate.js"),o=t("./events.js"),a=t("./extent.js"),s=i(t("./geom/GeometryLayout.js")),l=i(t("./geom/LineString.js")),u=i(t("./geom/Point.js")),c=t("./geom/flat/geodesic.js"),d=t("./math.js"),h=t("./proj.js"),f=i(t("./render/EventType.js")),p=i(t("./style/Fill.js")),m=i(t("./style/Stroke.js")),g=i(t("./style/Text.js")),v=new m["default"]({color:"rgba(0,0,0,0.2)"}),y=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],_=function(t){var e=t||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==e.targetSize?e.targetSize:100,this.maxLines_=void 0!==e.maxLines?e.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==e.strokeStyle?e.strokeStyle:v,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==e.showLabels&&(this.lonLabelFormatter_=null==e.lonLabelFormatter?r.degreesToStringHDMS.bind(this,"EW"):e.lonLabelFormatter,this.latLabelFormatter_=null==e.latLabelFormatter?r.degreesToStringHDMS.bind(this,"NS"):e.latLabelFormatter,this.lonLabelPosition_=null==e.lonLabelPosition?0:e.lonLabelPosition,this.latLabelPosition_=null==e.latLabelPosition?1:e.latLabelPosition,this.lonLabelStyle_=void 0!==e.lonLabelStyle?e.lonLabelStyle:new g["default"]({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new p["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==e.latLabelStyle?e.latLabelStyle:new g["default"]({font:"12px Calibri,sans-serif",textAlign:"end",fill:new p["default"]({color:"rgba(0,0,0,1)"}),stroke:new m["default"]({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==e.intervals?e.intervals:y,this.setMap(void 0!==e.map?e.map:null)};_.prototype.addMeridian_=function(t,e,n,i,r,o){var s=this.getMeridian_(t,e,n,i,o);if((0,a.intersects)(s.getExtent(),r)){if(this.meridiansLabels_){var l=this.getMeridianPoint_(s,r,o);this.meridiansLabels_[o]={geom:l,text:this.lonLabelFormatter_(t)}}this.meridians_[o++]=s}return o},_.prototype.getMeridianPoint_=function(t,e,n){var i,r=t.getFlatCoordinates(),o=Math.max(e[1],r[1]),a=Math.min(e[3],r[r.length-1]),s=(0,d.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,o,a),l=[r[0],s];return n in this.meridiansLabels_?(i=this.meridiansLabels_[n].geom).setCoordinates(l):i=new u["default"](l),i},_.prototype.addParallel_=function(t,e,n,i,r,o){var s=this.getParallel_(t,e,n,i,o);if((0,a.intersects)(s.getExtent(),r)){if(this.parallelsLabels_){var l=this.getParallelPoint_(s,r,o);this.parallelsLabels_[o]={geom:l,text:this.latLabelFormatter_(t)}}this.parallels_[o++]=s}return o},_.prototype.getParallelPoint_=function(t,e,n){var i,r=t.getFlatCoordinates(),o=Math.max(e[0],r[0]),a=Math.min(e[2],r[r.length-2]),s=[(0,d.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,o,a),r[1]];return n in this.parallelsLabels_?(i=this.parallelsLabels_[n].geom).setCoordinates(s):i=new u["default"](s),i},_.prototype.createGraticule_=function(t,e,n,i){var r=this.getInterval_(n);if(-1==r)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var o,a,s,l,u=this.toLonLatTransform_(e),c=u[0],f=u[1],p=this.maxLines_,m=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],g=(m=(0,h.transformExtent)(m,this.projection_,"EPSG:4326"))[3],v=m[2],y=m[1],_=m[0];for(c=Math.floor(c/r)*r,l=(0,d.clamp)(c,this.minLon_,this.maxLon_),a=this.addMeridian_(l,y,g,i,t,0),o=0;l!=this.minLon_&&o++<p;)l=Math.max(l-r,this.minLon_),a=this.addMeridian_(l,y,g,i,t,a);for(l=(0,d.clamp)(c,this.minLon_,this.maxLon_),o=0;l!=this.maxLon_&&o++<p;)l=Math.min(l+r,this.maxLon_),a=this.addMeridian_(l,y,g,i,t,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),f=Math.floor(f/r)*r,s=(0,d.clamp)(f,this.minLat_,this.maxLat_),a=this.addParallel_(s,_,v,i,t,0),
o=0;s!=this.minLat_&&o++<p;)s=Math.max(s-r,this.minLat_),a=this.addParallel_(s,_,v,i,t,a);for(s=(0,d.clamp)(f,this.minLat_,this.maxLat_),o=0;s!=this.maxLat_&&o++<p;)s=Math.min(s+r,this.maxLat_),a=this.addParallel_(s,_,v,i,t,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},_.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],i=-1,r=Math.pow(this.targetSize_*t,2),o=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=this.intervals_[s]/2;if(o[0]=e-u,o[1]=n-u,a[0]=e+u,a[1]=n+u,this.fromLonLatTransform_(o,o),this.fromLonLatTransform_(a,a),Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)<=r)break;i=this.intervals_[s]}return i},_.prototype.getMap=function(){return this.map_},_.prototype.getMeridian_=function(t,e,n,i,r){var o=(0,c.meridian)(t,e,n,this.projection_,i),a=this.meridians_[r];return a?(a.setFlatCoordinates(s["default"].XY,o),a.changed()):a=this.meridians_[r]=new l["default"](o,s["default"].XY),a},_.prototype.getMeridians=function(){return this.meridians_},_.prototype.getParallel_=function(t,e,n,i,r){var o=(0,c.parallel)(t,e,n,this.projection_,i),a=this.parallels_[r];return a?(a.setFlatCoordinates(s["default"].XY,o),a.changed()):a=new l["default"](o,s["default"].XY),a},_.prototype.getParallels=function(){return this.parallels_},_.prototype.handlePostCompose_=function(t){var e,n,i,r,o=t.vectorContext,a=t.frameState,s=a.extent,l=a.viewState,u=l.center,c=l.projection,d=l.resolution,f=a.pixelRatio,p=d*d/(4*f*f);for((!this.projection_||!(0,h.equivalent)(this.projection_,c))&&this.updateProjectionInfo_(c),this.createGraticule_(s,u,d,p),o.setFillStrokeStyle(null,this.strokeStyle_),e=0,n=this.meridians_.length;e<n;++e)i=this.meridians_[e],o.drawGeometry(i);for(e=0,n=this.parallels_.length;e<n;++e)i=this.parallels_[e],o.drawGeometry(i);if(this.meridiansLabels_)for(e=0,n=this.meridiansLabels_.length;e<n;++e)r=this.meridiansLabels_[e],this.lonLabelStyle_.setText(r.text),o.setTextStyle(this.lonLabelStyle_),o.drawGeometry(r.geom);if(this.parallelsLabels_)for(e=0,n=this.parallelsLabels_.length;e<n;++e)r=this.parallelsLabels_[e],this.latLabelStyle_.setText(r.text),o.setTextStyle(this.latLabelStyle_),o.drawGeometry(r.geom)},_.prototype.updateProjectionInfo_=function(t){var e=(0,h.get)("EPSG:4326"),n=t.getWorldExtent(),i=(0,h.transformExtent)(n,e,t);this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0],this.maxLatP_=i[3],this.maxLonP_=i[2],this.minLatP_=i[1],this.minLonP_=i[0],this.fromLonLatTransform_=(0,h.getTransform)(e,t),this.toLonLatTransform_=(0,h.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(t.getExtent())),this.projection_=t},_.prototype.setMap=function(t){this.map_&&((0,o.unlistenByKey)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=(0,o.listen)(t,f["default"].POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};var b=_;n["default"]=b},{"./coordinate.js":"HxRU","./events.js":"Bvf5","./extent.js":"IwSU","./geom/GeometryLayout.js":"hsvv","./geom/LineString.js":"x8R2","./geom/Point.js":"FFTU","./geom/flat/geodesic.js":"feYO","./math.js":"RK1r","./proj.js":"aoEo","./render/EventType.js":"tder","./style/Fill.js":"vciJ","./style/Stroke.js":"vIbn","./style/Text.js":"V6H4"}],Vfqz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./util.js"),o=i(t("./events/Target.js")),a=i(t("./events/EventType.js")),s=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(a["default"].CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return(0,r["abstract"])()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){(0,r["abstract"])()},e}(o["default"]),l=s;n["default"]=l},{"./util.js":"YOqM","./events/Target.js":"mcdO","./events/EventType.js":"eKq7"}],iN8L:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IDLE:0,LOADING:1,LOADED:2,ERROR:3};n["default"]=i},{}],krGz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./ImageBase.js")),o=i(t("./ImageState.js")),a=t("./events.js"),s=i(t("./events/EventType.js")),l=t("./extent.js"),u=function(t){function e(e,n,i,r,a,s){t.call(this,e,n,i,o["default"].IDLE),this.src_=r,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.state=o["default"].IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=o["default"].ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,l.getHeight)(this.extent)/this.image_.height),this.state=o["default"].LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=o["default"].IDLE&&this.state!=o["default"].ERROR||(this.state=o["default"].LOADING,this.changed(),this.imageListenerKeys_=[(0,a.listenOnce)(this.image_,s["default"].ERROR,this.handleImageError_,this),(0,a.listenOnce)(this.image_,s["default"].LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(a.unlistenByKey),this.imageListenerKeys_=null},e}(r["default"]),c=u;n["default"]=c},{"./ImageBase.js":"Vfqz","./ImageState.js":"iN8L","./events.js":"Bvf5","./events/EventType.js":"eKq7","./extent.js":"IwSU"}],r5gb:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./ImageBase.js")),o=i(t("./ImageState.js")),a=function(t){function e(e,n,i,r,a){var s=void 0!==a?o["default"].IDLE:o["default"].LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==a?a:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=o["default"].ERROR):this.state=o["default"].LOADED,this.changed()},e.prototype.load=function(){this.state==o["default"].IDLE&&(this.state=o["default"].LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(r["default"]),s=a;n["default"]=s},{"./ImageBase.js":"Vfqz","./ImageState.js":"iN8L"}],gwpL:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};n["default"]=i},{}],gfrO:[function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function a(t){return t}function s(t){return t<.5?o(2*t):1-o(2*(t-.5))}Object.defineProperty(n,"__esModule",{value:!0}),n.easeIn=i,n.easeOut=r,n.inAndOut=o,n.linear=a,n.upAndDown=s},{}],rqi0:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./TileState.js")),o=t("./easing.js"),a=i(t("./events/Target.js")),s=i(t("./events/EventType.js")),l=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s["default"].CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==r["default"].LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==r["default"].LOADED){t.interimTile=null;break}t.getState()==r["default"].LOADING?e=t:t.getState()==r["default"].IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:(0,o.easeIn)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a["default"]),u=l;n["default"]=u},{"./TileState.js":"gwpL","./easing.js":"gfrO","./events/Target.js":"mcdO","./events/EventType.js":"eKq7"}],fRxd:[function(t,e,n){"use strict";function i(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function r(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function a(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function s(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}Object.defineProperty(n,"__esModule",{value:!0}),n.createCanvasContext2D=i,n.outerWidth=r,n.outerHeight=o,n.replaceNode=a,n.removeNode=s,n.removeChildren=l},{}],REYz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=(0,s.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=i(t("./Tile.js")),a=i(t("./TileState.js")),s=t("./dom.js"),l=t("./events.js"),u=i(t("./events/EventType.js")),c=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,a),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==a["default"].LOADING&&(this.unlistenImage_(),this.image_=r()),this.interimTile&&this.interimTile.dispose(),this.state=a["default"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=a["default"].ERROR,this.unlistenImage_(),this.image_=r(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=a["default"].LOADED:this.state=a["default"].EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==a["default"].ERROR&&(this.state=a["default"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==a["default"].IDLE&&(this.state=a["default"].LOADING,this.changed(),this.imageListenerKeys_=[(0,l.listenOnce)(this.image_,u["default"].ERROR,this.handleImageError_,this),(0,l.listenOnce)(this.image_,u["default"].LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.unlistenByKey),this.imageListenerKeys_=null},e}(o["default"]),d=c;n["default"]=d},{"./Tile.js":"rqi0","./TileState.js":"gwpL","./dom.js":"fRxd","./events.js":"Bvf5","./events/EventType.js":"eKq7"}],Wo60:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};i.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},i.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},i.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},i.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},i.prototype.getAngle=function(){return this.angle_};var r=i;n["default"]=r},{}],NpCs:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./events/Event.js")),o=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),a=o;n["default"]=a},{"./events/Event.js":"h36w"}],wJox:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./MapEvent.js")),o=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(r["default"]),a=o;n["default"]=a},{"./MapEvent.js":"NpCs"}],WqlW:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./events/EventType.js")),o={SINGLECLICK:"singleclick",CLICK:r["default"].CLICK,DBLCLICK:r["default"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};n["default"]=o},{"./events/EventType.js":"eKq7"}],ASyy:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./MapBrowserEvent.js")),o=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),a=o;n["default"]=a},{"./MapBrowserEvent.js":"wJox"}],z9Rf:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};n["default"]=i},{}],Ny8C:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(t,e){this.dispatcher=t,this.mapping_=e};i.prototype.getEvents=function(){return Object.keys(this.mapping_)},i.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var r=i;n["default"]=r},{}],wVnN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(!this.isEventSimulatedFromTouch_(t)){d.toString()in this.pointerMap&&this.cancel(t);var e=u(t,this.dispatcher);this.pointerMap[d.toString()]=t,this.dispatcher.down(e,t)}}function o(t){if(!this.isEventSimulatedFromTouch_(t)){var e=u(t,this.dispatcher);this.dispatcher.move(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[d.toString()];if(e&&e.button===t.button){var n=u(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function s(t){if(!this.isEventSimulatedFromTouch_(t)){var e=u(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function l(t){if(!this.isEventSimulatedFromTouch_(t)){var e=u(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function u(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=d,n.isPrimary=!0,n.pointerType=h,n}Object.defineProperty(n,"__esModule",{value:!0}),n.prepareEvent=u,n["default"]=n.POINTER_TYPE=n.POINTER_ID=void 0;var c=i(t("./EventSource.js")),d=1;n.POINTER_ID=d;var h="mouse";n.POINTER_TYPE=h;var f=25,p=function(t){function e(e){var n={mousedown:r,mousemove:o,mouseup:a,mouseover:s,mouseout:l};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,a=void 0;r<o&&(a=e[r]);r++){var s=Math.abs(n-a[0]),l=Math.abs(i-a[1]);if(s<=f&&l<=f)return!0}return!1},e.prototype.cancel=function(t){var e=u(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[d.toString()]},e}(c["default"]),m=p;n["default"]=m},{"./EventSource.js":"Ny8C"}],ru6w:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function l(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function u(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function d(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var h=i(t("./EventSource.js")),f=["","unavailable","touch","pen","mouse"],p=function(t){function e(e){var n={MSPointerDown:r,MSPointerMove:o,MSPointerUp:a,MSPointerOut:s,MSPointerOver:l,MSPointerCancel:u,MSGotPointerCapture:d,MSLostPointerCapture:c};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=f[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(h["default"]),m=p;n["default"]=m},{"./EventSource.js":"Ny8C"}],MLec:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function s(t){this.dispatcher.fireNativeEvent(t)}function l(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}function d(t){this.dispatcher.fireNativeEvent(t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var h=i(t("./EventSource.js")),f=function(t){function e(e){var n={pointerdown:r,pointermove:o,pointerup:a,pointerout:s,pointerover:l,pointercancel:u,gotpointercapture:d,lostpointercapture:c};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h["default"]),p=f;n["default"]=p},{"./EventSource.js":"Ny8C"}],tFu0:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e;if(t.buttons||s)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function o(t,e){return t.pressure?t.pressure:e?.5:0}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=i(t("../events/Event.js")),s=!1,l=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var a=i||{};this.buttons=r(a),this.pressure=o(a,this.buttons),this.bubbles="bubbles"in a&&a.bubbles,this.cancelable="cancelable"in a&&a.cancelable,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.ctrlKey="ctrlKey"in a&&a.ctrlKey,this.altKey="altKey"in a&&a.altKey,this.shiftKey="shiftKey"in a&&a.shiftKey,this.metaKey="metaKey"in a&&a.metaKey,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.tiltX="tiltX"in a?a.tiltX:0,this.tiltY="tiltY"in a?a.tiltY:0,this.pointerType="pointerType"in a?a.pointerType:"",this.hwTimestamp="hwTimestamp"in a?a.hwTimestamp:0,this.isPrimary="isPrimary"in a&&a.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a["default"]);!function(){try{var t=new MouseEvent("click",{buttons:1});s=1===t.buttons}catch(e){}}();var u=l;n["default"]=u},{"../events/Event.js":"h36w"}],ybCM:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function o(t){this.processTouches_(t,this.moveOverOut_)}function a(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function s(t){this.processTouches_(t,this.cancelOut_)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var l=t("../array.js"),u=i(t("./EventSource.js")),c=t("./MouseSource.js"),d=200,h="touch",f=function(t){function e(e,n){var i={touchstart:r,touchmove:o,touchend:a,touchcancel:s};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&c.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),d)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType=h,n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){function n(){t.preventDefault()}for(var i=Array.prototype.slice.call(t.changedTouches),r=i.length,o=0;o<r;++o){var a=this.touchToPointer_(t,i[o]);a.preventDefault=n,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var a=Number(n[o]),s=this.pointerMap[a];a==c.POINTER_ID||this.findTouch_(e,a-2)||r.push(s.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){(0,l.remove)(e,i)},this.dedupTimeout_)}},e}(u["default"]),p=f;n["default"]=p},{"../array.js":"Z5sL","./EventSource.js":"Ny8C","./MouseSource.js":"wVnN"}],X9qK:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../events.js"),s=o(t("../events/Target.js")),l=t("../has.js"),u=o(t("./EventType.js")),c=r(t("./MouseSource.js")),d=o(t("./MsSource.js")),h=o(t("./NativeSource.js")),f=o(t("./PointerEvent.js")),p=o(t("./TouchSource.js")),m=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],g=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(l.POINTER)this.registerSource("native",new h["default"](this));else if(l.MSPOINTER)this.registerSource("ms",new d["default"](this));else{var t=new c["default"](this);this.registerSource("mouse",t),l.TOUCH&&this.registerSource("touch",new p["default"](this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){(0,a.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){(0,a.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=m.length;i<r;i++){var o=m[i][0];n[o]=t[o]||e[o]||m[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(u["default"].POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(u["default"].POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(u["default"].POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(u["default"].POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(u["default"].POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(u["default"].POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(u["default"].POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(u["default"].POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new f["default"](t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,(0,c.prepareEvent)(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(s["default"]),v=g;n["default"]=v},{"../events.js":"Bvf5","../events/Target.js":"mcdO","../has.js":"lDpN","./EventType.js":"z9Rf","./MouseSource.js":"wVnN","./MsSource.js":"ru6w","./NativeSource.js":"MLec","./PointerEvent.js":"tFu0","./TouchSource.js":"ybCM"}],pivB:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./has.js"),o=i(t("./MapBrowserEventType.js")),a=i(t("./MapBrowserPointerEvent.js")),s=t("./events.js"),l=i(t("./events/Target.js")),u=i(t("./pointer/EventType.js")),c=i(t("./pointer/PointerEventHandler.js")),d=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*r.DEVICE_PIXEL_RATIO:r.DEVICE_PIXEL_RATIO,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new c["default"](i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,s.listen)(this.pointerEventHandler_,u["default"].POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=(0,s.listen)(this.pointerEventHandler_,u["default"].POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new a["default"](o["default"].CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),
this.clickTimeoutId_=void 0,e=new a["default"](o["default"].DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new a["default"](o["default"].SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==o["default"].POINTERUP||e.type==o["default"].POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==o["default"].POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new a["default"](o["default"].POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new a["default"](o["default"].POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new c["default"](document),this.dragListenerKeys_.push((0,s.listen)(this.documentPointerEventHandler_,o["default"].POINTERMOVE,this.handlePointerMove_,this),(0,s.listen)(this.documentPointerEventHandler_,o["default"].POINTERUP,this.handlePointerUp_,this),(0,s.listen)(this.pointerEventHandler_,o["default"].POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new a["default"](o["default"].POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new a["default"](t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,s.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,s.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(s.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(l["default"]),h=d;n["default"]=h},{"./has.js":"lDpN","./MapBrowserEventType.js":"WqlW","./MapBrowserPointerEvent.js":"ASyy","./events.js":"Bvf5","./events/Target.js":"mcdO","./pointer/EventType.js":"z9Rf","./pointer/PointerEventHandler.js":"X9qK"}],oXLu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};n["default"]=i},{}],wZCA:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};n["default"]=i},{}],xnA2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.DROP=void 0;var i=t("../asserts.js"),r=t("../obj.js"),o=1/0;n.DROP=o;var a=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};a.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,r.clear)(this.queuedElements_)},a.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},a.prototype.enqueue=function(t){(0,i.assert)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=o&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},a.prototype.getCount=function(){return this.elements_.length},a.prototype.getLeftChildIndex_=function(t){return 2*t+1},a.prototype.getRightChildIndex_=function(t){return 2*t+2},a.prototype.getParentIndex_=function(t){return t-1>>1},a.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},a.prototype.isEmpty=function(){return 0===this.elements_.length},a.prototype.isKeyQueued=function(t){return t in this.queuedElements_},a.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},a.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=o,this.siftDown_(a,t)},a.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>o))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=r,i[e]=o},a.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,a=this.priorities_,s=0,l=r.length;for(e=0;e<l;++e)(n=i(t=r[e]))==o?delete this.queuedElements_[this.keyFunction_(t)]:(a[s]=n,r[s++]=t);r.length=s,a.length=s,this.heapify_()};var s=a;n["default"]=s},{"../asserts.js":"E2kQ","../obj.js":"qC1c"}],BMBd:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./TileState.js")),o=t("./events.js"),a=i(t("./events/EventType.js")),s=i(t("./structs/PriorityQueue.js")),l=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var i=e[0];(0,o.listen)(i,a["default"].CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===r["default"].LOADED||n===r["default"].ERROR||n===r["default"].EMPTY||n===r["default"].ABORT){(0,o.unlisten)(e,a["default"].CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,a=0,s=!1;this.tilesLoading_<t&&a<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===r["default"].ABORT?s=!0:n!==r["default"].IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++a,i.load());0===a&&s&&this.tileChangeCallback_()},e}(s["default"]),u=l;n["default"]=u},{"./TileState.js":"gwpL","./events.js":"Bvf5","./events/EventType.js":"eKq7","./structs/PriorityQueue.js":"xnA2"}],vSap:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_TILE_SIZE=n.DEFAULT_MAX_ZOOM=void 0;var i=42;n.DEFAULT_MAX_ZOOM=i;var r=256;n.DEFAULT_TILE_SIZE=r},{}],TV2A:[function(t,e,n){"use strict";function i(t){return function(e){return e?[(0,o.clamp)(e[0],t[0],t[2]),(0,o.clamp)(e[1],t[1],t[3])]:void 0}}function r(t){return t}Object.defineProperty(n,"__esModule",{value:!0}),n.createExtent=i,n.none=r;var o=t("./math.js")},{"./math.js":"RK1r"}],JSwy:[function(t,e,n){"use strict";function i(t){return function(e,n,i){if(void 0!==e){var r=(0,o.linearFindNearest)(t,e,i);r=(0,a.clamp)(r+n,0,t.length-1);var s=Math.floor(r);if(r!=s&&s<t.length-1){var l=t[s]/t[s+1];return t[s]/Math.pow(l,r-s)}return t[s]}}}function r(t,e,n){return function(i,r,o){if(void 0!==i){var a=-o/2+.5,s=Math.floor(Math.log(e/i)/Math.log(t)+a),l=Math.max(s+r,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.createSnapToResolutions=i,n.createSnapToPower=r;var o=t("./array.js"),a=t("./math.js")},{"./array.js":"Z5sL","./math.js":"RK1r"}],uu9I:[function(t,e,n){"use strict";function i(t,e){return void 0!==t?0:void 0}function r(t,e){return void 0!==t?t+e:void 0}function o(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}}function a(t){var e=t||(0,s.toRadians)(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}Object.defineProperty(n,"__esModule",{value:!0}),n.disable=i,n.none=r,n.createSnapToN=o,n.createSnapToZero=a;var s=t("./math.js")},{"./math.js":"RK1r"}],QAjQ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ANIMATING:0,INTERACTING:1};n["default"]=i},{}],tZ3Y:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};n["default"]=i},{}],dWZ4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){setTimeout(function(){t(e)},0)}function o(t){return void 0!==t.extent?(0,h.createExtent)(t.extent):h.none}function a(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:O,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var s=t.resolutions;n=s[r],i=void 0!==s[o]?s[o]:s[s.length-1],e=(0,p.createSnapToResolutions)(s)}else{var l=(0,M.createProjection)(t.projection,"EPSG:3857"),c=l.getExtent(),d=(c?Math.max((0,x.getWidth)(c),(0,x.getHeight)(c)):360*M.METERS_PER_UNIT[j["default"].DEGREES]/l.getMetersPerUnit())/u.DEFAULT_TILE_SIZE/Math.pow(2,O),h=d/Math.pow(2,28-O);void 0!==(n=t.maxResolution)?r=0:n=d/Math.pow(a,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):d/Math.pow(a,o):h),o=r+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,o-r),e=(0,p.createSnapToPower)(a,n,o-r)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:a}}function s(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(0,m.createSnapToZero)():!1===e?m.none:"number"==typeof e?(0,m.createSnapToN)(e):m.none}return m.disable}function l(t){return!(t.sourceCenter&&t.targetCenter&&!(0,b.equals)(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}Object.defineProperty(n,"__esModule",{value:!0}),n.createCenterConstraint=o,n.createResolutionConstraint=a,n.createRotationConstraint=s,n.isNoopAnimation=l,n["default"]=void 0;var u=t("./tilegrid/common.js"),c=t("./util.js"),d=t("./functions.js"),h=t("./centerconstraint.js"),f=i(t("./Object.js")),p=t("./resolutionconstraint.js"),m=t("./rotationconstraint.js"),g=i(t("./ViewHint.js")),v=i(t("./ViewProperty.js")),y=t("./array.js"),_=t("./asserts.js"),b=t("./coordinate.js"),E=t("./easing.js"),x=t("./extent.js"),C=i(t("./geom/GeometryType.js")),T=t("./geom/Polygon.js"),w=t("./math.js"),S=t("./obj.js"),M=t("./proj.js"),j=i(t("./proj/Units.js")),O=0,A=function(t){function e(e){t.call(this);var n=(0,S.assign)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,M.createProjection)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[v["default"].CENTER]=void 0!==t.center?t.center:null;var n=a(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=o(t),r=n.constraint,l=s(t);this.constraints_={center:i,resolution:r,rotation:l},void 0!==t.resolution?e[v["default"].RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[v["default"].RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[v["default"].RESOLUTION]=(0,w.clamp)(Number(this.getResolution()||e[v["default"].RESOLUTION]),this.minResolution_,this.maxResolution_))),e[v["default"].ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=(0,S.assign)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),(0,S.assign)({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var o=arguments[i-1];return o.center&&this.setCenter(o.center),void 0!==o.zoom&&this.setZoom(o.zoom),void 0!==o.rotation&&this.setRotation(o.rotation),void(e&&r(e,!0))}for(var a=Date.now(),s=this.getCenter().slice(),u=this.getResolution(),c=this.getRotation(),d=[],h=0;h<i;++h){var f=n[h],p={start:a,complete:!1,anchor:f.anchor,duration:void 0!==f.duration?f.duration:1e3,easing:f.easing||E.inAndOut};if(f.center&&(p.sourceCenter=s,p.targetCenter=f.center,s=p.targetCenter),void 0!==f.zoom?(p.sourceResolution=u,p.targetResolution=this.constrainResolution(this.maxResolution_,f.zoom-this.minZoom_,0),u=p.targetResolution):f.resolution&&(p.sourceResolution=u,p.targetResolution=f.resolution,u=p.targetResolution),void 0!==f.rotation){p.sourceRotation=c;var m=(0,w.modulo)(f.rotation-c+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=c+m,c=p.targetRotation}p.callback=e,l(p)?p.complete=!0:a+=p.duration,d.push(p)}this.animations_.push(d),this.setHint(g["default"].ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[g["default"].ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[g["default"].INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(g["default"].ANIMATING,-this.hints_[g["default"].ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&r(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,a=0,s=i.length;a<s;++a){var l=i[a];if(!l.complete){var u=t-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):o=!1;var d=l.easing(c);if(l.sourceCenter){var h=l.sourceCenter[0],f=l.sourceCenter[1],p=h+d*(l.targetCenter[0]-h),m=f+d*(l.targetCenter[1]-f);this.set(v["default"].CENTER,[p,m])}if(l.sourceResolution&&l.targetResolution){var y=1===d?l.targetResolution:l.sourceResolution+d*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(v["default"].CENTER,this.calculateCenterZoom(y,l.anchor)),this.set(v["default"].RESOLUTION,y)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var _=1===d?(0,w.modulo)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+d*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(v["default"].CENTER,this.calculateCenterRotate(_,l.anchor)),this.set(v["default"].ROTATION,_)}if(e=!0,!l.complete)break}}if(o){this.animations_[n]=null,this.setHint(g["default"].ANIMATING,-1);var b=i[0].callback;b&&r(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],(0,b.rotate)(n,t-this.getRotation()),(0,b.add)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,c.getUid)(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(v["default"].CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();(0,_.assert)(n,1);var i=this.getResolution();(0,_.assert)(void 0!==i,2);var r=this.getRotation();return(0,_.assert)(void 0!==r,3),(0,x.getForViewAndSize)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(v["default"].RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=(0,x.getWidth)(t)/n[0],r=(0,x.getHeight)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(v["default"].ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=(0,y.linearFindNearest)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},o=i.size;o||(o=this.getSizeFromViewport_()),(0,_.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,_.assert)(!(0,x.isEmpty)(t),25),n=(0,T.fromExtent)(t)):t.getType()===C["default"].CIRCLE?(t=t.getExtent(),(n=(0,T.fromExtent)(t)).rotate(this.getRotation(),(0,x.getCenter)(t))):n=t;var a,s=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;a=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),p=Math.sin(-h),m=1/0,g=1/0,v=-1/0,y=-1/0,b=n.getStride(),E=0,w=c.length;E<w;E+=b){var S=c[E]*f-c[E+1]*p,M=c[E]*p+c[E+1]*f;m=Math.min(m,S),g=Math.min(g,M),v=Math.max(v,S),y=Math.max(y,M)}var j=this.getResolutionForExtent([m,g,v,y],[o[0]-s[1]-s[3],o[1]-s[0]-s[2]]);if(j=isNaN(j)?a:Math.max(j,a),l){var O=this.constrainResolution(j,0,0);!u&&O<j&&(O=this.constrainResolution(O,-1,0)),j=O}p=-p;var A=(m+v)/2,R=(g+y)/2,P=[(A+=(s[1]-s[3])/2*j)*f-(R+=(s[0]-s[2])/2*j)*p,R*f+A*p],I=i.callback?i.callback:d.VOID;void 0!==i.duration?this.animate({resolution:j,center:P,duration:i.duration,easing:i.easing},I):(this.setResolution(j),this.setCenter(P),r(I,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),a=t[0]*r-t[1]*o,s=t[1]*r+t[0]*o,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*r-(s+=(n[1]-e[1]/2)*l)*(o=-o),c=s*r+a*o;this.setCenter([u,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(v["default"].CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(v["default"].RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(v["default"].ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(f["default"]),R=A;n["default"]=R},{"./tilegrid/common.js":"vSap","./util.js":"YOqM","./functions.js":"guaG","./centerconstraint.js":"TV2A","./Object.js":"n4ep","./resolutionconstraint.js":"JSwy","./rotationconstraint.js":"uu9I","./ViewHint.js":"QAjQ","./ViewProperty.js":"tZ3Y","./array.js":"Z5sL","./asserts.js":"E2kQ","./coordinate.js":"HxRU","./easing.js":"gfrO","./extent.js":"IwSU","./geom/GeometryType.js":"naLT","./geom/Polygon.js":"K0BN","./math.js":"RK1r","./obj.js":"qC1c","./proj.js":"aoEo","./proj/Units.js":"RNSs"}],Jb0l:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};n["default"]=i},{}],N2s1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../Object.js")),a=i(t("./Property.js")),s=t("../math.js"),l=t("../obj.js"),u=function(t){function e(e){t.call(this);var n=(0,l.assign)({},e);n[a["default"].OPACITY]=void 0!==e.opacity?e.opacity:1,n[a["default"].VISIBLE]=void 0===e.visible||e.visible,n[a["default"].Z_INDEX]=e.zIndex,n[a["default"].MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[a["default"].MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=(0,s.clamp)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return(0,r["abstract"])()},e.prototype.getLayerStatesArray=function(t){return(0,r["abstract"])()},e.prototype.getExtent=function(){return this.get(a["default"].EXTENT)},e.prototype.getMaxResolution=function(){return this.get(a["default"].MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(a["default"].MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(a["default"].OPACITY)},e.prototype.getSourceState=function(){return(0,r["abstract"])()},e.prototype.getVisible=function(){return this.get(a["default"].VISIBLE)},e.prototype.getZIndex=function(){return this.get(a["default"].Z_INDEX)},e.prototype.setExtent=function(t){this.set(a["default"].EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(a["default"].MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(a["default"].MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(a["default"].OPACITY,t)},e.prototype.setVisible=function(t){this.set(a["default"].VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(a["default"].Z_INDEX,t)},e}(o["default"]),c=u;n["default"]=c},{"../util.js":"YOqM","../Object.js":"n4ep","./Property.js":"Jb0l","../math.js":"RK1r","../obj.js":"qC1c"}],PNQw:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};n["default"]=i},{}],vbcD:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../Collection.js")),a=i(t("../CollectionEventType.js")),s=t("../Object.js"),l=i(t("../ObjectEventType.js")),u=t("../asserts.js"),c=t("../events.js"),d=i(t("../events/EventType.js")),h=t("../extent.js"),f=i(t("./Base.js")),p=t("../obj.js"),m=i(t("../source/State.js")),g={LAYERS:"layers"},v=function(t){function e(e){var n=e||{},i=(0,p.assign)({},n);delete i.layers;var r=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},(0,c.listen)(this,(0,s.getChangeEventType)(g.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new o["default"](r.slice(),{unique:!0}):(0,u.assert)("function"==typeof r.getArray,43):r=new o["default"]((void 0),{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(c.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push((0,c.listen)(t,a["default"].ADD,this.handleLayersAdd_,this),(0,c.listen)(t,a["default"].REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(c.unlistenByKey);(0,p.clear)(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var s=n[i];this.listenerKeys_[(0,r.getUid)(s)]=[(0,c.listen)(s,l["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,c.listen)(s,d["default"].CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[(0,r.getUid)(e)]=[(0,c.listen)(e,l["default"].PROPERTYCHANGE,this.handleLayerChange_,this),(0,c.listen)(e,d["default"].CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=(0,r.getUid)(e);this.listenerKeys_[n].forEach(c.unlistenByKey),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(g.LAYERS)},e.prototype.setLayers=function(t){this.set(g.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var a=e[r];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==a.extent?a.extent=(0,h.getIntersection)(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return m["default"].READY},e}(f["default"]),y=v;n["default"]=y},{"../util.js":"YOqM","../Collection.js":"qt30","../CollectionEventType.js":"ucwT","../Object.js":"n4ep","../ObjectEventType.js":"baqo","../asserts.js":"E2kQ","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","./Base.js":"N2s1","../obj.js":"qC1c","../source/State.js":"PNQw"}],yPgw:[function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function r(t){return t[0]>0&&t[1]>0}function o(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function a(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.buffer=i,n.hasArea=r,n.scale=o,n.toSize=a},{}],UGGs:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new R["default"]({layers:t.layers});return o[g["default"].LAYERGROUP]=a,o[g["default"].TARGET]=t.target,o[g["default"].VIEW]=void 0!==t.view?t.view:new E["default"],void 0!==t.controls&&(Array.isArray(t.controls)?n=new u["default"](t.controls.slice()):((0,C.assert)("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new u["default"](t.interactions.slice()):((0,C.assert)("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new u["default"](t.overlays.slice()):((0,C.assert)("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new u["default"],{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}function s(t){for(var e=0,n=t.length;e<n;++e){var i=t[e];if("function"==typeof i.getLayers)return s(i.getLayers().getArray());var r=i.getSource();if(r&&r.loading)return!0}return!1}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var l=t("./util.js"),u=o(t("./Collection.js")),c=o(t("./CollectionEventType.js")),d=o(t("./MapBrowserEvent.js")),h=o(t("./MapBrowserEventHandler.js")),f=o(t("./MapBrowserEventType.js")),p=o(t("./MapEvent.js")),m=o(t("./MapEventType.js")),g=o(t("./MapProperty.js")),v=o(t("./render/EventType.js")),y=r(t("./Object.js")),_=o(t("./ObjectEventType.js")),b=o(t("./TileQueue.js")),E=o(t("./View.js")),x=o(t("./ViewHint.js")),C=t("./asserts.js"),T=t("./dom.js"),w=t("./events.js"),S=t("./events/Event.js"),M=o(t("./events/EventType.js")),j=t("./extent.js"),O=t("./functions.js"),A=t("./has.js"),R=o(t("./layer/Group.js")),P=t("./size.js"),I=t("./structs/PriorityQueue.js"),L=t("./transform.js"),k=function(t){function e(e){t.call(this);var n=a(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:A.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,L.create)(),this.pixelToCoordinateTransform_=(0,L.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,
this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(A.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[M["default"].CLICK,M["default"].DBLCLICK,M["default"].MOUSEDOWN,M["default"].TOUCHSTART,M["default"].MSPOINTERDOWN,f["default"].POINTERDOWN,M["default"].MOUSEWHEEL,M["default"].WHEEL],r=0,o=i.length;r<o;++r)(0,w.listen)(this.overlayContainerStopEvent_,i[r],S.stopPropagation);for(var s in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new h["default"](this,e.moveTolerance),f["default"])(0,w.listen)(this.mapBrowserEventHandler_,f["default"][s],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,(0,w.listen)(this.viewport_,M["default"].CONTEXTMENU,this.handleBrowserEvent,this),(0,w.listen)(this.viewport_,M["default"].WHEEL,this.handleBrowserEvent,this),(0,w.listen)(this.viewport_,M["default"].MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new u["default"],this.interactions=n.interactions||new u["default"],this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new b["default"](this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].LAYERGROUP),this.handleLayerGroupChanged_,this),(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].VIEW),this.handleViewChanged_,this),(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].SIZE),this.handleSizeChanged_,this),(0,w.listen)(this,(0,y.getChangeEventType)(g["default"].TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),(0,w.listen)(this.controls,c["default"].ADD,function(t){t.element.setMap(this)},this),(0,w.listen)(this.controls,c["default"].REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),(0,w.listen)(this.interactions,c["default"].ADD,function(t){t.element.setMap(this)},this),(0,w.listen)(this.interactions,c["default"].REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,w.listen)(this.overlays_,c["default"].ADD,function(t){this.addOverlayInternal_(t.element)},this),(0,w.listen)(this.overlays_,c["default"].REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,w.unlisten)(this.viewport_,M["default"].CONTEXTMENU,this.handleBrowserEvent,this),(0,w.unlisten)(this.viewport_,M["default"].WHEEL,this.handleBrowserEvent,this),(0,w.unlisten)(this.viewport_,M["default"].MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(M["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:O.TRUE;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||O.TRUE;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:O.TRUE,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(g["default"].TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?(0,L.apply)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(g["default"].LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?(0,L.apply)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(g["default"].SIZE)},e.prototype.getView=function(){return this.get(g["default"].VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return I.DROP;if(!r.wantedTiles[e][t.getKey()])return I.DROP;var o=n[0]-r.focus[0],a=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+a*a)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new d["default"](n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive()&&!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[x["default"].ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[x["default"].INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(v["default"].RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||s(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(v["default"].RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,a=0,l=o.length;a<l;++a)o[a](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)(0,w.unlistenByKey)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[(0,w.listen)(i,M["default"].KEYDOWN,this.handleBrowserEvent,this),(0,w.listen)(i,M["default"].KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(M["default"].RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,T.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(M["default"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,w.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,w.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,l.getUid)(t)),this.viewPropertyListenerKey_=(0,w.listen)(t,_["default"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.listen)(t,M["default"].CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[(0,w.listen)(t,_["default"].PROPERTYCHANGE,this.render,this),(0,w.listen)(t,M["default"].CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),r=(0,j.createEmpty)(),o=this.frameState_,a=null;if(void 0!==n&&(0,P.hasArea)(n)&&i&&i.isDef()){for(var s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),c={},d=0,h=u.length;d<h;++d)c[(0,l.getUid)(u[d].layer)]=u[d];e=i.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:s,wantedTiles:{}}}a&&(a.extent=(0,j.getForViewAndSize)(e.center,e.resolution,e.rotation,a.size,r)),this.frameState_=a,this.renderer_.renderFrame(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),o&&(!this.previousExtent_||!(0,j.isEmpty)(this.previousExtent_)&&!(0,j.equals)(a.extent,this.previousExtent_))&&(this.dispatchEvent(new p["default"](m["default"].MOVESTART,this,o)),this.previousExtent_=(0,j.createOrUpdateEmpty)(this.previousExtent_)),this.previousExtent_&&!a.viewHints[x["default"].ANIMATING]&&!a.viewHints[x["default"].INTERACTING]&&!(0,j.equals)(a.extent,this.previousExtent_)&&(this.dispatchEvent(new p["default"](m["default"].MOVEEND,this,a)),(0,j.clone)(a.extent,this.previousExtent_))),this.dispatchEvent(new p["default"](m["default"].POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(g["default"].LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(g["default"].SIZE,t)},e.prototype.setTarget=function(t){this.set(g["default"].TARGET,t)},e.prototype.setView=function(t){this.set(g["default"].VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,l.getUid)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,l.getUid)(t)],this.render()},e}(y["default"]),D=k;n["default"]=D},{"./util.js":"YOqM","./Collection.js":"qt30","./CollectionEventType.js":"ucwT","./MapBrowserEvent.js":"wJox","./MapBrowserEventHandler.js":"pivB","./MapBrowserEventType.js":"WqlW","./MapEvent.js":"NpCs","./MapEventType.js":"oXLu","./MapProperty.js":"wZCA","./render/EventType.js":"tder","./Object.js":"n4ep","./ObjectEventType.js":"baqo","./TileQueue.js":"BMBd","./View.js":"dWZ4","./ViewHint.js":"QAjQ","./asserts.js":"E2kQ","./dom.js":"fRxd","./events.js":"Bvf5","./events/Event.js":"h36w","./events/EventType.js":"eKq7","./extent.js":"IwSU","./functions.js":"guaG","./has.js":"lDpN","./layer/Group.js":"vbcD","./size.js":"yPgw","./structs/PriorityQueue.js":"xnA2","./transform.js":"glB6"}],OZyS:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../functions.js"),o=i(t("../MapEventType.js")),a=i(t("../Object.js")),s=t("../dom.js"),l=t("../events.js"),u=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:r.VOID,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,s.removeNode)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&(0,s.removeNode)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)(0,l.unlistenByKey)(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==r.VOID&&this.listenerKeys.push((0,l.listen)(t,o["default"].POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(a["default"]),c=u;n["default"]=c},{"../functions.js":"guaG","../MapEventType.js":"oXLu","../Object.js":"n4ep","../dom.js":"fRxd","../events.js":"Bvf5"}],K4Xi:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFontFamilies=n.CLASS_COLLAPSED=n.CLASS_CONTROL=n.CLASS_UNSUPPORTED=n.CLASS_UNSELECTABLE=n.CLASS_SELECTABLE=n.CLASS_HIDDEN=void 0;var i="ol-hidden";n.CLASS_HIDDEN=i;var r="ol-selectable";n.CLASS_SELECTABLE=r;var o="ol-unselectable";n.CLASS_UNSELECTABLE=o;var a="ol-unsupported";n.CLASS_UNSUPPORTED=a;var s="ol-control";n.CLASS_CONTROL=s;var l="ol-collapsed";n.CLASS_COLLAPSED=l;var u=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}();n.getFontFamilies=u},{}],QsxU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}Object.defineProperty(n,"__esModule",{value:!0}),n.visibleAtResolution=r,n["default"]=void 0;var o=t("../events.js"),a=i(t("../events/EventType.js")),s=t("../util.js"),l=t("../Object.js"),u=i(t("./Base.js")),c=i(t("./Property.js")),d=t("../obj.js"),h=i(t("../render/EventType.js")),f=i(t("../source/State.js")),p=function(t){function e(e){var n=(0,d.assign)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),(0,o.listen)(this,(0,l.getChangeEventType)(c["default"].SOURCE),this.handleSourcePropertyChange_,this);var i=e.source?e.source:null;this.setSource(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(c["default"].SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():f["default"].UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,o.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=(0,o.listen)(t,a["default"].CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&((0,o.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&((0,o.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=(0,o.listen)(t,h["default"].PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[(0,s.getUid)(this)]=n},this),this.mapRenderKey_=(0,o.listen)(this,a["default"].CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(c["default"].SOURCE,t)},e}(u["default"]),m=p;n["default"]=m},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","../util.js":"YOqM","../Object.js":"n4ep","./Base.js":"N2s1","./Property.js":"Jb0l","../obj.js":"qC1c","../render/EventType.js":"tder","../source/State.js":"PNQw"}],KuDp:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.updateElement_(t.frameState)}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=t("../array.js"),a=i(t("./Control.js")),s=t("../css.js"),l=t("../dom.js"),u=t("../events.js"),c=i(t("../events/EventType.js")),d=t("../layer/Layer.js"),h=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",o=void 0!==n.tipLabel?n.tipLabel:"Attributions",a=void 0!==n.collapseLabel?n.collapseLabel:"";"string"==typeof a?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=a):this.collapseLabel_=a;var l=void 0!==n.label?n.label:"i";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;var d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=o,h.appendChild(d),(0,u.listen)(h,c["default"].CLICK,this.handleClick_,this);var f=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+s.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),p=this.element;p.className=f,p.appendChild(this.ulElement_),p.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,a=i.length;o<a;++o){var s=i[o];if((0,d.visibleAtResolution)(s,r)){var l=s.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(t);if(c)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!(0,o.equals)(e,this.renderedAttributions_)){(0,l.removeChildren)(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var a=document.createElement("li");a.innerHTML=e[i],this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(s.CLASS_COLLAPSED),this.collapsed_?(0,l.replaceNode)(this.collapseLabel_,this.label_):(0,l.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(a["default"]),f=h;n["default"]=f},{"../array.js":"Z5sL","./Control.js":"OZyS","../css.js":"K4Xi","../dom.js":"fRxd","../events.js":"Bvf5","../events/EventType.js":"eKq7","../layer/Layer.js":"QsxU"}],zNSN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(a.CLASS_HIDDEN);r||0!==n?r&&0!==n&&this.element.classList.remove(a.CLASS_HIDDEN):this.element.classList.add(a.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=i(t("./Control.js")),a=t("../css.js"),s=t("../easing.js"),l=t("../events.js"),u=i(t("../events/EventType.js")),c=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",o=void 0!==n.label?n.label:"";this.label_=null,"string"==typeof o?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=o):(this.label_=o,this.label_.classList.add("ol-compass"));var s=n.tipLabel?n.tipLabel:"Reset rotation",c=document.createElement("button");c.className=i+"-reset",c.setAttribute("type","button"),c.title=s,c.appendChild(this.label_),(0,l.listen)(c,u["default"].CLICK,this.handleClick_,this);var d=i+" "+a.CLASS_UNSELECTABLE+" "+a.CLASS_CONTROL,h=this.element;h.className=d,h.appendChild(c),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(a.CLASS_HIDDEN)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:s.easeOut}):t.setRotation(0))},e}(o["default"]),d=c;n["default"]=d},{"./Control.js":"OZyS","../css.js":"K4Xi","../easing.js":"gfrO","../events.js":"Bvf5","../events/EventType.js":"eKq7"}],JAQ2:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../events.js"),o=i(t("../events/EventType.js")),a=i(t("./Control.js")),s=t("../css.js"),l=t("../easing.js"),u=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",a=void 0!==n.delta?n.delta:1,l=void 0!==n.zoomInLabel?n.zoomInLabel:"+",u=void 0!==n.zoomOutLabel?n.zoomOutLabel:"",c=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",d=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=i+"-in",h.setAttribute("type","button"),h.title=c,h.appendChild("string"==typeof l?document.createTextNode(l):l),(0,r.listen)(h,o["default"].CLICK,this.handleClick_.bind(this,a));var f=document.createElement("button");f.className=i+"-out",f.setAttribute("type","button"),f.title=d,f.appendChild("string"==typeof u?document.createTextNode(u):u),(0,r.listen)(f,o["default"].CLICK,this.handleClick_.bind(this,-a));var p=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL,m=this.element;m.className=p,m.appendChild(h),m.appendChild(f),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:l.easeOut})):e.setResolution(i)}}},e}(a["default"]),c=u;n["default"]=c},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","./Control.js":"OZyS","../css.js":"K4Xi","../easing.js":"gfrO"}],Nqss:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t||{},n=new o["default"];return(void 0===e.zoom||e.zoom)&&n.push(new l["default"](e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new s["default"](e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new a["default"](e.attributionOptions)),n}Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=r;var o=i(t("../Collection.js")),a=i(t("./Attribution.js")),s=i(t("./Rotate.js")),l=i(t("./Zoom.js"))},{"../Collection.js":"qt30","./Attribution.js":"KuDp","./Rotate.js":"zNSN","./Zoom.js":"JAQ2"}],YG6A:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ACTIVE:"active"};n["default"]=i},{}],GnOM:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:d.linear,center:r}):t.setCenter(r)}}function o(t,e,n,i){e=t.constrainRotation(e,0),a(t,e,n,i)}function a(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:d.easeOut}):t.rotate(e,n)}}function s(t,e,n,i,r){e=t.constrainResolution(e,0,r),u(t,e,n,i)}function l(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var a=t.getResolutions();o=(0,f.clamp)(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==r){var s=t.getCenter(),l=t.calculateCenterZoom(o,n);l=t.constrainCenter(l),n=[(o*s[0]-r*l[0])/(o-r),(o*s[1]-r*l[1])/(o-r)]}u(t,o,n,i)}function u(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:d.easeOut});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}}Object.defineProperty(n,"__esModule",{value:!0}),n.pan=r,n.rotate=o,n.rotateWithoutConstraints=a,n.zoom=s,n.zoomByDelta=l,n.zoomWithoutConstraints=u,n["default"]=void 0;var c=i(t("../Object.js")),d=t("../easing.js"),h=i(t("./Property.js")),f=t("../math.js"),p=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(h["default"].ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(h["default"].ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(c["default"]),m=p;n["default"]=m},{"../Object.js":"n4ep","../easing.js":"gfrO","./Property.js":"YG6A","../math.js":"RK1r"}],AN3r:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=!1;if(t.type==s["default"].DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,a=i.getView();(0,l.zoomByDelta)(a,o,r,this.duration_),t.preventDefault(),e=!0}return!e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=o(t("../MapBrowserEventType.js")),l=r(t("./Interaction.js")),u=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),c=u;n["default"]=c},{"../MapBrowserEventType.js":"WqlW","./Interaction.js":"GnOM"}],YmKF:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.primaryAction=n.mouseOnly=n.targetNotEditable=n.shiftKeyOnly=n.platformModifierKeyOnly=n.noModifierKeys=n.doubleClick=n.singleClick=n.pointerMove=n.never=n.mouseActionButton=n.click=n.always=n.focus=n.altShiftKeysOnly=n.altKeyOnly=void 0;var r=i(t("../MapBrowserEventType.js")),o=t("../asserts.js"),a=t("../functions.js"),s=t("../has.js"),l=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};n.altKeyOnly=l;var u=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey};n.altShiftKeysOnly=u;var c=function(t){return t.target.getTargetElement()===document.activeElement};n.focus=c;var d=a.TRUE;n.always=d;var h=function(t){return t.type==r["default"].CLICK};n.click=h;var f=function(t){var e=t.originalEvent;return 0==e.button&&!(s.WEBKIT&&s.MAC&&e.ctrlKey)};n.mouseActionButton=f;var p=a.FALSE;n.never=p;var m=function(t){return"pointermove"==t.type};n.pointerMove=m;var g=function(t){return t.type==r["default"].SINGLECLICK};n.singleClick=g;var v=function(t){return t.type==r["default"].DBLCLICK};n.doubleClick=v;var y=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey};n.noModifierKeys=y;var _=function(t){var e=t.originalEvent;
return!e.altKey&&(s.MAC?e.metaKey:e.ctrlKey)&&!e.shiftKey};n.platformModifierKeyOnly=_;var b=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey};n.shiftKeyOnly=b;var E=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e};n.targetNotEditable=E;var x=function(t){var e=t.pointerEvent;return(0,o.assert)(void 0!==e,56),"mouse"==e.pointerType};n.mouseOnly=x;var C=function(t){var e=t.pointerEvent;return(0,o.assert)(void 0!==e,56),e.isPrimary&&0===e.button};n.primaryAction=C},{"../MapBrowserEventType.js":"WqlW","../asserts.js":"E2kQ","../functions.js":"guaG","../has.js":"lDpN"}],kY2W:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}function o(t){var e=t.type;return e===a["default"].POINTERDOWN||e===a["default"].POINTERDRAG||e===a["default"].POINTERUP}Object.defineProperty(n,"__esModule",{value:!0}),n.centroid=r,n["default"]=void 0;var a=i(t("../MapBrowserEventType.js")),s=i(t("./Interaction.js")),l=t("../obj.js"),u=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==a["default"].POINTERDRAG)this.handleDragEvent(t);else if(t.type==a["default"].POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==a["default"].POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==a["default"].POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(o(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==a["default"].POINTERUP?delete this.trackedPointers_[n]:t.type==a["default"].POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=(0,l.getValues)(this.trackedPointers_)}},e}(s["default"]),c=u;n["default"]=c},{"../MapBrowserEventType.js":"WqlW","./Interaction.js":"GnOM","../obj.js":"qC1c"}],mTmZ:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("../ViewHint.js")),s=t("../coordinate.js"),l=t("../easing.js"),u=t("../events/condition.js"),c=t("../functions.js"),d=r(t("./Pointer.js")),h=function(t){function e(e){t.call(this,{stopDown:c.FALSE});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:u.noModifierKeys,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(a["default"].INTERACTING,1));var e=this.targetPointers,n=(0,d.centroid)(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),l=[i,r];(0,s.scale)(l,o.getResolution()),(0,s.rotate)(l,o.getRotation()),(0,s.add)(l,o.getCenter()),l=o.constrainCenter(l),o.setCenter(l)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),u=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(u),duration:500,easing:l.easeOut})}return this.panning_&&(this.panning_=!1,n.setHint(a["default"].INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(d["default"]),f=h;n["default"]=f},{"../ViewHint.js":"QAjQ","../coordinate.js":"HxRU","../easing.js":"gfrO","../events/condition.js":"YmKF","../functions.js":"guaG","./Pointer.js":"kY2W"}],oG42:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../rotationconstraint.js"),o=i(t("../ViewHint.js")),a=t("../events/condition.js"),s=t("../functions.js"),l=t("./Interaction.js"),u=i(t("./Pointer.js")),c=function(t){function e(e){var n=e||{};t.call(this,{stopDown:s.FALSE}),this.condition_=n.condition?n.condition:a.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if((0,a.mouseOnly)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==r.disable){var i=e.getSize(),o=t.pixel,s=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var u=s-this.lastAngle_,c=n.getRotation();(0,l.rotateWithoutConstraints)(n,c-u)}this.lastAngle_=s}}},e.prototype.handleUpEvent=function(t){if(!(0,a.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(o["default"].INTERACTING,-1);var n=e.getRotation();return(0,l.rotate)(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!(!(0,a.mouseOnly)(t)||!(0,a.mouseActionButton)(t)||!this.condition_(t)||(t.map.getView().setHint(o["default"].INTERACTING,1),this.lastAngle_=void 0,0))},e}(u["default"]),d=c;n["default"]=d},{"../rotationconstraint.js":"uu9I","../ViewHint.js":"QAjQ","../events/condition.js":"YmKF","../functions.js":"guaG","./Interaction.js":"GnOM","./Pointer.js":"kY2W"}],Ef4v:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../Disposable.js")),o=i(t("../geom/Polygon.js")),a=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new o["default"]([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(r["default"]),s=a;n["default"]=s},{"../Disposable.js":"Kusu","../geom/Polygon.js":"K0BN"}],OjiZ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../events/Event.js")),o=t("../events/condition.js"),a=t("../functions.js"),s=i(t("./Pointer.js")),l=i(t("../render/Box.js")),u={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},c=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),d=function(t){function e(e){t.call(this);var n=e||{};this.box_=new l["default"](n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:a.VOID,this.startPixel_=null,this.condition_=n.condition?n.condition:o.always,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){(0,o.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new c(u.BOXDRAG,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!(0,o.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new c(u.BOXEND,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!(0,o.mouseOnly)(t)||!(0,o.mouseActionButton)(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new c(u.BOXSTART,t.coordinate,t)),0))},e}(s["default"]),h=d;n["default"]=h},{"../events/Event.js":"h36w","../events/condition.js":"YmKF","../functions.js":"guaG","./Pointer.js":"kY2W","../render/Box.js":"Ef4v"}],bIDt:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),a=(0,s.createOrUpdateFromCoordinates)([t.getPixelFromCoordinate((0,s.getBottomLeft)(i)),t.getPixelFromCoordinate((0,s.getTopRight)(i))]),l=e.getResolutionForExtent(a,n);(0,s.scaleFromCenter)(r,1/l),i=r}var u=e.constrainResolution(e.getResolutionForExtent(i,n)),c=(0,s.getCenter)(i);c=e.constrainCenter(c),e.animate({resolution:u,center:c,duration:this.duration_,easing:o.easeOut})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../easing.js"),a=t("../events/condition.js"),s=t("../extent.js"),l=i(t("./DragBox.js")),u=function(t){function e(e){var n=e||{},i=n.condition?n.condition:a.shiftKeyOnly;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:r}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),c=u;n["default"]=c},{"../easing.js":"gfrO","../events/condition.js":"YmKF","../extent.js":"IwSU","./DragBox.js":"OjiZ"}],ifpQ:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={LEFT:37,UP:38,RIGHT:39,DOWN:40};n["default"]=i},{}],bqqf:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=!1;if(t.type==l["default"].KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==u["default"].DOWN||n==u["default"].LEFT||n==u["default"].RIGHT||n==u["default"].UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,a=0;n==u["default"].DOWN?a=-r:n==u["default"].LEFT?o=-r:n==u["default"].RIGHT?o=r:a=r;var c=[o,a];(0,s.rotate)(c,i.getRotation()),(0,d.pan)(i,c,this.duration_),t.preventDefault(),e=!0}}return!e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=t("../coordinate.js"),l=o(t("../events/EventType.js")),u=o(t("../events/KeyCode.js")),c=t("../events/condition.js"),d=r(t("./Interaction.js")),h=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.defaultCondition_=function(t){return(0,c.noModifierKeys)(t)&&(0,c.targetNotEditable)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(d["default"]),f=h;n["default"]=f},{"../coordinate.js":"HxRU","../events/EventType.js":"eKq7","../events/KeyCode.js":"ifpQ","../events/condition.js":"YmKF","./Interaction.js":"GnOM"}],ihTc:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t){var e=!1;if(t.type==s["default"].KEYDOWN||t.type==s["default"].KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=i.getView();(0,u.zoomByDelta)(o,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=o(t("../events/EventType.js")),l=t("../events/condition.js"),u=r(t("./Interaction.js")),c=function(t){function e(e){t.call(this,{handleEvent:a});var n=e||{};this.condition_=n.condition?n.condition:l.targetNotEditable,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(u["default"]),d=c;n["default"]=d},{"../events/EventType.js":"eKq7","../events/condition.js":"YmKF","./Interaction.js":"GnOM"}],Iq9y:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.Mode=void 0;var a=o(t("../ViewHint.js")),s=t("../events/condition.js"),l=t("../easing.js"),u=o(t("../events/EventType.js")),c=t("../has.js"),d=r(t("./Interaction.js")),h=t("../math.js"),f=1,p={TRACKPAD:"trackpad",WHEEL:"wheel"};n.Mode=p;var m=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:s.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(a["default"].INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==u["default"].WHEEL&&e!==u["default"].MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==u["default"].WHEEL?(n=r.deltaY,c.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=c.DEVICE_PIXEL_RATIO),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==u["default"].MOUSEWHEEL&&(n=-r.wheelDeltaY,c.SAFARI&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?p.TRACKPAD:p.WHEEL),this.mode_===p.TRACKPAD){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(a["default"].INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var d=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),h=s.getMinResolution(),f=s.getMaxResolution(),m=0;if(d<h?(d=Math.max(d,h/this.trackpadZoomBuffer_),m=1):d>f&&(d=Math.min(d,f*this.trackpadZoomBuffer_),m=-1),this.lastAnchor_){var g=s.calculateCenterZoom(d,this.lastAnchor_);s.setCenter(s.constrainCenter(g))}return s.setResolution(d),0===m&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(d,n>0?-1:1),easing:l.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),m>0?s.animate({resolution:h,easing:l.easeOut,anchor:this.lastAnchor_,duration:500}):m<0&&s.animate({resolution:f,easing:l.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var v=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),v),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=f,i=(0,h.clamp)(this.delta_,-n,n);(0,d.zoomByDelta)(e,-i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(d["default"]),g=m;n["default"]=g},{"../ViewHint.js":"QAjQ","../events/condition.js":"YmKF","../easing.js":"gfrO","../events/EventType.js":"eKq7","../has.js":"lDpN","./Interaction.js":"GnOM","../math.js":"RK1r"}],UuUo:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("../ViewHint.js")),s=t("../functions.js"),l=t("./Interaction.js"),u=r(t("./Pointer.js")),c=t("../rotationconstraint.js"),d=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=s.FALSE),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==c.disable){var d=a.getViewport().getBoundingClientRect(),h=(0,u.centroid)(this.targetPointers);if(h[0]-=d.left,h[1]-=d.top,this.anchor_=a.getCoordinateFromPixel(h),this.rotating_){var f=s.getRotation();a.render(),(0,l.rotateWithoutConstraints)(s,f+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(a["default"].INTERACTING,-1),this.rotating_){var n=e.getRotation();(0,l.rotate)(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(a["default"].INTERACTING,1),!0}return!1},e}(u["default"]),h=d;n["default"]=h},{"../ViewHint.js":"QAjQ","../functions.js":"guaG","./Interaction.js":"GnOM","./Pointer.js":"kY2W","../rotationconstraint.js":"uu9I"}],SeyD:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("../ViewHint.js")),s=t("../functions.js"),l=t("./Interaction.js"),u=r(t("./Pointer.js")),c=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=s.FALSE),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,c=s.getView(),d=c.getResolution(),h=c.getMaxResolution(),f=c.getMinResolution(),p=d*e;p>h?(e=h/d,p=h):p<f&&(e=f/d,p=f),1!=e&&(this.lastScaleDelta_=e);var m=s.getViewport().getBoundingClientRect(),g=(0,u.centroid)(this.targetPointers);g[0]-=m.left,g[1]-=m.top,this.anchor_=s.getCoordinateFromPixel(g),s.render(),(0,l.zoomWithoutConstraints)(c,p,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(a["default"].INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;(0,l.zoom)(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(a["default"].INTERACTING,1),!0}return!1},e}(u["default"]),d=c;n["default"]=d},{"../ViewHint.js":"QAjQ","../functions.js":"guaG","./Interaction.js":"GnOM","./Pointer.js":"kY2W"}],nOtN:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=t.dataTransfer.files,n=0,i=e.length;n<i;++n){var r=e.item(n),o=new FileReader;o.addEventListener(u["default"].LOAD,this.handleResult_.bind(this,r)),o.readAsText(r)}}function o(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../functions.js"),s=t("../events.js"),l=i(t("../events/Event.js")),u=i(t("../events/EventType.js")),c=i(t("./Interaction.js")),d=t("../proj.js"),h={ADD_FEATURES:"addfeatures"},f=function(t){function e(e,n,i,r){t.call(this,e),this.features=i,this.file=n,this.projection=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l["default"]),p=function(t){function e(e){var n=e||{};t.call(this,{handleEvent:a.TRUE}),this.formatConstructors_=n.formatConstructors?n.formatConstructors:[],this.projection_=n.projection?(0,d.get)(n.projection):null,this.dropListenKeys_=null,this.source_=n.source||null,this.target=n.target?n.target:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleResult_=function(t,e){var n=e.target.result,i=this.getMap(),r=this.projection_;r||(r=i.getView().getProjection());for(var o=this.formatConstructors_,a=[],s=0,l=o.length;s<l;++s){var u=new o[s];if((a=this.tryReadFeatures_(u,n,{featureProjection:r}))&&a.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(a)),this.dispatchEvent(new f(h.ADD_FEATURES,t,a,r))},e.prototype.registerListeners_=function(){var t=this.getMap();if(t){var e=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,s.listen)(e,u["default"].DROP,r,this),(0,s.listen)(e,u["default"].DRAGENTER,o,this),(0,s.listen)(e,u["default"].DRAGOVER,o,this),(0,s.listen)(e,u["default"].DROP,o,this)]}},e.prototype.setActive=function(e){t.prototype.setActive.call(this,e),e?this.registerListeners_():this.unregisterListeners_()},e.prototype.setMap=function(e){this.unregisterListeners_(),t.prototype.setMap.call(this,e),this.getActive()&&this.registerListeners_()},e.prototype.tryReadFeatures_=function(t,e,n){try{return t.readFeatures(e,n)}catch(i){return null}},e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(s.unlistenByKey),this.dropListenKeys_=null)},e}(c["default"]),m=p;n["default"]=m},{"../functions.js":"guaG","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","./Interaction.js":"GnOM","../proj.js":"aoEo"}],gKPs:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../rotationconstraint.js"),o=i(t("../ViewHint.js")),a=t("../events/condition.js"),s=t("./Interaction.js"),l=i(t("./Pointer.js")),u=function(t){function e(e){var n=e||{};t.call(this,n),this.condition_=n.condition?n.condition:a.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==n.duration?n.duration:400}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if((0,a.mouseOnly)(t)){var e=t.map,n=e.getSize(),i=t.pixel,o=i[0]-n[0]/2,l=n[1]/2-i[1],u=Math.atan2(l,o),c=Math.sqrt(o*o+l*l),d=e.getView();if(d.getConstraints().rotation!==r.disable&&void 0!==this.lastAngle_){var h=u-this.lastAngle_;(0,s.rotateWithoutConstraints)(d,d.getRotation()-h)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var f=this.lastMagnitude_*(d.getResolution()/c);(0,s.zoomWithoutConstraints)(d,f)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/c),this.lastMagnitude_=c}},e.prototype.handleUpEvent=function(t){if(!(0,a.mouseOnly)(t))return!0;var e=t.map.getView();e.setHint(o["default"].INTERACTING,-1);var n=this.lastScaleDelta_-1;return(0,s.rotate)(e,e.getRotation()),(0,s.zoom)(e,e.getResolution(),void 0,this.duration_,n),this.lastScaleDelta_=0,!1},e.prototype.handleDownEvent=function(t){return!!(0,a.mouseOnly)(t)&&!!this.condition_(t)&&(t.map.getView().setHint(o["default"].INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},e}(l["default"]),c=u;n["default"]=c},{"../rotationconstraint.js":"uu9I","../ViewHint.js":"QAjQ","../events/condition.js":"YmKF","./Interaction.js":"GnOM","./Pointer.js":"kY2W"}],rStz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../extent.js"),o=i(t("./GeometryType.js")),a=i(t("./SimpleGeometry.js")),s=t("./flat/deflate.js"),l=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),(void 0),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],a=e-r[1],s=o*o+a*a;if(s<i){if(0===s)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(s);n[0]=r[0]+u*o,n[1]=r[1]+u*a;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,s}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return(0,r.createOrUpdate)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return o["default"].CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if((0,r.intersects)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||t[1]<=n[1]&&t[3]>=n[1]||(0,r.forEachCorner)(t,this.intersectsCoordinate,this)}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=(0,s.deflateCoordinate)(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,a=this.stride;o<a;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(a["default"]);l.prototype.transform;var u=l;n["default"]=u},{"../extent.js":"IwSU","./GeometryType.js":"naLT","./SimpleGeometry.js":"F2mr","./flat/deflate.js":"Wjyi"}],BRR0:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{
value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryLayout.js")),s=i(t("./GeometryType.js")),l=i(t("./LineString.js")),u=i(t("./SimpleGeometry.js")),c=t("./flat/closest.js"),d=t("./flat/deflate.js"),h=t("./flat/inflate.js"),f=t("./flat/interpolate.js"),p=t("./flat/intersectsextent.js"),m=t("./flat/simplify.js"),g=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var o=this.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(o=d.getLayout()),(0,r.extend)(s,d.getFlatCoordinates()),l.push(s.length)}this.setFlatCoordinates(o,s),this.ends_=l}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,c.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,c.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=a["default"].XYM&&this.layout!=a["default"].XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return(0,f.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return(0,h.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new l["default"](this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,a=e.length;o<a;++o){var s=e[o],u=new l["default"](t.slice(r,s),n);i.push(u),r=s}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,a=0,s=i.length;a<s;++a){var l=i[a],u=(0,f.interpolatePoint)(e,n,l,o,.5);(0,r.extend)(t,u),n=l}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=(0,m.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,a["default"].XY,i)},e.prototype.getType=function(){return s["default"].MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return(0,p.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,d.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(u["default"]),v=g;n["default"]=v},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./LineString.js":"x8R2","./SimpleGeometry.js":"F2mr","./flat/closest.js":"U50t","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interpolate.js":"o7G9","./flat/intersectsextent.js":"RGtZ","./flat/simplify.js":"y5ZM"}],D9kr:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryType.js")),s=i(t("./Point.js")),l=i(t("./SimpleGeometry.js")),u=t("./flat/deflate.js"),c=t("./flat/inflate.js"),d=t("../math.js"),h=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,a=this.stride,s=0,l=r.length;s<l;s+=a){var u=(0,d.squaredDistance)(t,e,r[s],r[s+1]);if(u<i){i=u;for(var c=0;c<a;++c)n[c]=r[s+c];n.length=a}}return i},e.prototype.getCoordinates=function(){return(0,c.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new s["default"](this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var a=new s["default"](t.slice(r,r+n),e);i.push(a)}return i},e.prototype.getType=function(){return a["default"].MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){var a=e[i],s=e[i+1];if((0,o.containsXY)(t,a,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(l["default"]),f=h;n["default"]=f},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryType.js":"naLT","./Point.js":"FFTU","./SimpleGeometry.js":"F2mr","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","../math.js":"RK1r"}],klHJ:[function(t,e,n){"use strict";function i(t,e,n,i){for(var o=[],a=(0,r.createEmpty)(),s=0,l=n.length;s<l;++s){var u=n[s];a=(0,r.createOrUpdateFromFlatCoordinates)(t,e,u[0],i),o.push((a[0]+a[2])/2,(a[1]+a[3])/2),e=u[u.length-1]}return o}Object.defineProperty(n,"__esModule",{value:!0}),n.linearRingss=i;var r=t("../../extent.js")},{"../../extent.js":"IwSU"}],ppKG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../array.js"),o=t("../extent.js"),a=i(t("./GeometryLayout.js")),s=i(t("./GeometryType.js")),l=i(t("./MultiPoint.js")),u=i(t("./Polygon.js")),c=i(t("./SimpleGeometry.js")),d=t("./flat/area.js"),h=t("./flat/center.js"),f=t("./flat/closest.js"),p=t("./flat/contains.js"),m=t("./flat/deflate.js"),g=t("./flat/inflate.js"),v=t("./flat/interiorpoint.js"),y=t("./flat/intersectsextent.js"),_=t("./flat/orient.js"),b=t("./flat/simplify.js"),E=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var o=this.getLayout(),a=e,s=[],l=[],u=0,c=a.length;u<c;++u){var d=a[u];0===u&&(o=d.getLayout());for(var h=s.length,f=d.getEnds(),p=0,m=f.length;p<m;++p)f[p]+=h;(0,r.extend)(s,d.getFlatCoordinates()),l.push(f)}n=o,e=s,i=l}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;(0,r.extend)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,o=(e=t.getEnds().slice()).length;i<o;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<(0,o.closestSquaredDistanceXY)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,f.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,f.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return(0,p.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return(0,d.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,g.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,v.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new l["default"](this.getFlatInteriorPoints().slice(),a["default"].XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=(0,b.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,a["default"].XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,a=i.length;o<a;++o)i[o]-=e;return new u["default"](this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),l=s[s.length-1];if(0!==r)for(var c=0,d=s.length;c<d;++c)s[c]-=r;var h=new u["default"](e.slice(r,l),t,s);i.push(h),r=l}return i},e.prototype.getType=function(){return s["default"].MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return(0,y.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=(0,m.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(c["default"]),x=E;n["default"]=x},{"../array.js":"Z5sL","../extent.js":"IwSU","./GeometryLayout.js":"hsvv","./GeometryType.js":"naLT","./MultiPoint.js":"D9kr","./Polygon.js":"K0BN","./SimpleGeometry.js":"F2mr","./flat/area.js":"w7L4","./flat/center.js":"klHJ","./flat/closest.js":"U50t","./flat/contains.js":"npHd","./flat/deflate.js":"Wjyi","./flat/inflate.js":"a4id","./flat/interiorpoint.js":"QVo3","./flat/intersectsextent.js":"RGtZ","./flat/orient.js":"SKGF","./flat/simplify.js":"y5ZM"}],GkHV:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};n["default"]=i},{}],QlH5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IMAGE:"image",VECTOR:"vector"};n["default"]=i},{}],GezW:[function(t,e,n){"use strict";function i(t){return Array.isArray(t)?(0,r.toString)(t):t}Object.defineProperty(n,"__esModule",{value:!0}),n.asColorLike=i;var r=t("./color.js")},{"./color.js":"tree"}],jGvh:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../asserts.js"),o=i(t("../events/Target.js")),a=i(t("../events/EventType.js")),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(a["default"].CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return(0,r.assert)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return(0,r.assert)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){(0,r.assert)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(o["default"]),l=s;n["default"]=l},{"../asserts.js":"E2kQ","../events/Target.js":"mcdO","../events/EventType.js":"eKq7"}],OT1O:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){return M||(M=(0,u.createCanvasContext2D)(1,1)),M}function o(t,e){var n=r();return t!=n.font&&(n.font=t),n.measureText(e).width}function a(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}function s(t,e,n,i,r,o,a,s,l,u,c){var d;1!=n&&(d=t.globalAlpha,t.globalAlpha=d*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,a,s,l,u,a*c,s*c),d&&(t.globalAlpha=d),e&&t.setTransform.apply(t,R)}Object.defineProperty(n,"__esModule",{value:!0}),n.measureTextWidth=o,n.rotateAtOffset=a,n.drawImage=s,n.resetTransform=n.measureTextHeight=n.checkFont=n.textHeights=n.checkedFonts=n.labelCache=n.defaultLineWidth=n.defaultPadding=n.defaultTextBaseline=n.defaultTextAlign=n.defaultStrokeStyle=n.defaultMiterLimit=n.defaultLineJoin=n.defaultLineDashOffset=n.defaultLineDash=n.defaultLineCap=n.defaultFillStyle=n.defaultFont=void 0;var l=t("../css.js"),u=t("../dom.js"),c=t("../obj.js"),d=i(t("../structs/LRUCache.js")),h=t("../transform.js"),f="10px sans-serif";n.defaultFont=f;var p=[0,0,0,1];n.defaultFillStyle=p;var m="round";n.defaultLineCap=m;var g=[];n.defaultLineDash=g;var v=0;n.defaultLineDashOffset=v;var y="round";n.defaultLineJoin=y;var _=10;n.defaultMiterLimit=_;var b=[0,0,0,1];n.defaultStrokeStyle=b;var E="center";n.defaultTextAlign=E;var x="middle";n.defaultTextBaseline=x;var C=[0,0,0,0];n.defaultPadding=C;var T=1;n.defaultLineWidth=T;var w=new d["default"];n.labelCache=w;var S={};n.checkedFonts=S;var M=null,j={};n.textHeights=j;var O=function(){function t(t){for(var e=r(),n=100;n<=700;n+=300){for(var o=n+" ",a=!0,l=0;l<d;++l){var c=u[l];if(e.font=o+s+c,i=e.measureText(h).width,t!=c){e.font=o+s+t+","+c;var f=e.measureText(h).width;a=a&&f!=i}}if(a)return!0}return!1}function e(){var e=!0;for(var i in a)a[i]<o&&(t(i)?(a[i]=o,(0,c.clear)(j),M=null,w.clear()):(++a[i],e=!1));e&&(clearInterval(n),n=void 0)}var n,i,o=60,a=S,s="32px ",u=["monospace","serif"],d=u.length,h="wmytzilWMYTZIL@#/&?$%10";return function(i){var r=(0,l.getFontFamilies)(i);if(r)for(var s=0,u=r.length;s<u;++s){var c=r[s];c in a||(a[c]=o,t(c)||(a[c]=0,void 0===n&&(n=setInterval(e,32))))}}}();n.checkFont=O;var A=function(){var t,e=j;return function(n){var i=e[n];return null==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=e[n]=t.offsetHeight,document.body.removeChild(t)),i}}();n.measureTextHeight=A;var R=(0,h.create)();n.resetTransform=R},{"../css.js":"K4Xi","../dom.js":"fRxd","../obj.js":"qC1c","../structs/LRUCache.js":"jGvh","../transform.js":"glB6"}],YLA1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};r.prototype.clone=function(){return new r({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},r.prototype.getOpacity=function(){return this.opacity_},r.prototype.getRotateWithView=function(){return this.rotateWithView_},r.prototype.getRotation=function(){return this.rotation_},r.prototype.getScale=function(){return this.scale_},r.prototype.getSnapToPixel=function(){return!1},r.prototype.getAnchor=function(){return(0,i["abstract"])()},r.prototype.getImage=function(t){return(0,i["abstract"])()},r.prototype.getHitDetectionImage=function(t){return(0,i["abstract"])()},r.prototype.getImageState=function(){return(0,i["abstract"])()},r.prototype.getImageSize=function(){return(0,i["abstract"])()},r.prototype.getHitDetectionImageSize=function(){return(0,i["abstract"])()},r.prototype.getOrigin=function(){return(0,i["abstract"])()},r.prototype.getSize=function(){return(0,i["abstract"])()},r.prototype.setOpacity=function(t){this.opacity_=t},r.prototype.setRotateWithView=function(t){this.rotateWithView_=t},r.prototype.setRotation=function(t){this.rotation_=t},r.prototype.setScale=function(t){this.scale_=t},r.prototype.setSnapToPixel=function(t){},r.prototype.listenImageChange=function(t,e){return(0,i["abstract"])()},r.prototype.load=function(){(0,i["abstract"])()},r.prototype.unlistenImageChange=function(t,e){(0,i["abstract"])()};var o=r;n["default"]=o},{"../util.js":"YOqM"}],LxrW:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../color.js"),o=t("../colorlike.js"),a=t("../dom.js"),s=t("../has.js"),l=i(t("../ImageState.js")),u=t("../render/canvas.js"),c=i(t("./Image.js")),d=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return l["default"].LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",l=0,c=null,d=0,h=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=u.defaultStrokeStyle),n=(0,o.asColorLike)(n),void 0===(h=this.stroke_.getWidth())&&(h=u.defaultLineWidth),c=this.stroke_.getLineDash(),d=this.stroke_.getLineDashOffset(),s.CANVAS_LINE_DASH||(c=null,d=0),void 0===(r=this.stroke_.getLineJoin())&&(r=u.defaultLineJoin),void 0===(i=this.stroke_.getLineCap())&&(i=u.defaultLineCap),void 0===(l=this.stroke_.getMiterLimit())&&(l=u.defaultMiterLimit));var f=2*(this.radius_+h)+1,p={strokeStyle:n,strokeWidth:h,size:f,lineCap:i,lineDash:c,lineDashOffset:d,lineJoin:r,miterLimit:l};if(void 0===t){var m=(0,a.createCanvasContext2D)(f,f);this.canvas_=m.canvas,e=f=this.canvas_.width,this.draw_(p,m,0,0),this.createHitDetectionCanvas_(p)}else{f=Math.round(f);var g,v=!this.fill_;v&&(g=this.drawHitDetectionCanvas_.bind(this,p));var y=this.getChecksum(),_=t.add(y,f,f,this.draw_.bind(this,p),g);this.canvas_=_.image,this.origin_=[_.offsetX,_.offsetY],e=_.image.width,v?(this.hitDetectionCanvas_=_.hitImage,this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[f/2,f/2],this.size_=[f,f],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,a,s;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(l*=2),r=0;r<=l;r++)a=2*r*Math.PI/l-Math.PI/2+this.angle_,s=r%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(a),t.size/2+s*Math.sin(a))}if(this.fill_){var d=this.fill_.getColor();null===d&&(d=u.defaultFillStyle),e.fillStyle=(0,o.asColorLike)(d),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=(0,a.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var a,s,l,c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(o*=2),a=0;a<=o;a++)l=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2==0?this.radius_:c,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle=(0,r.asString)(u.defaultFillStyle),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(c["default"]),h=d;n["default"]=h},{"../color.js":"tree","../colorlike.js":"GezW","../dom.js":"fRxd","../has.js":"lDpN","../ImageState.js":"iN8L","../render/canvas.js":"OT1O","./Image.js":"YLA1"}],b45o:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./RegularShape.js")),o=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(r["default"]),a=o;n["default"]=a},{"./RegularShape.js":"LxrW"}],aLMx:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e;if("function"==typeof t)e=t;else{var n;Array.isArray(t)?n=t:((0,l.assert)("function"==typeof t.getZIndex,41),n=[t]),e=function(){return n}}return e}function o(t,e){if(!p){var n=new d["default"]({color:"rgba(255,255,255,0.4)"}),i=new h["default"]({color:"#3399CC",width:1.25});p=[new f({image:new c["default"]({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return p}function a(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[u["default"].POLYGON]=[new f({fill:new d["default"]({color:[255,255,255,.5]})})],t[u["default"].MULTI_POLYGON]=t[u["default"].POLYGON],t[u["default"].LINE_STRING]=[new f({stroke:new h["default"]({color:e,width:5})}),new f({stroke:new h["default"]({color:n,width:3})})],t[u["default"].MULTI_LINE_STRING]=t[u["default"].LINE_STRING],t[u["default"].CIRCLE]=t[u["default"].POLYGON].concat(t[u["default"].LINE_STRING]),t[u["default"].POINT]=[new f({image:new c["default"]({radius:6,fill:new d["default"]({color:n}),stroke:new h["default"]({color:e,width:1.5})}),zIndex:1/0})],t[u["default"].MULTI_POINT]=t[u["default"].POINT],t[u["default"].GEOMETRY_COLLECTION]=t[u["default"].POLYGON].concat(t[u["default"].LINE_STRING],t[u["default"].POINT]),t}function s(t){return t.getGeometry()}Object.defineProperty(n,"__esModule",{value:!0}),n.toFunction=r,n.createDefaultStyle=o,n.createEditingStyle=a,n["default"]=void 0;var l=t("../asserts.js"),u=i(t("../geom/GeometryType.js")),c=i(t("./Circle.js")),d=i(t("./Fill.js")),h=i(t("./Stroke.js")),f=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=s,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};f.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new f({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},f.prototype.getRenderer=function(){return this.renderer_},f.prototype.setRenderer=function(t){this.renderer_=t},f.prototype.getGeometry=function(){return this.geometry_},f.prototype.getGeometryFunction=function(){return this.geometryFunction_},f.prototype.getFill=function(){return this.fill_},f.prototype.setFill=function(t){this.fill_=t},f.prototype.getImage=function(){return this.image_},f.prototype.setImage=function(t){this.image_=t},f.prototype.getStroke=function(){return this.stroke_},f.prototype.setStroke=function(t){this.stroke_=t},f.prototype.getText=function(){return this.text_},f.prototype.setText=function(t){this.text_=t},f.prototype.getZIndex=function(){return this.zIndex_},f.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=s,this.geometry_=t},f.prototype.setZIndex=function(t){this.zIndex_=t};var p=null,m=f;n["default"]=m},{"../asserts.js":"E2kQ","../geom/GeometryType.js":"naLT","./Circle.js":"b45o","./Fill.js":"vciJ","./Stroke.js":"vIbn"}],sgAj:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../LayerType.js")),o=i(t("./Layer.js")),a=i(t("./VectorRenderType.js")),s=t("../obj.js"),l=t("../style/Style.js"),u={RENDER_ORDER:"renderOrder"},c=function(t){function e(e){var n=e||{},i=(0,s.assign)({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||a["default"].VECTOR,this.type=r["default"].VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(u.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(u.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:l.createDefaultStyle,this.styleFunction_=null===t?void 0:(0,l.toFunction)(this.style_),this.changed()},
e.prototype.getRenderMode=function(){return this.renderMode_},e}(o["default"]);c.prototype.getSource;var d=c;n["default"]=d},{"../LayerType.js":"GkHV","./Layer.js":"QsxU","./VectorRenderType.js":"QlH5","../obj.js":"qC1c","../style/Style.js":"aLMx"}],zZrl:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};n["default"]=i},{}],WAmp:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n,i){return function(r,o,a){var l=new XMLHttpRequest;l.open("GET","function"==typeof t?t(r,o,a):t,!0),e.getType()==s["default"].ARRAY_BUFFER&&(l.responseType="arraybuffer"),l.onload=function(t){if(!l.status||l.status>=200&&l.status<300){var r,o=e.getType();o==s["default"].JSON||o==s["default"].TEXT?r=l.responseText:o==s["default"].XML?(r=l.responseXML)||(r=(new DOMParser).parseFromString(l.responseText,"application/xml")):o==s["default"].ARRAY_BUFFER&&(r=l.response),r?n.call(this,e.readFeatures(r,{featureProjection:a}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),l.onerror=function(){i.call(this)}.bind(this),l.send()}}function o(t,e){return r(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},a.VOID)}Object.defineProperty(n,"__esModule",{value:!0}),n.loadFeaturesXhr=r,n.xhr=o;var a=t("./functions.js"),s=i(t("./format/FormatType.js"))},{"./functions.js":"guaG","./format/FormatType.js":"zZrl"}],ryJg:[function(t,e,n){"use strict";function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}function r(t,e){return[t]}function o(t){return function(e,n){var i=t.getZForResolution(n),r=t.getTileRangeForExtentAndZ(e,i),o=[],a=[i,0,0];for(a[1]=r.minX;a[1]<=r.maxX;++a[1])for(a[2]=r.minY;a[2]<=r.maxY;++a[2])o.push(t.getTileCoordExtent(a));return o}}Object.defineProperty(n,"__esModule",{value:!0}),n.all=i,n.bbox=r,n.tile=o},{}],Hr1t:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("../util.js"),a=i(t("../Object.js")),s=t("../proj.js"),l=i(t("./State.js")),u=function(t){function e(e){t.call(this),this.projection_=(0,s.get)(e.projection),this.attributions_=r(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:l["default"].READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return(0,o["abstract"])()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=r(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(a["default"]),c=u;n["default"]=c},{"../util.js":"YOqM","../Object.js":"n4ep","../proj.js":"aoEo","./State.js":"PNQw"}],YsL5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};n["default"]=i},{}],QmXp:[function(t,e,n){var i;arguments[3],arguments[3];!function(t,r){"object"==typeof n&&"undefined"!=typeof e?e.exports=r():"function"==typeof i&&i.amd?i(r):t.quickselect=r()}(this,function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,a){!function s(e,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,l=n-i+1,u=Math.log(a),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1),h=Math.max(i,Math.floor(n-l*c/a+d)),f=Math.min(r,Math.floor(n+(a-l)*c/a+d));s(e,n,h,f,o)}var p=e[n],m=i,g=r;for(t(e,i,n),o(e[r],p)>0&&t(e,i,r);m<g;){for(t(e,m,g),m++,g--;o(e[m],p)<0;)m++;for(;o(e[g],p)>0;)g--}0===o(e[i],p)?t(e,i,g):t(e,++g,r),g<=n&&(i=g+1),n<=g&&(r=g-1)}}(n,i,r||0,o||n.length-1,a||e)}})},{}],f7zo:[function(t,e,n){"use strict";function i(t,e){return this instanceof i?(this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear(),void 0):new i(t,e)}function r(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],s(r,t.leaf?i(o):o);return r}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function d(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function m(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,i,r){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,y(t,o,e,n,r),a.push(e,o,o,n))}e.exports=i,e.exports["default"]=i;var y=t("quickselect");i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!m(t,e))return n;for(var r,o,a,s,l=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],m(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):l.push(a));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!m(t,e))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],m(t,a=e.leaf?n(o):o)){if(e.leaf||p(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,o,a,s=this.data,l=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(o=r(t,s.children,e)))return s.children.splice(o,1),u.push(s),this._condense(u),this;a||s.leaf||!p(s,l)?i?(n++,s=i.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,a=n-e+1,s=this._maxEntries;if(a<=s)return o(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(r=g([])).leaf=!1,r.height=i;var l,u,c,d,h=Math.ceil(a/s),f=h*Math.ceil(Math.sqrt(s));for(v(t,e,n,f,this.compareMinX),l=e;l<=n;l+=f)for(v(t,l,c=Math.min(l+f-1,n),h,this.compareMinY),u=l;u<=c;u+=h)d=Math.min(u+h-1,c),r.children.push(this._build(t,u,d,i-1));return o(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,l,u,d,f;i.push(e),!e.leaf&&i.length-1!==n;){for(d=f=1/0,r=0,o=e.children.length;r<o;r++)l=c(a=e.children[r]),(u=h(t,a)-l)<f?(f=u,d=l<d?l:d,s=a):u===f&&l<d&&(d=l,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],a=this._chooseSubtree(r,this.data,e,o);for(a.children.push(t),s(a,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var a=this._chooseSplitIndex(n,r,i),s=g(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,l,u,d,h;for(u=d=1/0,i=e;i<=n-e;i++)s=f(r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox)),l=c(r)+c(o),s<u?(u=s,h=i,d=l<d?l:d):s===u&&l<d&&(d=l,h=i);return h},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:l,r=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,l=this.toBBox,u=a(t,0,e,l),c=a(t,n-e,n,l),h=d(u)+d(c);for(r=e;r<n-e;r++)o=t.children[r],s(u,t.leaf?l(o):o),h+=d(u);for(r=n-e-1;r>=e;r--)o=t.children[r],s(c,t.leaf?l(o):o),h+=d(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():o(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:"QmXp"}],m0Ba:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("rbush")),a=t("../extent.js"),s=t("../obj.js"),l=function(t){this.rbush_=(0,o["default"])(t,void 0),this.items_={}};l.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[(0,r.getUid)(e)]=n},l.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};n[i]=l,this.items_[(0,r.getUid)(s)]=l}this.rbush_.load(n)},l.prototype.remove=function(t){var e=(0,r.getUid)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},l.prototype.update=function(t,e){var n=this.items_[(0,r.getUid)(e)],i=[n.minX,n.minY,n.maxX,n.maxY];(0,a.equals)(i,t)||(this.remove(e),this.insert(t,e))},l.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},l.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},l.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},l.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},l.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},l.prototype.isEmpty=function(){return(0,s.isEmpty)(this.items_)},l.prototype.clear=function(){this.rbush_.clear(),this.items_={}},l.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,a.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},l.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var u=l;n["default"]=u},{"../util.js":"YOqM",rbush:"f7zo","../extent.js":"IwSU","../obj.js":"qC1c"}],GKSK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.VectorSourceEvent=void 0;var r=t("../util.js"),o=i(t("../Collection.js")),a=i(t("../CollectionEventType.js")),s=i(t("../ObjectEventType.js")),l=t("../array.js"),u=t("../asserts.js"),c=t("../events.js"),d=i(t("../events/Event.js")),h=i(t("../events/EventType.js")),f=t("../extent.js"),p=t("../featureloader.js"),m=t("../functions.js"),g=t("../loadingstrategy.js"),v=t("../obj.js"),y=i(t("./Source.js")),_=i(t("./State.js")),b=i(t("./VectorEventType.js")),E=i(t("../structs/RBush.js")),x=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(d["default"]);n.VectorSourceEvent=x;var C=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:_["default"].READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=m.VOID,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&((0,u.assert)(this.format_,7),this.loader_=(0,p.xhr)(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:g.all;var i,r,a=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=a?new E["default"]:null,this.loadedExtentsRtree_=new E["default"],this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?r=n.features:n.features&&(r=(i=n.features).getArray()),a||void 0!==i||(i=new o["default"](r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=(0,r.getUid)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new x(b["default"].ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[(0,c.listen)(e,h["default"].CHANGE,this.handleFeatureChange_,this),(0,c.listen)(e,s["default"].PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:((0,u.assert)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,a=t.length;o<a;o++){var s=t[o],l=(0,r.getUid)(s);this.addToIndex_(l,s)&&n.push(s)}for(var u=0,c=n.length;u<c;u++){var d=n[u],h=(0,r.getUid)(d);this.setupChangeEvents_(h,d);var f=d.getGeometry();if(f){var p=f.getExtent();e.push(p),i.push(d)}else this.nullGeometryFeatures_[h]=d}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var m=0,g=n.length;m<g;m++)this.dispatchEvent(new x(b["default"].ADDFEATURE,n[m]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;(0,c.listen)(this,b["default"].ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),(0,c.listen)(this,b["default"].REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),(0,c.listen)(t,a["default"].ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),(0,c.listen)(t,a["default"].REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(c.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new x(b["default"].CLEAR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){return this.featuresRtree_?this.featuresRtree_.forEach(t):void(this.featuresCollection_&&this.featuresCollection_.forEach(t))},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(t,e):void(this.featuresCollection_&&this.featuresCollection_.forEach(e))},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),(0,v.isEmpty)(this.nullGeometryFeatures_)||(0,l.extend)(t,(0,v.getValues)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||m.TRUE;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,i,o,a))<u){r=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=i-c,s[2]=n+c,s[3]=i+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=(0,r.getUid)(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var a=e.getId();if(void 0!==a){var s=a.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new x(b["default"].CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:(0,r.getUid)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,v.isEmpty)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var a=function(t,a){var s=o[t];r.forEachInExtent(s,function(t){return(0,f.containsExtent)(t.extent,s)})||(i.loader_.call(i,s,e,n),r.insert(s,{extent:s.slice()}),i.loading=i.loader_!==m.VOID)},s=0,l=o.length;s<l;++s)a(s)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if((0,f.equals)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=(0,r.getUid)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=(0,r.getUid)(t);this.featureChangeKeys_[e].forEach(c.unlistenByKey),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new x(b["default"].REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y["default"]),T=C;n["default"]=T},{"../util.js":"YOqM","../Collection.js":"qt30","../CollectionEventType.js":"ucwT","../ObjectEventType.js":"baqo","../array.js":"Z5sL","../asserts.js":"E2kQ","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","../extent.js":"IwSU","../featureloader.js":"WAmp","../functions.js":"guaG","../loadingstrategy.js":"ryJg","../obj.js":"qC1c","./Source.js":"Hr1t","./State.js":"PNQw","./VectorEventType.js":"YsL5","../structs/RBush.js":"m0Ba"}],uKTt:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(){var t=(0,L.createEditingStyle)();return function(e,n){return t[e.getGeometry().getType()]}}function s(t,e){return function(n,i){var r=n[0],o=n[1],a=Math.sqrt((0,m.squaredDistance)(r,o)),s=i||(0,O.fromCircle)(new E["default"](r),t),l=e;if(!e){var u=o[0]-r[0],c=o[1]-r[1];l=Math.atan(c/u)-(u<0?Math.PI:0)}return(0,O.makeRegular)(s,r,a,l),s}}function l(){return function(t,e){var n=(0,_.boundingExtent)(t),i=[[(0,_.getBottomLeft)(n),(0,_.getBottomRight)(n),(0,_.getTopRight)(n),(0,_.getTopLeft)(n),(0,_.getBottomLeft)(n)]],r=e;return r?r.setCoordinates(i):r=new O["default"](i),r}}function u(t){var e;return t===x["default"].POINT||t===x["default"].MULTI_POINT?e=k.POINT:t===x["default"].LINE_STRING||t===x["default"].MULTI_LINE_STRING?e=k.LINE_STRING:t===x["default"].POLYGON||t===x["default"].MULTI_POLYGON?e=k.POLYGON:t===x["default"].CIRCLE&&(e=k.CIRCLE),e}Object.defineProperty(n,"__esModule",{value:!0}),n.createRegularPolygon=s,n.createBox=l,n["default"]=void 0;var c=o(t("../events/EventType.js")),d=o(t("../Feature.js")),h=o(t("../MapBrowserEventType.js")),f=o(t("../MapBrowserPointerEvent.js")),p=t("../Object.js"),m=t("../coordinate.js"),g=t("../events.js"),v=o(t("../events/Event.js")),y=t("../events/condition.js"),_=t("../extent.js"),b=t("../functions.js"),E=o(t("../geom/Circle.js")),x=o(t("../geom/GeometryType.js")),C=o(t("../geom/LineString.js")),T=o(t("../geom/MultiLineString.js")),w=o(t("../geom/MultiPoint.js")),S=o(t("../geom/MultiPolygon.js")),M=t("../pointer/MouseSource.js"),j=o(t("../geom/Point.js")),O=r(t("../geom/Polygon.js")),A=o(t("./Pointer.js")),R=o(t("./Property.js")),P=o(t("../layer/Vector.js")),I=o(t("../source/Vector.js")),L=t("../style/Style.js"),k={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},D={DRAWSTART:"drawstart",DRAWEND:"drawend"},N=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(v["default"]),F=function(t){function e(e){var n=e;n.stopDown||(n.stopDown=b.FALSE),t.call(this,n),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=e.source?e.source:null,this.features_=e.features?e.features:null,this.snapTolerance_=e.snapTolerance?e.snapTolerance:12,this.type_=e.type,this.mode_=u(this.type_),this.stopClick_=!!e.stopClick,this.minPoints_=e.minPoints?e.minPoints:this.mode_===k.POLYGON?3:2,this.maxPoints_=e.maxPoints?e.maxPoints:1/0,this.finishCondition_=e.finishCondition?e.finishCondition:b.TRUE;var i=e.geometryFunction;if(!i)if(this.type_===x["default"].CIRCLE)i=function(t,e){var n=e||new E["default"]([NaN,NaN]),i=(0,m.squaredDistance)(t[0],t[1]);return n.setCenterAndRadius(t[0],Math.sqrt(i)),n};else{var r,o=this.mode_;o===k.POINT?r=j["default"]:o===k.LINE_STRING?r=C["default"]:o===k.POLYGON&&(r=O["default"]),i=function(t,e){var n=e;return n?o===k.POLYGON?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new r(t),n}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,this.overlay_=new P["default"]({source:new I["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:a(),updateWhileInteracting:!0}),this.geometryName_=e.geometryName,this.condition_=e.condition?e.condition:y.noModifierKeys,this.freehandCondition_,e.freehand?this.freehandCondition_=y.always:this.freehandCondition_=e.freehandCondition?e.freehandCondition:y.shiftKeyOnly,(0,g.listen)(this,(0,p.getChangeEventType)(R["default"].ACTIVE),this.updateState_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===c["default"].CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==k.POINT&&this.freehandCondition_(e);var n=e.type===h["default"].POINTERMOVE,i=!0;return!this.freehand_&&this.lastDragTime_&&e.type===h["default"].POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)),this.freehand_&&e.type===h["default"].POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),i=!1):this.freehand_&&e.type===h["default"].POINTERDOWN?i=!1:n?(i=e.type===h["default"].POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):(e.pointerEvent.pointerType==M.POINTER_TYPE||e.type===h["default"].POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===h["default"].DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new f["default"](h["default"].POINTERMOVE,t.map,t.pointerEvent,(!1),t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var n=this.mode_===k.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===k.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],r=e[1]-n[1],o=i*i+r*r;if(this.shouldHandle_=this.freehand_?o>this.squaredClickTolerance_:o<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_];if(this.mode_===k.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===k.POLYGON){var r=this.sketchCoords_;n=r[0].length>this.minPoints_,i=[r[0][0],r[0][r[0].length-2]]}if(n)for(var o=t.map,a=0,s=i.length;a<s;a++){var l=i[a],u=o.getPixelFromCoordinate(l),c=t.pixel,d=c[0]-u[0],h=c[1]-u[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(d*d+h*h)<=f){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new d["default"](new j["default"](e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===k.POINT?this.sketchCoords_=e.slice():this.mode_===k.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new d["default"](new C["default"](this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new d["default"],this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new N(D.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,i,r=t.coordinate,o=this.sketchFeature_.getGeometry();if(this.mode_===k.POINT?n=this.sketchCoords_:this.mode_===k.POLYGON?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=r[0],n[1]=r[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(r),o.getType()==x["default"].POLYGON&&this.mode_!==k.POLYGON){this.sketchLine_||(this.sketchLine_=new d["default"]);var a=o.getLinearRing(0);(i=this.sketchLine_.getGeometry())?(i.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates()),i.changed()):(i=new C["default"](a.getFlatCoordinates(),a.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,i=t.coordinate,r=this.sketchFeature_.getGeometry();this.mode_===k.LINE_STRING?(this.finishCoordinate_=i.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),this.geometryFunction_(n,r)):this.mode_===k.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===k.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===k.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry();this.mode_===k.LINE_STRING?(e.pop(),this.geometryFunction_(e,n)):this.mode_===k.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n),e=n.getCoordinates()),this.type_===x["default"].MULTI_POINT?t.setGeometry(new w["default"]([e])):this.type_===x["default"].MULTI_LINE_STRING?t.setGeometry(new T["default"]([e])):this.type_===x["default"].MULTI_POLYGON&&t.setGeometry(new S["default"]([e])),
this.dispatchEvent(new N(D.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new N(D.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(A["default"]),$=F;n["default"]=$},{"../events/EventType.js":"eKq7","../Feature.js":"YPtS","../MapBrowserEventType.js":"WqlW","../MapBrowserPointerEvent.js":"ASyy","../Object.js":"n4ep","../coordinate.js":"HxRU","../events.js":"Bvf5","../events/Event.js":"h36w","../events/condition.js":"YmKF","../extent.js":"IwSU","../functions.js":"guaG","../geom/Circle.js":"rStz","../geom/GeometryType.js":"naLT","../geom/LineString.js":"x8R2","../geom/MultiLineString.js":"BRR0","../geom/MultiPoint.js":"D9kr","../geom/MultiPolygon.js":"ppKG","../pointer/MouseSource.js":"wVnN","../geom/Point.js":"FFTU","../geom/Polygon.js":"K0BN","./Pointer.js":"kY2W","./Property.js":"YG6A","../layer/Vector.js":"sgAj","../source/Vector.js":"GKSK","../style/Style.js":"aLMx"}],tV2d:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=(0,b.createEditingStyle)();return function(e,n){return t[p["default"].POLYGON]}}function o(){var t=(0,b.createEditingStyle)();return function(e,n){return t[p["default"].POINT]}}function a(t){return function(e){return(0,f.boundingExtent)([t,e])}}function s(t,e){return t[0]==e[0]?function(n){return(0,f.boundingExtent)([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return(0,f.boundingExtent)([t,[e[0],n[1]]])}:null}function l(t){return[[[t[0],t[1]],[t[0],t[3]]],[[t[0],t[3]],[t[2],t[3]]],[[t[2],t[3]],[t[2],t[1]]],[[t[2],t[1]],[t[0],t[1]]]]}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var u=i(t("../Feature.js")),c=i(t("../MapBrowserEventType.js")),d=t("../coordinate.js"),h=i(t("../events/Event.js")),f=t("../extent.js"),p=i(t("../geom/GeometryType.js")),m=i(t("../geom/Point.js")),g=t("../geom/Polygon.js"),v=i(t("./Pointer.js")),y=i(t("../layer/Vector.js")),_=i(t("../source/Vector.js")),b=t("../style/Style.js"),E={EXTENTCHANGED:"extentchanged"},x=function(t){function e(e){t.call(this,E.EXTENTCHANGED),this.extent=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h["default"]),C=function(t){function e(e){var n=e||{};t.call(this,n),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new y["default"]({source:new _["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:r(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new y["default"]({source:new _["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:o(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapToVertex_=function(t,e){var n=e.getCoordinateFromPixel(t),i=this.getExtent();if(i){var r=l(i);r.sort(function(t,e){return(0,d.squaredDistanceToSegment)(n,t)-(0,d.squaredDistanceToSegment)(n,e)});var o=r[0],a=(0,d.closestOnSegment)(n,o),s=e.getPixelFromCoordinate(a);if((0,d.distance)(t,s)<=this.pixelTolerance_){var u=e.getPixelFromCoordinate(o[0]),c=e.getPixelFromCoordinate(o[1]),h=(0,d.squaredDistance)(s,u),f=(0,d.squaredDistance)(s,c),p=Math.sqrt(Math.min(h,f));return this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(a=h>f?o[1]:o[0]),a}}return null},e.prototype.handlePointerMove_=function(t){var e=t.pixel,n=t.map,i=this.snapToVertex_(e,n);i||(i=n.getCoordinateFromPixel(e)),this.createOrUpdatePointerFeature_(i)},e.prototype.createOrUpdateExtentFeature_=function(t){var e=this.extentFeature_;return e?t?e.setGeometry((0,g.fromExtent)(t)):e.setGeometry(void 0):(e=t?new u["default"]((0,g.fromExtent)(t)):new u["default"]({}),this.extentFeature_=e,this.extentOverlay_.getSource().addFeature(e)),e},e.prototype.createOrUpdatePointerFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new u["default"](new m["default"](t)),this.vertexFeature_=e,this.vertexOverlay_.getSource().addFeature(e)),e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=c["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),t.prototype.handleEvent.call(this,e),!1)},e.prototype.handleDownEvent=function(t){var e=t.pixel,n=t.map,i=this.getExtent(),r=this.snapToVertex_(e,n),o=function(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null};if(r&&i){var l=r[0]==i[0]||r[0]==i[2]?r[0]:null,u=r[1]==i[1]||r[1]==i[3]?r[1]:null;null!==l&&null!==u?this.pointerHandler_=a(o(r)):null!==l?this.pointerHandler_=s(o([l,i[1]]),o([l,i[3]])):null!==u&&(this.pointerHandler_=s(o([i[0],u]),o([i[2],u])))}else r=n.getCoordinateFromPixel(e),this.setExtent([r[0],r[1],r[0],r[1]]),this.pointerHandler_=a(r);return!0},e.prototype.handleDragEvent=function(t){if(this.pointerHandler_){var e=t.coordinate;this.setExtent(this.pointerHandler_(e)),this.createOrUpdatePointerFeature_(e)}return!0},e.prototype.handleUpEvent=function(t){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==(0,f.getArea)(e)||this.setExtent(null),!1},e.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getExtent=function(){return this.extent_},e.prototype.setExtent=function(t){this.extent_=t||null,this.createOrUpdateExtentFeature_(t),this.dispatchEvent(new x(this.extent_))},e}(v["default"]),T=C;n["default"]=T},{"../Feature.js":"YPtS","../MapBrowserEventType.js":"WqlW","../coordinate.js":"HxRU","../events/Event.js":"h36w","../extent.js":"IwSU","../geom/GeometryType.js":"naLT","../geom/Point.js":"FFTU","../geom/Polygon.js":"K0BN","./Pointer.js":"kY2W","../layer/Vector.js":"sgAj","../source/Vector.js":"GKSK","../style/Style.js":"aLMx"}],n6HG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return t.index-e.index}function o(t,e){var n=e.geometry;if(n.getType()===b["default"].CIRCLE){var i=n;if(e.index===O){var r=(0,p.squaredDistance)(i.getCenter(),t),o=Math.sqrt(r)-i.getRadius();return o*o}}return(0,p.squaredDistanceToSegment)(t,e.segment)}function a(t,e){var n=e.geometry;return n.getType()===b["default"].CIRCLE&&e.index===O?n.getClosestPoint(t):(0,p.closestOnSegment)(t,e.segment)}function s(){var t=(0,M.createEditingStyle)();return function(e,n){return t[b["default"].POINT]}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.ModifyEvent=void 0;var l=t("../util.js"),u=i(t("../Collection.js")),c=i(t("../CollectionEventType.js")),d=i(t("../Feature.js")),h=i(t("../MapBrowserEventType.js")),f=t("../array.js"),p=t("../coordinate.js"),m=t("../events.js"),g=i(t("../events/Event.js")),v=i(t("../events/EventType.js")),y=t("../events/condition.js"),_=t("../extent.js"),b=i(t("../geom/GeometryType.js")),E=i(t("../geom/Point.js")),x=i(t("./Pointer.js")),C=i(t("../layer/Vector.js")),T=i(t("../source/Vector.js")),w=i(t("../source/VectorEventType.js")),S=i(t("../structs/RBush.js")),M=t("../style/Style.js"),j=0,O=1,A={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},R=function(t){function e(e,n,i){t.call(this,e),this.features=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g["default"]);n.ModifyEvent=R;var P=function(t){function e(e){var n;if(t.call(this,e),this.condition_=e.condition?e.condition:y.primaryAction,this.defaultDeleteCondition_=function(t){return(0,y.altKeyOnly)(t)&&(0,y.singleClick)(t)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:y.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new S["default"],this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new C["default"]({source:new T["default"]({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:s(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,n=new u["default"](this.source_.getFeatures()),(0,m.listen)(this.source_,w["default"].ADDFEATURE,this.handleSourceAdd_,this),(0,m.listen)(this.source_,w["default"].REMOVEFEATURE,this.handleSourceRemove_,this)):n=e.features,!n)throw new Error("The modify interaction requires features or a source");this.features_=n,this.features_.forEach(this.addFeature_.bind(this)),(0,m.listen)(this.features_,c["default"].ADD,this.handleFeatureAdd_,this),(0,m.listen)(this.features_,c["default"].REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature_=function(t){var e=t.getGeometry();e&&e.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[e.getType()].call(this,t,e);var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),(0,m.listen)(t,v["default"].CHANGE,this.handleFeatureChange_,this)},e.prototype.willModifyFeatures_=function(t){this.modified_||(this.modified_=!0,this.dispatchEvent(new R(A.MODIFYSTART,this.features_,t)))},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,m.unlisten)(t,v["default"].CHANGE,this.handleFeatureChange_,this)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach(function(e){t===e.feature&&n.push(e)});for(var i=n.length-1;i>=0;--i)e.remove(n[i])},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],a={feature:t,geometry:e,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:t,geometry:e,index:i,segment:o};this.rBush_.insert((0,_.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:l};this.rBush_.insert((0,_.boundingExtent)(l),u)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,geometry:e,depth:[i],index:a,segment:l};this.rBush_.insert((0,_.boundingExtent)(l),u)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var d=l.slice(u,u+2),h={feature:t,geometry:e,depth:[a,i],index:u,segment:d};this.rBush_.insert((0,_.boundingExtent)(d),h)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),i={feature:t,geometry:e,index:j,segment:[n,n]},r={feature:t,geometry:e,index:O,segment:[n,n]},o=[i,r];i.featureSegments=r.featureSegments=o,this.rBush_.insert((0,_.createOrUpdateFromCoordinate)(n),i),this.rBush_.insert(e.getExtent(),r)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i)this.SEGMENT_WRITERS_[n[i].getType()].call(this,t,n[i])},e.prototype.createOrUpdateVertexFeature_=function(t){var e=this.vertexFeature_;return e?e.getGeometry().setCoordinates(t):(e=new d["default"](new E["default"](t)),this.vertexFeature_=e,this.overlay_.getSource().addFeature(e)),e},e.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=h["default"].POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=h["default"].SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==h["default"].SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t);for(var e=t.coordinate,n=0,i=this.dragSegments_.length;n<i;++n){for(var r=this.dragSegments_[n],o=r[0],a=o.depth,s=o.geometry,l=void 0,u=o.segment,c=r[1];e.length<s.getStride();)e.push(u[c][e.length]);switch(s.getType()){case b["default"].POINT:l=e,u[0]=u[1]=e;break;case b["default"].MULTI_POINT:(l=s.getCoordinates())[o.index]=e,u[0]=u[1]=e;break;case b["default"].LINE_STRING:(l=s.getCoordinates())[o.index+c]=e,u[c]=e;break;case b["default"].MULTI_LINE_STRING:case b["default"].POLYGON:(l=s.getCoordinates())[a[0]][o.index+c]=e,u[c]=e;break;case b["default"].MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][o.index+c]=e,u[c]=e;break;case b["default"].CIRCLE:u[0]=u[1]=e,o.index===j?(this.changingFeature_=!0,s.setCenter(e),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius((0,p.distance)(s.getCenter(),e)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(e)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var e=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var i=[],o=n.getGeometry().getCoordinates(),s=(0,_.boundingExtent)([o]),u=this.rBush_.getInExtent(s),c={};u.sort(r);for(var d=0,h=u.length;d<h;++d){var f=u[d],m=f.segment,g=(0,l.getUid)(f.feature),v=f.depth;if(v&&(g+="-"+v.join("-")),c[g]||(c[g]=new Array(2)),f.geometry.getType()===b["default"].CIRCLE&&f.index===O){var y=a(e,f);(0,p.equals)(y,o)&&!c[g][0]&&(this.dragSegments_.push([f,0]),c[g][0]=f)}else if((0,p.equals)(m[0],o)&&!c[g][0])this.dragSegments_.push([f,0]),c[g][0]=f;else if((0,p.equals)(m[1],o)&&!c[g][1]){if((f.geometry.getType()===b["default"].LINE_STRING||f.geometry.getType()===b["default"].MULTI_LINE_STRING)&&c[g][0]&&0===c[g][0].index)continue;this.dragSegments_.push([f,1]),c[g][1]=f}else this.insertVertexCondition_(t)&&(0,l.getUid)(m)in this.vertexSegments_&&!c[g][0]&&!c[g][1]&&i.push([f,o])}i.length&&this.willModifyFeatures_(t);for(var E=i.length-1;E>=0;--E)this.insertVertex_.apply(this,i[E])}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],i=n.geometry;if(i.getType()===b["default"].CIRCLE){var r=i.getCenter(),o=n.featureSegments[0],a=n.featureSegments[1];o.segment[0]=o.segment[1]=r,a.segment[0]=a.segment[1]=r,this.rBush_.update((0,_.createOrUpdateFromCoordinate)(r),o),this.rBush_.update(i.getExtent(),a)}else this.rBush_.update((0,_.boundingExtent)(n.segment),n)}return this.modified_&&(this.dispatchEvent(new R(A.MODIFYEND,this.features_,t)),this.modified_=!1),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map)},e.prototype.handlePointerAtPixel_=function(t,e){var n=e.getCoordinateFromPixel(t),i=(0,_.buffer)((0,_.createOrUpdateFromCoordinate)(n),e.getView().getResolution()*this.pixelTolerance_),r=this.rBush_.getInExtent(i);if(r.length>0){r.sort(function(t,e){return o(n,t)-o(n,e)});var s=r[0],u=s.segment,c=a(n,s),d=e.getPixelFromCoordinate(c),h=(0,p.distance)(t,d);if(h<=this.pixelTolerance_){var f={};if(s.geometry.getType()===b["default"].CIRCLE&&s.index===O)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(c);else{var m=e.getPixelFromCoordinate(u[0]),g=e.getPixelFromCoordinate(u[1]),v=(0,p.squaredDistance)(d,m),y=(0,p.squaredDistance)(d,g);h=Math.sqrt(Math.min(v,y)),this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(c=v>y?u[1]:u[0]),this.createOrUpdateVertexFeature_(c);for(var E=1,x=r.length;E<x;++E){var C=r[E].segment;if(!((0,p.equals)(u[0],C[0])&&(0,p.equals)(u[1],C[1])||(0,p.equals)(u[0],C[1])&&(0,p.equals)(u[1],C[0])))break;f[(0,l.getUid)(C)]=!0}}return f[(0,l.getUid)(u)]=!0,void(this.vertexSegments_=f)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){for(var n,i=t.segment,r=t.feature,o=t.geometry,a=t.depth,s=t.index;e.length<o.getStride();)e.push(0);switch(o.getType()){case b["default"].MULTI_LINE_STRING:case b["default"].POLYGON:(n=o.getCoordinates())[a[0]].splice(s+1,0,e);break;case b["default"].MULTI_POLYGON:(n=o.getCoordinates())[a[1]][a[0]].splice(s+1,0,e);break;case b["default"].LINE_STRING:(n=o.getCoordinates()).splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(o,n);var l=this.rBush_;l.remove(t),this.updateSegmentIndices_(o,s,a,1);var u={segment:[i[0],e],feature:r,geometry:o,depth:a,index:s};l.insert((0,_.boundingExtent)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[e,i[1]],feature:r,geometry:o,depth:a,index:s+1};l.insert((0,_.boundingExtent)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=h["default"].POINTERDRAG){var t=this.lastPointerEvent_;return this.willModifyFeatures_(t),this.removeVertex_(),this.dispatchEvent(new R(A.MODIFYEND,this.features_,t)),this.modified_=!1,!0}return!1},e.prototype.removeVertex_=function(){var t,e,n,i,r,o,a,s,u,c,d,h=this.dragSegments_,f={},p=!1;for(r=h.length-1;r>=0;--r)c=(n=h[r])[0],d=(0,l.getUid)(c.feature),c.depth&&(d+="-"+c.depth.join("-")),d in f||(f[d]={}),0===n[1]?(f[d].right=c,f[d].index=c.index):1==n[1]&&(f[d].left=c,f[d].index=c.index+1);for(d in f){switch(u=f[d].right,a=f[d].left,(s=(o=f[d].index)-1)<0&&(s=0),t=e=(i=(c=void 0!==a?a:u).geometry).getCoordinates(),p=!1,i.getType()){case b["default"].MULTI_LINE_STRING:e[c.depth[0]].length>2&&(e[c.depth[0]].splice(o,1),p=!0);break;case b["default"].LINE_STRING:e.length>2&&(e.splice(o,1),p=!0);break;case b["default"].MULTI_POLYGON:t=t[c.depth[1]];case b["default"].POLYGON:(t=t[c.depth[0]]).length>4&&(o==t.length-1&&(o=0),t.splice(o,1),p=!0,0===o&&(t.pop(),t.push(t[0]),s=t.length-1))}if(p){this.setGeometryCoordinates_(i,e);var m=[];if(void 0!==a&&(this.rBush_.remove(a),m.push(a.segment[0])),void 0!==u&&(this.rBush_.remove(u),m.push(u.segment[1])),void 0!==a&&void 0!==u){var g={depth:c.depth,feature:c.feature,geometry:c.geometry,index:s,segment:m};this.rBush_.insert((0,_.boundingExtent)(g.segment),g)}this.updateSegmentIndices_(i,o,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return p},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,i){this.rBush_.forEachInExtent(t.getExtent(),function(r){r.geometry===t&&(void 0===n||void 0===r.depth||(0,f.equals)(r.depth,n))&&r.index>e&&(r.index+=i)})},e}(x["default"]),I=P;n["default"]=I},{"../util.js":"YOqM","../Collection.js":"qt30","../CollectionEventType.js":"ucwT","../Feature.js":"YPtS","../MapBrowserEventType.js":"WqlW","../array.js":"Z5sL","../coordinate.js":"HxRU","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","../events/condition.js":"YmKF","../extent.js":"IwSU","../geom/GeometryType.js":"naLT","../geom/Point.js":"FFTU","./Pointer.js":"kY2W","../layer/Vector.js":"sgAj","../source/Vector.js":"GKSK","../source/VectorEventType.js":"YsL5","../structs/RBush.js":"m0Ba","../style/Style.js":"aLMx"}],q326:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),r=!e&&!n&&!i,o=t.map,a=this.getFeatures(),s=[],u=[];if(r){(0,g.clear)(this.featureLayerAssociation_),o.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return u.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=a.getLength()-1;c>=0;--c){var h=a.item(c),f=u.indexOf(h);f>-1?u.splice(f,1):(a.remove(h),s.push(h))}0!==u.length&&a.extend(u)}else{o.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r))return!e&&!i||(0,l.includes)(a.getArray(),t)?(n||i)&&(0,l.includes)(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(u.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(u)}return(u.length>0||s.length>0)&&this.dispatchEvent(new b(_.SELECT,u,s,t)),(0,d.pointerMove)(t)}function o(){var t=(0,y.createEditingStyle)();return(0,l.extend)(t[f["default"].POLYGON],t[f["default"].LINE_STRING]),(0,l.extend)(t[f["default"].GEOMETRY_COLLECTION],t[f["default"].LINE_STRING]),function(e,n){return e.getGeometry()?t[e.getGeometry().getType()]:null}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../util.js"),s=i(t("../CollectionEventType.js")),l=t("../array.js"),u=t("../events.js"),c=i(t("../events/Event.js")),d=t("../events/condition.js"),h=t("../functions.js"),f=i(t("../geom/GeometryType.js")),p=i(t("./Interaction.js")),m=i(t("../layer/Vector.js")),g=t("../obj.js"),v=i(t("../source/Vector.js")),y=t("../style/Style.js"),_={SELECT:"select"},b=function(t){function e(e,n,i,r){t.call(this,e),this.selected=n,this.deselected=i,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c["default"]),E=function(t){function e(e){t.call(this,{handleEvent:r});var n=e||{};this.condition_=n.condition?n.condition:d.singleClick,this.addCondition_=n.addCondition?n.addCondition:d.never,this.removeCondition_=n.removeCondition?n.removeCondition:d.never,this.toggleCondition_=n.toggleCondition?n.toggleCondition:d.shiftKeyOnly,this.multi_=!!n.multi&&n.multi,this.filter_=n.filter?n.filter:h.TRUE,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0;var i,a=new m["default"]({source:new v["default"]({useSpatialIndex:!1,features:n.features,wrapX:n.wrapX}),style:n.style?n.style:o(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=a,n.layers)if("function"==typeof n.layers)i=n.layers;else{var c=n.layers;i=function(t){return(0,l.includes)(c,t)}}else i=h.TRUE;this.layerFilter_=i,this.featureLayerAssociation_={};var f=this.getFeatures();(0,u.listen)(f,s["default"].ADD,this.addFeature_,this),(0,u.listen)(f,s["default"].REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[(0,a.getUid)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,a.getUid)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap(),i=this.getFeatures();n&&i.forEach(n.unskipFeature.bind(n)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&i.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,a.getUid)(t)]},e}(p["default"]),x=E;n["default"]=x},{"../util.js":"YOqM","../CollectionEventType.js":"ucwT","../array.js":"Z5sL","../events.js":"Bvf5","../events/Event.js":"h36w","../events/condition.js":"YmKF","../functions.js":"guaG","../geom/GeometryType.js":"naLT","./Interaction.js":"GnOM","../layer/Vector.js":"sgAj","../obj.js":"qC1c","../source/Vector.js":"GKSK","../style/Style.js":"aLMx"}],ZQ3G:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){return t.feature?t.feature:t.element?t.element:void 0}function o(t,e){return(0,l.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment)-(0,l.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../util.js"),s=i(t("../CollectionEventType.js")),l=t("../coordinate.js"),u=t("../events.js"),c=i(t("../events/EventType.js")),d=t("../extent.js"),h=t("../functions.js"),f=i(t("../geom/GeometryType.js")),p=t("../geom/Polygon.js"),m=i(t("./Pointer.js")),g=t("../obj.js"),v=i(t("../source/VectorEventType.js")),y=i(t("../structs/RBush.js")),_=function(t){function e(e){var n=e||{},i=n;i.handleDownEvent||(i.handleDownEvent=h.TRUE),i.stopDown||(i.stopDown=h.FALSE),t.call(this,i),this.source_=n.source?n.source:null,this.vertex_=void 0===n.vertex||n.vertex,this.edge_=void 0===n.edge||n.edge,this.features_=n.features?n.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==n.pixelTolerance?n.pixelTolerance:10,this.sortByDistance_=o.bind(this),this.rBush_=new y["default"],this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t,e){var n=void 0===e||e,i=(0,a.getUid)(t),r=t.getGeometry();if(r){var o=this.SEGMENT_WRITERS_[r.getType()];o&&(this.indexedFeaturesExtents_[i]=r.getExtent((0,d.createEmpty)()),o.call(this,t,r))}n&&(this.featureChangeListenerKeys_[i]=(0,u.listen)(t,c["default"].CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n.snapped&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=r(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=r(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=(0,a.getUid)(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=(0,g.getValues)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,i=(0,a.getUid)(t),r=this.indexedFeaturesExtents_[i];if(r){var o=this.rBush_,s=[];o.forEachInExtent(r,function(e){t===e.feature&&s.push(e)});for(var l=s.length-1;l>=0;--l)o.remove(s[l])}n&&((0,u.unlistenByKey)(this.featureChangeListenerKeys_[i]),delete this.featureChangeListenerKeys_[i])},e.prototype.setMap=function(e){var n=this.getMap(),i=this.featuresListenerKeys_,r=this.getFeatures_();n&&(i.forEach(u.unlistenByKey),i.length=0,r.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?i.push((0,u.listen)(this.features_,s["default"].ADD,this.handleFeatureAdd_,this),(0,u.listen)(this.features_,s["default"].REMOVE,this.handleFeatureRemove_,this)):this.source_&&i.push((0,u.listen)(this.source_,v["default"].ADDFEATURE,this.handleFeatureAdd_,this),(0,u.listen)(this.source_,v["default"].REMOVEFEATURE,this.handleFeatureRemove_,this)),r.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var i=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),r=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),o=(0,d.boundingExtent)([i,r]),a=this.rBush_.getInExtent(o);this.vertex_&&!this.edge_&&(a=a.filter(function(t){return t.feature.getGeometry().getType()!==f["default"].CIRCLE}));var s,u,c,h,p=!1,m=null,g=null;if(a.length>0){this.pixelCoordinate_=e,a.sort(this.sortByDistance_);var v=a[0].segment,y=a[0].feature.getGeometry().getType()===f["default"].CIRCLE;this.vertex_&&!this.edge_?(s=n.getPixelFromCoordinate(v[0]),u=n.getPixelFromCoordinate(v[1]),c=(0,l.squaredDistance)(t,s),h=(0,l.squaredDistance)(t,u),Math.sqrt(Math.min(c,h))<=this.pixelTolerance_&&(p=!0,m=c>h?v[1]:v[0],g=n.getPixelFromCoordinate(m))):this.edge_&&(m=y?(0,l.closestOnCircle)(e,a[0].feature.getGeometry()):(0,l.closestOnSegment)(e,v),g=n.getPixelFromCoordinate(m),(0,l.distance)(t,g)<=this.pixelTolerance_&&(p=!0,this.vertex_&&!y&&(s=n.getPixelFromCoordinate(v[0]),u=n.getPixelFromCoordinate(v[1]),c=(0,l.squaredDistance)(g,s),h=(0,l.squaredDistance)(g,u),Math.sqrt(Math.min(c,h))<=this.pixelTolerance_&&(m=c>h?v[1]:v[0],g=n.getPixelFromCoordinate(m))))),p&&(g=[Math.round(g[0]),Math.round(g[1])])}return{snapped:p,vertex:m,vertexPixel:g}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){
for(var n=(0,p.fromCircle)(e).getCoordinates()[0],i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:t,segment:o};this.rBush_.insert((0,d.boundingExtent)(o),a)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),i=0;i<n.length;++i){var r=this.SEGMENT_WRITERS_[n[i].getType()];r&&r.call(this,t,n[i])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length-1;i<r;++i){var o=n.slice(i,i+2),a={feature:t,segment:o};this.rBush_.insert((0,d.boundingExtent)(o),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,segment:l};this.rBush_.insert((0,d.boundingExtent)(l),u)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i){var o=n[i],a={feature:t,segment:[o,o]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length;a<s;++a)for(var l=o[a],u=0,c=l.length-1;u<c;++u){var h=l.slice(u,u+2),f={feature:t,segment:h};this.rBush_.insert((0,d.boundingExtent)(h),f)}},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),i={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),i)},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),i=0,r=n.length;i<r;++i)for(var o=n[i],a=0,s=o.length-1;a<s;++a){var l=o.slice(a,a+2),u={feature:t,segment:l};this.rBush_.insert((0,d.boundingExtent)(l),u)}},e}(m["default"]),b=_;n["default"]=b},{"../util.js":"YOqM","../CollectionEventType.js":"ucwT","../coordinate.js":"HxRU","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","../functions.js":"guaG","../geom/GeometryType.js":"naLT","../geom/Polygon.js":"K0BN","./Pointer.js":"kY2W","../obj.js":"qC1c","../source/VectorEventType.js":"YsL5","../structs/RBush.js":"m0Ba"}],Rz8K:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.TranslateEvent=void 0;var r=i(t("../Collection.js")),o=t("../Object.js"),a=t("../events.js"),s=i(t("../events/Event.js")),l=t("../functions.js"),u=t("../array.js"),c=i(t("./Pointer.js")),d=i(t("./Property.js")),h={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},f=function(t){function e(e,n,i){t.call(this,e),this.features=n,this.coordinate=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]);n.TranslateEvent=f;var p=function(t){function e(e){var n,i=e||{};if(t.call(this,i),this.lastCoordinate_=null,this.features_=void 0!==i.features?i.features:null,i.layers)if("function"==typeof i.layers)n=i.layers;else{var r=i.layers;n=function(t){return(0,u.includes)(r,t)}}else n=l.TRUE;this.layerFilter_=n,this.hitTolerance_=i.hitTolerance?i.hitTolerance:0,this.lastFeature_=null,(0,a.listen)(this,(0,o.getChangeEventType)(d["default"].ACTIVE),this.handleActiveChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){if(this.lastFeature_=this.featuresAtPixel_(t.pixel,t.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=t.coordinate,this.handleMoveEvent(t);var e=this.features_||new r["default"]([this.lastFeature_]);return this.dispatchEvent(new f(h.TRANSLATESTART,e,t.coordinate)),!0}return!1},e.prototype.handleUpEvent=function(t){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(t);var e=this.features_||new r["default"]([this.lastFeature_]);return this.dispatchEvent(new f(h.TRANSLATEEND,e,t.coordinate)),!0}return!1},e.prototype.handleDragEvent=function(t){if(this.lastCoordinate_){var e=t.coordinate,n=e[0]-this.lastCoordinate_[0],i=e[1]-this.lastCoordinate_[1],o=this.features_||new r["default"]([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(n,i),t.setGeometry(e)}),this.lastCoordinate_=e,this.dispatchEvent(new f(h.TRANSLATING,o,e))}},e.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},e.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||(0,u.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();t.prototype.setMap.call(this,e),this.updateState_(n)},e.prototype.handleActiveChanged_=function(){this.updateState_(null)},e.prototype.updateState_=function(t){var e=this.getMap(),n=this.getActive();e&&n||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},e}(c["default"]),m=p;n["default"]=m},{"../Collection.js":"qt30","../Object.js":"n4ep","../events.js":"Bvf5","../events/Event.js":"h36w","../functions.js":"guaG","../array.js":"Z5sL","./Pointer.js":"kY2W","./Property.js":"YG6A"}],VJ6h:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t||{},n=new o["default"],i=new a["default"]((-.005),.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new u["default"]),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new s["default"]({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new l["default"]({condition:e.onFocusOnly?g.focus:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new p["default"]),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new m["default"]({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new d["default"]),n.push(new h["default"]({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new f["default"]({condition:e.onFocusOnly?g.focus:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new c["default"]({duration:e.zoomDuration})),n}Object.defineProperty(n,"__esModule",{value:!0}),n.defaults=r,Object.defineProperty(n,"DoubleClickZoom",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"DragPan",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"DragRotate",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"DragZoom",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"KeyboardPan",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"KeyboardZoom",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"MouseWheelZoom",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"PinchRotate",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(n,"PinchZoom",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(n,"DragAndDrop",{enumerable:!0,get:function(){return v["default"]}}),Object.defineProperty(n,"DragBox",{enumerable:!0,get:function(){return y["default"]}}),Object.defineProperty(n,"DragRotateAndZoom",{enumerable:!0,get:function(){return _["default"]}}),Object.defineProperty(n,"Draw",{enumerable:!0,get:function(){return b["default"]}}),Object.defineProperty(n,"Extent",{enumerable:!0,get:function(){return E["default"]}}),Object.defineProperty(n,"Interaction",{enumerable:!0,get:function(){return x["default"]}}),Object.defineProperty(n,"Modify",{enumerable:!0,get:function(){return C["default"]}}),Object.defineProperty(n,"Pointer",{enumerable:!0,get:function(){return T["default"]}}),Object.defineProperty(n,"Select",{enumerable:!0,get:function(){return w["default"]}}),Object.defineProperty(n,"Snap",{enumerable:!0,get:function(){return S["default"]}}),Object.defineProperty(n,"Translate",{enumerable:!0,get:function(){return M["default"]}});var o=i(t("./Collection.js")),a=i(t("./Kinetic.js")),s=i(t("./interaction/DoubleClickZoom.js")),l=i(t("./interaction/DragPan.js")),u=i(t("./interaction/DragRotate.js")),c=i(t("./interaction/DragZoom.js")),d=i(t("./interaction/KeyboardPan.js")),h=i(t("./interaction/KeyboardZoom.js")),f=i(t("./interaction/MouseWheelZoom.js")),p=i(t("./interaction/PinchRotate.js")),m=i(t("./interaction/PinchZoom.js")),g=t("./events/condition.js"),v=i(t("./interaction/DragAndDrop.js")),y=i(t("./interaction/DragBox.js")),_=i(t("./interaction/DragRotateAndZoom.js")),b=i(t("./interaction/Draw.js")),E=i(t("./interaction/Extent.js")),x=i(t("./interaction/Interaction.js")),C=i(t("./interaction/Modify.js")),T=i(t("./interaction/Pointer.js")),w=i(t("./interaction/Select.js")),S=i(t("./interaction/Snap.js")),M=i(t("./interaction/Translate.js"))},{"./Collection.js":"qt30","./Kinetic.js":"Wo60","./interaction/DoubleClickZoom.js":"AN3r","./interaction/DragPan.js":"mTmZ","./interaction/DragRotate.js":"oG42","./interaction/DragZoom.js":"bIDt","./interaction/KeyboardPan.js":"bqqf","./interaction/KeyboardZoom.js":"ihTc","./interaction/MouseWheelZoom.js":"Iq9y","./interaction/PinchRotate.js":"UuUo","./interaction/PinchZoom.js":"SeyD","./events/condition.js":"YmKF","./interaction/DragAndDrop.js":"nOtN","./interaction/DragBox.js":"OjiZ","./interaction/DragRotateAndZoom.js":"gKPs","./interaction/Draw.js":"uKTt","./interaction/Extent.js":"tV2d","./interaction/Interaction.js":"GnOM","./interaction/Modify.js":"n6HG","./interaction/Pointer.js":"kY2W","./interaction/Select.js":"q326","./interaction/Snap.js":"ZQ3G","./interaction/Translate.js":"Rz8K"}],gSGW:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ENABLE_RASTER_REPROJECTION=n.ERROR_THRESHOLD=void 0;var i=.5;n.ERROR_THRESHOLD=i;var r=!0;n.ENABLE_RASTER_REPROJECTION=r},{}],lWFx:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../events/Event.js")),o=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),a=o;n["default"]=a},{"../events/Event.js":"h36w"}],lYEk:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(){};i.prototype.drawCustom=function(t,e,n){},i.prototype.drawGeometry=function(t){},i.prototype.setStyle=function(t){},i.prototype.drawCircle=function(t,e){},i.prototype.drawFeature=function(t,e){},i.prototype.drawGeometryCollection=function(t,e){},i.prototype.drawLineString=function(t,e){},i.prototype.drawMultiLineString=function(t,e){},i.prototype.drawMultiPoint=function(t,e){},i.prototype.drawMultiPolygon=function(t,e){},i.prototype.drawPoint=function(t,e){},i.prototype.drawPolygon=function(t,e){},i.prototype.drawText=function(t,e){},i.prototype.setFillStrokeStyle=function(t,e){},i.prototype.setImageStyle=function(t,e){},i.prototype.setTextStyle=function(t,e){};var r=i;n["default"]=r},{}],HWQX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../array.js"),o=t("../../colorlike.js"),a=t("../../extent.js"),s=i(t("../../geom/GeometryType.js")),l=t("../../geom/SimpleGeometry.js"),u=t("../../geom/flat/transform.js"),c=t("../../has.js"),d=i(t("../VectorContext.js")),h=t("../canvas.js"),f=t("../../transform.js"),p=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,f.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=(0,u.transform2D)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var c=0,d=r.length;c<d;c+=2){var h=r[c]-this.imageAnchorX_,p=r[c+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var m=h+this.imageAnchorX_,g=p+this.imageAnchorY_;(0,f.compose)(a,m,g,this.imageScale_,this.imageScale_,l,-m,-g),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=(0,u.transform2D)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=r[e]+this.textOffsetX_,l=r[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var c=(0,f.compose)(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,s,l),this.textFillState_&&o.fillText(this.text_,s,l)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,a=(0,u.transform2D)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;r&&(s-=2);for(var l=2;l<s;l+=2)o.lineTo(a[l],a[l+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,l.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case s["default"].POINT:this.drawPoint(t);break;case s["default"].LINE_STRING:this.drawLineString(t);break;case s["default"].POLYGON:this.drawPolygon(t);break;case s["default"].MULTI_POINT:this.drawMultiPoint(t);break;case s["default"].MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s["default"].MULTI_POLYGON:this.drawMultiPolygon(t);break;case s["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s["default"].CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,a.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,a.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var l=0,u=o.length;l<u;++l)r=this.moveToLineTo_(i,r,o[l],s,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if((0,a.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,l=r.length;s<l;++s){var u=r[s];i=this.drawRings_(n,i,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),c.CANVAS_LINE_DASH&&((0,r.equals)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,c.CANVAS_LINE_DASH&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:h.defaultTextAlign;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:(0,o.asColorLike)(n||h.defaultFillStyle)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:h.defaultLineCap,lineDash:a||h.defaultLineDash,lineDashOffset:s||h.defaultLineDashOffset,lineJoin:void 0!==l?l:h.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==u?u:h.defaultLineWidth),miterLimit:void 0!==c?c:h.defaultMiterLimit,strokeStyle:(0,o.asColorLike)(i||h.defaultStrokeStyle)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:(0,o.asColorLike)(n||h.defaultFillStyle)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),a=i.getLineCap(),s=i.getLineDash(),l=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==a?a:h.defaultLineCap,lineDash:s||h.defaultLineDash,lineDashOffset:l||h.defaultLineDashOffset,lineJoin:void 0!==u?u:h.defaultLineJoin,lineWidth:void 0!==c?c:h.defaultLineWidth,miterLimit:void 0!==d?d:h.defaultMiterLimit,strokeStyle:(0,o.asColorLike)(r||h.defaultStrokeStyle)}}else this.textStrokeState_=null;var f=t.getFont(),p=t.getOffsetX(),m=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation(),y=t.getScale(),_=t.getText(),b=t.getTextAlign(),E=t.getTextBaseline();this.textState_={font:void 0!==f?f:h.defaultFont,textAlign:void 0!==b?b:h.defaultTextAlign,textBaseline:void 0!==E?E:h.defaultTextBaseline},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==m?this.pixelRatio_*m:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==v?v:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(d["default"]),m=p;n["default"]=m},{"../../array.js":"Z5sL","../../colorlike.js":"GezW","../../extent.js":"IwSU","../../geom/GeometryType.js":"naLT","../../geom/SimpleGeometry.js":"F2mr","../../geom/flat/transform.js":"CVNs","../../has.js":"lDpN","../VectorContext.js":"lYEk","../canvas.js":"OT1O","../../transform.js":"glB6"}],Xwj5:[function(t,e,n){"use strict";function i(t,e,n){return e+":"+t+":"+(n?(0,r.asString)(n):"null")}Object.defineProperty(n,"__esModule",{value:!0}),n.shared=n["default"]=void 0;var r=t("../color.js"),o=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};o.prototype.clear=function(){this.cache_={},this.cacheSize_=0},o.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},o.prototype.get=function(t,e,n){var r=i(t,e,n);return r in this.cache_?this.cache_[r]:null},o.prototype.set=function(t,e,n,r){var o=i(t,e,n);this.cache_[o]=r,++this.cacheSize_},o.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var a=o;n["default"]=a;var s=new o;n.shared=s},{"../color.js":"tree"}],CSlS:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){f.shared.expire()}function o(t,e){return t.zIndex-e.zIndex}Object.defineProperty(n,"__esModule",{value:!0}),n.sortByZIndex=o,n["default"]=void 0;var a=t("../util.js"),s=i(t("../Disposable.js")),l=t("../events.js"),u=i(t("../events/EventType.js")),c=t("../extent.js"),d=t("../functions.js"),h=t("../layer/Layer.js"),f=t("../style/IconImageCache.js"),p=t("../transform.js"),m=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){(0,a["abstract"])()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;(0,p.compose)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),(0,p.invert)((0,p.setFromArray)(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){function l(t,n){var o=e.layerStates[(0,a.getUid)(n)].managed;if(!((0,a.getUid)(t)in e.skippedFeatureUids)||o)return i.call(r,t,o?n:null)}var u,d=e.viewState,f=d.resolution,p=d.projection,m=t;if(p.canWrapX()){var g=p.getExtent(),v=(0,c.getWidth)(g),y=t[0];(y<g[0]||y>g[2])&&(m=[y+v*Math.ceil((g[0]-y)/v),t[1]])}var _,b=e.layerStatesArray;for(_=b.length-1;_>=0;--_){var E=b[_],x=E.layer;if((0,h.visibleAtResolution)(E,f)&&o.call(s,x)){var C=this.getLayerRenderer(x),T=x.getSource();if(T&&(u=C.forEachFeatureAtCoordinate(T.getWrapX()?m:t,e,n,l)),u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){return(0,a["abstract"])()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,d.TRUE,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=(0,a.getUid)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var o=this.layerRendererConstructors_[i];if(o.handles(t)){n=o.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=(0,l.listen)(n,u["default"].CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],(0,l.unlistenByKey)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){(0,a["abstract"])()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(r)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(s["default"]),g=m;n["default"]=g},{"../util.js":"YOqM","../Disposable.js":"Kusu","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU","../functions.js":"guaG","../layer/Layer.js":"QsxU","../style/IconImageCache.js":"Xwj5","../transform.js":"glB6"}],GpCO:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.layerRendererConstructors=void 0;var a=t("../../transform.js"),s=t("../../array.js"),l=t("../../css.js"),u=t("../../dom.js"),c=t("../../layer/Layer.js"),d=o(t("../../render/Event.js")),h=o(t("../../render/EventType.js")),f=t("../../render/canvas.js"),p=o(t("../../render/canvas/Immediate.js")),m=r(t("../Map.js")),g=o(t("../../source/State.js")),v=[];n.layerRendererConstructors=v;var y=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=(0,u.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=l.CLASS_UNSELECTABLE,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,a.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,a=e.viewState.rotation,s=this.getTransform(e),l=new p["default"](i,o,r,s,a),u=new d["default"](t,l,e,i,null);n.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,l=-e.center[0],u=-e.center[1];return(0,a.compose)(this.transform_,n,i,r,o,s,l,u)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(h["default"].PRECOMPOSE,t);var a=t.layerStatesArray;(0,s.stableSort)(a,m.sortByZIndex),o&&(e.save(),(0,f.rotateAtOffset)(e,o,i/2,r/2));var l,u,d=t.viewState.resolution;for(l=0,u=a.length;l<u;++l){var p=a[l],v=p.layer,y=this.getLayerRenderer(v);(0,c.visibleAtResolution)(p,d)&&p.sourceState==g["default"].READY&&y.prepareFrame(t,p)&&y.composeFrame(t,p,e)}o&&e.restore(),this.dispatchRenderEvent(h["default"].POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var l,u,d=e.viewState.resolution,h=e.layerStatesArray,f=h.length,p=(0,a.apply)(e.pixelToCoordinateTransform,t.slice());for(u=f-1;u>=0;--u){var m=h[u],g=m.layer;if((0,c.visibleAtResolution)(m,d)&&o.call(s,g)&&(l=this.getLayerRenderer(g).forEachLayerAtCoordinate(p,e,n,i,r)))return l}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];(0,s.includes)(v,r)||v.push(r)}},e}(m["default"]),_=y;n["default"]=_},{"../../transform.js":"glB6","../../array.js":"Z5sL","../../css.js":"K4Xi","../../dom.js":"fRxd","../../layer/Layer.js":"QsxU","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/canvas.js":"OT1O","../../render/canvas/Immediate.js":"HWQX","../Map.js":"CSlS","../../source/State.js":"PNQw"}],I2tc:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../util.js"),o=i(t("../ImageState.js")),a=i(t("../Observable.js")),s=i(t("../TileState.js")),l=t("../events.js"),u=i(t("../events/EventType.js")),c=i(t("../source/State.js")),d=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){
n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===o["default"].LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=o["default"].LOADED&&e!=o["default"].ERROR&&(0,l.listen)(t,u["default"].CHANGE,this.handleImageChange_,this),e==o["default"].IDLE&&(t.load(),e=t.getState()),e==o["default"].LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==c["default"].READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=(0,r.getUid)(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,i){var o=(0,r.getUid)(e),a=n.toString();o in t?a in t[o]?t[o][a].extend(i):t[o][a]=i:(t[o]={},t[o][a]=i)},e.prototype.manageTilePyramid=function(t,e,n,i,o,a,l,u,c,d){var h=(0,r.getUid)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,m,g,v,y,_=t.wantedTiles[h],b=t.tileQueue;for(y=n.getMinZoom();y<=l;++y)for(p=n.getTileRangeForExtentAndZ(a,y,p),m=n.getResolution(y),g=p.minX;g<=p.maxX;++g)for(v=p.minY;v<=p.maxY;++v)l-y<=u?((f=e.getTile(y,g,v,i,o)).getState()==s["default"].IDLE&&(_[f.getKey()]=!0,b.isKeyQueued(f.getKey())||b.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),m])),void 0!==c&&c.call(d,f)):e.useTile(y,g,v,o)},e}(a["default"]),h=d;n["default"]=h},{"../util.js":"YOqM","../ImageState.js":"iN8L","../Observable.js":"QniN","../TileState.js":"gwpL","../events.js":"Bvf5","../events/EventType.js":"eKq7","../source/State.js":"PNQw"}],qulh:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../extent.js"),a=t("../../functions.js"),s=i(t("../../render/Event.js")),l=i(t("../../render/EventType.js")),u=t("../../render/canvas.js"),c=i(t("../../render/canvas/Immediate.js")),d=i(t("../Layer.js")),h=t("../../transform.js"),f=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=(0,h.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,a=e.size[1]*i,s=e.viewState.rotation,l=(0,o.getTopLeft)(n),c=(0,o.getTopRight)(n),d=(0,o.getBottomRight)(n),f=(0,o.getBottomLeft)(n);(0,h.apply)(e.coordinateToPixelTransform,l),(0,h.apply)(e.coordinateToPixelTransform,c),(0,h.apply)(e.coordinateToPixelTransform,d),(0,h.apply)(e.coordinateToPixelTransform,f),t.save(),(0,u.rotateAtOffset)(t,-s,r/2,a/2),t.beginPath(),t.moveTo(l[0]*i,l[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(d[0]*i,d[1]*i),t.lineTo(f[0]*i,f[1]*i),t.clip(),(0,u.rotateAtOffset)(t,s,r/2,a/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,l=n.viewState.rotation;(0,u.rotateAtOffset)(e,-l,o/2,a/2);var d=void 0!==i?i:this.getTransform(n,0),h=new c["default"](e,n.pixelRatio,n.extent,d,n.viewState.rotation),f=new s["default"](t,h,n,e,null);r.dispatchEvent(f),(0,u.rotateAtOffset)(e,l,o/2,a/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,a.TRUE)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(l["default"].POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(l["default"].PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(l["default"].RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,a=i/n.resolution,s=-a,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return(0,h.compose)(this.transform_,r,o,a,s,l,u,c)},e.prototype.composeFrame=function(t,e,n){(0,r["abstract"])()},e.prototype.prepareFrame=function(t,e){return(0,r["abstract"])()},e}(d["default"]),p=f;n["default"]=p},{"../../util.js":"YOqM","../../extent.js":"IwSU","../../functions.js":"guaG","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/canvas.js":"OT1O","../../render/canvas/Immediate.js":"HWQX","../Layer.js":"I2tc","../../transform.js":"glB6"}],mDMG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../coordinate.js"),a=t("../../dom.js"),s=t("../../extent.js"),l=i(t("./Layer.js")),u=t("../../transform.js"),c=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=(0,u.create)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!(0,s.containsExtent)(r,t.extent)&&(0,s.intersects)(r,t.extent);o&&this.clip(n,t,r);var a=this.getImageTransform(),l=n.globalAlpha;n.globalAlpha=e.opacity;var u=a[4],c=a[5],d=i.width*a[0],h=i.height*a[3];d>=.5&&h>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(c),Math.round(d),Math.round(h)),n.globalAlpha=l,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return(0,r["abstract"])()},e.prototype.getImageTransform=function(){return(0,r["abstract"])()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var s=(0,u.apply)(this.coordinateToCanvasPixelTransform,t.slice());(0,o.scale)(s,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),s[0],s[1],1,1,0,0,1,1);var l=this.hitCanvasContext_.getImageData(0,0,1,1).data;return l[3]>0?i.call(r,this.getLayer(),l):void 0}},e}(l["default"]),d=c;n["default"]=d},{"../../util.js":"YOqM","../../coordinate.js":"HxRU","../../dom.js":"fRxd","../../extent.js":"IwSU","./Layer.js":"qulh","../../transform.js":"glB6"}],zBfK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../reproj/common.js"),o=i(t("../../ImageCanvas.js")),a=i(t("../../LayerType.js")),s=i(t("../../ViewHint.js")),l=t("../../array.js"),u=t("../../extent.js"),c=i(t("../../layer/VectorRenderType.js")),d=t("../../obj.js"),h=t("./Map.js"),f=i(t("./IntermediateCanvas.js")),p=t("../../transform.js"),m=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=(0,p.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===a["default"].VECTOR)for(var i=0,r=h.layerRendererConstructors.length;i<r;++i){var o=h.layerRendererConstructors[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,a=t.size,c=t.viewState,h=c.center,f=c.resolution,m=this.getLayer().getSource(),g=t.viewHints,v=this.vectorRenderer_,y=t.extent;if(v||void 0===e.extent||(y=(0,u.getIntersection)(y,e.extent)),!g[s["default"].ANIMATING]&&!g[s["default"].INTERACTING]&&!(0,u.isEmpty)(y)){var _=c.projection;if(!r.ENABLE_RASTER_REPROJECTION){var b=m.getProjection();b&&(_=b)}var E=this.skippedFeatures_;if(v){var x=v.context,C=(0,d.assign)({},t,{size:[(0,u.getWidth)(y)/f,(0,u.getHeight)(y)/f],viewState:(0,d.assign)({},t.viewState,{rotation:0})}),T=Object.keys(C.skippedFeatureUids).sort();n=new o["default"](y,f,i,x.canvas,function(t){!v.prepareFrame(C,e)||!v.replayGroupChanged&&(0,l.equals)(E,T)||(x.canvas.width=C.size[0]*i,x.canvas.height=C.size[1]*i,v.compose(x,C,e),E=T,t())})}else n=m.getImage(y,f,i,_);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=E)}if(this.image_){var w=(n=this.image_).getExtent(),S=n.getResolution(),M=n.getPixelRatio(),j=i*S/(f*M),O=(0,p.compose)(this.imageTransform_,i*a[0]/2,i*a[1]/2,j,j,0,M*(w[0]-h[0])/S,M*(h[1]-w[3])/S);(0,p.compose)(this.coordinateToCanvasPixelTransform,i*a[0]/2-O[4],i*a[1]/2-O[5],i/f,-i/f,0,-h[0],-h[1]),this.renderedResolution=S*i/M}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(f["default"]);m.handles=function(t){return t.getType()===a["default"].IMAGE||t.getType()===a["default"].VECTOR&&t.getRenderMode()===c["default"].IMAGE},m.create=function(t,e){return new m(e)};var g=m;n["default"]=g},{"../../reproj/common.js":"gSGW","../../ImageCanvas.js":"r5gb","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../array.js":"Z5sL","../../extent.js":"IwSU","../../layer/VectorRenderType.js":"QlH5","../../obj.js":"qC1c","./Map.js":"GpCO","./IntermediateCanvas.js":"mDMG","../../transform.js":"glB6"}],e8gP:[function(t,e,n){"use strict";function i(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new r(t,e,n,i)}Object.defineProperty(n,"__esModule",{value:!0}),n.createOrUpdate=i,n["default"]=void 0;var r=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var o=r;n["default"]=o},{}],QmME:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../LayerType.js")),a=i(t("../../TileRange.js")),s=i(t("../../TileState.js")),l=i(t("../../ViewHint.js")),u=t("../../dom.js"),c=t("../../extent.js"),d=i(t("./IntermediateCanvas.js")),h=t("../../transform.js"),f=function(t){function e(e,n){t.call(this,e),this.context=n?null:(0,u.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,c.createEmpty)(),this.tmpTileRange_=new a["default"](0,0,0,0),this.imageTransform_=(0,h.create)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==s["default"].LOADED||n==s["default"].EMPTY||n==s["default"].ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),a=o.getSource().getTile(t,e,n,i,r);return a.getState()==s["default"].ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):a.setState(s["default"].LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,o=t.viewState,a=o.projection,u=o.resolution,d=o.center,f=this.getLayer(),p=f.getSource(),m=p.getRevision(),g=p.getTileGridForProjection(a),v=g.getZForResolution(u,this.zDirection),y=g.getResolution(v),_=Math.round(u/y)||1,b=t.extent;if(void 0!==e.extent&&(b=(0,c.getIntersection)(b,e.extent)),(0,c.isEmpty)(b))return!1;var E=g.getTileRangeForExtentAndZ(b,v),x=g.getTileRangeExtent(v,E),C=p.getTilePixelRatio(n),T={};T[v]={};var w,S,M,j=this.createLoadedTileFinder(p,a,T),O=t.viewHints,A=O[l["default"].ANIMATING]||O[l["default"].INTERACTING],R=this.tmpExtent,P=this.tmpTileRange_;for(this.newTiles_=!1,S=E.minX;S<=E.maxX;++S)for(M=E.minY;M<=E.maxY;++M)if(!(Date.now()-t.time>16&&A)){if(w=this.getTile(v,S,M,n,a),this.isDrawableTile_(w)){var I=(0,r.getUid)(this);if(w.getState()==s["default"].LOADED){T[v][w.tileCoord.toString()]=w;var L=w.inTransition(I);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(w)||(this.newTiles_=!0)}if(1===w.getAlpha(I,t.time))continue}var k=g.getTileCoordChildTileRange(w.tileCoord,P,R),D=!1;k&&(D=j(v+1,k)),D||g.forEachTileCoordParentTileRange(w.tileCoord,j,null,P,R)}var N=y*n/C*_;if(!(this.renderedResolution&&Date.now()-t.time>16&&A)&&(this.newTiles_||!this.renderedExtent_||!(0,c.containsExtent)(this.renderedExtent_,b)||this.renderedRevision!=m||_!=this.oversampling_||!A&&N!=this.renderedResolution)){var F=this.context;if(F){var $=p.getTilePixelSize(v,n,a),G=Math.round(E.getWidth()*$[0]/_),U=Math.round(E.getHeight()*$[1]/_),B=F.canvas;B.width!=G||B.height!=U?(this.oversampling_=_,B.width=G,B.height=U):((this.renderedExtent_&&!(0,c.equals)(x,this.renderedExtent_)||this.renderedRevision!=m)&&F.clearRect(0,0,G,U),_=this.oversampling_)}this.renderedTiles.length=0;var H,V,z,W,q,Y,K,X,J,Z,Q=Object.keys(T).map(Number);for(Q.sort(function(t,e){return t===v?1:e===v?-1:t>e?1:t<e?-1:0}),W=0,q=Q.length;W<q;++W)for(var tt in z=Q[W],V=p.getTilePixelSize(z,n,a),H=g.getResolution(z)/y,K=C*p.getGutterForProjection(a),X=T[z])w=X[tt],S=((Y=g.getTileCoordExtent(w.getTileCoord(),R))[0]-x[0])/y*C/_,M=(x[3]-Y[3])/y*C/_,J=V[0]*H/_,Z=V[1]*H/_,this.drawTileImage(w,t,e,S,M,J,Z,K,v===z),this.renderedTiles.push(w);this.renderedRevision=m,this.renderedResolution=y*n/C*_,this.renderedExtent_=x}var et=this.renderedResolution/u,nt=(0,h.compose)(this.imageTransform_,n*i[0]/2,n*i[1]/2,et,et,0,(this.renderedExtent_[0]-d[0])/this.renderedResolution*n,(d[1]-this.renderedExtent_[3])/this.renderedResolution*n);return(0,h.compose)(this.coordinateToCanvasPixelTransform,n*i[0]/2-nt[4],n*i[1]/2-nt[5],n/u,-n/u,0,-d[0],-d[1]),this.updateUsedTiles(t.usedTiles,p,v,E),this.manageTilePyramid(t,p,g,n,a,b,v,f.getPreload()),this.scheduleExpireCache(t,p),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,i,o,a,s,l,u){var c=this.getTileImage(t);if(c){var d=(0,r.getUid)(this),h=u?t.getAlpha(d,e.time):1,f=this.getLayer().getSource();1!==h||f.getOpaque(e.viewState.projection)||this.context.clearRect(i,o,a,s);var p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,i,o,a,s),p&&this.context.restore(),1!==h?e.animate=!0:u&&t.endTransition(d)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(d["default"]);f.handles=function(t){return t.getType()===o["default"].TILE},f.create=function(t,e){return new f(e)},f.prototype.getLayer;var p=f;n["default"]=p},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../TileRange.js":"e8gP","../../TileState.js":"gwpL","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../extent.js":"IwSU","./IntermediateCanvas.js":"mDMG","../../transform.js":"glB6"}],SCQ4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(){};r.prototype.getReplay=function(t,e){return(0,i["abstract"])()},r.prototype.isEmpty=function(){return(0,i["abstract"])()},r.prototype.addDeclutter=function(t){return(0,i["abstract"])()};var o=r;n["default"]=o},{"../util.js":"YOqM"}],I0Hp:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};n["default"]=i},{}],KCE9:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,s,l){for(var u,c,d,h=[],f=t[e]>t[n-i],p=o.length,m=t[e],g=t[e+1],v=t[e+=i],y=t[e+1],_=0,b=Math.sqrt(Math.pow(v-m,2)+Math.pow(y-g,2)),E="",x=0,C=0;C<p;++C){c=f?p-C-1:C;var T=o.charAt(c),w=a(E=f?T+E:E+T)-x;x+=w;for(var S=s+w/2;e<n-i&&_+b<S;)m=v,g=y,v=t[e+=i],y=t[e+1],_+=b,b=Math.sqrt(Math.pow(v-m,2)+Math.pow(y-g,2));var M=S-_,j=Math.atan2(y-g,v-m);if(f&&(j+=j>0?-Math.PI:Math.PI),void 0!==d){var O=j-d;if(O+=O>Math.PI?-2*Math.PI:O<-Math.PI?2*Math.PI:0,Math.abs(O)>l)return null}var A=M/b,R=(0,r.lerp)(m,v,A),P=(0,r.lerp)(g,y,A);d==j?(f&&(u[0]=R,u[1]=P,u[2]=w/2),u[4]=E):(x=w,u=[R,P,w/2,j,E=T],f?h.unshift(u):h.push(u),d=j),s+=w}return h}Object.defineProperty(n,"__esModule",{value:!0}),n.drawTextOnPath=i;var r=t("../../math.js")},{"../../math.js":"RK1r"}],b4rC:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.closePathInstruction=n.beginPathInstruction=n.strokeInstruction=n.fillInstruction=void 0;var i={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[i.FILL];n.fillInstruction=r;var o=[i.STROKE];n.strokeInstruction=o;var a=[i.BEGIN_PATH];n.beginPathInstruction=a;var s=[i.CLOSE_PATH];n.closePathInstruction=s;var l=i;n["default"]=l},{}],v69V:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_ALIGN=n.ORDER=void 0;var r=i(t("./ReplayType.js")),o=[r["default"].POLYGON,r["default"].CIRCLE,r["default"].LINE_STRING,r["default"].IMAGE,r["default"].TEXT,r["default"].DEFAULT];n.ORDER=o;var a={};n.TEXT_ALIGN=a,a.left=0,a.end=0,a.center=.5,a.right=1,a.start=1,a.top=0,a.middle=.5,a.hanging=.2,a.alphabetic=.8,a.ideographic=.8,a.bottom=1},{"./ReplayType.js":"I0Hp"}],FHwz:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../colorlike.js"),s=t("../../extent.js"),l=i(t("../../extent/Relationship.js")),u=i(t("../../geom/GeometryType.js")),c=t("../../geom/flat/inflate.js"),d=t("../../geom/flat/length.js"),h=t("../../geom/flat/textpath.js"),f=t("../../geom/flat/transform.js"),p=t("../../has.js"),m=t("../../obj.js"),g=i(t("../VectorContext.js")),v=t("../canvas.js"),y=i(t("./Instruction.js")),_=t("../replay.js"),b=t("../../transform.js"),E=(0,s.createEmpty)(),x=(0,b.create)(),C=function(t){function e(e,n,i,r,o,a){t.call(this),this.declutterTree=a,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,b.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,a,l,u,c,d,h,f,p,m,g,y,_){var C=y||_;e-=r*=f,n-=o*=f;var T,w,S,M,j=m+c>i.width?i.width-c:m,O=l+d>i.height?i.height-d:l,A=g[3]+j*f+g[1],R=g[0]+O*f+g[2],P=e-g[3],I=n-g[0];(C||0!==h)&&(T=[P,I],w=[P+A,I],S=[P+A,I+R],M=[P,I+R]);var L=null;if(0!==h){var k=e+r,D=n+o;L=(0,b.compose)(x,k,D,1,1,h,-k,-D),(0,s.createOrUpdateEmpty)(E),(0,s.extendCoordinate)(E,(0,b.apply)(x,T)),(0,s.extendCoordinate)(E,(0,b.apply)(x,w)),(0,s.extendCoordinate)(E,(0,b.apply)(x,S)),(0,s.extendCoordinate)(E,(0,b.apply)(x,M))}else(0,s.createOrUpdate)(P,I,P+A,I+R,E);var N=t.canvas,F=_?_[2]*f/2:0,$=E[0]-F<=N.width&&E[2]+F>=0&&E[1]-F<=N.height&&E[3]+F>=0;if(p&&(e=Math.round(e),n=Math.round(n)),a){if(!$&&1==a[4])return;(0,s.extend)(a,E);var G=$?[t,L?L.slice(0):null,u,i,c,d,j,O,e,n,f]:null;G&&C&&G.push(y,_,T,w,S,M),a.push(G)}else $&&(C&&this.replayTextBackground_(t,T,w,S,M,y,_),(0,v.drawImage)(t,L,u,i,c,d,j,O,e,n,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var a=this.coordinates.length,u=this.getBufferedMaxExtent();o&&(e+=i);var c,d,h,f=[t[e],t[e+1]],p=[NaN,NaN],m=!0;for(c=e+i;c<n;c+=i)p[0]=t[c],p[1]=t[c+1],(h=(0,s.coordinateRelationship)(u,p))!==d?(m&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],m=!1):h===l["default"].INTERSECTING?(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],m=!1):m=!0,f[0]=p[0],f[1]=p[1],d=h;return(r&&m||c===e+i)&&(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1]),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);r.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,a,s,l=t.getType(),d=t.getStride(),h=this.coordinates.length;if(l==u["default"].MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var f=t.getEndss();s=0;for(var p=0,m=f.length;p<m;++p){var g=[];s=this.drawCustomCoordinates_(i,s,f[p],d,g),a.push(g)}this.instructions.push([y["default"].CUSTOM,h,a,t,n,c.inflateMultiCoordinatesArray])}else l==u["default"].POLYGON||l==u["default"].MULTI_LINE_STRING?(o=[],i=l==u["default"].POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),d,o),this.instructions.push([y["default"].CUSTOM,h,o,t,n,c.inflateCoordinatesArray])):l==u["default"].LINE_STRING||l==u["default"].MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,d,!1,!1),this.instructions.push([y["default"].CUSTOM,h,r,t,n,c.inflateCoordinates])):l==u["default"].POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([y["default"].CUSTOM,h,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[y["default"].BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[y["default"].BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=(0,b.apply)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,v.resetTransform)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],p.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var a=t[r];a&&(a.length>11&&this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12]),v.drawImage.apply(void 0,a))}}t.length=5,(0,s.createOrUpdateEmpty)(t)}}},e.prototype.replay_=function(t,e,n,i,a,l,u){var c;this.pixelCoordinates_&&(0,o.equals)(e,this.renderedTransform_)?c=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),c=(0,f.transform2D)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(0,b.setFromArray)(this.renderedTransform_,e));for(var p,g,E,x,C,T,w,S,M,j,O,A,R=!(0,m.isEmpty)(n),P=0,I=i.length,L=0,k=0,D=0,N=null,F=null,$=this.coordinateCache_,G=this.viewRotation_,U={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:G},B=this.instructions!=i||this.overlaps?0:200;P<I;){var H=i[P];switch(H[0]){case y["default"].BEGIN_GEOMETRY:j=H[1],R&&n[(0,r.getUid)(j)]||!j.getGeometry()?P=H[2]:void 0===u||(0,s.intersects)(u,j.getGeometry().getExtent())?++P:P=H[2]+1;break;case y["default"].BEGIN_PATH:k>B&&(this.fill_(t),k=0),D>B&&(t.stroke(),D=0),k||D||(t.beginPath(),x=C=NaN),++P;break;case y["default"].CIRCLE:var V=c[L=H[1]],z=c[L+1],W=c[L+2]-V,q=c[L+3]-z,Y=Math.sqrt(W*W+q*q);t.moveTo(V+Y,z),t.arc(V,z,Y,0,2*Math.PI,!0),++P;break;case y["default"].CLOSE_PATH:t.closePath(),++P;break;case y["default"].CUSTOM:L=H[1],p=H[2];var K=H[3],X=H[4],J=6==H.length?H[5]:void 0;U.geometry=K,U.feature=j,P in $||($[P]=[]);var Z=$[P];J?J(c,L,p,2,Z):(Z[0]=c[L],Z[1]=c[L+1],Z.length=2),X(Z,U),++P;break;case y["default"].DRAW_IMAGE:L=H[1],p=H[2],M=H[3],g=H[4],E=H[5],S=l?null:H[6];var Q=H[7],tt=H[8],et=H[9],nt=H[10],it=H[11],rt=H[12],ot=H[13],at=H[14],st=void 0,lt=void 0,ut=void 0;for(H.length>16?(st=H[15],lt=H[16],ut=H[17]):(st=v.defaultPadding,lt=ut=!1),it&&(rt+=G);L<p;L+=2)this.replayImage_(t,c[L],c[L+1],M,g,E,S,Q,tt,et,nt,rt,ot,a,at,st,lt?N:null,ut?F:null);this.renderDeclutter_(S,j),++P;break;case y["default"].DRAW_CHARS:var ct=H[1],dt=H[2],ht=H[3];S=l?null:H[4];var ft=H[5],pt=H[6],mt=H[7],gt=H[8],vt=H[9],yt=H[10],_t=H[11],bt=H[12],Et=H[13],xt=H[14],Ct=(0,d.lineStringLength)(c,ct,dt,2),Tt=gt(bt);if(ft||Tt<=Ct){var wt=this.textStates[Et].textAlign,St=(Ct-Tt)*_.TEXT_ALIGN[wt],Mt=(0,h.drawTextOnPath)(c,ct,dt,2,bt,gt,St,mt);if(Mt){var jt=void 0,Ot=void 0,At=void 0,Rt=void 0,Pt=void 0;if(yt)for(jt=0,Ot=Mt.length;jt<Ot;++jt)At=(Pt=Mt[jt])[4],Rt=this.getImage(At,Et,"",yt),g=Pt[2]+_t,E=ht*Rt.height+2*(.5-ht)*_t-vt,this.replayImage_(t,Pt[0],Pt[1],Rt,g,E,S,Rt.height,1,0,0,Pt[3],xt,!1,Rt.width,v.defaultPadding,null,null);if(pt)for(jt=0,Ot=Mt.length;jt<Ot;++jt)At=(Pt=Mt[jt])[4],Rt=this.getImage(At,Et,pt,""),g=Pt[2],E=ht*Rt.height-vt,this.replayImage_(t,Pt[0],Pt[1],Rt,g,E,S,Rt.height,1,0,0,Pt[3],xt,!1,Rt.width,v.defaultPadding,null,null)}}this.renderDeclutter_(S,j),++P;break;case y["default"].END_GEOMETRY:if(void 0!==l){var It=l(j=H[1]);if(It)return It}++P;break;case y["default"].FILL:B?k++:this.fill_(t),++P;break;case y["default"].MOVE_TO_LINE_TO:for(L=H[1],p=H[2],O=c[L],w=(A=c[L+1])+.5|0,(T=O+.5|0)===x&&w===C||(t.moveTo(O,A),x=T,C=w),L+=2;L<p;L+=2)T=(O=c[L])+.5|0,w=(A=c[L+1])+.5|0,L!=p-2&&T===x&&w===C||(t.lineTo(O,A),x=T,C=w);++P;break;case y["default"].SET_FILL_STYLE:N=H,this.alignFill_=H[2],k&&(this.fill_(t),k=0,D&&(t.stroke(),D=0)),t.fillStyle=H[1],++P;break;case y["default"].SET_STROKE_STYLE:F=H,D&&(t.stroke(),D=0),this.setStrokeStyle_(t,H),++P;break;case y["default"].STROKE:B?D++:t.stroke(),++P;break;default:++P}}k&&this.fill_(t),D&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,a=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==y["default"].END_GEOMETRY?a=t:i==y["default"].BEGIN_GEOMETRY&&(n[2]=t,(0,o.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=(0,a.asColorLike)(i||v.defaultFillStyle)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=(0,a.asColorLike)(r||v.defaultStrokeStyle);var o=e.getLineCap();n.lineCap=void 0!==o?o:v.defaultLineCap;var s=e.getLineDash();n.lineDash=s?s.slice():v.defaultLineDash;var l=e.getLineDashOffset();n.lineDashOffset=l||v.defaultLineDashOffset;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:v.defaultLineJoin;var c=e.getWidth();n.lineWidth=void 0!==c?c:v.defaultLineWidth;var d=e.getMiterLimit();n.miterLimit=void 0!==d?d:v.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[y["default"].SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[y["default"].SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!(0,o.equals)(t.currentLineDash,r)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[y["default"].END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,s.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,s.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(g["default"]),T=C;n["default"]=T},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../colorlike.js":"GezW","../../extent.js":"IwSU","../../extent/Relationship.js":"kaLu","../../geom/GeometryType.js":"naLT","../../geom/flat/inflate.js":"a4id","../../geom/flat/length.js":"ofva","../../geom/flat/textpath.js":"KCE9","../../geom/flat/transform.js":"CVNs","../../has.js":"lDpN","../../obj.js":"qC1c","../VectorContext.js":"lYEk","../canvas.js":"OT1O","./Instruction.js":"b4rC","../replay.js":"v69V","../../transform.js":"glB6"}],CZXM:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./Instruction.js")),o=i(t("./Replay.js")),a=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r["default"].DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),
this.hitDetectionInstructions.push([r["default"].DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,a=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([r["default"].DRAW_IMAGE,o,a,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([r["default"].DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(o["default"]),s=a;n["default"]=s},{"./Instruction.js":"b4rC","./Replay.js":"FHwz"}],xmdu:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("./Instruction.js")),s=i(t("./Replay.js")),l=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[a["default"].MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],a.beginPathInstruction);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(a.strokeInstruction),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([a["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],a.beginPathInstruction);for(var o=t.getEnds(),s=t.getFlatCoordinates(),l=t.getStride(),u=0,c=0,d=o.length;c<d;++c)u=this.drawFlatCoordinates_(s,u,o[c],l);this.hitDetectionInstructions.push(a.strokeInstruction),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(a.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(a.strokeInstruction),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(a.beginPathInstruction)},e}(s["default"]),u=l;n["default"]=u},{"./Instruction.js":"b4rC","./Replay.js":"FHwz"}],L30l:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return r=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=r();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=i?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../../color.js"),s=t("../../geom/flat/simplify.js"),l=t("../canvas.js"),u=o(t("./Instruction.js")),c=i(t("./Replay.js")),d=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,a=null!=r.strokeStyle,s=n.length;this.instructions.push(u.beginPathInstruction),this.hitDetectionInstructions.push(u.beginPathInstruction);for(var l=0;l<s;++l){var c=n[l],d=this.coordinates.length,h=this.appendFlatCoordinates(t,e,c,i,!0,!a),f=[u["default"].MOVE_TO_LINE_TO,d,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),a&&(this.instructions.push(u.closePathInstruction),this.hitDetectionInstructions.push(u.closePathInstruction)),e=c}return o&&(this.instructions.push(u.fillInstruction),this.hitDetectionInstructions.push(u.fillInstruction)),a&&(this.instructions.push(u.strokeInstruction),this.hitDetectionInstructions.push(u.strokeInstruction)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,(0,a.asString)(l.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),c=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var d=[u["default"].CIRCLE,c];this.instructions.push(u.beginPathInstruction,d),this.hitDetectionInstructions.push(u.beginPathInstruction,d),this.hitDetectionInstructions.push(u.fillInstruction),void 0!==n.fillStyle&&this.instructions.push(u.fillInstruction),void 0!==n.strokeStyle&&(this.instructions.push(u.strokeInstruction),this.hitDetectionInstructions.push(u.strokeInstruction)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,(0,a.asString)(l.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(s,0,o,c),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([u["default"].SET_FILL_STYLE,(0,a.asString)(l.defaultFillStyle)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([u["default"].SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),c=t.getStride(),d=0,h=0,f=o.length;h<f;++h)d=this.drawFlatCoordinatess_(s,d,o[h],c);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=(0,s.snap)(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(c["default"]),h=d;n["default"]=h},{"../../color.js":"tree","../../geom/flat/simplify.js":"y5ZM","../canvas.js":"OT1O","./Instruction.js":"b4rC","./Replay.js":"FHwz"}],Qd3q:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o,a,s,l,u,c,d,h,f,p=n,m=n,g=0,v=0,y=n;for(o=n;o<i;o+=r){var _=e[o],b=e[o+1];void 0!==l&&(h=_-l,f=b-u,s=Math.sqrt(h*h+f*f),void 0!==c&&(v+=a,Math.acos((c*h+d*f)/(a*s))>t&&(v>g&&(g=v,p=y,m=o),v=0,y=o-r)),a=s,c=h,d=f),l=_,u=b}return(v+=s)>g?[y,o]:[p,m]}Object.defineProperty(n,"__esModule",{value:!0}),n.matchingChunk=i},{}],hP4r:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var a=(0,h.measureTextWidth)(t,e[o]);r=Math.max(r,a),n.push(a)}return r}Object.defineProperty(n,"__esModule",{value:!0}),n.measureTextWidths=r,n["default"]=void 0;var o=t("../../util.js"),a=t("../../colorlike.js"),s=t("../../dom.js"),l=t("../../extent.js"),u=t("../../geom/flat/straightchunk.js"),c=i(t("../../geom/GeometryType.js")),d=t("../../has.js"),h=t("../canvas.js"),f=i(t("./Instruction.js")),p=i(t("./Replay.js")),m=t("../replay.js"),g=i(t("../../style/TextPlacement.js")),v=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,i,r,o,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},h.labelCache.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,a,s=this.coordinates.length,d=t.getType(),h=null,f=2,p=2;if(r.placement===g["default"].LINE){if(!(0,l.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var m;if(h=t.getFlatCoordinates(),p=t.getStride(),d==c["default"].LINE_STRING)m=[h.length];else if(d==c["default"].MULTI_LINE_STRING)m=t.getEnds();else if(d==c["default"].POLYGON)m=t.getEnds().slice(0,1);else if(d==c["default"].MULTI_POLYGON){var v=t.getEndss();for(m=[],o=0,a=v.length;o<a;++o)m.push(v[o][0])}this.beginGeometry(t,e);for(var y,_=r.textAlign,b=0,E=0,x=m.length;E<x;++E){if(null==_){var C=(0,u.matchingChunk)(r.maxAngle,h,b,m[E],p);b=C[0],y=C[1]}else y=m[E];for(o=b;o<y;o+=p)this.coordinates.push(h[o],h[o+1]);f=this.coordinates.length,b=m[E],this.drawChars_(s,f,this.declutterGroup_),s=f}this.endGeometry(t,e)}else{var T=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),w=T.width/this.pixelRatio;switch(d){case c["default"].POINT:case c["default"].MULTI_POINT:f=(h=t.getFlatCoordinates()).length;break;case c["default"].LINE_STRING:h=t.getFlatMidpoint();break;case c["default"].CIRCLE:h=t.getCenter();break;case c["default"].MULTI_LINE_STRING:f=(h=t.getFlatMidpoints()).length;break;case c["default"].POLYGON:if(h=t.getFlatInteriorPoint(),!r.overflow&&h[2]/this.resolution<w)return;p=3;break;case c["default"].MULTI_POLYGON:var S=t.getFlatInteriorPoints();for(h=[],o=0,a=S.length;o<a;o+=3)(r.overflow||S[o+2]/this.resolution>=w)&&h.push(S[o],S[o+1]);if(0==(f=h.length))return}f=this.appendFlatCoordinates(h,0,f,p,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(T,s,f),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var o,a=i+e+t+n+this.pixelRatio;if(!h.labelCache.containsKey(a)){var l=i?this.strokeStates[i]||this.textStrokeState_:null,u=n?this.fillStates[n]||this.textFillState_:null,c=this.textStates[e]||this.textState_,f=this.pixelRatio,p=c.scale*f,g=m.TEXT_ALIGN[c.textAlign||h.defaultTextAlign],v=i&&l.lineWidth?l.lineWidth:0,y=t.split("\n"),_=y.length,b=[],E=r(c.font,y,b),x=(0,h.measureTextHeight)(c.font),C=x*_,T=E+v,w=(0,s.createCanvasContext2D)(Math.ceil(T*p),Math.ceil((C+v)*p));o=w.canvas,h.labelCache.set(a,o),1!=p&&w.scale(p,p),w.font=c.font,i&&(w.strokeStyle=l.strokeStyle,w.lineWidth=v,w.lineCap=l.lineCap,w.lineJoin=l.lineJoin,w.miterLimit=l.miterLimit,d.CANVAS_LINE_DASH&&l.lineDash.length&&(w.setLineDash(l.lineDash),w.lineDashOffset=l.lineDashOffset)),n&&(w.fillStyle=u.fillStyle),w.textBaseline="middle",w.textAlign="center";var S,M=.5-g,j=g*o.width/p+M*v;if(i)for(S=0;S<_;++S)w.strokeText(y[S],j+M*b[S],.5*(v+x)+S*x);if(n)for(S=0;S<_;++S)w.fillText(y[S],j+M*b[S],.5*(v+x)+S*x)}return h.labelCache.get(a)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,a=m.TEXT_ALIGN[i.textAlign||h.defaultTextAlign],s=m.TEXT_ALIGN[i.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=a*t.width/o+2*(.5-a)*l,c=s*t.height/o+2*(.5-s)*l;this.instructions.push([f["default"].DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==h.defaultPadding?h.defaultPadding:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([f["default"].DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,a=this.strokeKey_;i&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var s=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||h.defaultTextAlign,scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=m.TEXT_ALIGN[r.textBaseline],d=this.textOffsetY_*u,p=this.text_,g=r.font,v=r.scale,y=i?i.lineWidth*v/2:0,_=this.widths_[g];_||(this.widths_[g]=_={}),this.instructions.push([f["default"].DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=_[t];return e||(e=_[t]=(0,h.measureTextWidth)(g,t)),e*v*u},d,a,y*u,p,s,1]),this.hitDetectionInstructions.push([f["default"].DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=_[t];return e||(e=_[t]=(0,h.measureTextWidth)(g,t)),e*v},d,a,y,p,s,1/u])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var s=t.getFill();s?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=(0,a.asColorLike)(s.getColor()||h.defaultFillStyle)):i=this.textFillState_=null;var l=t.getStroke();if(l){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var u=l.getLineDash(),c=l.getLineDashOffset(),d=l.getWidth(),f=l.getMiterLimit();r.lineCap=l.getLineCap()||h.defaultLineCap,r.lineDash=u?u.slice():h.defaultLineDash,r.lineDashOffset=void 0===c?h.defaultLineDashOffset:c,r.lineJoin=l.getLineJoin()||h.defaultLineJoin,r.lineWidth=void 0===d?h.defaultLineWidth:d,r.miterLimit=void 0===f?h.defaultMiterLimit:f,r.strokeStyle=(0,a.asColorLike)(l.getColor()||h.defaultStrokeStyle)}else r=this.textStrokeState_=null;n=this.textState_;var p=t.getFont()||h.defaultFont;(0,h.checkFont)(p);var m=t.getScale();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||h.defaultTextBaseline,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||h.defaultPadding,n.scale=void 0===m?1:m;var g=t.getOffsetX(),v=t.getOffsetY(),y=t.getRotateWithView(),_=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===g?0:g,this.textOffsetY_=void 0===v?0:v,this.textRotateWithView_=void 0!==y&&y,this.textRotation_=void 0===_?0:_,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:(0,o.getUid)(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+(0,o.getUid)(i.fillStyle):""}else this.text_=""},e}(p["default"]),y=v;n["default"]=y},{"../../util.js":"YOqM","../../colorlike.js":"GezW","../../dom.js":"fRxd","../../extent.js":"IwSU","../../geom/flat/straightchunk.js":"Qd3q","../../geom/GeometryType.js":"naLT","../../has.js":"lDpN","../canvas.js":"OT1O","./Instruction.js":"b4rC","./Replay.js":"FHwz","../replay.js":"v69V","../../style/TextPlacement.js":"t7pG"}],m1MQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}function o(t){if(void 0!==C[t])return C[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var o=t,a=0,s=0;o>=a;)r(n,t+o,t+a),r(n,t+a,t+o),r(n,t-a,t+o),r(n,t-o,t+a),r(n,t-o,t-a),r(n,t-a,t-o),r(n,t+a,t-o),r(n,t+o,t-a),2*((s+=1+2*++a)-o)+1>0&&(s+=1-2*(o-=1));return C[t]=n,n}function a(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(s.numberSafeCompareFunction),o={},a=0,l=r.length;a<l;++a)for(var u=t[r[a].toString()],c=0,d=u.length;c<d;){var h=u[c++],f=u[c++];h.replay(e,f,n,o,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.getCircleArray=o,n.replayDeclutter=a,n["default"]=void 0;var s=t("../../array.js"),l=t("../../dom.js"),u=t("../../extent.js"),c=t("../../geom/flat/transform.js"),d=t("../../obj.js"),h=i(t("../ReplayGroup.js")),f=i(t("../ReplayType.js")),p=i(t("./Replay.js")),m=i(t("./ImageReplay.js")),g=i(t("./LineStringReplay.js")),v=i(t("./PolygonReplay.js")),y=i(t("./TextReplay.js")),_=t("../replay.js"),b=t("../../transform.js"),E={Circle:v["default"],Default:p["default"],Image:m["default"],LineString:g["default"],Polygon:v["default"],Text:y["default"]},x=function(t){function e(e,n,i,r,o,a,s){t.call(this),this.declutterTree_=a,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=s,this.replaysByZIndex_={},this.hitDetectionContext_=(0,l.createCanvasContext2D)(1,1),this.hitDetectionTransform_=(0,b.create)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=(0,u.createEmpty)()).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,a,l){function c(t){for(var e=m.getImageData(0,0,h,h).data,n=0;n<h;n++)for(var i=0;i<h;i++)if(y[n][i]&&e[4*(i*h+n)+3]>0){var r=void 0;return(!g||v!=f["default"].IMAGE&&v!=f["default"].TEXT||-1!==g.indexOf(t))&&(r=a(t)),r||void m.clearRect(0,0,h,h)}}var d,h=2*(i=Math.round(i))+1,p=(0,b.compose)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):m.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(d=(0,u.createEmpty)(),(0,u.extendCoordinate)(d,t),(0,u.buffer)(d,e*(this.renderBuffer_+i),d));var g,v,y=o(i);this.declutterTree_&&(g=this.declutterTree_.all().map(function(t){return t.value}));var E,x,C,T,w,S=Object.keys(this.replaysByZIndex_).map(Number);for(S.sort(s.numberSafeCompareFunction),E=S.length-1;E>=0;--E){var M=S[E].toString();for(C=this.replaysByZIndex_[M],x=_.ORDER.length-1;x>=0;--x)if(void 0!==(T=C[v=_.ORDER[x]]))if(!l||v!=f["default"].IMAGE&&v!=f["default"].TEXT){if(w=T.replayHitDetection(m,p,n,r,c,d))return w}else{var j=l[M];j?j.push(T,p.slice(0)):l[M]=[T,p.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],a=[n,i,n,o,r,o,r,i];return(0,c.transform2D)(a,0,8,2,t,a),a},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,E[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r),r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return(0,d.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,a){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(s.numberSafeCompareFunction),t.save(),this.clip(t,e);var u,c,d,h,p,m,g=o||_.ORDER;for(u=0,c=l.length;u<c;++u){var v=l[u].toString();for(p=this.replaysByZIndex_[v],d=0,h=g.length;d<h;++d){var y=g[d];if(m=p[y],void 0!==m)if(!a||y!=f["default"].IMAGE&&y!=f["default"].TEXT)m.replay(t,e,n,i,r);else{var b=a[v];b?b.push(m,e.slice(0)):a[v]=[m,e.slice(0)]}}}t.restore()},e}(h["default"]),C={0:[[!0]]},T=x;n["default"]=T},{"../../array.js":"Z5sL","../../dom.js":"fRxd","../../extent.js":"IwSU","../../geom/flat/transform.js":"CVNs","../../obj.js":"qC1c","../ReplayGroup.js":"SCQ4","../ReplayType.js":"I0Hp","./Replay.js":"FHwz","./ImageReplay.js":"CZXM","./LineStringReplay.js":"xmdu","./PolygonReplay.js":"L30l","./TextReplay.js":"hP4r","../replay.js":"v69V","../../transform.js":"glB6"}],UL2L:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){return parseInt((0,y.getUid)(t),10)-parseInt((0,y.getUid)(e),10)}function o(t,e){var n=a(t,e);return n*n}function a(t,e){return x*t/e}function s(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var a=t.getReplay(n.getZIndex(),E["default"].CIRCLE);a.setFillStrokeStyle(r,o),a.drawCircle(e,i)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),E["default"].TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}function l(t,e,n,i,r,o){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==_["default"].LOADED||l==_["default"].ERROR?s.unlistenImageChange(r,o):(l==_["default"].IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(r,o),a=!0)}return u(t,e,n,i),a}function u(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var o=r.getSimplifiedGeometry(i);n.getRenderer()?c(t,o,n,e):(0,C[o.getType()])(t,o,n,e)}}function c(t,e,n,i){if(e.getType()!=b["default"].GEOMETRY_COLLECTION)t.getReplay(n.getZIndex(),E["default"].DEFAULT).drawCustom(e,i,n.getRenderer());else for(var r=e.getGeometries(),o=0,a=r.length;o<a;++o)c(t,r[o],n,i)}function d(t,e,n,i){var r,o,a=e.getGeometriesArray();for(r=0,o=a.length;r<o;++r)(0,C[a[r].getType()])(t,a[r],n,i)}function h(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),E["default"].LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}}function f(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),E["default"].LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}}function p(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var a=t.getReplay(n.getZIndex(),E["default"].POLYGON);a.setFillStrokeStyle(r,o),a.drawMultiPolygon(e,i)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),E["default"].TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}function m(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=_["default"].LOADED)return;var o=t.getReplay(n.getZIndex(),E["default"].IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,i)}}function g(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=_["default"].LOADED)return;var o=t.getReplay(n.getZIndex(),E["default"].IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var a=n.getText();if(a){var s=t.getReplay(n.getZIndex(),E["default"].TEXT);s.setTextStyle(a,t.addDeclutter(!!r)),s.drawText(e,i)}}function v(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var a=t.getReplay(n.getZIndex(),E["default"].POLYGON);a.setFillStrokeStyle(r,o),a.drawPolygon(e,i)}var s=n.getText();if(s){var l=t.getReplay(n.getZIndex(),E["default"].TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.defaultOrder=r,n.getSquaredTolerance=o,n.getTolerance=a,n.renderFeature=l;var y=t("../util.js"),_=i(t("../ImageState.js")),b=i(t("../geom/GeometryType.js")),E=i(t("../render/ReplayType.js")),x=.5,C={Point:m,LineString:h,Polygon:v,MultiPoint:g,MultiLineString:f,MultiPolygon:p,GeometryCollection:d,Circle:s}},{"../util.js":"YOqM","../ImageState.js":"iN8L","../geom/GeometryType.js":"naLT","../render/ReplayType.js":"I0Hp"}],jRqo:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../LayerType.js")),a=i(t("../../ViewHint.js")),s=t("../../dom.js"),l=t("../../events.js"),u=i(t("../../events/EventType.js")),c=i(t("rbush")),d=t("../../extent.js"),h=i(t("../../render/EventType.js")),f=t("../../render/canvas.js"),p=i(t("../../render/canvas/ReplayGroup.js")),m=i(t("./Layer.js")),g=t("../vector.js"),v=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?(0,c["default"])(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,d.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,s.createCanvasContext2D)(),(0,l.listen)(f.labelCache,u["default"].CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,l.unlisten)(f.labelCache,u["default"].CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,l=s.projection,u=s.rotation,c=l.getExtent(),p=this.getLayer().getSource(),m=this.getTransform(e,0),g=n.extent,v=void 0!==g;v&&this.clip(t,e,g);var y=this.replayGroup_;if(y&&!y.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var _,b=this.getLayer(),E=0,x=0,C=1!==n.opacity,T=b.hasListener(h["default"].RENDER);if(C||T){var w=t.canvas.width,S=t.canvas.height;if(u){var M=Math.round(Math.sqrt(w*w+S*S));E=(M-w)/2,x=(M-S)/2,w=S=M}this.context.canvas.width=w,this.context.canvas.height=S,_=this.context}else _=t;var j=_.globalAlpha;C||(_.globalAlpha=n.opacity),_!=t&&_.translate(E,x);var O=e.viewHints,A=!(O[a["default"].ANIMATING]||O[a["default"].INTERACTING]),R=e.size[0]*r,P=e.size[1]*r;if((0,f.rotateAtOffset)(_,-u,R/2,P/2),y.replay(_,m,u,o,A),p.getWrapX()&&l.canWrapX()&&!(0,d.containsExtent)(c,i)){for(var I,L=i[0],k=(0,d.getWidth)(c),D=0;L<c[0];)I=k*--D,m=this.getTransform(e,I),y.replay(_,m,u,o,A),L+=k;for(D=0,L=i[2];L>c[2];)I=k*++D,m=this.getTransform(e,I),y.replay(_,m,u,o,A),L-=k}if((0,f.rotateAtOffset)(_,u,R/2,P/2),T&&this.dispatchRenderEvent(_,e,m),_!=t){if(C){var N=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(_.canvas,-E,-x),t.globalAlpha=N}else t.drawImage(_.canvas,-E,-x);_.translate(-E,-x)}C||(_.globalAlpha=j)}v&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var a=e.viewState.resolution,s=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s,n,{},function(t){var e=(0,r.getUid)(t);if(!(e in u))return u[e]=!0,i.call(o,t,l)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[a["default"].ANIMATING],o=t.viewHints[a["default"].INTERACTING],s=n.getUpdateWhileAnimating(),l=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!l&&o)return!0;var u=t.extent,c=t.viewState,h=c.projection,f=c.resolution,m=t.pixelRatio,v=n.getRevision(),y=n.getRenderBuffer(),_=n.getRenderOrder();void 0===_&&(_=g.defaultOrder);var b=(0,d.buffer)(u,y*f),E=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!(0,d.containsExtent)(E,t.extent)){var x=(0,d.getWidth)(E),C=Math.max((0,d.getWidth)(b)/2,x);b[0]=E[0]-C,b[2]=E[2]+C}if(!this.dirty_&&this.renderedResolution_==f&&this.renderedRevision_==v&&this.renderedRenderOrder_==_&&(0,d.containsExtent)(this.renderedExtent_,b))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var T=new p["default"]((0,g.getTolerance)(f,m),b,f,m,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(b,f,h);var w=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,f)),e){var r=this.renderFeature(t,f,m,e,T);this.dirty_=this.dirty_||r}}.bind(this);if(_){var S=[];i.forEachFeatureInExtent(b,function(t){S.push(t)}),S.sort(_);for(var M=0,j=S.length;M<j;++M)w(S[M])}else i.forEachFeatureInExtent(b,w);return T.finish(),this.renderedResolution_=f,this.renderedRevision_=v,this.renderedRenderOrder_=_,this.renderedExtent_=b,this.replayGroup_=T,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=0,s=i.length;a<s;++a)o=(0,g.renderFeature)(r,t,i[a],(0,g.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this)||o;else o=(0,g.renderFeature)(r,t,i,(0,g.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this);return o},e}(m["default"]);v.handles=function(t){return t.getType()===o["default"].VECTOR},v.create=function(t,e){return new v(e)};var y=v;n["default"]=y},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../events.js":"Bvf5","../../events/EventType.js":"eKq7",rbush:"f7zo","../../extent.js":"IwSU","../../render/EventType.js":"tder","../../render/canvas.js":"OT1O","../../render/canvas/ReplayGroup.js":"m1MQ",
"./Layer.js":"qulh","../vector.js":"UL2L"}],mRU7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};n["default"]=i},{}],ULHW:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../../util.js"),s=o(t("../../LayerType.js")),l=o(t("../../TileState.js")),u=o(t("../../ViewHint.js")),c=t("../../dom.js"),d=t("../../events.js"),h=o(t("../../events/EventType.js")),f=o(t("rbush")),p=t("../../extent.js"),m=o(t("../../layer/VectorTileRenderType.js")),g=t("../../proj.js"),v=o(t("../../proj/Units.js")),y=o(t("../../render/ReplayType.js")),_=t("../../render/canvas.js"),b=r(t("../../render/canvas/ReplayGroup.js")),E=t("../../render/replay.js"),x=o(t("./TileLayer.js")),C=t("../vector.js"),T=t("../../transform.js"),w={image:[y["default"].POLYGON,y["default"].CIRCLE,y["default"].LINE_STRING,y["default"].IMAGE,y["default"].TEXT],hybrid:[y["default"].POLYGON,y["default"].LINE_STRING]},S={image:[y["default"].DEFAULT],hybrid:[y["default"].IMAGE,y["default"].TEXT,y["default"].DEFAULT],vector:E.ORDER},M=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?(0,f["default"])(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,T.create)();var n=e.getRenderMode();this.zDirection=n===m["default"].VECTOR?1:0,n!==m["default"].VECTOR&&(this.context=(0,c.createCanvasContext2D)()),(0,d.listen)(_.labelCache,h["default"].CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){(0,d.unlisten)(_.labelCache,h["default"].CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var a=t.prototype.getTile.call(this,e,n,i,r,o);return a.getState()===l["default"].LOADED&&(this.createReplayGroup_(a,r,o),this.context&&this.renderTileImage_(a,r,o)),a},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),a=r.getRenderOrder()||null,s=t.getReplayState(r);if(s.dirty||s.renderedRevision!=o||s.renderedRenderOrder!=a){for(var u=r.getSource(),c=u.getTileGrid(),d=u.getTileGridForProjection(n).getResolution(t.tileCoord[0]),h=t.extent,f=function(o,f){var m=t.getTile(t.tileKeys[o]);if(m.getState()==l["default"].LOADED){var y=m.tileCoord,_=c.getTileCoordExtent(y),E=(0,p.getIntersection)(h,_),x=(0,p.equals)(_,E)?null:(0,p.buffer)(E,r.getRenderBuffer()*d,i.tmpExtent),T=m.getProjection(),w=!1;(0,g.equivalent)(n,T)||(w=!0,m.setProjection(n)),s.dirty=!1;var S=new b["default"](0,E,d,e,u.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),M=(0,C.getSquaredTolerance)(d,e),j=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,d)),e){var i=this.renderFeature(t,M,e,S);this.dirty_=this.dirty_||i,s.dirty=s.dirty||i}},O=m.getFeatures();a&&a!==s.renderedRenderOrder&&O.sort(a);for(var A=0,R=O.length;A<R;++A){var P=O[A];w&&(T.getUnits()==v["default"].TILE_PIXELS&&(T.setWorldExtent(_),T.setExtent(m.getExtent())),P.getGeometry().transform(T,n)),x&&!(0,p.intersects)(x,P.getGeometry().getExtent())||j.call(i,P)}S.finish(),m.setReplayGroup(r,t.tileCoord.toString(),S)}},m=0,y=t.tileKeys.length;m<y;++m)f(m);s.renderedRevision=o,s.renderedRenderOrder=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=e.viewState.resolution,s=e.viewState.rotation;n=null==n?0:n;var u,c,d,h,f=this.getLayer(),m={},g=this.renderedTiles;for(d=0,h=g.length;d<h;++d){var v=g[d];if(u=(0,p.buffer)(v.extent,n*o,u),(0,p.containsCoordinate)(u,t))for(var y=0,_=v.tileKeys.length;y<_;++y){var b=v.getTile(v.tileKeys[y]);if(b.getState()==l["default"].LOADED){var E=b.getReplayGroup(f,v.tileCoord.toString());c=c||E.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=(0,a.getUid)(t);if(!(e in m))return m[e]=!0,i.call(r,t,f)},null)}}}return c},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,a=e.pixelRatio,s=o.resolution/a,l=n.getTileCoordExtent(i,this.tmpExtent),u=o.center,c=(0,p.getTopLeft)(l),d=e.size,h=Math.round(a*d[0]/2),f=Math.round(a*d[1]/2);return(0,T.compose)(this.tmpTransform_,h,f,r/s,r/s,o.rotation,(c[0]-u[0])/r,(u[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=m["default"].IMAGE){var a,s,c=r.getDeclutter()?{}:null,d=r.getSource(),h=S[o],f=n.pixelRatio,p=n.viewState.rotation,g=n.size;p&&(a=Math.round(f*g[0]/2),s=Math.round(f*g[1]/2),(0,_.rotateAtOffset)(e,-p,a,s)),c&&this.declutterTree_.clear();for(var v=n.viewHints,y=!(v[u["default"].ANIMATING]||v[u["default"].INTERACTING]),E=this.renderedTiles,x=d.getTileGridForProjection(n.viewState.projection),C=[],T=[],w=E.length-1;w>=0;--w){var M=E[w];if(M.getState()!=l["default"].ABORT)for(var j=M.tileCoord,O=x.getTileCoordExtent(j,this.tmpExtent)[0]-M.extent[0],A=void 0,R=0,P=M.tileKeys.length;R<P;++R){var I=M.getTile(M.tileKeys[R]);if(I.getState()==l["default"].LOADED){var L=I.getReplayGroup(r,j.toString());if(L&&L.hasReplays(h)){A||(A=this.getTransform(n,O));var k=I.tileCoord[0],D=L.getClipCoords(A);e.save(),e.globalAlpha=i.opacity;for(var N=0,F=C.length;N<F;++N){var $=C[N];k<T[N]&&(e.beginPath(),e.moveTo(D[0],D[1]),e.lineTo(D[2],D[3]),e.lineTo(D[4],D[5]),e.lineTo(D[6],D[7]),e.moveTo($[6],$[7]),e.lineTo($[4],$[5]),e.lineTo($[2],$[3]),e.lineTo($[0],$[1]),e.clip())}L.replay(e,A,p,{},y,h,c),e.restore(),C.push(D),T.push(k)}}}}c&&(0,b.replayDeclutter)(c,e,p,y),p&&(0,_.rotateAtOffset)(e,p,a,s)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,a=n.length;o<a;++o)r=(0,C.renderFeature)(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=(0,C.renderFeature)(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),a=w[i.getRenderMode()];if(a&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var s=t.wrappedTileCoord,u=s[0],c=i.getSource(),d=c.getTileGridForProjection(n),h=d.getResolution(u),f=t.getContext(i),p=c.getTilePixelSize(u,e,n);f.canvas.width=p[0],f.canvas.height=p[1];for(var m=d.getTileCoordExtent(s,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var y=t.getTile(t.tileKeys[g]);if(y.getState()==l["default"].LOADED){var _=e/h,b=(0,T.reset)(this.tmpTransform_);(0,T.scale)(b,_,-_),(0,T.translate)(b,-m[0],-m[3]),y.getReplayGroup(i,t.tileCoord.toString()).replay(f,b,0,{},!0,a)}}}},e}(x["default"]);M.handles=function(t){return t.getType()===s["default"].VECTOR_TILE},M.create=function(t,e){return new M(e)};var j=M;n["default"]=j},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../TileState.js":"gwpL","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../events.js":"Bvf5","../../events/EventType.js":"eKq7",rbush:"f7zo","../../extent.js":"IwSU","../../layer/VectorTileRenderType.js":"mRU7","../../proj.js":"aoEo","../../proj/Units.js":"RNSs","../../render/ReplayType.js":"I0Hp","../../render/canvas.js":"OT1O","../../render/canvas/ReplayGroup.js":"m1MQ","../../render/replay.js":"v69V","./TileLayer.js":"QmME","../vector.js":"UL2L","../../transform.js":"glB6"}],y2IR:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./PluggableMap.js")),o=t("./control/util.js"),a=t("./interaction.js"),s=t("./obj.js"),l=i(t("./renderer/canvas/ImageLayer.js")),u=i(t("./renderer/canvas/Map.js")),c=i(t("./renderer/canvas/TileLayer.js")),d=i(t("./renderer/canvas/VectorLayer.js")),h=i(t("./renderer/canvas/VectorTileLayer.js")),f=function(t){function e(e){(e=(0,s.assign)({},e)).controls||(e.controls=(0,o.defaults)()),e.interactions||(e.interactions=(0,a.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new u["default"](this);return t.registerLayerRenderers([l["default"],c["default"],d["default"],h["default"]]),t},e}(r["default"]),p=f;n["default"]=p},{"./PluggableMap.js":"UGGs","./control/util.js":"Nqss","./interaction.js":"VJ6h","./obj.js":"qC1c","./renderer/canvas/ImageLayer.js":"zBfK","./renderer/canvas/Map.js":"GpCO","./renderer/canvas/TileLayer.js":"QmME","./renderer/canvas/VectorLayer.js":"jRqo","./renderer/canvas/VectorTileLayer.js":"ULHW"}],Cgg0:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};n["default"]=i},{}],ysEj:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=o(t("./MapEventType.js")),s=r(t("./Object.js")),l=o(t("./OverlayPositioning.js")),u=t("./css.js"),c=t("./dom.js"),d=t("./events.js"),h=t("./extent.js"),f={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},p=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+u.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,d.listen)(this,(0,s.getChangeEventType)(f.ELEMENT),this.handleElementChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.MAP),this.handleMapChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.OFFSET),this.handleOffsetChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.POSITION),this.handlePositionChanged,this),(0,d.listen)(this,(0,s.getChangeEventType)(f.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:l["default"].TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(f.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(f.MAP)},e.prototype.getOffset=function(){return this.get(f.OFFSET)},e.prototype.getPosition=function(){return this.get(f.POSITION)},e.prototype.getPositioning=function(){return this.get(f.POSITIONING)},e.prototype.handleElementChanged=function(){(0,c.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,c.removeNode)(this.element),(0,d.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=(0,d.listen)(t,a["default"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(f.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(f.ELEMENT,t)},e.prototype.setMap=function(t){this.set(f.MAP,t)},e.prototype.setOffset=function(t){this.set(f.OFFSET,t)},e.prototype.setPosition=function(t){this.set(f.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[(0,c.outerWidth)(n),(0,c.outerHeight)(n)]),r=this.autoPanMargin;if(!(0,h.containsExtent)(e,i)){var o=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],l=e[3]-i[3],u=[0,0];if(o<0?u[0]=o-r:a<0&&(u[0]=Math.abs(a)+r),s<0?u[1]=s-r:l<0&&(u[1]=Math.abs(l)+r),0!==u[0]||0!==u[1]){var d=t.getView().getCenter(),f=t.getPixelFromCoordinate(d),p=[f[0]+u[0],f[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(f.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],a=i[1];if(r==l["default"].BOTTOM_RIGHT||r==l["default"].CENTER_RIGHT||r==l["default"].TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var s=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=s&&(this.rendered.right_=n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=l["default"].BOTTOM_CENTER&&r!=l["default"].CENTER_CENTER&&r!=l["default"].TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==l["default"].BOTTOM_LEFT||r==l["default"].BOTTOM_CENTER||r==l["default"].BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=l["default"].CENTER_LEFT&&r!=l["default"].CENTER_CENTER&&r!=l["default"].CENTER_RIGHT||(a-=this.element.offsetHeight/2);var d=Math.round(t[1]+a)+"px";this.rendered.top_!=d&&(this.rendered.top_=n.top=d)}},e.prototype.getOptions=function(){return this.options},e}(s["default"]),m=p;n["default"]=m},{"./MapEventType.js":"oXLu","./Object.js":"n4ep","./OverlayPositioning.js":"Cgg0","./css.js":"K4Xi","./dom.js":"fRxd","./events.js":"Bvf5","./extent.js":"IwSU"}],GjeS:[function(t,e,n){"use strict";function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function o(t){return r(t[0],t[1],t[2])}function a(t){return t.split("/").map(Number)}function s(t){return(t[1]<<t[0])+t[2]}function l(t){var e,n,i=t[0],r=new Array(i),o=1<<i-1;for(e=0;e<i;++e)n=48,t[1]&o&&(n+=1),t[2]&o&&(n+=2),r[e]=String.fromCharCode(n),o>>=1;return r.join("")}function u(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(i,r)}Object.defineProperty(n,"__esModule",{value:!0}),n.createOrUpdate=i,n.getKeyZXY=r,n.getKey=o,n.fromKey=a,n.hash=s,n.quadKey=l,n.withinExtentAndZ=u},{}],d5tC:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./structs/LRUCache.js")),o=t("./tilecoord.js"),a=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=(0,o.fromKey)(t)[0];this.forEach(function(t){t.tileCoord[0]!==e&&(this.remove((0,o.getKey)(t.tileCoord)),t.dispose())},this)}},e}(r["default"]),s=a;n["default"]=s},{"./structs/LRUCache.js":"jGvh","./tilecoord.js":"GjeS"}],YLGO:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n=(0,h.loadFeaturesXhr)(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(n)}Object.defineProperty(n,"__esModule",{value:!0}),n.defaultLoadFunction=r,n["default"]=void 0;var o=t("./util.js"),a=i(t("./Tile.js")),s=i(t("./TileState.js")),l=t("./dom.js"),u=t("./events.js"),c=t("./extent.js"),d=i(t("./events/EventType.js")),h=t("./featureloader.js"),f=t("./functions.js"),p=function(t){function e(n,i,r,o,a,l,h,p,m,g,v,y,_,b,E){if(t.call(this,n,i,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=g,this.tileKeys=[],this.extent=null,this.sourceRevision_=r,this.wrappedTileCoord=l,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],l){var x=this.extent=m.getTileCoordExtent(l),C=m.getResolution(E),T=p.getZForResolution(C),w=E!=n[0],S=0;if(p.forEachTileCoord(x,T,function(t){var e=(0,c.getIntersection)(x,p.getTileCoordExtent(t)),n=p.getExtent();if(n&&(e=(0,c.getIntersection)(e,n,e)),(0,c.getWidth)(e)/C>=.5&&(0,c.getHeight)(e)/C>=.5){++S;var i=t.toString(),r=g[i];if(!r&&!w){var l=h(t,v,y);r=g[i]=new _(t,null==l?s["default"].EMPTY:s["default"].IDLE,null==l?"":l,o,a),this.sourceTileListenerKeys_.push((0,u.listen)(r,d["default"].CHANGE,b))}!r||w&&r.getState()!=s["default"].LOADED||(r.consumers++,this.tileKeys.push(i))}}.bind(this)),w&&S==this.tileKeys.length&&this.finishLoading_(),E<=n[0]&&this.state!=s["default"].LOADED)for(;E>m.getMinZoom();){var M=new e(n,i,r,o,a,l,h,p,m,g,v,y,_,f.VOID,(--E));if(M.state==s["default"].LOADED){this.interimTile=M;break}}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state=s["default"].ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,n=this.tileKeys.length;e<n;++e){var i=this.tileKeys[e],r=this.getTile(i);r.consumers--,0==r.consumers&&(delete this.sourceTiles_[i],r.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(u.unlistenByKey),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(u.unlistenByKey),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=(0,o.getUid)(t);return e in this.context_||(this.context_[e]=(0,l.createCanvasContext2D)()),this.context_[e]},e.prototype.getImage=function(t){return-1==this.getReplayState(t).renderedTileRevision?null:this.getContext(t).canvas},e.prototype.getReplayState=function(t){var e=(0,o.getUid)(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[e]},e.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},e.prototype.getTile=function(t){return this.sourceTiles_[t]},e.prototype.load=function(){var t=0,e={};this.state==s["default"].IDLE&&this.setState(s["default"].LOADING),this.state==s["default"].LOADING&&this.tileKeys.forEach(function(n){var i=this.getTile(n);if(i.state==s["default"].IDLE&&(i.setLoader(this.loader_),i.load()),i.state==s["default"].LOADING){var r=(0,u.listen)(i,d["default"].CHANGE,function(n){var r=i.getState();if(r==s["default"].LOADED||r==s["default"].ERROR){var a=(0,o.getUid)(i);r==s["default"].ERROR?e[a]=!0:(--t,delete e[a]),t-Object.keys(e).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(r),++t}}.bind(this)),t-Object.keys(e).length==0&&setTimeout(this.finishLoading_.bind(this),0)},e.prototype.finishLoading_=function(){for(var t=this.tileKeys.length,e=0,n=t-1;n>=0;--n){var i=this.getTile(this.tileKeys[n]).getState();i!=s["default"].LOADED&&--t,i==s["default"].EMPTY&&++e}t==this.tileKeys.length?(this.loadListenerKeys_.forEach(u.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(s["default"].LOADED)):this.setState(e==this.tileKeys.length?s["default"].EMPTY:s["default"].ERROR)},e}(a["default"]),m=p;n["default"]=m},{"./util.js":"YOqM","./Tile.js":"rqi0","./TileState.js":"gwpL","./dom.js":"fRxd","./events.js":"Bvf5","./extent.js":"IwSU","./events/EventType.js":"eKq7","./featureloader.js":"WAmp","./functions.js":"guaG"}],r6g8:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("./util.js"),o=i(t("./Tile.js")),a=i(t("./TileState.js")),s=[0,0,4096,4096],l=function(t){function e(e,n,i,r,o,a){t.call(this,e,n,a),this.consumers=0,this.extent_=null,this.format_=r,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=o,this.url_=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=a["default"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getExtent=function(){return this.extent_||s},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getReplayGroup=function(t,e){return this.replayGroups_[(0,r.getUid)(t)+","+e]},e.prototype.load=function(){this.state==a["default"].IDLE&&(this.setState(a["default"].LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},e.prototype.onLoad=function(t,e,n){this.setProjection(e),this.setFeatures(t),this.setExtent(n)},e.prototype.onError=function(){this.setState(a["default"].ERROR)},e.prototype.setExtent=function(t){this.extent_=t},e.prototype.setFeatures=function(t){this.features_=t,this.setState(a["default"].LOADED)},e.prototype.setProjection=function(t){this.projection_=t},e.prototype.setReplayGroup=function(t,e,n){this.replayGroups_[(0,r.getUid)(t)+","+e]=n},e.prototype.setLoader=function(t){this.loader_=t},e}(o["default"]),u=l;n["default"]=u},{"./util.js":"YOqM","./Tile.js":"rqi0","./TileState.js":"gwpL"}],ooP1:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function o(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function a(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function s(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():a(t)}function l(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var u=i(t("./Control.js")),c=t("../css.js"),d=t("../dom.js"),h=t("../events.js"),f=i(t("../events/EventType.js")),p=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}(),m=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var a=void 0!==n.labelActive?n.labelActive:"";this.labelActiveNode_="string"==typeof a?document.createTextNode(a):a,this.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,o()),this.button_.setAttribute("type","button"),this.button_.title=s,this.button_.appendChild(this.labelNode_),(0,h.listen)(this.button_,f["default"].CLICK,this.handleClick_,this);var l=this.cssClassName_+" "+c.CLASS_UNSELECTABLE+" "+c.CLASS_CONTROL+" "+(r()?"":c.CLASS_UNSUPPORTED),u=this.element;u.className=l,u.appendChild(this.button_),this.keys_=void 0!==n.keys&&n.keys,this.source_=n.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(r()){var t,e=this.getMap();e&&(o()?l():(t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?s(t):a(t)))}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();o()?(this.setClassName_(this.button_,!0),(0,d.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,d.replaceNode)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",i=this.cssClassName_+"-false",r=e?n:i;t.classList.remove(n),t.classList.remove(i),t.classList.add(r)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push((0,h.listen)(document,p(),this.handleFullScreenChange_,this))},e}(u["default"]),g=m;n["default"]=g},{"./Control.js":"OZyS","../css.js":"K4Xi","../dom.js":"fRxd","../events.js":"Bvf5","../events/EventType.js":"eKq7"}],JXpH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=t("../events.js"),a=i(t("../events/EventType.js")),s=t("../Object.js"),l=i(t("./Control.js")),u=t("../proj.js"),c="projection",d="coordinateFormat",h=function(t){function e(e){var n=e||{},i=document.createElement("div");i.className=void 0!==n.className?n.className:"ol-mouse-position",t.call(this,{element:i,render:n.render||r,target:n.target}),(0,o.listen)(this,(0,s.getChangeEventType)(c),this.handleProjectionChanged_,this),n.coordinateFormat&&this.setCoordinateFormat(n.coordinateFormat),n.projection&&this.setProjection(n.projection),this.undefinedHTML_=void 0!==n.undefinedHTML?n.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=i.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(d)},e.prototype.getProjection=function(){return this.get(c)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},e.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var n=e.getViewport();this.listenerKeys.push((0,o.listen)(n,a["default"].MOUSEMOVE,this.handleMouseMove,this),(0,o.listen)(n,a["default"].TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,o.listen)(n,a["default"].MOUSEOUT,this.handleMouseOut,this),(0,o.listen)(n,a["default"].TOUCHEND,this.handleMouseOut,this))}},e.prototype.setCoordinateFormat=function(t){this.set(d,t)},e.prototype.setProjection=function(t){this.set(c,(0,u.get)(t))},e.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?(0,u.getTransformFromProjections)(this.mapProjection_,n):u.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var r=this.getCoordinateFormat();e=r?r(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e}(l["default"]),f=h;n["default"]=f},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","../Object.js":"n4ep","./Control.js":"OZyS","../proj.js":"aoEo"}],nKxi:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){this.validateExtent_(),this.updateBox_()}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=i(t("../Collection.js")),a=i(t("../Map.js")),s=i(t("../MapEventType.js")),l=i(t("../MapProperty.js")),u=t("../Object.js"),c=i(t("../ObjectEventType.js")),d=i(t("../Overlay.js")),h=i(t("../OverlayPositioning.js")),f=i(t("../ViewProperty.js")),p=i(t("./Control.js")),m=t("../coordinate.js"),g=t("../css.js"),v=t("../dom.js"),y=t("../events.js"),_=i(t("../events/EventType.js")),b=t("../extent.js"),E=.75,x=.1,C=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target}),this.collapsed_=void 0===n.collapsed||n.collapsed,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-overviewmap",s=void 0!==n.tipLabel?n.tipLabel:"Overview map",l=void 0!==n.collapseLabel?n.collapseLabel:"";"string"==typeof l?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=l):this.collapseLabel_=l;var u=void 0!==n.label?n.label:"";"string"==typeof u?(this.label_=document.createElement("span"),this.label_.textContent=u):this.label_=u;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");
f.setAttribute("type","button"),f.title=s,f.appendChild(c),(0,y.listen)(f,_["default"].CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new a["default"]({controls:new o["default"],interactions:new o["default"],view:n.view});var p=this.ovmap_;n.layers&&n.layers.forEach(function(t){p.addLayer(t)}.bind(this));var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",this.boxOverlay_=new d["default"]({position:[0,0],positioning:h["default"].BOTTOM_LEFT,element:m}),this.ovmap_.addOverlay(this.boxOverlay_);var v=i+" "+g.CLASS_UNSELECTABLE+" "+g.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+g.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),b=this.element;b.className=v,b.appendChild(this.ovmapDiv_),b.appendChild(f);var E=this,x=this.boxOverlay_,C=this.boxOverlay_.getElement(),T=function(t){var e,n={clientX:(e=t).clientX-C.offsetWidth/2,clientY:e.clientY+C.offsetHeight/2},i=p.getEventCoordinate(n);x.setPosition(i)},w=function(t){var e=p.getEventCoordinate(t);E.getMap().getView().setCenter(e),window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",w)};C.addEventListener("mousedown",function(){window.addEventListener("mousemove",T),window.addEventListener("mouseup",w)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMap=function(e){var n=this.getMap();if(e!==n){if(n){var i=n.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,y.listen)(e,c["default"].PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var r=e.getView();r&&(this.bindView_(r),r.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===l["default"].VIEW){var e=t.oldValue;e&&this.unbindView_(e);var n=this.getMap().getView();this.bindView_(n)}},e.prototype.bindView_=function(t){(0,y.listen)(t,(0,u.getChangeEventType)(f["default"].ROTATION),this.handleRotationChanged_,this)},e.prototype.unbindView_=function(t){(0,y.unlisten)(t,(0,u.getChangeEventType)(f["default"].ROTATION),this.handleRotationChanged_,this)},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),i=t.getView().calculateExtent(n),r=e.getSize(),o=e.getView().calculateExtent(r),a=e.getPixelFromCoordinate((0,b.getTopLeft)(i)),s=e.getPixelFromCoordinate((0,b.getBottomRight)(i)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=r[0],d=r[1];l<c*x||u<d*x||l>c*E||u>d*E?this.resetExtent_():(0,b.containsExtent)(o,i)||this.recenter_()}},e.prototype.resetExtent_=function(){if(0!==E&&0!==x){var t=this.getMap(),e=this.ovmap_,n=t.getSize(),i=t.getView().calculateExtent(n),r=e.getView(),o=Math.log(E/x)/Math.LN2,a=1/(Math.pow(2,o/2)*x);(0,b.scaleFromCenter)(i,a),r.fit(i)}},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getView();e.getView().setCenter(n.getCenter())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),i=t.getView(),r=e.getView(),o=i.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=i.calculateExtent(n),u=r.getResolution(),c=(0,b.getBottomLeft)(l),d=(0,b.getTopRight)(l),h=this.calculateCoordinateRotate_(o,c);a.setPosition(h),s&&(s.style.width=Math.abs((c[0]-d[0])/u)+"px",s.style.height=Math.abs((d[1]-c[1])/u)+"px")}},e.prototype.calculateCoordinateRotate_=function(t,e){var n,i=this.getMap().getView().getCenter();return i&&(n=[e[0]-i[0],e[1]-i[1]],(0,m.rotate)(n,t),(0,m.add)(n,i)),n},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(g.CLASS_COLLAPSED),this.collapsed_?(0,v.replaceNode)(this.collapseLabel_,this.label_):(0,v.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;this.collapsed_||t.isRendered()||(t.updateSize(),this.resetExtent_(),(0,y.listenOnce)(t,s["default"].POSTRENDER,function(t){this.updateBox_()},this))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getOverviewMap=function(){return this.ovmap_},e}(p["default"]),T=C;n["default"]=T},{"../Collection.js":"qt30","../Map.js":"y2IR","../MapEventType.js":"oXLu","../MapProperty.js":"wZCA","../Object.js":"n4ep","../ObjectEventType.js":"baqo","../Overlay.js":"ysEj","../OverlayPositioning.js":"Cgg0","../ViewProperty.js":"tZ3Y","./Control.js":"OZyS","../coordinate.js":"HxRU","../css.js":"K4Xi","../dom.js":"fRxd","../events.js":"Bvf5","../events/EventType.js":"eKq7","../extent.js":"IwSU"}],MGNT:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=n.Units=void 0;var o=t("../Object.js"),a=t("../asserts.js"),s=i(t("./Control.js")),l=t("../css.js"),u=t("../events.js"),c=t("../proj.js"),d=i(t("../proj/Units.js")),h="units",f={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};n.Units=f;var p=[1,2,5],m=function(t){function e(e){var n=e||{},i=void 0!==n.className?n.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:n.render||r,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+l.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",(0,u.listen)(this,(0,o.getChangeEventType)(h),this.handleUnitsChanged_,this),this.setUnits(n.units||f.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(h)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(h,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),r=i==f.DEGREES?d["default"].DEGREES:d["default"].METERS,o=(0,c.getPointResolution)(n,t.resolution,e,r);n.getUnits()!=d["default"].DEGREES&&n.getMetersPerUnit()&&r==d["default"].METERS&&(o*=n.getMetersPerUnit());var s=this.minWidth_*o,l="";if(i==f.DEGREES){var u=c.METERS_PER_UNIT[d["default"].DEGREES];n.getUnits()==d["default"].DEGREES?s*=u:o/=u,s<u/60?(l="",o*=3600):s<u?(l="",o*=60):l=""}else i==f.IMPERIAL?s<.9144?(l="in",o/=.0254):s<1609.344?(l="ft",o/=.3048):(l="mi",o/=1609.344):i==f.NAUTICAL?(o/=1852,l="nm"):i==f.METRIC?s<.001?(l="m",o*=1e6):s<1?(l="mm",o*=1e3):s<1e3?l="m":(l="km",o/=1e3):i==f.US?s<.9144?(l="in",o*=39.37):s<1609.344?(l="ft",o/=.30480061):(l="mi",o/=1609.3472):(0,a.assert)(!1,33);for(var h,m,g=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){if(h=p[(g%3+3)%3]*Math.pow(10,Math.floor(g/3)),m=Math.round(h/o),isNaN(m))return this.element.style.display="none",void(this.renderedVisible_=!1);if(m>=this.minWidth_)break;++g}var v=h+" "+l;this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=m&&(this.innerElement_.style.width=m+"px",this.renderedWidth_=m),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(s["default"]),g=m;n["default"]=g},{"../Object.js":"n4ep","../asserts.js":"E2kQ","./Control.js":"OZyS","../css.js":"K4Xi","../events.js":"Bvf5","../proj.js":"aoEo","../proj/Units.js":"RNSs"}],eXlX:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}Object.defineProperty(n,"__esModule",{value:!0}),n.render=r,n["default"]=void 0;var o=i(t("../ViewHint.js")),a=i(t("./Control.js")),s=t("../css.js"),l=t("../easing.js"),u=t("../events.js"),c=t("../events/Event.js"),d=i(t("../events/EventType.js")),h=t("../math.js"),f=i(t("../pointer/EventType.js")),p=i(t("../pointer/PointerEventHandler.js")),m={VERTICAL:0,HORIZONTAL:1},g=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||r}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=m.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==n.duration?n.duration:200;var i=void 0!==n.className?n.className:"ol-zoomslider",o=document.createElement("button");o.setAttribute("type","button"),o.className=i+"-thumb "+s.CLASS_UNSELECTABLE;var a=this.element;a.className=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL,a.appendChild(o),this.dragger_=new p["default"](a),(0,u.listen)(this.dragger_,f["default"].POINTERDOWN,this.handleDraggerStart_,this),(0,u.listen)(this.dragger_,f["default"].POINTERMOVE,this.handleDraggerDrag_,this),(0,u.listen)(this.dragger_,f["default"].POINTERUP,this.handleDraggerEnd_,this),(0,u.listen)(a,d["default"].CLICK,this.handleContainerClick_,this),(0,u.listen)(o,d["default"].CLICK,c.stopPropagation)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.dragger_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight,i=t.firstElementChild,r=getComputedStyle(i),o=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),a=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[o,a],e>n?(this.direction_=m.HORIZONTAL,this.widthLimit_=e-o):(this.direction_=m.VERTICAL,this.heightLimit_=n-a),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),i=this.getResolutionForPosition_(n);e.animate({resolution:e.constrainResolution(i),duration:this.duration_,easing:l.easeOut})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(o["default"].INTERACTING,1),this.previousX_=t.clientX,this.previousY_=t.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var e=this.handleDraggerDrag_,n=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,u.listen)(document,d["default"].MOUSEMOVE,e,this),(0,u.listen)(document,f["default"].POINTERMOVE,e,this),(0,u.listen)(document,d["default"].MOUSEUP,n,this),(0,u.listen)(document,f["default"].POINTERUP,n,this))}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,n=t.clientX-this.previousX_+parseFloat(e.style.left),i=t.clientY-this.previousY_+parseFloat(e.style.top),r=this.getRelativePosition_(n,i);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.setHint(o["default"].INTERACTING,-1),e.animate({resolution:e.constrainResolution(this.currentResolution_),duration:this.duration_,easing:l.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(u.unlistenByKey),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==m.HORIZONTAL?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var n;return n=this.direction_===m.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,h.clamp)(n,0,1)},e.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},e.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},e}(a["default"]),v=g;n["default"]=v},{"../ViewHint.js":"QAjQ","./Control.js":"OZyS","../css.js":"K4Xi","../easing.js":"gfrO","../events.js":"Bvf5","../events/Event.js":"h36w","../events/EventType.js":"eKq7","../math.js":"RK1r","../pointer/EventType.js":"z9Rf","../pointer/PointerEventHandler.js":"X9qK"}],vLVI:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../events.js"),o=i(t("../events/EventType.js")),a=i(t("./Control.js")),s=t("../css.js"),l=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.extent=n.extent?n.extent:null;var i=void 0!==n.className?n.className:"ol-zoom-extent",a=void 0!==n.label?n.label:"E",l=void 0!==n.tipLabel?n.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=l,u.appendChild("string"==typeof a?document.createTextNode(a):a),(0,r.listen)(u,o["default"].CLICK,this.handleClick_,this);var c=i+" "+s.CLASS_UNSELECTABLE+" "+s.CLASS_CONTROL,d=this.element;d.className=c,d.appendChild(u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap().getView(),e=this.extent?this.extent:t.getProjection().getExtent();t.fit(e)},e}(a["default"]),u=l;n["default"]=u},{"../events.js":"Bvf5","../events/EventType.js":"eKq7","./Control.js":"OZyS","../css.js":"K4Xi"}],s9h5:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Attribution",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(n,"Control",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"FullScreen",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"MousePosition",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"OverviewMap",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"Rotate",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"ScaleLine",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"Zoom",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"ZoomSlider",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"ZoomToExtent",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"defaults",{enumerable:!0,get:function(){return p.defaults}});var r=i(t("./control/Attribution.js")),o=i(t("./control/Control.js")),a=i(t("./control/FullScreen.js")),s=i(t("./control/MousePosition.js")),l=i(t("./control/OverviewMap.js")),u=i(t("./control/Rotate.js")),c=i(t("./control/ScaleLine.js")),d=i(t("./control/Zoom.js")),h=i(t("./control/ZoomSlider.js")),f=i(t("./control/ZoomToExtent.js")),p=t("./control/util.js")},{"./control/Attribution.js":"KuDp","./control/Control.js":"OZyS","./control/FullScreen.js":"ooP1","./control/MousePosition.js":"JXpH","./control/OverviewMap.js":"nKxi","./control/Rotate.js":"zNSN","./control/ScaleLine.js":"MGNT","./control/Zoom.js":"JAQ2","./control/ZoomSlider.js":"eXlX","./control/ZoomToExtent.js":"vLVI","./control/util.js":"Nqss"}],wUs1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../util.js"),r=function(t){this.source_=t};r.prototype.isAnimated=function(){return!1},r.prototype.getType=function(){return(0,i["abstract"])()},r.prototype.getSource=function(){return this.source_};var o=r;n["default"]=o},{"../util.js":"YOqM"}],qFEE:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../webgl.js"),o=i(t("../webgl/Shader.js")),a=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return r.FRAGMENT_SHADER},e}(o["default"]),s=a;n["default"]=s},{"../webgl.js":"SvAv","../webgl/Shader.js":"wUs1"}],c15H:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../webgl.js"),o=i(t("../webgl/Shader.js")),a=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return r.VERTEX_SHADER},e}(o["default"]),s=a;n["default"]=s},{"../webgl.js":"SvAv","../webgl/Shader.js":"wUs1"}],BnB7:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],iwgS:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.DEBUG?"u_lineWidth":"k"),this.u_pixelRatio=t.getUniformLocation(e,i.DEBUG?"u_pixelRatio":"l"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"m"),this.u_fillColor=t.getUniformLocation(e,i.DEBUG?"u_fillColor":"n"),this.u_strokeColor=t.getUniformLocation(e,i.DEBUG?"u_strokeColor":"o"),this.u_size=t.getUniformLocation(e,i.DEBUG?"u_size":"p"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"e"),this.a_instruction=t.getAttribLocation(e,i.DEBUG?"a_instruction":"f"),this.a_radius=t.getAttribLocation(e,i.DEBUG?"a_radius":"g")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],YrKs:[function(t,e,n){"use strict";function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}Object.defineProperty(n,"__esModule",{value:!0}),n.create=i,n.fromTransform=r},{}],gn4l:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../extent.js"),a=i(t("../VectorContext.js")),s=t("../../transform.js"),l=t("../../vec/mat4.js"),u=t("../../webgl.js"),c=function(t){function e(e,n){t.call(this),this.tolerance=e,this.maxExtent=n,this.origin=(0,o.getCenter)(n),this.projectionMatrix_=(0,s.create)(),this.offsetRotateMatrix_=(0,s.create)(),this.offsetScaleMatrix_=(0,s.create)(),this.tmpMat4_=(0,l.create)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){return(0,r["abstract"])()},e.prototype.finish=function(t){(0,r["abstract"])()},e.prototype.setUpProgram=function(t,e,n,i){return(0,r["abstract"])()},e.prototype.shutDownProgram=function(t,e){(0,r["abstract"])()},e.prototype.drawReplay=function(t,e,n,i){(0,r["abstract"])()},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){return(0,r["abstract"])()},e.prototype.drawHitDetectionReplay=function(t,e,n,i,r,o){return r?this.drawHitDetectionReplayOneByOne(t,e,n,i,o):this.drawHitDetectionReplayAll(t,e,n,i)},e.prototype.drawHitDetectionReplayAll=function(t,e,n,i){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,n,!0);var r=i(null);return r||void 0},e.prototype.replay=function(t,e,n,i,r,o,a,c,d,h,f){var p,m,g,v,y,_,b,E,x=t.getGL();this.lineStringReplay&&(p=x.isEnabled(x.STENCIL_TEST),m=x.getParameter(x.STENCIL_FUNC),g=x.getParameter(x.STENCIL_VALUE_MASK),v=x.getParameter(x.STENCIL_REF),y=x.getParameter(x.STENCIL_WRITEMASK),_=x.getParameter(x.STENCIL_FAIL),b=x.getParameter(x.STENCIL_PASS_DEPTH_PASS),E=x.getParameter(x.STENCIL_PASS_DEPTH_FAIL),x.enable(x.STENCIL_TEST),x.clear(x.STENCIL_BUFFER_BIT),x.stencilMask(255),x.stencilFunc(x.ALWAYS,1,255),x.stencilOp(x.KEEP,x.KEEP,x.REPLACE),this.lineStringReplay.replay(t,e,n,i,r,o,a,c,d,h,f),x.stencilMask(0),x.stencilFunc(x.NOTEQUAL,1,255)),t.bindBuffer(u.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(u.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var C=this.setUpProgram(x,t,r,o),T=(0,s.reset)(this.projectionMatrix_);(0,s.scale)(T,2/(n*r[0]),2/(n*r[1])),(0,s.rotate)(T,-i),(0,s.translate)(T,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var w=(0,s.reset)(this.offsetScaleMatrix_);(0,s.scale)(w,2/r[0],2/r[1]);var S,M=(0,s.reset)(this.offsetRotateMatrix_);return 0!==i&&(0,s.rotate)(M,-i),x.uniformMatrix4fv(C.u_projectionMatrix,!1,(0,l.fromTransform)(this.tmpMat4_,T)),x.uniformMatrix4fv(C.u_offsetScaleMatrix,!1,(0,l.fromTransform)(this.tmpMat4_,w)),x.uniformMatrix4fv(C.u_offsetRotateMatrix,!1,(0,l.fromTransform)(this.tmpMat4_,M)),x.uniform1f(C.u_opacity,a),void 0===d?this.drawReplay(x,t,c,!1):S=this.drawHitDetectionReplay(x,t,c,d,h,f),this.shutDownProgram(x,C),this.lineStringReplay&&(p||x.disable(x.STENCIL_TEST),x.clear(x.STENCIL_BUFFER_BIT),x.stencilFunc(m,v,g),x.stencilMask(y),x.stencilOp(_,E,b)),S},e.prototype.drawElements=function(t,e,n,i){var r=e.hasOESElementIndexUint?u.UNSIGNED_INT:u.UNSIGNED_SHORT,o=i-n,a=n*(e.hasOESElementIndexUint?4:2);t.drawElements(u.TRIANGLES,o,r,a)},e}(a["default"]),d=c;n["default"]=d},{"../../util.js":"YOqM","../../extent.js":"IwSU","../VectorContext.js":"lYEk","../../transform.js":"glB6","../../vec/mat4.js":"YrKs","../../webgl.js":"SvAv"}],SFW8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.triangleIsCounterClockwise=n.EPSILON=n.DEFAULT_LINEWIDTH=n.DEFAULT_TEXTBASELINE=n.DEFAULT_TEXTALIGN=n.DEFAULT_STROKESTYLE=n.DEFAULT_MITERLIMIT=n.DEFAULT_LINEJOIN=n.DEFAULT_LINEDASHOFFSET=n.DEFAULT_LINEDASH=n.DEFAULT_LINECAP=n.DEFAULT_FILLSTYLE=n.DEFAULT_FONT=void 0;var i="10px sans-serif";n.DEFAULT_FONT=i;var r=[0,0,0,1];n.DEFAULT_FILLSTYLE=r;var o="round";n.DEFAULT_LINECAP=o;var a=[];n.DEFAULT_LINEDASH=a;var s=0;n.DEFAULT_LINEDASHOFFSET=s;var l="round";n.DEFAULT_LINEJOIN=l;var u=10;n.DEFAULT_MITERLIMIT=u;var c=[0,0,0,1];n.DEFAULT_STROKESTYLE=c;var d=.5;n.DEFAULT_TEXTALIGN=d;var h=.5;n.DEFAULT_TEXTBASELINE=h;var f=1;n.DEFAULT_LINEWIDTH=f;var p=Number.EPSILON||2.220446049250313e-16;n.EPSILON=p;var m=function(t,e,n,i,r,o){var a=(n-t)*(o-e)-(r-t)*(i-e);return a<=p&&a>=-p?void 0:a>0};n.triangleIsCounterClockwise=m},{}],nfqH:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../webgl.js"),r={STATIC_DRAW:i.STATIC_DRAW,STREAM_DRAW:i.STREAM_DRAW,DYNAMIC_DRAW:i.DYNAMIC_DRAW},o=function(t,e){this.arr_=void 0!==t?t:[],this.usage_=void 0!==e?e:r.STATIC_DRAW};o.prototype.getArray=function(){return this.arr_},o.prototype.getUsage=function(){return this.usage_};var a=o;n["default"]=a},{"../webgl.js":"SvAv"}],HTbc:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../color.js"),s=t("../../extent.js"),l=t("../../obj.js"),u=t("../../geom/flat/transform.js"),c=t("./circlereplay/defaultshader.js"),d=i(t("./circlereplay/defaultshader/Locations.js")),h=i(t("./Replay.js")),f=t("../webgl.js"),p=t("../../webgl.js"),m=i(t("../../webgl/Buffer.js")),g=function(t){function e(e,n){t.call(this,e,n),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){var r,o,a=this.vertices.length,s=this.indices.length,l=a/4;for(r=e,o=n;r<o;r+=i)this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[s++]=l,this.indices[s++]=l+1,this.indices[s++]=l+2,this.indices[s++]=l+2,this.indices[s++]=l+3,this.indices[s++]=l,l+=4},e.prototype.drawCircle=function(t,e){var n=t.getRadius(),i=t.getStride();if(n){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=n;var r=t.getFlatCoordinates();r=(0,u.translate)(r,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var o=this.styles_[this.styles_.length-1];this.state_.fillColor=o[0],this.state_.strokeColor=o[1],this.state_.lineWidth=o[2],this.state_.changed=!1}},e.prototype.finish=function(t){this.verticesBuffer=new m["default"](this.vertices),this.indicesBuffer=new m["default"](this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(c.fragment,c.vertex);
return this.defaultLocations_?r=this.defaultLocations_:(r=new d["default"](t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,p.FLOAT,!1,16,0),t.enableVertexAttribArray(r.a_instruction),t.vertexAttribPointer(r.a_instruction,1,p.FLOAT,!1,16,8),t.enableVertexAttribArray(r.a_radius),t.vertexAttribPointer(r.a_radius,1,p.FLOAT,!1,16,12),t.uniform2fv(r.u_size,n),t.uniform1f(r.u_pixelRatio,i),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},e.prototype.drawReplay=function(t,e,n,i){var r,o,a,s;if((0,l.isEmpty)(n))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n)},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,l,u,c,d,h,f;for(f=this.startIndices.length-2,u=this.startIndices[f+1],a=this.styleIndices_.length-1;a>=0;--a)for(c=this.styles_[a],this.setFillStyle_(t,c[0]),this.setStrokeStyle_(t,c[1],c[2]),d=this.styleIndices_[a];f>=0&&this.startIndices[f]>=d;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===o||(0,s.intersects)(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=i(h);if(p)return p}f--,u=l}},e.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,l,u,c,d;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setFillStyle_(t,s[0]),this.setStrokeStyle_(t,s[1],s[2]),l=this.styleIndices_[i];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],u=this.startIndicesFeature[c],n[(0,r.getUid)(u)]&&(o!==a&&this.drawElements(t,e,o,a),a=d),c--,o=d;o!==a&&this.drawElements(t,e,o,a),o=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},e.prototype.setStrokeStyle_=function(t,e,n){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n)},e.prototype.setFillStrokeStyle=function(t,e){var n,i;if(e){var r=e.getLineDash();this.state_.lineDash=r||f.DEFAULT_LINEDASH;var s=e.getLineDashOffset();this.state_.lineDashOffset=s||f.DEFAULT_LINEDASHOFFSET,n=(n=e.getColor())instanceof CanvasGradient||n instanceof CanvasPattern?f.DEFAULT_STROKESTYLE:(0,a.asArray)(n).map(function(t,e){return 3!=e?t/255:t})||f.DEFAULT_STROKESTYLE,i=void 0!==(i=e.getWidth())?i:f.DEFAULT_LINEWIDTH}else n=[0,0,0,0],i=0;var l=t?t.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?f.DEFAULT_FILLSTYLE:(0,a.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||f.DEFAULT_FILLSTYLE,this.state_.strokeColor&&(0,o.equals)(this.state_.strokeColor,n)&&this.state_.fillColor&&(0,o.equals)(this.state_.fillColor,l)&&this.state_.lineWidth===i||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=n,this.state_.lineWidth=i,this.styles_.push([l,n,i]))},e}(h["default"]),v=g;n["default"]=v},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../color.js":"tree","../../extent.js":"IwSU","../../obj.js":"qC1c","../../geom/flat/transform.js":"CVNs","./circlereplay/defaultshader.js":"BnB7","./circlereplay/defaultshader/Locations.js":"iwgS","./Replay.js":"gn4l","../webgl.js":"SFW8","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],pIsA:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],yYKj:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"k"),this.u_image=t.getUniformLocation(e,i.DEBUG?"u_image":"l"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"c"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"d"),this.a_offsets=t.getAttribLocation(e,i.DEBUG?"a_offsets":"e"),this.a_opacity=t.getAttribLocation(e,i.DEBUG?"a_opacity":"f"),this.a_rotateWithView=t.getAttribLocation(e,i.DEBUG?"a_rotateWithView":"g")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],VsgE:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};n["default"]=i},{}],hsoJ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,e),void 0!==n&&t.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,n),i}function o(t,e,n,i,o){var a=r(t,i,o);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),a}function a(t,e,n,i){var o=r(t,n,i);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),o}Object.defineProperty(n,"__esModule",{value:!0}),n.createEmptyTexture=o,n.createTexture=a,n["default"]=void 0;var s=t("../util.js"),l=t("../webgl.js"),u=i(t("../Disposable.js")),c=t("../array.js"),d=t("../events.js"),h=t("../obj.js"),f=i(t("../webgl/ContextEventType.js")),p=function(t){function e(e,n){t.call(this),this.canvas_=e,this.gl_=n,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=(0,c.includes)(l.EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&n.getExtension("OES_element_index_uint"),(0,d.listen)(this.canvas_,f["default"].LOST,this.handleWebGLContextLost,this),(0,d.listen)(this.canvas_,f["default"].RESTORED,this.handleWebGLContextRestored,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindBuffer=function(t,e){var n=this.getGL(),i=e.getArray(),r=(0,s.getUid)(e);if(r in this.bufferCache_){var o=this.bufferCache_[r];n.bindBuffer(t,o.buffer)}else{var a,u=n.createBuffer();n.bindBuffer(t,u),t==l.ARRAY_BUFFER?a=new Float32Array(i):t==l.ELEMENT_ARRAY_BUFFER&&(a=this.hasOESElementIndexUint?new Uint32Array(i):new Uint16Array(i)),n.bufferData(t,a,e.getUsage()),this.bufferCache_[r]={buf:e,buffer:u}}},e.prototype.deleteBuffer=function(t){var e=this.getGL(),n=(0,s.getUid)(t),i=this.bufferCache_[n];e.isContextLost()||e.deleteBuffer(i.buffer),delete this.bufferCache_[n]},e.prototype.disposeInternal=function(){(0,d.unlistenAll)(this.canvas_);var t=this.getGL();if(!t.isContextLost()){for(var e in this.bufferCache_)t.deleteBuffer(this.bufferCache_[e].buffer);for(var n in this.programCache_)t.deleteProgram(this.programCache_[n]);for(var i in this.shaderCache_)t.deleteShader(this.shaderCache_[i]);t.deleteFramebuffer(this.hitDetectionFramebuffer_),t.deleteRenderbuffer(this.hitDetectionRenderbuffer_),t.deleteTexture(this.hitDetectionTexture_)}},e.prototype.getCanvas=function(){return this.canvas_},e.prototype.getGL=function(){return this.gl_},e.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},e.prototype.getShader=function(t){var e=(0,s.getUid)(t);if(e in this.shaderCache_)return this.shaderCache_[e];var n=this.getGL(),i=n.createShader(t.getType());return n.shaderSource(i,t.getSource()),n.compileShader(i),this.shaderCache_[e]=i,i},e.prototype.getProgram=function(t,e){var n=(0,s.getUid)(t)+"/"+(0,s.getUid)(e);if(n in this.programCache_)return this.programCache_[n];var i=this.getGL(),r=i.createProgram();return i.attachShader(r,this.getShader(t)),i.attachShader(r,this.getShader(e)),i.linkProgram(r),this.programCache_[n]=r,r},e.prototype.handleWebGLContextLost=function(){(0,h.clear)(this.bufferCache_),(0,h.clear)(this.shaderCache_),(0,h.clear)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},e.prototype.handleWebGLContextRestored=function(){},e.prototype.initHitDetectionFramebuffer_=function(){var t=this.gl_,e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var n=o(t,1,1),i=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,1,1),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,i),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=e,this.hitDetectionTexture_=n,this.hitDetectionRenderbuffer_=i},e.prototype.useProgram=function(t){return t!=this.currentProgram_&&(this.getGL().useProgram(t),this.currentProgram_=t,!0)},e}(u["default"]),m=p;n["default"]=m},{"../util.js":"YOqM","../webgl.js":"SvAv","../Disposable.js":"Kusu","../array.js":"Z5sL","../events.js":"Bvf5","../obj.js":"qC1c","../webgl/ContextEventType.js":"VsgE"}],nz22:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../extent.js"),a=t("../../obj.js"),s=t("./texturereplay/defaultshader.js"),l=i(t("./texturereplay/defaultshader/Locations.js")),u=i(t("./Replay.js")),c=t("../../webgl.js"),d=t("../../webgl/Context.js"),h=function(t){function e(e,n){t.call(this,e,n),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,i=this.getTextures(!0),r=t.getGL();return function(){var o,a;if(!r.isContextLost())for(o=0,a=i.length;o<a;++o)r.deleteTexture(i[o]);t.deleteBuffer(e),t.deleteBuffer(n)}},e.prototype.drawCoordinates=function(t,e,n,i){var r,o,a,s,l,u,c=this.anchorX,d=this.anchorY,h=this.height,f=this.imageHeight,p=this.imageWidth,m=this.opacity,g=this.originX,v=this.originY,y=this.rotateWithView?1:0,_=-this.rotation,b=this.scale,E=this.width,x=Math.cos(_),C=Math.sin(_),T=this.indices.length,w=this.vertices.length;for(r=e;r<n;r+=i)l=t[r]-this.origin[0],u=t[r+1]-this.origin[1],o=w/8,a=-b*c,s=-b*(h-d),this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=g/p,this.vertices[w++]=(v+h)/f,this.vertices[w++]=m,this.vertices[w++]=y,a=b*(E-c),s=-b*(h-d),this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=(g+E)/p,this.vertices[w++]=(v+h)/f,this.vertices[w++]=m,this.vertices[w++]=y,a=b*(E-c),s=b*d,this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=(g+E)/p,this.vertices[w++]=v/f,this.vertices[w++]=m,this.vertices[w++]=y,a=-b*c,s=b*d,this.vertices[w++]=l,this.vertices[w++]=u,this.vertices[w++]=a*x-s*C,this.vertices[w++]=a*C+s*x,this.vertices[w++]=g/p,this.vertices[w++]=v/f,this.vertices[w++]=m,this.vertices[w++]=y,this.indices[T++]=o,this.indices[T++]=o+1,this.indices[T++]=o+2,this.indices[T++]=o,this.indices[T++]=o+2,this.indices[T++]=o+3;return w},e.prototype.createTextures=function(t,e,n,i){var o,a,s,l,u=e.length;for(l=0;l<u;++l)a=e[l],(s=(0,r.getUid)(a))in n?o=n[s]:(o=(0,d.createTexture)(i,a,c.CLAMP_TO_EDGE,c.CLAMP_TO_EDGE),n[s]=o),t[l]=o},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(s.fragment,s.vertex);return this.defaultLocations?r=this.defaultLocations:(r=new l["default"](t,o),this.defaultLocations=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,c.FLOAT,!1,32,0),t.enableVertexAttribArray(r.a_offsets),t.vertexAttribPointer(r.a_offsets,2,c.FLOAT,!1,32,8),t.enableVertexAttribArray(r.a_texCoord),t.vertexAttribPointer(r.a_texCoord,2,c.FLOAT,!1,32,16),t.enableVertexAttribArray(r.a_opacity),t.vertexAttribPointer(r.a_opacity,1,c.FLOAT,!1,32,24),t.enableVertexAttribArray(r.a_rotateWithView),t.vertexAttribPointer(r.a_rotateWithView,1,c.FLOAT,!1,32,28),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},e.prototype.drawReplay=function(t,e,n,i){var r,o,s,l=i?this.getHitDetectionTextures():this.getTextures(),u=i?this.hitDetectionGroupIndices:this.groupIndices;if((0,a.isEmpty)(n))for(r=0,o=l.length,s=0;r<o;++r){t.bindTexture(c.TEXTURE_2D,l[r]);var d=u[r];this.drawElements(t,e,s,d),s=d}else this.drawReplaySkipping(t,e,n,l,u)},e.prototype.drawReplaySkipping=function(t,e,n,i,o){var a,s,l=0;for(a=0,s=i.length;a<s;++a){t.bindTexture(c.TEXTURE_2D,i[a]);for(var u=a>0?o[a-1]:0,d=o[a],h=u,f=u;l<this.startIndices.length&&this.startIndices[l]<=d;){var p=this.startIndicesFeature[l];void 0!==n[(0,r.getUid)(p)]?(h!==f&&this.drawElements(t,e,h,f),f=h=l===this.startIndices.length-1?d:this.startIndices[l+1]):f=l===this.startIndices.length-1?d:this.startIndices[l+1],l++}h!==f&&this.drawElements(t,e,h,f)}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,a){var s,l,u,d,h,f=this.startIndices.length-1,p=this.getHitDetectionTextures();for(s=p.length-1;s>=0;--s)for(t.bindTexture(c.TEXTURE_2D,p[s]),l=s>0?this.hitDetectionGroupIndices[s-1]:0,d=this.hitDetectionGroupIndices[s];f>=0&&this.startIndices[f]>=l;){if(u=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===a||(0,o.intersects)(a,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,u,d);var m=i(h);if(m)return m}d=u,f--}},e.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},e.prototype.getTextures=function(t){return(0,r["abstract"])()},e.prototype.getHitDetectionTextures=function(){return(0,r["abstract"])()},e}(u["default"]),f=h;n["default"]=f},{"../../util.js":"YOqM","../../extent.js":"IwSU","../../obj.js":"qC1c","./texturereplay/defaultshader.js":"pIsA","./texturereplay/defaultshader/Locations.js":"yYKj","./Replay.js":"gn4l","../../webgl.js":"SvAv","../../webgl/Context.js":"hsoJ"}],yT3n:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("./TextureReplay.js")),a=i(t("../../webgl/Buffer.js")),s=function(t){function e(e,n){t.call(this,e,n),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(n,0,n.length,i)},e.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var n=t.getFlatCoordinates(),i=t.getStride();this.drawCoordinates(n,0,n.length,i)},e.prototype.finish=function(e){var n=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new a["default"](this.vertices);var i=this.indices;this.indicesBuffer=new a["default"](i);var r={};this.createTextures(this.textures_,this.images_,r,n),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,n),this.images_=null,this.hitDetectionImages_=null,t.prototype.finish.call(this,e)},e.prototype.setImageStyle=function(t){var e,n=t.getAnchor(),i=t.getImage(1),o=t.getImageSize(),a=t.getHitDetectionImage(1),s=t.getOpacity(),l=t.getOrigin(),u=t.getRotateWithView(),c=t.getRotation(),d=t.getSize(),h=t.getScale();0===this.images_.length?this.images_.push(i):(e=this.images_[this.images_.length-1],(0,r.getUid)(e)!=(0,r.getUid)(i)&&(this.groupIndices.push(this.indices.length),this.images_.push(i))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(a):(e=this.hitDetectionImages_[this.hitDetectionImages_.length-1],(0,r.getUid)(e)!=(0,r.getUid)(a)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(a))),this.anchorX=n[0],this.anchorY=n[1],this.height=d[1],this.imageHeight=o[1],this.imageWidth=o[0],this.opacity=s,this.originX=l[0],this.originY=l[1],this.rotation=c,this.rotateWithView=u,this.scale=h,this.width=d[0]},e.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},e.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},e}(o["default"]),l=s;n["default"]=l},{"../../util.js":"YOqM","./TextureReplay.js":"nz22","../../webgl/Buffer.js":"nfqH"}],Wb3Z:[function(t,e,n){"use strict";function i(t,e,n,i){var o=n-i;return t[e]===t[o]&&t[e+1]===t[o+1]&&(n-e)/i>3&&!!(0,r.linearRing)(t,e,n,i)}Object.defineProperty(n,"__esModule",{value:!0}),n.lineStringIsClosed=i;var r=t("./area.js")},{"./area.js":"w7L4"}],OMDF:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],GCi7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=t.getUniformLocation(e,i.DEBUG?"u_lineWidth":"k"),this.u_miterLimit=t.getUniformLocation(e,i.DEBUG?"u_miterLimit":"l"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"m"),this.u_color=t.getUniformLocation(e,i.DEBUG?"u_color":"n"),this.u_size=t.getUniformLocation(e,i.DEBUG?"u_size":"o"),this.u_pixelRatio=t.getUniformLocation(e,i.DEBUG?"u_pixelRatio":"p"),this.a_lastPos=t.getAttribLocation(e,i.DEBUG?"a_lastPos":"d"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"e"),this.a_nextPos=t.getAttribLocation(e,i.DEBUG?"a_nextPos":"f"),this.a_direction=t.getAttribLocation(e,i.DEBUG?"a_direction":"g");
},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],QKC4:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../color.js"),s=t("../../extent.js"),l=t("../../geom/flat/orient.js"),u=t("../../geom/flat/transform.js"),c=t("../../geom/flat/topology.js"),d=t("../../obj.js"),h=t("../webgl.js"),f=i(t("./Replay.js")),p=t("./linestringreplay/defaultshader.js"),m=i(t("./linestringreplay/defaultshader/Locations.js")),g=t("../../webgl.js"),v=i(t("../../webgl/Buffer.js")),y={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},_=function(t){function e(e,n){t.call(this,e,n),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){var r,a,s,u,d,f,p,m,g=this.vertices.length,v=this.indices.length,_="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,b="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,E=(0,c.lineStringIsClosed)(t,e,n,i),x=v,C=1;for(r=e,a=n;r<a;r+=i){if(d=g/7,f=p,p=m||[t[r],t[r+1]],r===e){if(m=[t[r+i],t[r+i+1]],n-e==2*i&&(0,o.equals)(p,m))break;if(!E){b&&(g=this.addVertices_([0,0],p,m,C*y.BEGIN_LINE_CAP*b,g),g=this.addVertices_([0,0],p,m,-C*y.BEGIN_LINE_CAP*b,g),this.indices[v++]=d+2,this.indices[v++]=d,this.indices[v++]=d+1,this.indices[v++]=d+1,this.indices[v++]=d+3,this.indices[v++]=d+2),g=this.addVertices_([0,0],p,m,C*y.BEGIN_LINE*(b||1),g),x=(g=this.addVertices_([0,0],p,m,-C*y.BEGIN_LINE*(b||1),g))/7-1;continue}f=[t[n-2*i],t[n-2*i+1]],s=m}else{if(r===n-i){if(E){m=s;break}f=f||[0,0],g=this.addVertices_(f,p,[0,0],C*y.END_LINE*(b||1),g),g=this.addVertices_(f,p,[0,0],-C*y.END_LINE*(b||1),g),this.indices[v++]=d,this.indices[v++]=x-1,this.indices[v++]=x,this.indices[v++]=x,this.indices[v++]=d+1,this.indices[v++]=d,b&&(g=this.addVertices_(f,p,[0,0],C*y.END_LINE_CAP*b,g),g=this.addVertices_(f,p,[0,0],-C*y.END_LINE_CAP*b,g),this.indices[v++]=d+2,this.indices[v++]=d,this.indices[v++]=d+1,this.indices[v++]=d+1,this.indices[v++]=d+3,this.indices[v++]=d+2);break}m=[t[r+i],t[r+i+1]]}u=(0,h.triangleIsCounterClockwise)(f[0],f[1],p[0],p[1],m[0],m[1])?-1:1,g=this.addVertices_(f,p,m,u*y.BEVEL_FIRST*(_||1),g),g=this.addVertices_(f,p,m,u*y.BEVEL_SECOND*(_||1),g),g=this.addVertices_(f,p,m,-u*y.MITER_BOTTOM*(_||1),g),r>e&&(this.indices[v++]=d,this.indices[v++]=x-1,this.indices[v++]=x,this.indices[v++]=d+2,this.indices[v++]=d,this.indices[v++]=C*u>0?x:x-1),this.indices[v++]=d,this.indices[v++]=d+2,this.indices[v++]=d+1,x=d+2,C=u,_&&(g=this.addVertices_(f,p,m,u*y.MITER_TOP*_,g),this.indices[v++]=d+1,this.indices[v++]=d+3,this.indices[v++]=d)}E&&(d=d||g/7,u=(0,l.linearRingIsClockwise)([f[0],f[1],p[0],p[1],m[0],m[1]],0,6,2)?1:-1,g=this.addVertices_(f,p,m,u*y.BEVEL_FIRST*(_||1),g),g=this.addVertices_(f,p,m,-u*y.MITER_BOTTOM*(_||1),g),this.indices[v++]=d,this.indices[v++]=x-1,this.indices[v++]=x,this.indices[v++]=d+1,this.indices[v++]=d,this.indices[v++]=C*u>0?x:x-1)},e.prototype.addVertices_=function(t,e,n,i,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=n[0],this.vertices[r++]=n[1],this.vertices[r++]=i,r},e.prototype.isValid_=function(t,e,n,i){var r=n-e;if(r<2*i)return!1;if(r===2*i){var a=[t[e],t[e+1]],s=[t[e+i],t[e+i+1]];return!(0,o.equals)(a,s)}return!0},e.prototype.drawLineString=function(t,e){var n=t.getFlatCoordinates(),i=t.getStride();this.isValid_(n,0,n.length,i)&&(n=(0,u.translate)(n,0,n.length,i,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(n,0,n.length,i))},e.prototype.drawMultiLineString=function(t,e){var n=this.indices.length,i=t.getEnds();i.unshift(0);var r,o,a=t.getFlatCoordinates(),s=t.getStride();if(i.length>1)for(r=1,o=i.length;r<o;++r)if(this.isValid_(a,i[r-1],i[r],s)){var l=(0,u.translate)(a,i[r-1],i[r],s,-this.origin[0],-this.origin[1]);this.drawCoordinates_(l,0,l.length,s)}this.indices.length>n&&(this.startIndices.push(n),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1))},e.prototype.drawPolygonCoordinates=function(t,e,n){var i,r;if((0,c.lineStringIsClosed)(t,0,t.length,n)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,n),e.length)for(i=0,r=e.length;i<r;++i)(0,c.lineStringIsClosed)(e[i],0,e[i].length,n)||(e[i].push(e[i][0]),e[i].push(e[i][1])),this.drawCoordinates_(e[i],0,e[i].length,n)},e.prototype.setPolygonStyle=function(t,e){var n=void 0===e?this.indices.length:e;this.startIndices.push(n),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(n),this.state_.changed=!1)},e.prototype.getCurrentIndex=function(){return this.indices.length},e.prototype.finish=function(t){this.verticesBuffer=new v["default"](this.vertices),this.indicesBuffer=new v["default"](this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(n)}},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(p.fragment,p.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new m["default"](t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_lastPos),t.vertexAttribPointer(r.a_lastPos,2,g.FLOAT,!1,28,0),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,g.FLOAT,!1,28,8),t.enableVertexAttribArray(r.a_nextPos),t.vertexAttribPointer(r.a_nextPos,2,g.FLOAT,!1,28,16),t.enableVertexAttribArray(r.a_direction),t.vertexAttribPointer(r.a_direction,1,g.FLOAT,!1,28,24),t.uniform2fv(r.u_size,n),t.uniform1f(r.u_pixelRatio,i),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},e.prototype.drawReplay=function(t,e,n,i){var r,o,a,s,l=t.getParameter(t.DEPTH_FUNC),u=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,d.isEmpty)(n))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setStrokeStyle_(t,s[0],s[1],s[2]),this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT),a=o;else this.drawReplaySkipping_(t,e,n);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(u),t.depthFunc(l))},e.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,l,u,c,d;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setStrokeStyle_(t,s[0],s[1],s[2]),l=this.styleIndices_[i];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],u=this.startIndicesFeature[c],n[(0,r.getUid)(u)]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=d),c--,o=d;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=l}},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,l,u,c,d,h,f;for(f=this.startIndices.length-2,u=this.startIndices[f+1],a=this.styleIndices_.length-1;a>=0;--a)for(c=this.styles_[a],this.setStrokeStyle_(t,c[0],c[1],c[2]),d=this.styleIndices_[a];f>=0&&this.startIndices[f]>=d;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===o||(0,s.intersects)(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=i(h);if(p)return p}f--,u=l}},e.prototype.setStrokeStyle_=function(t,e,n,i){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,n),t.uniform1f(this.defaultLocations_.u_miterLimit,i)},e.prototype.setFillStrokeStyle=function(t,e){var n=e.getLineCap();this.state_.lineCap=void 0!==n?n:h.DEFAULT_LINECAP;var i=e.getLineDash();this.state_.lineDash=i||h.DEFAULT_LINEDASH;var r=e.getLineDashOffset();this.state_.lineDashOffset=r||h.DEFAULT_LINEDASHOFFSET;var s=e.getLineJoin();this.state_.lineJoin=void 0!==s?s:h.DEFAULT_LINEJOIN;var l=e.getColor();l=l instanceof CanvasGradient||l instanceof CanvasPattern?h.DEFAULT_STROKESTYLE:(0,a.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_STROKESTYLE;var u=e.getWidth();u=void 0!==u?u:h.DEFAULT_LINEWIDTH;var c=e.getMiterLimit();c=void 0!==c?c:h.DEFAULT_MITERLIMIT,this.state_.strokeColor&&(0,o.equals)(this.state_.strokeColor,l)&&this.state_.lineWidth===u&&this.state_.miterLimit===c||(this.state_.changed=!0,this.state_.strokeColor=l,this.state_.lineWidth=u,this.state_.miterLimit=c,this.styles_.push([l,u,c]))},e}(f["default"]),b=_;n["default"]=b},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../color.js":"tree","../../extent.js":"IwSU","../../geom/flat/orient.js":"SKGF","../../geom/flat/transform.js":"CVNs","../../geom/flat/topology.js":"Wb3Z","../../obj.js":"qC1c","../webgl.js":"SFW8","./Replay.js":"gn4l","./linestringreplay/defaultshader.js":"OMDF","./linestringreplay/defaultshader/Locations.js":"GCi7","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],DB6I:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../../webgl.js"),o=i(t("../../../webgl/Fragment.js")),a=i(t("../../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");n.fragment=s;var l=new a["default"](r.DEBUG?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");n.vertex=l},{"../../../webgl.js":"SvAv","../../../webgl/Fragment.js":"qFEE","../../../webgl/Vertex.js":"c15H"}],Vll5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../../webgl.js"),r=function(t,e){this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=t.getUniformLocation(e,i.DEBUG?"u_offsetRotateMatrix":"d"),this.u_color=t.getUniformLocation(e,i.DEBUG?"u_color":"e"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"f"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"a")},o=r;n["default"]=o},{"../../../../webgl.js":"SvAv"}],d2RL:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};i.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},n=this.head_;if(n){var i=n.next;e.prev=n,e.next=i,n.next=e,i&&(i.prev=e),n===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},i.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,n=t.prev;e&&(e.prev=n),n&&(n.next=e),this.head_=e||n,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=n?this.head_.prev:this.head_),this.length_--}},i.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},i.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},i.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},i.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},i.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},i.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},i.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},i.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},i.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},i.prototype.getLength=function(){return this.length_};var r=i;n["default"]=r},{}],kR56:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../array.js"),a=t("../../color.js"),s=t("../../extent.js"),l=t("../../obj.js"),u=t("../../geom/flat/contains.js"),c=t("../../geom/flat/orient.js"),d=t("../../geom/flat/transform.js"),h=t("./polygonreplay/defaultshader.js"),f=i(t("./polygonreplay/defaultshader/Locations.js")),p=i(t("./LineStringReplay.js")),m=i(t("./Replay.js")),g=t("../webgl.js"),v=i(t("../../style/Stroke.js")),y=i(t("../../structs/LinkedList.js")),_=i(t("../../structs/RBush.js")),b=t("../../webgl.js"),E=i(t("../../webgl/Buffer.js")),x=function(t){function e(e,n){t.call(this,e,n),this.lineStringReplay=new p["default"](e,n),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n){var i=new y["default"],r=new _["default"];this.processFlatCoordinates_(t,n,i,r,!0);var o=this.getMaxCoords_(i);if(e.length){var a,s,l=[];for(a=0,s=e.length;a<s;++a){var u={list:new y["default"],maxCoords:void 0,rtree:new _["default"]};l.push(u),this.processFlatCoordinates_(e[a],n,u.list,u.rtree,!1),this.classifyPoints_(u.list,u.rtree,!0),u.maxCoords=this.getMaxCoords_(u.list)}for(l.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<l.length;++a){var c=l[a].list,d=c.firstItem(),h=d,f=void 0;do{if(this.getIntersections_(h,r).length){f=!0;break}h=c.nextItem()}while(d!==h);f||this.bridgeHole_(c,l[a].maxCoords[0],i,o[0],r)&&(r.concat(l[a].rtree),this.classifyPoints_(i,r,!1))}}else this.classifyPoints_(i,r,!1);this.triangulate_(i,r)},e.prototype.processFlatCoordinates_=function(t,e,n,i,r){var o,a,s,l,u,d=(0,c.linearRingIsClockwise)(t,0,t.length,e),h=this.vertices.length/2,f=[],p=[];if(r===d){for(l=s=this.createPoint_(t[0],t[1],h++),o=e,a=t.length;o<a;o+=e)u=this.createPoint_(t[o],t[o+1],h++),p.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,s,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}else{var m=t.length-e;for(l=s=this.createPoint_(t[m],t[m+1],h++),o=m-e,a=0;o>=a;o-=e)u=this.createPoint_(t[o],t[o+1],h++),p.push(this.insertItem_(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),l=u;p.push(this.insertItem_(u,s,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)])}i.load(f,p)},e.prototype.getMaxCoords_=function(t){var e=t.firstItem(),n=e,i=[n.p0.x,n.p0.y];do(n=t.nextItem()).p0.x>i[0]&&(i=[n.p0.x,n.p0.y]);while(n!==e);return i},e.prototype.classifyPoints_=function(t,e,n){var i=t.firstItem(),r=i,o=t.nextItem(),a=!1;do{var s=n?(0,g.triangleIsCounterClockwise)(o.p1.x,o.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):(0,g.triangleIsCounterClockwise)(r.p0.x,r.p0.y,r.p1.x,r.p1.y,o.p1.x,o.p1.y);void 0===s?(this.removeItem_(r,o,t,e),a=!0,o===i&&(i=t.getNextItem()),o=r,t.prevItem()):r.p1.reflex!==s&&(r.p1.reflex=s,a=!0),r=o,o=t.nextItem()}while(r!==i);return a},e.prototype.bridgeHole_=function(t,e,n,i,r){for(var o=t.firstItem();o.p1.x!==e;)o=t.nextItem();var a,s,l,u,c=o.p1,d={x:i,y:c.y,i:-1},h=1/0,f=this.getIntersections_({p0:c,p1:d},r,!0);for(a=0,s=f.length;a<s;++a){var p=f[a],m=this.calculateIntersection_(c,d,p.p0,p.p1,!0),v=Math.abs(c.x-m[0]);v<h&&void 0!==(0,g.triangleIsCounterClockwise)(c.x,c.y,p.p0.x,p.p0.y,p.p1.x,p.p1.y)&&(h=v,u={x:m[0],y:m[1],i:-1},o=p)}if(h===1/0)return!1;if(l=o.p1,h>0){var y=this.getPointsInTriangle_(c,u,o.p1,r);if(y.length){var _=1/0;for(a=0,s=y.length;a<s;++a){var b=y[a],E=Math.atan2(c.y-b.y,d.x-b.x);(E<_||E===_&&b.x<l.x)&&(_=E,l=b)}}}for(o=n.firstItem();o.p1.x!==l.x||o.p1.y!==l.y;)o=n.nextItem();var x={x:c.x,y:c.y,i:c.i,reflex:void 0},C={x:o.p1.x,y:o.p1.y,i:o.p1.i,reflex:void 0};return t.getNextItem().p0=x,this.insertItem_(c,o.p1,t,r),this.insertItem_(C,x,t,r),o.p1=C,t.setFirstItem(),n.concat(t),!0},e.prototype.triangulate_=function(t,e){for(var n=!1,i=this.isSimple_(t,e);t.getLength()>3;)if(i){if(!this.clipEars_(t,e,i,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,i,n)&&!this.classifyPoints_(t,e,n)&&!this.resolveSelfIntersections_(t,e)){if(!(i=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}n=!this.isClockwise_(t),this.classifyPoints_(t,e,n)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},e.prototype.clipEars_=function(t,e,n,i){var r,o,a,s=this.indices.length,l=t.firstItem(),u=t.getPrevItem(),d=l,h=t.nextItem(),f=t.getNextItem(),p=!1;do{if(r=d.p0,o=d.p1,a=h.p1,!1===o.reflex){var m=void 0;m=n?0===this.getPointsInTriangle_(r,o,a,e,!0).length:i?this.diagonalIsInside_(f.p1,a,o,r,u.p0):this.diagonalIsInside_(u.p0,r,o,a,f.p1),(n||0===this.getIntersections_({p0:r,p1:a},e).length)&&m&&(n||!1===r.reflex||!1===a.reflex||(0,c.linearRingIsClockwise)([u.p0.x,u.p0.y,r.x,r.y,o.x,o.y,a.x,a.y,f.p1.x,f.p1.y],0,10,2)===!i)&&(this.indices[s++]=r.i,this.indices[s++]=o.i,this.indices[s++]=a.i,this.removeItem_(d,h,t,e),h===l&&(l=f),p=!0)}u=t.getPrevItem(),d=t.getCurrItem(),h=t.nextItem(),f=t.getNextItem()}while(d!==l&&t.getLength()>3);return p},e.prototype.resolveSelfIntersections_=function(t,e,n){var i=t.firstItem();t.nextItem();var r=i,o=t.nextItem(),a=!1;do{var s=this.calculateIntersection_(r.p0,r.p1,o.p0,o.p1,n);if(s){var l=!1,u=this.vertices.length,c=this.indices.length,d=u/2,h=t.prevItem();t.removeItem(),e.remove(h),l=h===i;var f=void 0;if(n?(s[0]===r.p0.x&&s[1]===r.p0.y?(t.prevItem(),f=r.p0,o.p0=f,e.remove(r),l=l||r===i):(f=o.p1,r.p1=f,e.remove(o),l=l||o===i),t.removeItem()):(f=this.createPoint_(s[0],s[1],d),r.p1=f,o.p0=f,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(o.p0.x,o.p1.x),Math.min(o.p0.y,o.p1.y),Math.max(o.p0.x,o.p1.x),Math.max(o.p0.y,o.p1.y)],o)),this.indices[c++]=h.p0.i,this.indices[c++]=h.p1.i,this.indices[c++]=f.i,a=!0,l)break}r=t.getPrevItem(),o=t.nextItem()}while(r!==i);return a},e.prototype.isSimple_=function(t,e){var n=t.firstItem(),i=n;do{if(this.getIntersections_(i,e).length)return!1;i=t.nextItem()}while(i!==n);return!0},e.prototype.isClockwise_=function(t){var e=2*t.getLength(),n=new Array(e),i=t.firstItem(),r=i,o=0;do n[o++]=r.p0.x,n[o++]=r.p0.y,r=t.nextItem();while(r!==i);return(0,c.linearRingIsClockwise)(n,0,e,2)},e.prototype.splitPolygon_=function(t,e){var n=t.firstItem(),i=n;do{var r=this.getIntersections_(i,e);if(r.length){var o=r[0],a=this.vertices.length/2,s=this.calculateIntersection_(i.p0,i.p1,o.p0,o.p1),l=this.createPoint_(s[0],s[1],a),u=new y["default"],c=new _["default"];this.insertItem_(l,i.p1,u,c),i.p1=l,e.update([Math.min(i.p0.x,l.x),Math.min(i.p0.y,l.y),Math.max(i.p0.x,l.x),Math.max(i.p0.y,l.y)],i);for(var d=t.nextItem();d!==o;)this.insertItem_(d.p0,d.p1,u,c),e.remove(d),t.removeItem(),d=t.getCurrItem();this.insertItem_(o.p0,l,u,c),o.p0=l,e.update([Math.min(o.p1.x,l.x),Math.min(o.p1.y,l.y),Math.max(o.p1.x,l.x),Math.max(o.p1.y,l.y)],o),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(u,c,!1),this.triangulate_(u,c);break}i=t.nextItem()}while(i!==n)},e.prototype.createPoint_=function(t,e,n){var i=this.vertices.length;return this.vertices[i++]=t,this.vertices[i++]=e,{x:t,y:e,i:n,reflex:void 0}},e.prototype.insertItem_=function(t,e,n,i){var r={p0:t,p1:e};return n.insertItem(r),i&&i.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},e.prototype.removeItem_=function(t,e,n,i){n.getCurrItem()===e&&(n.removeItem(),t.p1=e.p1,i.remove(e),i.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},e.prototype.getPointsInTriangle_=function(t,e,n,i,r){for(var o=[],a=i.getInExtent([Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]),s=0,l=a.length;s<l;++s)for(var c in a[s]){var d=a[s][c];"object"!=typeof d||r&&!d.reflex||d.x===t.x&&d.y===t.y||d.x===e.x&&d.y===e.y||d.x===n.x&&d.y===n.y||-1!==o.indexOf(d)||!(0,u.linearRingContainsXY)([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,d.x,d.y)||o.push(d)}return o},e.prototype.getIntersections_=function(t,e,n){for(var i=t.p0,r=t.p1,o=e.getInExtent([Math.min(i.x,r.x),Math.min(i.y,r.y),Math.max(i.x,r.x),Math.max(i.y,r.y)]),a=[],s=0,l=o.length;s<l;++s){var u=o[s];t!==u&&(n||u.p0!==r||u.p1!==i)&&this.calculateIntersection_(i,r,u.p0,u.p1,n)&&a.push(u)}return a},e.prototype.calculateIntersection_=function(t,e,n,i,r){var o=(i.y-n.y)*(e.x-t.x)-(i.x-n.x)*(e.y-t.y);if(0!==o){var a=((i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x))/o,s=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/o;if(!r&&a>g.EPSILON&&a<1-g.EPSILON&&s>g.EPSILON&&s<1-g.EPSILON||r&&a>=0&&a<=1&&s>=0&&s<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},e.prototype.diagonalIsInside_=function(t,e,n,i,r){if(void 0===e.reflex||void 0===i.reflex)return!1;var o=(n.x-i.x)*(e.y-i.y)>(n.y-i.y)*(e.x-i.x),a=(r.x-i.x)*(e.y-i.y)<(r.y-i.y)*(e.x-i.x),s=(t.x-e.x)*(i.y-e.y)>(t.y-e.y)*(i.x-e.x),l=(n.x-e.x)*(i.y-e.y)<(n.y-e.y)*(i.x-e.x),u=i.reflex?a||o:a&&o,c=e.reflex?l||s:l&&s;return u&&c},e.prototype.drawMultiPolygon=function(t,e){var n,i,r,o,a=t.getEndss(),s=t.getStride(),l=this.indices.length,u=this.lineStringReplay.getCurrentIndex(),c=t.getFlatCoordinates(),h=0;for(n=0,i=a.length;n<i;++n){var f=a[n];if(f.length>0){var p=(0,d.translate)(c,h,f[0],s,-this.origin[0],-this.origin[1]);if(p.length){var m=[],g=void 0;for(r=1,o=f.length;r<o;++r)f[r]!==f[r-1]&&(g=(0,d.translate)(c,f[r-1],f[r],s,-this.origin[0],-this.origin[1]),m.push(g));this.lineStringReplay.drawPolygonCoordinates(p,m,s),this.drawCoordinates_(p,m,s)}}h=f[f.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>u&&this.lineStringReplay.setPolygonStyle(e,u)},e.prototype.drawPolygon=function(t,e){var n=t.getEnds(),i=t.getStride();if(n.length>0){var r=t.getFlatCoordinates().map(Number),o=(0,d.translate)(r,0,n[0],i,-this.origin[0],-this.origin[1]);if(o.length){var a,s,l,u=[];for(a=1,s=n.length;a<s;++a)n[a]!==n[a-1]&&(l=(0,d.translate)(r,n[a-1],n[a],i,-this.origin[0],-this.origin[1]),u.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(o,u,i),this.drawCoordinates_(o,u,i)}}},e.prototype.finish=function(t){this.verticesBuffer=new E["default"](this.vertices),this.indicesBuffer=new E["default"](this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},e.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,n=this.indicesBuffer,i=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(n),i()}},e.prototype.setUpProgram=function(t,e,n,i){var r,o=e.getProgram(h.fragment,h.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new f["default"](t,o),this.defaultLocations_=r),e.useProgram(o),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,b.FLOAT,!1,8,0),r},e.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},e.prototype.drawReplay=function(t,e,n,i){var r,o,a,s,u=t.getParameter(t.DEPTH_FUNC),c=t.getParameter(t.DEPTH_WRITEMASK);if(i||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,l.isEmpty)(n))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)o=this.styleIndices_[r],s=this.styles_[r],this.setFillStyle_(t,s),this.drawElements(t,e,o,a),a=o;else this.drawReplaySkipping_(t,e,n);i||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(c),t.depthFunc(u))},e.prototype.drawHitDetectionReplayOneByOne=function(t,e,n,i,o){var a,l,u,c,d,h,f;for(f=this.startIndices.length-2,u=this.startIndices[f+1],a=this.styleIndices_.length-1;a>=0;--a)for(c=this.styles_[a],this.setFillStyle_(t,c),d=this.styleIndices_[a];f>=0&&this.startIndices[f]>=d;){if(l=this.startIndices[f],h=this.startIndicesFeature[f],void 0===n[(0,r.getUid)(h)]&&h.getGeometry()&&(void 0===o||(0,s.intersects)(o,h.getGeometry().getExtent()))){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawElements(t,e,l,u);var p=i(h);if(p)return p}f--,u=l}},e.prototype.drawReplaySkipping_=function(t,e,n){var i,o,a,s,l,u,c,d;for(c=this.startIndices.length-2,a=o=this.startIndices[c+1],i=this.styleIndices_.length-1;i>=0;--i){for(s=this.styles_[i],this.setFillStyle_(t,s),l=this.styleIndices_[i];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],u=this.startIndicesFeature[c],n[(0,r.getUid)(u)]&&(o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),a=d),c--,o=d;o!==a&&(this.drawElements(t,e,o,a),t.clear(t.DEPTH_BUFFER_BIT)),o=a=l}},e.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},e.prototype.setFillStrokeStyle=function(t,e){var n=t?t.getColor():[0,0,0,0];if(n=n instanceof CanvasGradient||n instanceof CanvasPattern?g.DEFAULT_FILLSTYLE:(0,a.asArray)(n).map(function(t,e){return 3!=e?t/255:t})||g.DEFAULT_FILLSTYLE,this.state_.fillColor&&(0,o.equals)(n,this.state_.fillColor)||(this.state_.fillColor=n,this.state_.changed=!0,this.styles_.push(n)),e)this.lineStringReplay.setFillStrokeStyle(null,e);else{var i=new v["default"]({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,i)}},e}(m["default"]),C=x;n["default"]=C},{"../../util.js":"YOqM","../../array.js":"Z5sL","../../color.js":"tree","../../extent.js":"IwSU","../../obj.js":"qC1c","../../geom/flat/contains.js":"npHd","../../geom/flat/orient.js":"SKGF","../../geom/flat/transform.js":"CVNs","./polygonreplay/defaultshader.js":"DB6I","./polygonreplay/defaultshader/Locations.js":"Vll5","./LineStringReplay.js":"QKC4","./Replay.js":"gn4l","../webgl.js":"SFW8","../../style/Stroke.js":"vIbn","../../structs/LinkedList.js":"d2RL","../../structs/RBush.js":"m0Ba","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],zruR:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../dom.js"),r=function(t,e){this.space_=e,this.emptyBlocks_=[{x:0,y:0,width:t,height:t}],this.entries_={},this.context_=(0,i.createCanvasContext2D)(t,t),this.canvas_=this.context_.canvas};r.prototype.get=function(t){return this.entries_[t]||null},r.prototype.add=function(t,e,n,i,r){for(var o=0,a=this.emptyBlocks_.length;o<a;++o){var s=this.emptyBlocks_[o];if(s.width>=e+this.space_&&s.height>=n+this.space_){var l={offsetX:s.x+this.space_,offsetY:s.y+this.space_,image:this.canvas_};return this.entries_[t]=l,i.call(r,this.context_,s.x+this.space_,s.y+this.space_),this.split_(o,s,e+this.space_,n+this.space_),l}}return null},r.prototype.split_=function(t,e,n,i){var r,o;e.width-n>e.height-i?(r={x:e.x+n,y:e.y,width:e.width-n,height:e.height},o={x:e.x,y:e.y+i,width:n,height:e.height-i},this.updateBlocks_(t,r,o)):(r={x:e.x+n,y:e.y,width:e.width-n,height:i},o={x:e.x,y:e.y+i,width:e.width,height:e.height-i},this.updateBlocks_(t,r,o))},r.prototype.updateBlocks_=function(t,e,n){var i=[t,1];e.width>0&&e.height>0&&i.push(e),n.width>0&&n.height>0&&i.push(n),this.emptyBlocks_.splice.apply(this.emptyBlocks_,i)};var o=r;n["default"]=o},{"../dom.js":"fRxd"}],mRfv:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../webgl.js"),o=t("../functions.js"),a=i(t("./Atlas.js")),s=256,l=-1,u=function(t){var e=t||{};this.currentSize_=void 0!==e.initialSize?e.initialSize:s,this.maxSize_=void 0!==e.maxSize?e.maxSize:-1!=l?l:void 0!==r.MAX_TEXTURE_SIZE?r.MAX_TEXTURE_SIZE:2048,this.space_=void 0!==e.space?e.space:1,this.atlases_=[new a["default"](this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new a["default"](this.currentHitSize_,this.space_)]};u.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var n=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,n)},u.prototype.getInfo_=function(t,e){for(var n=0,i=t.length;n<i;++n){var r=t[n].get(e);if(r)return r}return null},u.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},u.prototype.add=function(t,e,n,i,r,a){if(e+this.space_>this.maxSize_||n+this.space_>this.maxSize_)return null;var s=this.add_(!1,t,e,n,i,a);if(!s)return null;var l=void 0!==r?r:o.VOID,u=this.add_(!0,t,e,n,l,a);return this.mergeInfos_(s,u)},u.prototype.add_=function(t,e,n,i,r,o){var s,l,u,c,d=t?this.hitAtlases_:this.atlases_;for(u=0,c=d.length;u<c;++u){if(l=(s=d[u]).add(e,n,i,r,o))return l;if(!l&&u===c-1){var h=void 0;t?(h=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=h):(h=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=h),s=new a["default"](h,this.space_),d.push(s),++c}}return null};var c=u;n["default"]=c},{"../webgl.js":"SvAv","../functions.js":"guaG","./Atlas.js":"zruR"}],l3ps:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=t("../../colorlike.js"),a=t("../../dom.js"),s=i(t("../../geom/GeometryType.js")),l=t("../../has.js"),u=t("../replay.js"),c=t("../webgl.js"),d=i(t("./TextureReplay.js")),h=i(t("../../style/AtlasManager.js")),f=i(t("../../webgl/Buffer.js")),p=function(t){function e(e,n){t.call(this,e,n),this.images_=[],this.textures_=[],this.measureCanvas_=(0,a.createCanvasContext2D)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return t&&(e.__proto__=t),
e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){if(this.text_){var n=null,i=2,o=2;switch(t.getType()){case s["default"].POINT:case s["default"].MULTI_POINT:i=(n=t.getFlatCoordinates()).length,o=t.getStride();break;case s["default"].CIRCLE:n=t.getCenter();break;case s["default"].LINE_STRING:n=t.getFlatMidpoint();break;case s["default"].MULTI_LINE_STRING:i=(n=t.getFlatMidpoints()).length;break;case s["default"].POLYGON:n=t.getFlatInteriorPoint();break;case s["default"].MULTI_POLYGON:i=(n=t.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var a,l,u,c,d,h,f,p,m=this.currAtlas_,g=this.text_.split("\n"),v=this.getTextSize_(g),y=Math.round(v[0]*this.textAlign_-this.offsetX_),_=Math.round(v[1]*this.textBaseline_-this.offsetY_),b=this.state_.lineWidth/2*this.state_.scale;for(a=0,l=g.length;a<l;++a)for(d=0,h=m.height*a,u=0,c=(f=g[a].split("")).length;u<c;++u){if(p=m.atlas.getInfo(f[u])){var E=p.image;if(this.anchorX=y-d,this.anchorY=_-h,this.originX=0===u?p.offsetX-b:p.offsetX,this.originY=p.offsetY,this.height=m.height,this.width=0===u||u===f.length-1?m.width[f[u]]+b:m.width[f[u]],this.imageHeight=E.height,this.imageWidth=E.width,0===this.images_.length)this.images_.push(E);else{var x=this.images_[this.images_.length-1];(0,r.getUid)(x)!=(0,r.getUid)(E)&&(this.groupIndices.push(this.indices.length),this.images_.push(E))}this.drawText_(n,0,i,o)}d+=this.width}}},e.prototype.getTextSize_=function(t){var e=this,n=this.currAtlas_,i=t.length*n.height;return[t.map(function(t){for(var i=0,r=0,o=t.length;r<o;++r){var a=t[r];n.width[a]||e.addCharToAtlas_(a),i+=n.width[a]?n.width[a]:0}return i}).reduce(function(t,e){return Math.max(t,e)}),i]},e.prototype.drawText_=function(t,e,n,i){for(var r=e,o=n;r<o;r+=i)this.drawCoordinates(t,e,n,i)},e.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,n=this.state_,i=this.measureCanvas_.getContext("2d");i.font=n.font;var r=Math.ceil(i.measureText(t).width*n.scale);e.atlas.add(t,r,e.height,function(e,i,r){e.font=n.font,e.fillStyle=n.fillColor,e.strokeStyle=n.strokeColor,e.lineWidth=n.lineWidth,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.miterLimit=n.miterLimit,e.textAlign="left",e.textBaseline="top",l.CANVAS_LINE_DASH&&n.lineDash&&(e.setLineDash(n.lineDash),e.lineDashOffset=n.lineDashOffset),1!==n.scale&&e.setTransform(n.scale,0,0,n.scale,0,0),n.strokeColor&&e.strokeText(t,i,r),n.fillColor&&e.fillText(t,i,r)})&&(e.width[t]=r)}},e.prototype.finish=function(e){var n=e.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new f["default"](this.vertices),this.indicesBuffer=new f["default"](this.indices),this.createTextures(this.textures_,this.images_,{},n),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,t.prototype.finish.call(this,e)},e.prototype.setTextStyle=function(t){var e=this.state_,n=t.getFill(),i=t.getStroke();if(t&&t.getText()&&(n||i)){if(n){var r=n.getColor();e.fillColor=(0,o.asColorLike)(r||c.DEFAULT_FILLSTYLE)}else e.fillColor=null;if(i){var a=i.getColor();e.strokeColor=(0,o.asColorLike)(a||c.DEFAULT_STROKESTYLE),e.lineWidth=i.getWidth()||c.DEFAULT_LINEWIDTH,e.lineCap=i.getLineCap()||c.DEFAULT_LINECAP,e.lineDashOffset=i.getLineDashOffset()||c.DEFAULT_LINEDASHOFFSET,e.lineJoin=i.getLineJoin()||c.DEFAULT_LINEJOIN,e.miterLimit=i.getMiterLimit()||c.DEFAULT_MITERLIMIT;var s=i.getLineDash();e.lineDash=s?s.slice():c.DEFAULT_LINEDASH}else e.strokeColor=null,e.lineWidth=0;e.font=t.getFont()||c.DEFAULT_FONT,e.scale=t.getScale()||1,this.text_=t.getText();var l=u.TEXT_ALIGN[t.getTextAlign()],d=u.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===l?c.DEFAULT_TEXTALIGN:l,this.textBaseline_=void 0===d?c.DEFAULT_TEXTBASELINE:d,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(e)}else this.text_=""},e.prototype.getAtlas_=function(t){var e=[];for(var n in t)(t[n]||0===t[n])&&(Array.isArray(t[n])?e=e.concat(t[n]):e.push(t[n]));var i=this.calculateHash_(e);if(!this.atlases_[i]){var r=this.measureCanvas_.getContext("2d");r.font=t.font;var o=Math.ceil((1.5*r.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[i]={atlas:new h["default"]({space:t.lineWidth+1}),width:{},height:o}}return this.atlases_[i]},e.prototype.calculateHash_=function(t){for(var e="",n=0,i=t.length;n<i;++n)e+=t[n];return e},e.prototype.getTextures=function(t){return this.textures_},e.prototype.getHitDetectionTextures=function(){return this.textures_},e}(d["default"]),m=p;n["default"]=m},{"../../util.js":"YOqM","../../colorlike.js":"GezW","../../dom.js":"fRxd","../../geom/GeometryType.js":"naLT","../../has.js":"lDpN","../replay.js":"v69V","../webgl.js":"SFW8","./TextureReplay.js":"nz22","../../style/AtlasManager.js":"mRfv","../../webgl/Buffer.js":"nfqH"}],zeoj:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../array.js"),o=t("../../extent.js"),a=t("../../obj.js"),s=t("../replay.js"),l=i(t("../ReplayGroup.js")),u=i(t("./CircleReplay.js")),c=i(t("./ImageReplay.js")),d=i(t("./LineStringReplay.js")),h=i(t("./PolygonReplay.js")),f=i(t("./TextReplay.js")),p=[1,1],m={Circle:u["default"],Image:c["default"],LineString:d["default"],Polygon:h["default"],Text:f["default"]},g=function(t){function e(e,n,i){t.call(this),this.maxExtent_=n,this.tolerance_=e,this.renderBuffer_=i,this.replaysByZIndex_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){return[]},e.prototype.getDeleteResourcesFunction=function(t){var e,n=[];for(e in this.replaysByZIndex_){var i=this.replaysByZIndex_[e];for(var r in i)n.push(i[r].getDeleteResourcesFunction(t))}return function(){for(var t,e=arguments,i=n.length,r=0;r<i;r++)t=n[r].apply(this,e);return t}},e.prototype.finish=function(t){var e;for(e in this.replaysByZIndex_){var n=this.replaysByZIndex_[e];for(var i in n)n[i].finish(t)}},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];return void 0===r&&(r=new(0,m[e])(this.tolerance_,this.maxExtent_),i[e]=r),r},e.prototype.isEmpty=function(){return(0,a.isEmpty)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,o,a,l,u){var c,d,h,f,p,m,g=Object.keys(this.replaysByZIndex_).map(Number);for(g.sort(r.numberSafeCompareFunction),c=0,d=g.length;c<d;++c)for(p=this.replaysByZIndex_[g[c].toString()],h=0,f=s.ORDER.length;h<f;++h)m=p[s.ORDER[h]],void 0!==m&&m.replay(t,e,n,i,o,a,l,u,void 0,!1)},e.prototype.replayHitDetection_=function(t,e,n,i,r,o,a,l,u,c,d){var h,f,p,m,g,v,y=Object.keys(this.replaysByZIndex_).map(Number);for(y.sort(function(t,e){return e-t}),h=0,f=y.length;h<f;++h)for(m=this.replaysByZIndex_[y[h].toString()],p=s.ORDER.length-1;p>=0;--p)if(void 0!==(g=m[s.ORDER[p]])&&(v=g.replay(t,e,n,i,r,o,a,l,u,c,d)))return v},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,a,s,l,u,c){var d,h=e.getGL();return h.bindFramebuffer(h.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(d=(0,o.buffer)((0,o.createOrUpdateFromCoordinate)(t),i*this.renderBuffer_)),this.replayHitDetection_(e,t,i,r,p,s,l,u,function(t){var e=new Uint8Array(4);if(h.readPixels(0,0,1,1,h.RGBA,h.UNSIGNED_BYTE,e),e[3]>0){var n=c(t);if(n)return n}},!0,d)},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r,o,a,s,l){var u=e.getGL();return u.bindFramebuffer(u.FRAMEBUFFER,e.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(e,t,i,r,p,a,s,l,function(t){var e=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),e[3]>0},!1)},e}(l["default"]),v=g;n["default"]=v},{"../../array.js":"Z5sL","../../extent.js":"IwSU","../../obj.js":"qC1c","../replay.js":"v69V","../ReplayGroup.js":"SCQ4","./CircleReplay.js":"HTbc","./ImageReplay.js":"yT3n","./LineStringReplay.js":"QKC4","./PolygonReplay.js":"kR56","./TextReplay.js":"l3ps"}],rKUG:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../extent.js"),o=i(t("../../geom/GeometryType.js")),a=i(t("../ReplayType.js")),s=i(t("../VectorContext.js")),l=i(t("./ReplayGroup.js")),u=function(t){function e(e,n,i,r,o,a,s){t.call(this),this.context_=e,this.center_=n,this.extent_=a,this.pixelRatio_=s,this.size_=o,this.rotation_=r,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText_=function(t,e){var n=this.context_,i=t.getReplay(0,a["default"].TEXT);i.setTextStyle(this.textStyle_),i.drawText(e,null),i.finish(n),i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),i.getDeleteResourcesFunction(n)()},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case o["default"].POINT:this.drawPoint(t,null);break;case o["default"].LINE_STRING:this.drawLineString(t,null);break;case o["default"].POLYGON:this.drawPolygon(t,null);break;case o["default"].MULTI_POINT:this.drawMultiPoint(t,null);break;case o["default"].MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case o["default"].MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case o["default"].GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case o["default"].CIRCLE:this.drawCircle(t,null)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&(0,r.intersects)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t,e){var n,i,r=t.getGeometriesArray();for(n=0,i=r.length;n<i;++n)this.drawGeometry(r[n])},e.prototype.drawPoint=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiPoint=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawLineString=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiLineString=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawPolygon=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawMultiPolygon=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.drawCircle=function(t,e){var n=this.context_,i=new l["default"](1,this.extent_),r=i.getReplay(0,a["default"].CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(n),r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(n)(),this.textStyle_&&this.drawText_(i,t)},e.prototype.setImageStyle=function(t){this.imageStyle_=t},e.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},e.prototype.setTextStyle=function(t){this.textStyle_=t},e}(s["default"]),c=u;n["default"]=c},{"../../extent.js":"IwSU","../../geom/GeometryType.js":"naLT","../ReplayType.js":"I0Hp","../VectorContext.js":"lYEk","./ReplayGroup.js":"zeoj"}],ZgYw:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../webgl.js"),o=i(t("../../webgl/Fragment.js")),a=i(t("../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");n.vertex=l},{"../../webgl.js":"SvAv","../../webgl/Fragment.js":"qFEE","../../webgl/Vertex.js":"c15H"}],jKpB:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../webgl.js"),r=function(t,e){this.u_texCoordMatrix=t.getUniformLocation(e,i.DEBUG?"u_texCoordMatrix":"d"),this.u_projectionMatrix=t.getUniformLocation(e,i.DEBUG?"u_projectionMatrix":"e"),this.u_opacity=t.getUniformLocation(e,i.DEBUG?"u_opacity":"f"),this.u_texture=t.getUniformLocation(e,i.DEBUG?"u_texture":"g"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"c")},o=r;n["default"]=o},{"../../../webgl.js":"SvAv"}],SWVQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../render/Event.js")),a=i(t("../../render/EventType.js")),s=i(t("../../render/webgl/Immediate.js")),l=i(t("../Layer.js")),u=t("./defaultmapshader.js"),c=i(t("./defaultmapshader/Locations.js")),d=t("../../transform.js"),h=t("../../vec/mat4.js"),f=t("../../webgl.js"),p=i(t("../../webgl/Buffer.js")),m=t("../../webgl/Context.js"),g=function(t){function e(e,n){t.call(this,n),this.mapRenderer=e,this.arrayBuffer_=new p["default"]([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=(0,d.create)(),this.projectionMatrix=(0,d.create)(),this.tmpMat4_=(0,h.create)(),this.defaultLocations_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindFramebuffer=function(t,e){var n=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=e){var i=function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,n,this.framebuffer,this.texture);t.postRenderFunctions.push(i);var r=(0,m.createEmptyTexture)(n,e,e),o=n.createFramebuffer();n.bindFramebuffer(f.FRAMEBUFFER,o),n.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,r,0),this.texture=r,this.framebuffer=o,this.framebufferDimension=e}else n.bindFramebuffer(f.FRAMEBUFFER,this.framebuffer)},e.prototype.composeFrame=function(t,e,n){this.dispatchComposeEvent_(a["default"].PRECOMPOSE,n,t),n.bindBuffer(f.ARRAY_BUFFER,this.arrayBuffer_);var i,r=n.getGL(),o=n.getProgram(u.fragment,u.vertex);this.defaultLocations_?i=this.defaultLocations_:(i=new c["default"](r,o),this.defaultLocations_=i),n.useProgram(o)&&(r.enableVertexAttribArray(i.a_position),r.vertexAttribPointer(i.a_position,2,f.FLOAT,!1,16,0),r.enableVertexAttribArray(i.a_texCoord),r.vertexAttribPointer(i.a_texCoord,2,f.FLOAT,!1,16,8),r.uniform1i(i.u_texture,0)),r.uniformMatrix4fv(i.u_texCoordMatrix,!1,(0,h.fromTransform)(this.tmpMat4_,this.getTexCoordMatrix())),r.uniformMatrix4fv(i.u_projectionMatrix,!1,(0,h.fromTransform)(this.tmpMat4_,this.getProjectionMatrix())),r.uniform1f(i.u_opacity,e.opacity),r.bindTexture(f.TEXTURE_2D,this.getTexture()),r.drawArrays(f.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(a["default"].POSTCOMPOSE,n,t)},e.prototype.dispatchComposeEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var r=n.viewState,a=r.resolution,l=n.pixelRatio,u=n.extent,c=r.center,d=r.rotation,h=n.size,f=new s["default"](e,c,a,d,h,u,l),p=new o["default"](t,f,n,null,e);i.dispatchEvent(p)}},e.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},e.prototype.getTexture=function(){return this.texture},e.prototype.getProjectionMatrix=function(){return this.projectionMatrix},e.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},e.prototype.prepareFrame=function(t,e,n){return(0,r["abstract"])()},e.prototype.forEachLayerAtPixel=function(t,e,n,i){return(0,r["abstract"])()},e}(l["default"]),v=g;n["default"]=v},{"../../util.js":"YOqM","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/webgl/Immediate.js":"rKUG","../Layer.js":"I2tc","./defaultmapshader.js":"ZgYw","./defaultmapshader/Locations.js":"jKpB","../../transform.js":"glB6","../../vec/mat4.js":"YrKs","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH","../../webgl/Context.js":"hsoJ"}],wxEj:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../reproj/common.js"),o=i(t("../../LayerType.js")),a=i(t("../../ViewHint.js")),s=t("../../dom.js"),l=t("../../extent.js"),u=i(t("./Layer.js")),c=t("../../transform.js"),d=t("../../webgl.js"),h=t("../../webgl/Context.js"),f=function(t){function e(e,n){t.call(this,e,n),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createTexture_=function(t){var e=t.getImage(),n=this.mapRenderer.getGL();return(0,h.createTexture)(n,e,d.CLAMP_TO_EDGE,d.CLAMP_TO_EDGE)},e.prototype.prepareFrame=function(t,e,n){var i=this.mapRenderer.getGL(),o=t.pixelRatio,s=t.viewState,u=s.center,d=s.resolution,h=s.rotation,f=this.image_,p=this.texture,m=this.getLayer().getSource(),g=t.viewHints,v=t.extent;if(void 0!==e.extent&&(v=(0,l.getIntersection)(v,e.extent)),!g[a["default"].ANIMATING]&&!g[a["default"].INTERACTING]&&!(0,l.isEmpty)(v)){var y=s.projection;if(!r.ENABLE_RASTER_REPROJECTION){var _=m.getProjection();_&&(y=_)}var b=m.getImage(v,d,o,y);if(b&&this.loadImage(b)&&(f=b,p=this.createTexture_(b),this.texture)){var E=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,i,this.texture);t.postRenderFunctions.push(E)}}if(f){var x=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(x.width,x.height,o,u,d,h,f.getExtent()),this.hitTransformationMatrix_=null;var C=this.texCoordMatrix;(0,c.reset)(C),(0,c.scale)(C,1,-1),(0,c.translate)(C,0,-1),this.image_=f,this.texture=p}return!!f},e.prototype.updateProjectionMatrix_=function(t,e,n,i,r,o,a){var s=t*r,l=e*r,u=this.projectionMatrix;(0,c.reset)(u),(0,c.scale)(u,2*n/s,2*n/l),(0,c.rotate)(u,-o),(0,c.translate)(u,a[0]-i[0],a[1]-i[1]),(0,c.scale)(u,(a[2]-a[0])/2,(a[3]-a[1])/2),(0,c.translate)(u,1,1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i){if(this.image_&&this.image_.getImage()){var r=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,r));var o=(0,c.apply)(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>r[0]||o[1]<0||o[1]>r[1])){this.hitCanvasContext_||(this.hitCanvasContext_=(0,s.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var a=this.hitCanvasContext_.getImageData(0,0,1,1).data;return a[3]>0?n.call(i,this.getLayer(),a):void 0}}},e.prototype.getHitTransformationMatrix_=function(t,e){var n=(0,c.create)();(0,c.translate)(n,-1,-1),(0,c.scale)(n,2/t[0],2/t[1]),(0,c.translate)(n,0,t[1]),(0,c.scale)(n,1,-1);var i=(0,c.invert)(this.projectionMatrix.slice()),r=(0,c.create)();return(0,c.translate)(r,0,e[1]),(0,c.scale)(r,1,-1),(0,c.scale)(r,e[0]/2,e[1]/2),(0,c.translate)(r,1,1),(0,c.multiply)(r,i),(0,c.multiply)(r,n),r},e}(u["default"]);f.handles=function(t){return t.getType()===o["default"].IMAGE},f.create=function(t,e){return new f(t,e)};var p=f;n["default"]=p},{"../../reproj/common.js":"gSGW","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../dom.js":"fRxd","../../extent.js":"IwSU","./Layer.js":"SWVQ","../../transform.js":"glB6","../../webgl.js":"SvAv","../../webgl/Context.js":"hsoJ"}],HeCE:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var a=t("../../array.js"),s=t("../../css.js"),l=t("../../dom.js"),u=t("../../events.js"),c=t("../../layer/Layer.js"),d=o(t("../../render/Event.js")),h=o(t("../../render/EventType.js")),f=o(t("../../render/webgl/Immediate.js")),p=r(t("../Map.js")),m=o(t("../../source/State.js")),g=o(t("../../structs/LRUCache.js")),v=o(t("../../structs/PriorityQueue.js")),y=t("../../webgl.js"),_=o(t("../../webgl/Context.js")),b=o(t("../../webgl/ContextEventType.js")),E=1024,x=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=s.CLASS_UNSELECTABLE,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=(0,l.createCanvasContext2D)(),this.renderedVisible_=!0,this.gl_=(0,y.getContext)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new _["default"](this.canvas_,this.gl_),(0,u.listen)(this.canvas_,b["default"].LOST,this.handleWebGLContextLost,this),(0,u.listen)(this.canvas_,b["default"].RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new g["default"],this.focus_=null,this.tileTextureQueue_=new v["default"](function(t){var e=t[1],n=t[2],i=e[0]-this.focus_[0],r=e[1]-this.focus_[1];return 65536*Math.log(n)+Math.sqrt(i*i+r*r)/n}.bind(this),function(t){return t[0].getKey()}),this.loadNextTileTexture_=function(t,e){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var n=this.tileTextureQueue_.dequeue(),i=n[0],r=n[3],o=n[4];this.bindTileTexture(i,r,o,y.LINEAR,y.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bindTileTexture=function(t,e,n,i,r){var o=this.getGL(),a=t.getKey();if(this.textureCache_.containsKey(a)){var s=this.textureCache_.get(a);o.bindTexture(y.TEXTURE_2D,s.texture),s.magFilter!=i&&(o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,i),s.magFilter=i),s.minFilter!=r&&(o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,r),s.minFilter=r)}else{var l=o.createTexture(),u=t;if(o.bindTexture(y.TEXTURE_2D,l),n>0){var c=this.clipTileContext_.canvas,d=this.clipTileContext_;this.clipTileCanvasWidth_!==e[0]||this.clipTileCanvasHeight_!==e[1]?(c.width=e[0],c.height=e[1],this.clipTileCanvasWidth_=e[0],this.clipTileCanvasHeight_=e[1]):d.clearRect(0,0,e[0],e[1]),d.drawImage(u.getImage(),n,n,e[0],e[1],0,0,e[0],e[1]),o.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,c)}else o.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,u.getImage());o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,i),o.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,r),o.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),o.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),this.textureCache_.set(a,{texture:l,magFilter:i,minFilter:r})}},e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=this.context_,r=e.extent,o=e.size,a=e.viewState,s=e.pixelRatio,l=a.resolution,u=a.center,c=a.rotation,h=new f["default"](i,u,l,c,o,r,s),p=new d["default"](t,h,e,null,i);n.dispatchEvent(p)}},e.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.expireCache_=function(t,e){for(var n,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>E;){if(n=this.textureCache_.peekLast())i.deleteTexture(n.texture);else{if(+this.textureCache_.peekLastKey()==e.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},e.prototype.getContext=function(){return this.context_},e.prototype.getGL=function(){return this.gl_},e.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},e.prototype.handleWebGLContextLost=function(t){t.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var e=this.getLayerRenderers();for(var n in e)e[n].handleWebGLContextLost()},e.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},e.prototype.initializeGL_=function(){var t=this.gl_;t.activeTexture(y.TEXTURE0),t.blendFuncSeparate(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA,y.ONE,y.ONE_MINUS_SRC_ALPHA),t.disable(y.CULL_FACE),t.disable(y.DEPTH_TEST),t.disable(y.SCISSOR_TEST),t.disable(y.STENCIL_TEST)},e.prototype.isTileTextureLoaded=function(t){return this.textureCache_.containsKey(t.getKey())},e.prototype.renderFrame=function(t){var e=this.getContext(),n=this.getGL();if(n.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(h["default"].PRECOMPOSE,t);var i=[],r=t.layerStatesArray;(0,a.stableSort)(r,p.sortByZIndex);var o,s,l=t.viewState.resolution;for(o=0,s=r.length;o<s;++o){var u=r[o];(0,c.visibleAtResolution)(u,l)&&u.sourceState==m["default"].READY&&this.getLayerRenderer(u.layer).prepareFrame(t,u,e)&&i.push(u)}var d=t.size[0]*t.pixelRatio,f=t.size[1]*t.pixelRatio;for(this.canvas_.width==d&&this.canvas_.height==f||(this.canvas_.width=d,this.canvas_.height=f),n.bindFramebuffer(y.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(y.COLOR_BUFFER_BIT),n.enable(y.BLEND),n.viewport(0,0,this.canvas_.width,this.canvas_.height),o=0,s=i.length;o<s;++o){var g=i[o];this.getLayerRenderer(g.layer).composeFrame(t,g,e)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>E&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(h["default"].POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,a){var s;if(this.getGL().isContextLost())return!1;var l,u=e.viewState,d=e.layerStatesArray;for(l=d.length-1;l>=0;--l){var h=d[l],f=h.layer;if((0,c.visibleAtResolution)(h,u.resolution)&&o.call(a,f)&&(s=this.getLayerRenderer(f).forEachFeatureAtCoordinate(t,e,n,i)))return s}},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){var o=!1;if(this.getGL().isContextLost())return!1;var a,s=e.viewState,l=e.layerStatesArray;for(a=l.length-1;a>=0;--a){var u=l[a],d=u.layer;if((0,c.visibleAtResolution)(u,s.resolution)&&i.call(r,d)&&(o=this.getLayerRenderer(d).hasFeatureAtCoordinate(t,e)))return!0}return o},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,a){if(this.getGL().isContextLost())return!1;var s,l,u=e.viewState,d=e.layerStatesArray;for(l=d.length-1;l>=0;--l){var h=d[l],f=h.layer;if((0,c.visibleAtResolution)(h,u.resolution)&&o.call(r,f)&&(s=this.getLayerRenderer(f).forEachLayerAtPixel(t,e,i,r)))return s}},e}(p["default"]),C=x;n["default"]=C},{"../../array.js":"Z5sL","../../css.js":"K4Xi","../../dom.js":"fRxd","../../events.js":"Bvf5","../../layer/Layer.js":"QsxU","../../render/Event.js":"lWFx","../../render/EventType.js":"tder","../../render/webgl/Immediate.js":"rKUG","../Map.js":"CSlS","../../source/State.js":"PNQw","../../structs/LRUCache.js":"jGvh","../../structs/PriorityQueue.js":"xnA2","../../webgl.js":"SvAv","../../webgl/Context.js":"hsoJ","../../webgl/ContextEventType.js":"VsgE"}],sAMA:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var o=t("./common.js"),a=t("../asserts.js"),s=r(t("../TileRange.js")),l=t("../array.js"),u=t("../extent.js"),c=t("../math.js"),d=t("../size.js"),h=t("../tilecoord.js"),f=[0,0,0],p=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,(0,a.assert)((0,l.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){
e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,(0,a.assert)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=(0,u.getTopLeft)(r)),(0,a.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,(0,a.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:o.DEFAULT_TILE_SIZE,(0,a.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new s["default"](Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):r&&this.calculateTileRanges_(r)};p.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,r,a])},p.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,a,l,u=null,c=t[0]-1;for(2===this.zoomFactor_?(a=t[1],l=t[2]):u=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(2===this.zoomFactor_?(a=Math.floor(a/2),l=Math.floor(l/2),o=(0,s.createOrUpdate)(a,a,l,l,i)):o=this.getTileRangeForExtentAndZ(u,c,i),e.call(n,c,o))return!0;--c}return!1},p.prototype.getExtent=function(){return this.extent_},p.prototype.getMaxZoom=function(){return this.maxZoom},p.prototype.getMinZoom=function(){return this.minZoom},p.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},p.prototype.getResolution=function(t){return this.resolutions_[t]},p.prototype.getResolutions=function(){return this.resolutions_},p.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return(0,s.createOrUpdate)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},p.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=(0,d.toSize)(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*o[0]*r,s=i[0]+(e.maxX+1)*o[0]*r,l=i[1]+e.minY*o[1]*r,c=i[1]+(e.maxY+1)*o[1]*r;return(0,u.createOrUpdate)(a,l,s,c,n)},p.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=f;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),(0,s.createOrUpdate)(r,i[1],o,i[2],n)},p.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=(0,d.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},p.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=(0,d.toSize)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,a=n[1]+t[2]*r[1]*i,s=o+r[0]*i,l=a+r[1]*i;return(0,u.createOrUpdate)(o,a,s,l,e)},p.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},p.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=(0,d.toSize)(this.getTileSize(o),this.tmpSize_),u=i?.5:0,c=i?0:.5,f=Math.floor((t-s[0])/n+u),p=Math.floor((e-s[1])/n+c),m=a*f/l[0],g=a*p/l[1];return i?(m=Math.ceil(m)-1,g=Math.ceil(g)-1):(m=Math.floor(m),g=Math.floor(g)),(0,h.createOrUpdate)(o,m,g,r)},p.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=(0,d.toSize)(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?0:.5,c=Math.floor((t-o[0])/a+l),f=Math.floor((e-o[1])/a+u),p=c/s[0],m=f/s[1];return i?(p=Math.ceil(p)-1,m=Math.ceil(m)-1):(p=Math.floor(p),m=Math.floor(m)),(0,h.createOrUpdate)(n,p,m,r)},p.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},p.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},p.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},p.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},p.prototype.getZForResolution=function(t,e){var n=(0,l.linearFindNearest)(this.resolutions_,t,e||0);return(0,c.clamp)(n,this.minZoom,this.maxZoom)},p.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var m=p;n["default"]=m},{"./common.js":"vSap","../asserts.js":"E2kQ","../TileRange.js":"e8gP","../array.js":"Z5sL","../extent.js":"IwSU","../math.js":"RK1r","../size.js":"yPgw","../tilecoord.js":"GjeS"}],ORsq:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e=t.getDefaultTileGrid();return e||(e=u(t),t.setDefaultTileGrid(e)),e}function o(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=c(n);if((0,f.containsCoordinate)(o,r))return e;var a=(0,f.getWidth)(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,t.getTileCoordForCoordAndZ(r,i)}function a(t,e,n,i){var r=void 0!==i?i:p["default"].TOP_LEFT,o=l(t,e,n);return new v["default"]({extent:t,origin:(0,f.getCorner)(t,r),resolutions:o,tileSize:n})}function s(t){var e=t||{},n=e.extent||(0,m.get)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:l(n,e.maxZoom,e.tileSize)};return new v["default"](i)}function l(t,e,n){for(var i=void 0!==e?e:d.DEFAULT_MAX_ZOOM,r=(0,f.getHeight)(t),o=(0,f.getWidth)(t),a=(0,h.toSize)(void 0!==n?n:d.DEFAULT_TILE_SIZE),s=Math.max(o/a[0],r/a[1]),l=i+1,u=new Array(l),c=0;c<l;++c)u[c]=s/Math.pow(2,c);return u}function u(t,e,n,i){return a(c(t),e,n,i)}function c(t){var e=(t=(0,m.get)(t)).getExtent();if(!e){var n=180*m.METERS_PER_UNIT[g["default"].DEGREES]/t.getMetersPerUnit();e=(0,f.createOrUpdate)(-n,-n,n,n)}return e}Object.defineProperty(n,"__esModule",{value:!0}),n.getForProjection=r,n.wrapX=o,n.createForExtent=a,n.createXYZ=s,n.createForProjection=u,n.extentFromProjection=c;var d=t("./tilegrid/common.js"),h=t("./size.js"),f=t("./extent.js"),p=i(t("./extent/Corner.js")),m=t("./proj.js"),g=i(t("./proj/Units.js")),v=i(t("./tilegrid/TileGrid.js"))},{"./tilegrid/common.js":"vSap","./size.js":"yPgw","./extent.js":"IwSU","./extent/Corner.js":"RMGy","./proj.js":"aoEo","./proj/Units.js":"RNSs","./tilegrid/TileGrid.js":"sAMA"}],Chpm:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.TileSourceEvent=void 0;var r=t("../util.js"),o=i(t("../TileCache.js")),a=i(t("../TileState.js")),s=i(t("../events/Event.js")),l=t("../proj.js"),u=t("../size.js"),c=i(t("./Source.js")),d=t("../tilecoord.js"),h=t("../tilegrid.js"),f=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new o["default"](e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,s,l,u=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)s=(0,d.getKeyZXY)(e,c,h),l=!1,r.containsKey(s)&&(l=(o=r.get(s)).getState()===a["default"].LOADED)&&(l=!1!==i(o)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return(0,r["abstract"])()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,h.getForProjection)(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,l.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=(0,u.toSize)(i.getTileSize(t),this.tmpSize);return 1==r?o:(0,u.scale)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=(0,h.wrapX)(i,t,n)),(0,d.withinExtentAndZ)(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(c["default"]),p=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]);n.TileSourceEvent=p;var m=f;n["default"]=m},{"../util.js":"YOqM","../TileCache.js":"d5tC","../TileState.js":"gwpL","../events/Event.js":"h36w","../proj.js":"aoEo","../size.js":"yPgw","./Source.js":"Hr1t","../tilecoord.js":"GjeS","../tilegrid.js":"ORsq"}],m4vQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.vertex=n.fragment=void 0;var r=t("../../webgl.js"),o=i(t("../../webgl/Fragment.js")),a=i(t("../../webgl/Vertex.js")),s=new o["default"](r.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");n.fragment=s;var l=new a["default"](r.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");n.vertex=l},{"../../webgl.js":"SvAv","../../webgl/Fragment.js":"qFEE","../../webgl/Vertex.js":"c15H"}],AOYt:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("../../../webgl.js"),r=function(t,e){this.u_tileOffset=t.getUniformLocation(e,i.DEBUG?"u_tileOffset":"d"),this.u_texture=t.getUniformLocation(e,i.DEBUG?"u_texture":"e"),this.a_position=t.getAttribLocation(e,i.DEBUG?"a_position":"b"),this.a_texCoord=t.getAttribLocation(e,i.DEBUG?"a_texCoord":"c")},o=r;n["default"]=o},{"../../../webgl.js":"SvAv"}],nO0D:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("../../LayerType.js")),o=i(t("../../ImageTile.js")),a=i(t("../../TileRange.js")),s=i(t("../../TileState.js")),l=i(t("../../source/Tile.js")),u=t("../../array.js"),c=t("../../extent.js"),d=t("../../math.js"),h=i(t("./Layer.js")),f=t("./tilelayershader.js"),p=i(t("./tilelayershader/Locations.js")),m=t("../../size.js"),g=t("../../transform.js"),v=t("../../webgl.js"),y=i(t("../../webgl/Buffer.js")),_=function(t){function e(e,n){t.call(this,e,n),this.fragmentShader_=f.fragment,this.vertexShader_=f.vertex,this.locations_=null,this.renderArrayBuffer_=new y["default"]([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),t.prototype.disposeInternal.call(this)},e.prototype.createLoadedTileFinder=function(t,e,n){var i=this.mapRenderer;return function(r,o){return t.forEachLoadedTile(e,r,o,function(t){var e=i.isTileTextureLoaded(t);return e&&(n[r]||(n[r]={}),n[r][t.tileCoord.toString()]=t),e})}},e.prototype.handleWebGLContextLost=function(){t.prototype.handleWebGLContextLost.call(this),this.locations_=null},e.prototype.prepareFrame=function(t,e,n){var i=this.mapRenderer,r=n.getGL(),h=t.viewState,f=h.projection,y=this.getLayer(),_=y.getSource();if(!(_ instanceof l["default"]))return!0;var b,E=_.getTileGridForProjection(f),x=E.getZForResolution(h.resolution),C=E.getResolution(x),T=_.getTilePixelSize(x,t.pixelRatio,f),w=T[0]/(0,m.toSize)(E.getTileSize(x),this.tmpSize_)[0],S=C/w,M=_.getTilePixelRatio(w)*_.getGutterForProjection(f),j=h.center,O=t.extent,A=E.getTileRangeForExtentAndZ(O,x);if(this.renderedTileRange_&&this.renderedTileRange_.equals(A)&&this.renderedRevision_==_.getRevision())b=this.renderedFramebufferExtent_;else{var R=A.getSize(),P=Math.max(R[0]*T[0],R[1]*T[1]),I=(0,d.roundUpToPowerOfTwo)(P),L=S*I,k=E.getOrigin(x),D=k[0]+A.minX*T[0]*S,N=k[1]+A.minY*T[1]*S;b=[D,N,D+L,N+L],this.bindFramebuffer(t,I),r.viewport(0,0,I,I),r.clearColor(0,0,0,0),r.clear(v.COLOR_BUFFER_BIT),r.disable(v.BLEND);var F=n.getProgram(this.fragmentShader_,this.vertexShader_);n.useProgram(F),this.locations_||(this.locations_=new p["default"](r,F)),n.bindBuffer(v.ARRAY_BUFFER,this.renderArrayBuffer_),r.enableVertexAttribArray(this.locations_.a_position),r.vertexAttribPointer(this.locations_.a_position,2,v.FLOAT,!1,16,0),r.enableVertexAttribArray(this.locations_.a_texCoord),r.vertexAttribPointer(this.locations_.a_texCoord,2,v.FLOAT,!1,16,8),r.uniform1i(this.locations_.u_texture,0);var $={};$[x]={};var G,U,B,H,V,z,W=this.createLoadedTileFinder(_,f,$),q=y.getUseInterimTilesOnError(),Y=!0,K=(0,c.createEmpty)(),X=new a["default"](0,0,0,0);for(H=A.minX;H<=A.maxX;++H)for(V=A.minY;V<=A.maxY;++V)if(U=_.getTile(x,H,V,w,f),void 0===e.extent||(z=E.getTileCoordExtent(U.tileCoord,K),(0,c.intersects)(z,e.extent))){if((B=U.getState())==s["default"].LOADED||B==s["default"].EMPTY||B==s["default"].ERROR&&!q||(U=U.getInterimTile()),(B=U.getState())==s["default"].LOADED){if(i.isTileTextureLoaded(U)){$[x][U.tileCoord.toString()]=U;continue}}else if(B==s["default"].EMPTY||B==s["default"].ERROR&&!q)continue;Y=!1,E.forEachTileCoordParentTileRange(U.tileCoord,W,null,X,K)||(G=E.getTileCoordChildTileRange(U.tileCoord,X,K))&&W(x+1,G)}var J=Object.keys($).map(Number);J.sort(u.numberSafeCompareFunction);for(var Z=new Float32Array(4),Q=0,tt=J.length;Q<tt;++Q){var et=$[J[Q]];for(var nt in et)(U=et[nt])instanceof o["default"]&&(z=E.getTileCoordExtent(U.tileCoord,K),Z[0]=2*(z[2]-z[0])/L,Z[1]=2*(z[3]-z[1])/L,Z[2]=2*(z[0]-b[0])/L-1,Z[3]=2*(z[1]-b[1])/L-1,r.uniform4fv(this.locations_.u_tileOffset,Z),i.bindTileTexture(U,T,M*w,v.LINEAR,v.LINEAR),r.drawArrays(v.TRIANGLE_STRIP,0,4))}Y?(this.renderedTileRange_=A,this.renderedFramebufferExtent_=b,this.renderedRevision_=_.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,t.animate=!0)}this.updateUsedTiles(t.usedTiles,_,x,A);var it=i.getTileTextureQueue();this.manageTilePyramid(t,_,E,w,f,O,x,y.getPreload(),function(t){t.getState()!=s["default"].LOADED||i.isTileTextureLoaded(t)||it.isKeyQueued(t.getKey())||it.enqueue([t,E.getTileCoordCenter(t.tileCoord),E.getResolution(t.tileCoord[0]),T,M*w])},this),this.scheduleExpireCache(t,_);var rt=this.texCoordMatrix;return(0,g.reset)(rt),(0,g.translate)(rt,(Math.round(j[0]/C)*C-b[0])/(b[2]-b[0]),(Math.round(j[1]/C)*C-b[1])/(b[3]-b[1])),0!==h.rotation&&(0,g.rotate)(rt,h.rotation),(0,g.scale)(rt,t.size[0]*h.resolution/(b[2]-b[0]),t.size[1]*h.resolution/(b[3]-b[1])),(0,g.translate)(rt,-.5,-.5),!0},e.prototype.forEachLayerAtPixel=function(t,e,n,i){if(this.framebuffer){var r=[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]],o=(0,g.apply)(this.texCoordMatrix,r.slice()),a=[o[0]*this.framebufferDimension,o[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?n.call(i,this.getLayer(),l):void 0}},e}(h["default"]);_.handles=function(t){return t.getType()===r["default"].TILE},_.create=function(t,e){return new _(t,e)};var b=_;n["default"]=b},{"../../LayerType.js":"GkHV","../../ImageTile.js":"REYz","../../TileRange.js":"e8gP","../../TileState.js":"gwpL","../../source/Tile.js":"Chpm","../../array.js":"Z5sL","../../extent.js":"IwSU","../../math.js":"RK1r","./Layer.js":"SWVQ","./tilelayershader.js":"m4vQ","./tilelayershader/Locations.js":"AOYt","../../size.js":"yPgw","../../transform.js":"glB6","../../webgl.js":"SvAv","../../webgl/Buffer.js":"nfqH"}],JFJE:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=t("../../util.js"),o=i(t("../../LayerType.js")),a=i(t("../../ViewHint.js")),s=t("../../extent.js"),l=i(t("../../render/webgl/ReplayGroup.js")),u=t("../vector.js"),c=i(t("./Layer.js")),d=t("../../transform.js"),h=function(t){function e(e,n){t.call(this,e,n),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,s.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.layerState_=e;var i=t.viewState,r=this.replayGroup_,o=t.size,a=t.pixelRatio,s=this.mapRenderer.getGL();r&&!r.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),r.replay(n,i.center,i.resolution,i.rotation,o,a,e.opacity,e.managed?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},e.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var n=this.mapRenderer.getContext();e.getDeleteResourcesFunction(n)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_&&this.layerState_){var a=this.mapRenderer.getContext(),s=e.viewState,l=this.getLayer(),u=this.layerState_,c={};return this.replayGroup_.forEachFeatureAtCoordinate(t,a,s.center,s.resolution,s.rotation,e.size,e.pixelRatio,u.opacity,{},function(t){var e=(0,r.getUid)(t);if(!(e in c))return c[e]=!0,i.call(o,t,l)})}},e.prototype.hasFeatureAtCoordinate=function(t,e){if(this.replayGroup_&&this.layerState_){var n=this.mapRenderer.getContext(),i=e.viewState,r=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(t,n,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,r.opacity,e.skippedFeatureUids)}return!1},e.prototype.forEachLayerAtPixel=function(t,e,n,i){var r=(0,d.apply)(e.pixelToCoordinateTransform,t.slice());return this.hasFeatureAtCoordinate(r,e)?n.call(i,this.getLayer(),null):void 0},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e,n){var i=this.getLayer(),r=i.getSource(),o=t.viewHints[a["default"].ANIMATING],c=t.viewHints[a["default"].INTERACTING],d=i.getUpdateWhileAnimating(),h=i.getUpdateWhileInteracting();if(!this.dirty_&&!d&&o||!h&&c)return!0;var f=t.extent,p=t.viewState,m=p.projection,g=p.resolution,v=t.pixelRatio,y=i.getRevision(),_=i.getRenderBuffer(),b=i.getRenderOrder();void 0===b&&(b=u.defaultOrder);var E=(0,s.buffer)(f,_*g);if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==y&&this.renderedRenderOrder_==b&&(0,s.containsExtent)(this.renderedExtent_,E))return!0;this.replayGroup_&&t.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(n)),this.dirty_=!1;var x=new l["default"]((0,u.getTolerance)(g,v),E,i.getRenderBuffer());r.loadFeatures(E,g,m);var C=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,g)),e){var r=this.renderFeature(t,g,v,e,x);this.dirty_=this.dirty_||r}}.bind(this);if(b){var T=[];r.forEachFeatureInExtent(E,function(t){T.push(t)}),T.sort(b),T.forEach(C.bind(this))}else r.forEachFeatureInExtent(E,C);return x.finish(n),this.renderedResolution_=g,this.renderedRevision_=y,this.renderedRenderOrder_=b,this.renderedExtent_=E,this.replayGroup_=x,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var a=i.length-1;a>=0;--a)o=(0,u.renderFeature)(r,t,i[a],(0,u.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this)||o;else o=(0,u.renderFeature)(r,t,i,(0,u.getSquaredTolerance)(e,n),this.handleStyleImageChange_,this)||o;return o},e}(c["default"]);h.handles=function(t){return t.getType()===o["default"].VECTOR},h.create=function(t,e){return new h(t,e)};var f=h;n["default"]=f},{"../../util.js":"YOqM","../../LayerType.js":"GkHV","../../ViewHint.js":"QAjQ","../../extent.js":"IwSU","../../render/webgl/ReplayGroup.js":"zeoj","../vector.js":"UL2L","./Layer.js":"SWVQ","../../transform.js":"glB6"}],iR2a:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var r=i(t("./PluggableMap.js")),o=t("./control.js"),a=t("./interaction.js"),s=t("./obj.js"),l=i(t("./renderer/webgl/ImageLayer.js")),u=i(t("./renderer/webgl/Map.js")),c=i(t("./renderer/webgl/TileLayer.js")),d=i(t("./renderer/webgl/VectorLayer.js")),h=function(t){function e(e){(e=(0,s.assign)({},e)).controls||(e.controls=(0,o.defaults)()),e.interactions||(e.interactions=(0,a.defaults)()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new u["default"](this);return t.registerLayerRenderers([l["default"],c["default"],d["default"]]),t},e}(r["default"]),f=h;n["default"]=f},{"./PluggableMap.js":"UGGs","./control.js":"s9h5","./interaction.js":"VJ6h","./obj.js":"qC1c","./renderer/webgl/ImageLayer.js":"wxEj","./renderer/webgl/Map.js":"HeCE","./renderer/webgl/TileLayer.js":"nO0D","./renderer/webgl/VectorLayer.js":"JFJE"}],Focm:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"AssertionError",{enumerable:!0,get:function(){return r["default"]}}),Object.defineProperty(n,"Collection",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(n,"Disposable",{enumerable:!0,get:function(){return a["default"]}}),Object.defineProperty(n,"Feature",{enumerable:!0,get:function(){return s["default"]}}),Object.defineProperty(n,"Geolocation",{enumerable:!0,get:function(){return l["default"]}}),Object.defineProperty(n,"Graticule",{enumerable:!0,get:function(){return u["default"]}}),Object.defineProperty(n,"Image",{enumerable:!0,get:function(){return c["default"]}}),Object.defineProperty(n,"ImageBase",{enumerable:!0,get:function(){return d["default"]}}),Object.defineProperty(n,"ImageCanvas",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(n,"ImageTile",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(n,"Kinetic",{enumerable:!0,get:function(){return p["default"]}}),Object.defineProperty(n,"Map",{enumerable:!0,get:function(){return m["default"]}}),Object.defineProperty(n,"MapBrowserEvent",{enumerable:!0,get:function(){return g["default"]}}),Object.defineProperty(n,"MapBrowserEventHandler",{enumerable:!0,get:function(){return v["default"]}}),Object.defineProperty(n,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return y["default"]}}),Object.defineProperty(n,"MapEvent",{enumerable:!0,get:function(){return _["default"]}}),Object.defineProperty(n,"Object",{enumerable:!0,get:function(){return b["default"]}}),Object.defineProperty(n,"Observable",{enumerable:!0,get:function(){return E["default"]}}),Object.defineProperty(n,"Overlay",{enumerable:!0,get:function(){return x["default"]}}),Object.defineProperty(n,"PluggableMap",{enumerable:!0,get:function(){return C["default"]}}),Object.defineProperty(n,"Tile",{enumerable:!0,get:function(){return T["default"]}}),Object.defineProperty(n,"TileCache",{enumerable:!0,get:function(){return w["default"]}}),Object.defineProperty(n,"TileQueue",{enumerable:!0,get:function(){return S["default"]}}),Object.defineProperty(n,"TileRange",{enumerable:!0,get:function(){return M["default"]}}),Object.defineProperty(n,"VectorImageTile",{enumerable:!0,get:function(){return j["default"]}}),Object.defineProperty(n,"VectorTile",{enumerable:!0,get:function(){return O["default"]}}),Object.defineProperty(n,"View",{enumerable:!0,get:function(){return A["default"]}}),Object.defineProperty(n,"WebGLMap",{enumerable:!0,get:function(){return R["default"]}}),Object.defineProperty(n,"getUid",{enumerable:!0,get:function(){return P.getUid}}),Object.defineProperty(n,"inherits",{enumerable:!0,get:function(){return P.inherits}}),Object.defineProperty(n,"VERSION",{enumerable:!0,get:function(){return P.VERSION}});var r=i(t("./AssertionError.js")),o=i(t("./Collection.js")),a=i(t("./Disposable.js")),s=i(t("./Feature.js")),l=i(t("./Geolocation.js")),u=i(t("./Graticule.js")),c=i(t("./Image.js")),d=i(t("./ImageBase.js")),h=i(t("./ImageCanvas.js")),f=i(t("./ImageTile.js")),p=i(t("./Kinetic.js")),m=i(t("./Map.js")),g=i(t("./MapBrowserEvent.js")),v=i(t("./MapBrowserEventHandler.js")),y=i(t("./MapBrowserPointerEvent.js")),_=i(t("./MapEvent.js")),b=i(t("./Object.js")),E=i(t("./Observable.js")),x=i(t("./Overlay.js")),C=i(t("./PluggableMap.js")),T=i(t("./Tile.js")),w=i(t("./TileCache.js")),S=i(t("./TileQueue.js")),M=i(t("./TileRange.js")),j=i(t("./VectorImageTile.js")),O=i(t("./VectorTile.js")),A=i(t("./View.js")),R=i(t("./WebGLMap.js")),P=t("./util.js")},{"./AssertionError.js":"vMmu","./Collection.js":"qt30","./Disposable.js":"Kusu","./Feature.js":"YPtS","./Geolocation.js":"r0ZT","./Graticule.js":"CZFy","./Image.js":"krGz","./ImageBase.js":"Vfqz","./ImageCanvas.js":"r5gb","./ImageTile.js":"REYz","./Kinetic.js":"Wo60","./Map.js":"y2IR","./MapBrowserEvent.js":"wJox","./MapBrowserEventHandler.js":"pivB","./MapBrowserPointerEvent.js":"ASyy","./MapEvent.js":"NpCs","./Object.js":"n4ep","./Observable.js":"QniN","./Overlay.js":"ysEj","./PluggableMap.js":"UGGs","./Tile.js":"rqi0","./TileCache.js":"d5tC","./TileQueue.js":"BMBd","./TileRange.js":"e8gP","./VectorImageTile.js":"YLGO","./VectorTile.js":"r6g8","./View.js":"dWZ4","./WebGLMap.js":"iR2a","./util.js":"YOqM"}]},{},["Focm"],"ol"),parcelRequire=function(t,e,n,i){function r(n,i){function o(t){return r(o.resolve(t))}if(!e[n]){if(!t[n]){var l="function"==typeof parcelRequire&&parcelRequire;if(!i&&l)return l(n,!0);if(a)return a(n,!0);if(s&&"string"==typeof n)return s(n);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}o.resolve=function(e){return t[n][1][e]||e},o.cache={};var c=e[n]=new r.Module(n);t[n][0].call(c.exports,o,c,c.exports,this)}return e[n].exports}var o,a="function"==typeof parcelRequire&&parcelRequire,s="function"==typeof require&&require;r.isParcelRequire=!0,r.Module=function(t){this.id=t,this.bundle=r,this.exports={}},r.modules=t,r.cache=e,r.parent=a,r.register=function(e,n){t[e]=[function(t,e){e.exports=n},{}]};for(var l=0;l<n.length;l++)try{r(n[l])}catch(t){o||(o=t)}if(n.length){var u=r(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):i&&(this[i]=u)}if(parcelRequire=r,o)throw o;return r}({YOqM:[function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function o(t){return t.ol_uid||(t.ol_uid=String(++a))}Object.defineProperty(n,"__esModule",{value:!0}),n["abstract"]=i,n.inherits=r,n.getUid=o,n.VERSION=void 0;var a=0,s="5.3.3";n.VERSION=s},{}],vMmu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("./util.js"),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.VERSION?i.VERSION:"v"+i.VERSION.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),o=r;n["default"]=o},{"./util.js":"YOqM"}],E2kQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t)throw new o["default"](e)}Object.defineProperty(n,"__esModule",{value:!0}),n.assert=r;var o=i(t("./AssertionError.js"))},{"./AssertionError.js":"vMmu"}],RK1r:[function(t,e,n){"use strict";function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t){return(0,h.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function o(t,e,n,i,r,o){var s=r-n,l=o-i;if(0!==s||0!==l){var u=((t-n)*s+(e-i)*l)/(s*s+l*l);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=l*u)}return a(t,e,n,i)}function a(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function s(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var d=new Array(e),h=e-1;h>=0;h--){d[h]=t[h][e]/t[h][h];for(var f=h-1;f>=0;f--)t[f][e]-=t[f][h]*d[h]}return d}function l(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function c(t,e){var n=t%e;return n*e<0?n+e:n}function d(t,e,n){return t+n*(e-t)}Object.defineProperty(n,"__esModule",{value:!0}),n.clamp=i,n.roundUpToPowerOfTwo=r,n.squaredSegmentDistance=o,n.squaredDistance=a,n.solveLinearSystem=s,n.toDegrees=l,n.toRadians=u,n.modulo=c,n.lerp=d,n.cosh=void 0;var h=t("./asserts.js"),f="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};n.cosh=f},{"./asserts.js":"E2kQ"}],naLT:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};n["default"]=i},{}],KXaK:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=n||h,r=(0,c.toRadians)(t[1]),o=(0,c.toRadians)(e[1]),a=(o-r)/2,s=(0,c.toRadians)(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function o(t,e){for(var n=0,i=0,o=t.length;i<o-1;++i)n+=r(t[i],t[i+1],e);return n}function a(t,e){var n=e||{},i=n.radius||h,r=n.projection||"EPSG:3857",s=t.getType();s!==d["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(r,"EPSG:4326"));var l,u,c,f,p,m,g=0;switch(s){case d["default"].POINT:case d["default"].MULTI_POINT:break;case d["default"].LINE_STRING:case d["default"].LINEAR_RING:g=o(l=t.getCoordinates(),i);break;case d["default"].MULTI_LINE_STRING:case d["default"].POLYGON:for(c=0,f=(l=t.getCoordinates()).length;c<f;++c)g+=o(l[c],i);break;case d["default"].MULTI_POLYGON:for(c=0,f=(l=t.getCoordinates()).length;c<f;++c)for(p=0,m=(u=l[c]).length;p<m;++p)g+=o(u[p],i);break;case d["default"].GEOMETRY_COLLECTION:var v=t.getGeometries();for(c=0,f=v.length;c<f;++c)g+=a(v[c],e);break;default:throw new Error("Unsupported geometry type: "+s)}return g}function s(t,e){for(var n=0,i=t.length,r=t[i-1][0],o=t[i-1][1],a=0;a<i;a++){var s=t[a][0],l=t[a][1];n+=(0,c.toRadians)(s-r)*(2+Math.sin((0,
c.toRadians)(o))+Math.sin((0,c.toRadians)(l))),r=s,o=l}return n*e*e/2}function l(t,e){var n=e||{},i=n.radius||h,r=n.projection||"EPSG:3857",o=t.getType();o!==d["default"].GEOMETRY_COLLECTION&&(t=t.clone().transform(r,"EPSG:4326"));var a,u,c,f,p,m,g=0;switch(o){case d["default"].POINT:case d["default"].MULTI_POINT:case d["default"].LINE_STRING:case d["default"].MULTI_LINE_STRING:case d["default"].LINEAR_RING:break;case d["default"].POLYGON:for(a=t.getCoordinates(),g=Math.abs(s(a[0],i)),c=1,f=a.length;c<f;++c)g-=Math.abs(s(a[c],i));break;case d["default"].MULTI_POLYGON:for(c=0,f=(a=t.getCoordinates()).length;c<f;++c)for(u=a[c],g+=Math.abs(s(u[0],i)),p=1,m=u.length;p<m;++p)g-=Math.abs(s(u[p],i));break;case d["default"].GEOMETRY_COLLECTION:var v=t.getGeometries();for(c=0,f=v.length;c<f;++c)g+=l(v[c],e);break;default:throw new Error("Unsupported geometry type: "+o)}return g}function u(t,e,n,i){var r=i||h,o=(0,c.toRadians)(t[1]),a=(0,c.toRadians)(t[0]),s=e/r,l=Math.asin(Math.sin(o)*Math.cos(s)+Math.cos(o)*Math.sin(s)*Math.cos(n)),u=a+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(o),Math.cos(s)-Math.sin(o)*Math.sin(l));return[(0,c.toDegrees)(u),(0,c.toDegrees)(l)]}Object.defineProperty(n,"__esModule",{value:!0}),n.getDistance=r,n.getLength=a,n.getArea=l,n.offset=u,n.DEFAULT_RADIUS=void 0;var c=t("./math.js"),d=i(t("./geom/GeometryType.js")),h=6371008.8;n.DEFAULT_RADIUS=h},{"./math.js":"RK1r","./geom/GeometryType.js":"naLT"}],RMGy:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};n["default"]=i},{}],kaLu:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};n["default"]=i},{}],IwSU:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=f(),n=0,i=t.length;n<i;++n)x(e,t[n]);return e}function o(t,e,n){return p(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function s(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function l(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function u(t,e){return d(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function d(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function h(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=e[0],s=e[1],l=J["default"].UNKNOWN;return a<n?l|=J["default"].LEFT:a>r&&(l|=J["default"].RIGHT),s<i?l|=J["default"].BELOW:s>o&&(l|=J["default"].ABOVE),l===J["default"].UNKNOWN&&(l=J["default"].INTERSECTING),l}function f(){return[1/0,1/0,-1/0,-1/0]}function p(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function m(t){return p(1/0,1/0,-1/0,-1/0,t)}function g(t,e){var n=t[0],i=t[1];return p(n,i,n,i,e)}function v(t,e){return C(m(e),t)}function y(t,e,n,i,r){return T(m(r),t,e,n,i)}function _(t,e){return w(m(e),t)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function E(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function x(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var n=0,i=e.length;n<i;++n)x(t,e[n]);return t}function T(t,e,n,i,r){for(;n<i;n+=r)S(t,e[n],e[n+1]);return t}function w(t,e){for(var n=0,i=e.length;n<i;++n)C(t,e[n]);return t}function S(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function M(t,e,n){var i;return(i=e.call(n,O(t)))?i:(i=e.call(n,A(t)))?i:(i=e.call(n,U(t)))?i:(i=e.call(n,G(t)))||!1}function j(t){var e=0;return V(t)||(e=B(t)*k(t)),e}function O(t){return[t[0],t[1]]}function A(t){return[t[2],t[1]]}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function P(t,e){var n;return e===X["default"].BOTTOM_LEFT?n=O(t):e===X["default"].BOTTOM_RIGHT?n=A(t):e===X["default"].TOP_LEFT?n=G(t):e===X["default"].TOP_RIGHT?n=U(t):(0,K.assert)(!1,13),n}function I(t,e){var n=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-i)}function L(t,e,n,i,r){var o=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=o*s,c=o*l,d=a*s,h=a*l,f=t[0],m=t[1],g=f-u+h,v=f-u-h,y=f+u-h,_=f+u+h,b=m-c-d,E=m-c+d,x=m+c+d,C=m+c-d;return p(Math.min(g,v,y,_),Math.min(b,E,x,C),Math.max(g,v,y,_),Math.max(b,E,x,C),r)}function k(t){return t[3]-t[1]}function D(t,e){return j(N(t,e))}function N(t,e,n){var i=n||f();return H(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):m(i),i}function F(t){return B(t)+k(t)}function $(t){return[t[2]-t[0],t[3]-t[1]]}function G(t){return[t[0],t[3]]}function U(t){return[t[2],t[3]]}function B(t){return t[2]-t[0]}function H(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function V(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function W(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function q(t,e,n){var i=!1,r=h(t,e),o=h(t,n);if(r===J["default"].INTERSECTING||o===J["default"].INTERSECTING)i=!0;else{var a,s,l=t[0],u=t[1],c=t[2],d=t[3],f=e[0],p=e[1],m=n[0],g=n[1],v=(g-p)/(m-f);o&J["default"].ABOVE&&!(r&J["default"].ABOVE)&&(i=(a=m-(g-d)/v)>=l&&a<=c),i||!(o&J["default"].RIGHT)||r&J["default"].RIGHT||(i=(s=g-(m-c)*v)>=u&&s<=d),i||!(o&J["default"].BELOW)||r&J["default"].BELOW||(i=(a=m-(g-u)/v)>=l&&a<=c),i||!(o&J["default"].LEFT)||r&J["default"].LEFT||(i=(s=g-(m-l)*v)>=u&&s<=d)}return i}function Y(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),o([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}Object.defineProperty(n,"__esModule",{value:!0}),n.boundingExtent=r,n.buffer=a,n.clone=s,n.closestSquaredDistanceXY=l,n.containsCoordinate=u,n.containsExtent=c,n.containsXY=d,n.coordinateRelationship=h,n.createEmpty=f,n.createOrUpdate=p,n.createOrUpdateEmpty=m,n.createOrUpdateFromCoordinate=g,n.createOrUpdateFromCoordinates=v,n.createOrUpdateFromFlatCoordinates=y,n.createOrUpdateFromRings=_,n.equals=b,n.extend=E,n.extendCoordinate=x,n.extendCoordinates=C,n.extendFlatCoordinates=T,n.extendRings=w,n.extendXY=S,n.forEachCorner=M,n.getArea=j,n.getBottomLeft=O,n.getBottomRight=A,n.getCenter=R,n.getCorner=P,n.getEnlargedArea=I,n.getForViewAndSize=L,n.getHeight=k,n.getIntersectionArea=D,n.getIntersection=N,n.getMargin=F,n.getSize=$,n.getTopLeft=G,n.getTopRight=U,n.getWidth=B,n.intersects=H,n.isEmpty=V,n.returnOrUpdate=z,n.scaleFromCenter=W,n.intersectsSegment=q,n.applyTransform=Y;var K=t("./asserts.js"),X=i(t("./extent/Corner.js")),J=i(t("./extent/Relationship.js"))},{"./asserts.js":"E2kQ","./extent/Corner.js":"RMGy","./extent/Relationship.js":"kaLu"}],RNSs:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=n.METERS_PER_UNIT=void 0;var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};n.METERS_PER_UNIT=r,r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937;var o=i;n["default"]=o},{}],lDHS:[function(t,e,n){arguments[3],arguments[3];Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var i=t("./Units.js"),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.METERS_PER_UNIT[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var o=r;n["default"]=o},{"./Units.js":"RNSs"}],yEvQ:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=c,s=0;s<i;s+=r){o[s]=a*t[s]/180;var l=u*Math.log(Math.tan(Math.PI*(t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),o[s+1]=l}return o}function o(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var a=0;a<i;a+=r)o[a]=180*t[a]/c,o[a+1]=360*Math.atan(Math.exp(t[a+1]/u))/Math.PI-90;return o}Object.defineProperty(n,"__esModule",{value:!0}),n.fromEPSG4326=r,n.toEPSG4326=o,n.PROJECTIONS=n.WORLD_EXTENT=n.EXTENT=n.HALF_SIZE=n.RADIUS=void 0;var a=t("../math.js"),s=i(t("./Projection.js")),l=i(t("./Units.js")),u=6378137;n.RADIUS=u;var c=Math.PI*u;n.HALF_SIZE=c;var d=[-c,-c,c,c];n.EXTENT=d;var h=[-180,-85,180,85];n.WORLD_EXTENT=h;var f=function(t){function e(e){t.call(this,{code:e,units:l["default"].METERS,extent:d,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/(0,a.cosh)(e[1]/u)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["default"]),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];n.PROJECTIONS=p},{"../math.js":"RK1r","./Projection.js":"lDHS","./Units.js":"RNSs"}],fhYH:[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.PROJECTIONS=n.METERS_PER_UNIT=n.EXTENT=n.RADIUS=void 0;var r=i(t("./Projection.js")),o=i(t("./Units.js")),a=6378137;n.RADIUS=a;var s=[-180,-90,180,90];n.EXTENT=s;var l=Math.PI*a/180;n.METERS_PER_UNIT=l;var u=function(t){function e(e,n){t.call(this,{code:e,units:o["default"].DEGREES,extent:s,axisOrientation:n,global:!0,metersPerUnit:l,worldExtent:s})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r["default"]),c=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:EPSG::4326","neu"),new u("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("urn:x-ogc:def:crs:EPSG:4326","neu")];n.PROJECTIONS=c},{"./Projection.js":"lDHS","./Units.js":"RNSs"}],vyhW:[function(t,e,n){"use strict";function i(){a={}}function r(t){return a[t]||null}function o(t,e){a[t]=e}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.get=r,n.add=o;var a={}},{}],qC1c:[function(t,e,n){"use strict";function i(t){for(var e in t)delete t[e]}function r(t){var e=[];for(var n in t)e.push(t[n]);return e}function o(t){var e;for(e in t)return!1;return!e}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.getValues=r,n.isEmpty=o,n.assign=void 0;var a="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var a=n[r];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(i[s]=a[s])}return i};n.assign=a},{}],Aiuk:[function(t,e,n){"use strict";function i(){l={}}function r(t,e,n){var i=t.getCode(),r=e.getCode();i in l||(l[i]={}),l[i][r]=n}function o(t,e){var n=t.getCode(),i=e.getCode(),r=l[n][i];return delete l[n][i],(0,s.isEmpty)(l[n])&&delete l[n],r}function a(t,e){var n;return t in l&&e in l[t]&&(n=l[t][e]),n}Object.defineProperty(n,"__esModule",{value:!0}),n.clear=i,n.add=r,n.remove=o,n.get=a;var s=t("../obj.js"),l={}},{"../obj.js":"qC1c"}],aoEo:[function(t,e,n){"use strict";function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{"default":t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=r?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=t[o]}return n["default"]=t,e&&e.set(t,n),n}function o(t){return t&&t.__esModule?t:{"default":t}}function a(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function s(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function l(t){L.add(t.getCode(),t),(0,k.add)(t,t,a)}function u(t){t.forEach(l)}function c(t){return"string"==typeof t?L.get(t):t||null}function d(t,e,n,i){var r,o=(t=c(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==I["default"].DEGREES&&!i||i==I["default"].DEGREES)r=e;else{var a=E(t,c("EPSG:4326")),s=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];s=a(s,s,2),r=((0,M.getDistance)(s.slice(0,2),s.slice(2,4))+(0,M.getDistance)(s.slice(4,6),s.slice(6,8)))/2;var l=i?I.METERS_PER_UNIT[i]:t.getMetersPerUnit();void 0!==l&&(r/=l)}return r}function h(t){u(t),t.forEach(function(e){t.forEach(function(t){e!==t&&(0,k.add)(e,t,a)})})}function f(t,e,n,i){t.forEach(function(t){e.forEach(function(e){(0,k.add)(t,e,n),(0,k.add)(e,t,i)})})}function p(){L.clear(),(0,k.clear)()}function m(t,e){return t?"string"==typeof t?c(t):t:c(e)}function g(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,a=void 0!==n?n:new Array(r),s=0;s<r;s+=o){var l=t([e[s],e[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=o-1;u>=2;--u)a[s+u]=e[s+u]}return a}}function v(t,e,n,i){var r=c(t),o=c(e);(0,k.add)(r,o,g(n)),(0,k.add)(o,r,g(i))}function y(t,e){return C(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function _(t,e){var n=C(t,void 0!==e?e:"EPSG:3857","EPSG:4326"),i=n[0];return(i<-180||i>180)&&(n[0]=(0,O.modulo)(i+180,360)-180),n}function b(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:E(t,e)===a&&n}function E(t,e){var n=t.getCode(),i=e.getCode(),r=(0,k.get)(n,i);return r||(r=s),r}function x(t,e){return E(c(t),c(e))}function C(t,e,n){return x(e,n)(t,void 0,t.length)}function T(t,e,n){var i=x(e,n);return(0,j.applyTransform)(t,i)}function w(t,e,n){return E(e,n)(t)}function S(){h(A.PROJECTIONS),h(R.PROJECTIONS),f(R.PROJECTIONS,A.PROJECTIONS,A.fromEPSG4326,A.toEPSG4326)}Object.defineProperty(n,"__esModule",{value:!0}),n.cloneTransform=a,n.identityTransform=s,n.addProjection=l,n.addProjections=u,n.get=c,n.getPointResolution=d,n.addEquivalentProjections=h,n.addEquivalentTransforms=f,n.clearAllProjections=p,n.createProjection=m,n.createTransformFromCoordinateTransform=g,n.addCoordinateTransforms=v,n.fromLonLat=y,n.toLonLat=_,n.equivalent=b,n.getTransformFromProjections=E,n.getTransform=x,n.transform=C,n.transformExtent=T,n.transformWithProjections=w,n.addCommon=S,Object.defineProperty(n,"Projection",{enumerable:!0,get:function(){return P["default"]}}),Object.defineProperty(n,"METERS_PER_UNIT",{enumerable:!0,get:function(){return I.METERS_PER_UNIT}});var M=t("./sphere.js"),j=t("./extent.js"),O=t("./math.js"),A=t("./proj/epsg3857.js"),R=t("./proj/epsg4326.js"),P=o(t("./proj/Projection.js")),I=r(t("./proj/Units.js")),L=r(t("./proj/projections.js")),k=t("./proj/transforms.js");S()},{"./sphere.js":"KXaK","./extent.js":"IwSU","./math.js":"RK1r","./proj/epsg3857.js":"yEvQ","./proj/epsg4326.js":"fhYH","./proj/Projection.js":"lDHS","./proj/Units.js":"RNSs","./proj/projections.js":"vyhW","./proj/transforms.js":"Aiuk"}]},{},["aoEo"],"proj");
//# sourceMappingURL=../maps/scripts/vendor-29a0b3db0e.js.map
